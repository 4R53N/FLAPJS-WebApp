<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/fsa3/FSAModule.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/fsa3/FSAModule.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react';
import PanelContainer from 'experimental/panels/PanelContainer.js';

import MachineController from './controller/MachineController.js';

import OverviewPanel from './components/panels/overview/OverviewPanel.js';
import TestingPanel from './components/panels/testing/TestingPanel.js';
import AnalysisPanel from './components/panels/analysis/AnalysisPanel.js';

import StringTester from './tester/StringTester.js';
import FSAErrorChecker from './FSAErrorChecker.js';

// import EditPane from './components/views/EditPane.js';
// import TapePane from './components/views/TapePane.js';
// import { CTRL_KEY, SHIFT_KEY } from 'session/manager/hotkey/HotKeyManager.js';

import { registerNotifications } from './components/notifications/FSANotifications.js';





import * as UserUtil from 'experimental/UserUtil.js';
import { RENDER_LAYER_WORKSPACE } from 'session/manager/RenderManager.js';
import GraphEditorView from 'graph/components/views/GraphEditorView.js';

import FSAGraph from './graph/FSAGraph.js';
import FSAGraphController from './graph/controller/FSAGraphController.js';




const MODULE_NAME = 'fsa3';
const MODULE_VERSION = '0.0.1';

class FSAModule
{
    constructor(app)
    {
        this._app = app;

        this._graph = new FSAGraph();
        this._graphController = new FSAGraphController(app, this._graph);

        this._machineController = new MachineController(this);

        this._errorChecker = new FSAErrorChecker(app,
            this._graphController,
            this._machineController);
        this._tester = new StringTester();
    }

    /** @override */
    initialize(app)
    {
        registerNotifications(app.getNotificationManager());

        /*
        app.getExportManager()
            .addExporter(new FSAGraphExporter())
            .addExporter(new JFLAPGraphExporter())
            .addExporters(DEFAULT_IMAGE_EXPORTERS);
        */

        app.getRenderManager()
            .addRenderer(RENDER_LAYER_WORKSPACE, props => (
                &lt;GraphEditorView graphController={this._graphController} />
            ));

        app.getDrawerManager()
            .addPanelClass(props => (
                &lt;PanelContainer id={props.id}
                    className={props.className}
                    style={props.style}
                    title={'Finite State Automata'}>
                    &lt;p>{'Brought to you with \u2764 by the Flap.js team.'}&lt;/p>
                    &lt;p>{'&lt;- Tap on a tab to begin!'}&lt;/p>
                &lt;/PanelContainer>
            ))
            .addPanelClass(OverviewPanel)
            .addPanelClass(TestingPanel)
            .addPanelClass(AnalysisPanel);
        /*
      /*
    app.getViewportManager()
      .addViewClass(EditPane)
      .addViewClass(TapePane)
      .addViewClass(StepTracerView);
      */

        /*

    app.getHotKeyManager()
      .registerHotKey("Export to PNG", [CTRL_KEY, 'KeyP'], () => { app.getExportManager().tryExportToFile(DEFAULT_IMAGE_EXPORTERS[0]) })
      .registerHotKey("Save as JSON", [CTRL_KEY, 'KeyS'], () => { app.getExportManager().tryExportToFile(app.getExportManager().getDefaultExporter()) })
      .registerHotKey("New", [CTRL_KEY, 'KeyN'], () => { this.clear(app) })
      .registerHotKey("Undo", [CTRL_KEY, 'KeyZ'], () => { app.getUndoManager().undo() })
      .registerHotKey("Redo", [CTRL_KEY, SHIFT_KEY, 'KeyZ'], () => { app.getUndoManager().redo() });

    app.getTooltipManager()
      .addTooltip(I18N.toString("message.workspace.empty"))
      .addTooltip("If you need help, try the \'?\' at the top.")
      .addTooltip("Or you can choose to do nothing.")
      .addTooltip("I can't do anything about that.")
      .addTooltip("You really should consider doing something though, for the sake of both of us.")
      .addTooltip("Of course, it is your free will.")
      .addTooltip("You do you.")
      .addTooltip("Please do something.")
      .addTooltip("I need my job.")
      .addTooltip(I18N.toString("message.workspace.empty"));

    const machineController = this.getMachineController();
    machineController.initialize(this);
    */
    }

    /** @override */
    update(app)
    {
        const machineController = this.getMachineController();
        machineController.update(this);
    }

    /** @override */
    destroy(app)
    {
        const machineController = this.getMachineController();
        machineController.destroy(this);
    }

    /** @override */
    clear(app, graphOnly = false)
    {
        UserUtil.userClearGraph(app, graphOnly, () => app.getToolbarComponent().closeBar());
    }

    getGraphController() { return this._graphController; }
    getLabelFormatter() { return this._labelFormatter; }
    getGraph() { return this._graph; }

    getMachineController() { return this._machineController; }

    getErrorChecker() { return this._errorChecker; }
    getStringTester() { return this._tester; }

    /** @override */
    getModuleVersion() { return MODULE_VERSION; }
    /** @override */
    getModuleName() { return MODULE_NAME; }
    /** @override */
    getLocalizedModuleName() { return this._machineController.getMachineType(); }
    getApp() { return this._app; }
}

export default FSAModule;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GraphEdge.html">GraphEdge</a></li><li><a href="GraphEditorView.html">GraphEditorView</a></li><li><a href="GraphElement.html">GraphElement</a></li><li><a href="GraphNode.html">GraphNode</a></li><li><a href="JFLAPGraphParser.html">JFLAPGraphParser</a></li><li><a href="NodeGraph.html">NodeGraph</a></li><li><a href="QuadraticEdge.html">QuadraticEdge</a></li><li><a href="SemanticVersion.html">SemanticVersion</a></li><li><a href="StateNotificationLayout.html">StateNotificationLayout</a></li></ul><h3>Global</h3><ul><li><a href="global.html#doesSupportLocalStorage">doesSupportLocalStorage</a></li><li><a href="global.html#getCurrentURL">getCurrentURL</a></li><li><a href="global.html#getDirectionalVector">getDirectionalVector</a></li><li><a href="global.html#getFileExtFromName">getFileExtFromName</a></li><li><a href="global.html#getMidPoint">getMidPoint</a></li><li><a href="global.html#getURLParameters">getURLParameters</a></li><li><a href="global.html#guid">guid</a></li><li><a href="global.html#lerp">lerp</a></li><li><a href="global.html#loadMachineFromData">loadMachineFromData</a></li><li><a href="global.html#stringHash">stringHash</a></li><li><a href="global.html#uuid">uuid</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.1</a> on Wed May 15 2019 21:55:29 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
