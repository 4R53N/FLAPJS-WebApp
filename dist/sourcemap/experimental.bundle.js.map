{"version":3,"sources":["webpack:///./src/app/graph/parser/NodalGraphParser.js","webpack:///./src/app/modules/default/DefaultGraphExporter.js","webpack:///./src/app/modules/default/GraphPicker.js","webpack:///./src/app/modules/default/DefaultInputController.js","webpack:///./src/app/modules/default/DefaultGraphLabeler.js","webpack:///./src/app/modules/default/DefaultGraphController.js","webpack:///./src/app/modules/default/DefaultMachineBuilder.js","webpack:///./src/app/modules/default/DefaultMachineController.js","webpack:///./src/app/modules/default/DefaultPanel.js","webpack:///./src/app/graph/renderer/GraphNodeRenderer.js","webpack:///./src/app/graph/renderer/QuadraticEdgeRenderer.js","webpack:///./src/app/modules/default/DefaultGraphRenderer.js","webpack:///./src/app/modules/default/DefaultGraphOverlayRenderer.js","webpack:///./src/app/modules/default/DefaultViewportRenderer.js","webpack:///./src/app/modules/default/DefaultLabelEditor.js","webpack:///./src/app/modules/default/DefaultModule.js","webpack:///./src/app/experimental/components/IconButton.js","webpack:///./src/app/experimental/iconset/ExpandDownIcon.js","webpack:///./src/app/experimental/drawer/DrawerView.js","webpack:///./src/app/experimental/toolbar/ToolbarButton.js","webpack:///./src/app/experimental/toolbar/ToolbarTitle.js","webpack:///./src/app/experimental/iconset/MenuIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarView.js","webpack:///./src/app/experimental/workspace/WorkspaceView.js","webpack:///./src/app/experimental/viewport/ViewportView.js","webpack:///./src/app/experimental/tooltip/TooltipView.js","webpack:///./src/app/experimental/iconset/UploadIcon.js","webpack:///./src/app/experimental/components/UploadDropZone.js","webpack:///./src/app/experimental/menus/export/ExportPanel.js","webpack:///./src/app/experimental/iconset/TinyDownIcon.js","webpack:///./src/app/experimental/iconset/TinyUpIcon.js","webpack:///./src/app/experimental/panels/PanelSection.js","webpack:///./src/app/experimental/menus/option/OptionPanel.js","webpack:///./src/app/experimental/iconset/EditPencilIcon.js","webpack:///./src/app/experimental/iconset/MoveIcon.js","webpack:///./src/app/experimental/widgets/ModeSelectTray.js","webpack:///./src/app/experimental/UserUtil.js","webpack:///./src/app/experimental/iconset/TrashCanDetailedIcon.js","webpack:///./src/app/experimental/widgets/TrashCanWidget.js","webpack:///./src/app/experimental/components/IconStateButton.js","webpack:///./src/app/experimental/iconset/FullscreenIcon.js","webpack:///./src/app/experimental/iconset/FullscreenExitIcon.js","webpack:///./src/app/experimental/widgets/FullscreenWidget.js","webpack:///./src/app/experimental/iconset/ZoomInIcon.js","webpack:///./src/app/experimental/iconset/ZoomOutIcon.js","webpack:///./src/app/experimental/widgets/ZoomWidget.js","webpack:///./src/app/experimental/iconset/PinpointIcon.js","webpack:///./src/app/experimental/widgets/FocusCenterWidget.js","webpack:///./src/app/experimental/widgets/NavbarWidget.js","webpack:///./src/app/experimental/EditPane.js","webpack:///./src/app/experimental/iconset/DownArrowIcon.js","webpack:///./src/app/experimental/widgets/TapeWidget.js","webpack:///./src/app/experimental/TapePane.js","webpack:///./src/app/experimental/iconset/BoxAddIcon.js","webpack:///./src/app/experimental/iconset/TriangleIcon.js","webpack:///./src/app/experimental/panels/overview/states/StateListElement.js","webpack:///./src/app/experimental/panels/overview/states/StateListView.js","webpack:///./src/app/experimental/panels/overview/alphabet/AlphabetListElement.js","webpack:///./src/app/experimental/panels/overview/alphabet/AlphabetListView.js","webpack:///./src/app/experimental/panels/overview/transitions/TransitionTable.js","webpack:///./src/app/experimental/panels/overview/transitions/TransitionFunction.js","webpack:///./src/app/experimental/panels/overview/OverviewPanel.js","webpack:///./src/app/experimental/panels/PanelCheckbox.js","webpack:///./src/app/experimental/panels/analysis/AnalysisPanel.js","webpack:///./src/app/experimental/components/IconUploadButton.js","webpack:///./src/app/experimental/iconset/PageContentIcon.js","webpack:///./src/app/experimental/iconset/DownloadIcon.js","webpack:///./src/app/experimental/iconset/CrossIcon.js","webpack:///./src/app/experimental/iconset/AddIcon.js","webpack:///./src/app/experimental/iconset/RunningManIcon.js","webpack:///./src/app/experimental/iconset/SubtractIcon.js","webpack:///./src/app/experimental/iconset/CheckCircleIcon.js","webpack:///./src/app/experimental/iconset/CrossCircleIcon.js","webpack:///./src/app/experimental/iconset/PendingIcon.js","webpack:///./src/app/experimental/panels/test/TestItem.js","webpack:///./src/app/experimental/panels/test/TestListView.js","webpack:///./src/app/experimental/panels/test/TestingPanel.js","webpack:///./src/app/experimental/toolbar/ToolbarDivider.js","webpack:///./src/app/experimental/toolbar/ToolbarUploadButton.js","webpack:///./src/app/experimental/iconset/PageEmptyIcon.js","webpack:///./src/app/experimental/iconset/UndoIcon.js","webpack:///./src/app/experimental/iconset/RedoIcon.js","webpack:///./src/app/experimental/iconset/BugIcon.js","webpack:///./src/app/experimental/iconset/WorldIcon.js","webpack:///./src/app/experimental/iconset/HelpIcon.js","webpack:///./src/app/experimental/iconset/SettingsIcon.js","webpack:///./src/app/system/localsave/AbstractLocalSaver.js","webpack:///./src/app/experimental/AppSaver.js","webpack:///./src/app/experimental/hotkey/HotKeyManager.js","webpack:///./src/app/experimental/hotkey/HotKeyView.js","webpack:///./src/app/experimental/App.js"],"names":["JSON","data","dst","arguments","length","undefined","nodeDatas","nodeCount","Math","min","edgeDatas","edgeCount","hasQuad","clear","NodalGraph","GraphNode","QuadraticEdge","GraphEdge","nodeIndices","Map","i","nodeData","node","createNode","setNodeLabel","set","edgeData","sourceNode","get","destinationNode","edge","createEdge","setEdgeLabel","quadData","setQuadratic","graph","graphNodes","getNodes","graphEdges","getEdges","Array","elementID","getGraphElementID","id","x","y","label","getNodeLabel","flag","quad","getQuadratic","edgeSource","getSourceNode","edgeDestination","getDestinationNode","sourceIndex","has","destinationIndex","from","to","getEdgeLabel","radians","nodes","edges","_version","DefaultGraphExporter","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","AbstractGraphExporter","module","getGraphController","getGraph","JSONGraphParser","graphData","getModuleName","version","process","getModuleVersion","timestamp","Date","toString","fromJSON","toJSON","fileBlob","_this","Promise","resolve","reject","filename","name","endsWith","getFileType","Error","reader","FileReader","onload","e","graphController","target","result","substring","emit","jsonData","parse","abort","onerror","error","code","readAsText","jsonString","stringify","downloadText","JSONFileIcon","GraphPicker","GraphPicker_classCallCheck","selectionBox","fromX","fromY","toX","toY","visible","targets","targetType","initialTarget","initialTargetType","type","getEdgeByEndPointAt","getNodeAt","getEdgeAt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","dx","dy","Config","NODE_RADIUS_SQU","err","return","center","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getCenterPoint","EDGE_RADIUS_SQU","end","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getEndPoint","ENDPOINT_RADIUS_SQU","box","mx","max","my","lx","ly","clearSelection","x1","y1","x2","y2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","push","getNodesWithin","includes","getSelection","DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE","DefaultInputController","inputAdapter","DefaultInputController_classCallCheck","DefaultInputController_possibleConstructorReturn","DefaultInputController_getPrototypeOf","_picker","_graphController","prevPointerX","prevPointerY","isNewEdge","shouldDestroyPointlessEdges","_swapMouseScheme","_trashMode","AbstractModuleInputController","_get","prototype","picker","_inputAdapter","getPointerX","getPointerY","updateTarget","hasTarget","document","body","style","cursor","pointer","getPicker","setInitialTarget","hasSelection","isTargetInSelection","isTrashMode","prevX","prevY","deleteSelectedNodes","deleteTargetNode","deleteTargetEdge","openLabelEditor","getInputAdapter","getViewport","isMoveMode","isPlaceholder","Node","Edge","targetQuad","prevQuad","ghostInitialMarker","getGraphLabeler","getDefaultEdgeLabel","edgeQuad","beginSelection","prevEdgeTo","moveMultipleNodesTo","moveNodeTo","moveEdgeTo","moveEndpointTo","isSelecting","updateSelection","deleteEdge","changeDestinationNode","endSelection","clearTarget","zoomValue","prevValue","enabled","shouldInputFirst","isAltInput","isDragging","isPointerActive","labelFormatter","string","DefaultGraphLabeler","DefaultGraphLabeler_classCallCheck","DefaultGraphLabeler_possibleConstructorReturn","DefaultGraphLabeler_getPrototypeOf","AbstractGraphLabeler","DefaultGraphController","DefaultGraphController_classCallCheck","DefaultGraphController_possibleConstructorReturn","DefaultGraphController_getPrototypeOf","inputController","machineController","labelEditorElement","registerEvent","AbstractModuleGraphController","DefaultGraphController_get","getInputController","getMachineController","prev","isPrevCustom","getNodeCustom","setNodeCustom","newNodeLabel","getDefaultNodeLabel","random","SPAWN_RADIUS","selectedNode","selection","slice","deleteNode","other","nodeSize","getNodeSize","angle","atan2","diameter","nextDX","cos","nextDY","sin","pos","getInputEventPosition","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","changeInputEventPosition","setQuadraticByCoords","isSelfLoop","PI","_this2","placeholder","replace","callback","prevLabel","openEditor","setOffset","ax","ay","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","Eventable","mixin","DefaultMachineBuilder","DefaultMachineBuilder_classCallCheck","DefaultMachineBuilder_possibleConstructorReturn","DefaultMachineBuilder_getPrototypeOf","AbstractMachineBuilder","DefaultMachineController","DefaultMachineController_classCallCheck","DefaultMachineController_possibleConstructorReturn","DefaultMachineController_getPrototypeOf","_machineName","AbstractModuleMachineController","DefaultPanel","props","DefaultPanel_classCallCheck","DefaultPanel_possibleConstructorReturn","DefaultPanel_getPrototypeOf","container","React","Component","react_default","a","createElement","className","ref","GraphNodeRenderer","GraphNodeRenderer_classCallCheck","GraphNodeRenderer_possibleConstructorReturn","GraphNodeRenderer_getPrototypeOf","fill","stroke","cx","cy","r","pointerEvents","userSelect","fontSize","textAnchor","SIXTH_PI","QuadraticEdgeRenderer","QuadraticEdgeRenderer_classCallCheck","QuadraticEdgeRenderer_possibleConstructorReturn","QuadraticEdgeRenderer_getPrototypeOf","start","getStartPoint","quadCoords","getQuadraticAsCoords","edgeDir","getEdgeDirection","flipLabel","quadLine","arrowAngle","isQuadratic","labels","split","d","transform","map","str","yy","key","alignmentBaseline","HLSMGraphRenderer","DefaultGraphRenderer_classCallCheck","DefaultGraphRenderer_possibleConstructorReturn","DefaultGraphRenderer_getPrototypeOf","currentModule","renderer_GraphNodeRenderer","renderer_QuadraticEdgeRenderer","DefaultGraphOverlayRenderer","DefaultGraphOverlayRenderer_classCallCheck","DefaultGraphOverlayRenderer_possibleConstructorReturn","DefaultGraphOverlayRenderer_getPrototypeOf","parent","getSelectionBox","HighlightRenderer","SelectionBoxRenderer","DefaultViewportRenderer","DefaultViewportRenderer_classCallCheck","DefaultViewportRenderer_possibleConstructorReturn","DefaultViewportRenderer_getPrototypeOf","screen","LabelEditor","getLabelEditor","width","CursorMode","TrashCan","viewport","EMPTY_CHAR","DefaultLabelEditor","DefaultLabelEditor_classCallCheck","DefaultLabelEditor_getPrototypeOf","parentElement","inputElement","_timer","_prevValue","state","onContextMenu","bind","DefaultLabelEditor_assertThisInitialized","onFormat","onSubmit","targetElement","defaultText","setState","targetLabel","resetValue","setValue","focus","saveOnExit","blur","hasFocus","preventDefault","stopPropagation","symbol","appendValue","SYMBOL_SEPARATOR","newValue","closeEditor","getEdgeLabelFormatter","_this3","targetStyle","visibility","screenPos","svg","ctm","getScreenCTM","f","transformViewToScreen","getOffsetX","getOffsetY","offsetX","offsetWidth","offsetY","offsetHeight","top","left","tabIndex","onFocus","clearTimeout","onBlur","setTimeout","FormattedInput","formatter","captureOnExit","multiline","PANELS","EXPORTERS","DefaultModule","app","DefaultModule_classCallCheck","DefaultModule_getPrototypeOf","_inputController","DefaultModule_assertThisInitialized","_machineController","AbstractModule","DefaultModule_get","renderLayer","DefaultGraphRenderer","IconButton","title","showButtonLabel","SHOW_LABEL","Style","icon_button","disabled","onClick","children","Icon","ExpandDownIcon_classCallCheck","ExpandDownIcon_possibleConstructorReturn","ExpandDownIcon_getPrototypeOf","xmlns","height","viewBox","DRAWER_WIDTH_CSSVAR","DRAWER_MIN_WIDTH","DrawerView","DrawerView_classCallCheck","DrawerView_getPrototypeOf","drawerElement","open","soloClass","_handlingGrab","_handlingResize","_isfull","_hasintent","_prevWidth","_resizeTimeout","_resizeEndTimeout","_sideways","onDrawerHandleGrab","DrawerView_assertThisInitialized","onDrawerHandleRelease","onDrawerHandleMove","onDrawerExpand","onWindowResize","window","addEventListener","removeEventListener","fullscreen","setDrawerWidth","panels","hasIntent","drawerSide","side","drawerOffsetY","getBoundingClientRect","documentSize","documentElement","clientHeight","clientWidth","minSize","getCSSDrawerWidth","setProperty","toggleDrawer","isDrawerSideBottom","clientY","clientX","abs","drawerPanels","drawerDirection","direction","shouldDrawerHide","hide","drawerSoloClass","isDrawerOpen","shouldDrawerBarSideways","showDrawerHandle","shouldDrawerOpenFull","shouldHideDrawerContent","showDrawerTabs","app_content","app_viewport","app_drawer","drawer_handle","onMouseDown","drawer_content","drawer_content_bar","experimental_components_IconButton","drawer_tab_expander","ExpandDownIcon","current","isCurrentTab","drawer_tab","setCurrentTab","drawer_content_panel_container","drawer_content_panel","ComponentClass","drawer_panel_container","_extends","drawer_panel","panelProps","drawer","parseInt","getComputedStyle","getPropertyValue","ToolbarButton","ToolbarButton_classCallCheck","ToolbarButton_possibleConstructorReturn","ToolbarButton_getPrototypeOf","IconClass","icon","toolbar_button","ToolbarTitle","ToolbarTitle_classCallCheck","ToolbarTitle_possibleConstructorReturn","ToolbarTitle_getPrototypeOf","title_container","title_input_container","defaultValue","title_subtitle","MenuIcon_classCallCheck","MenuIcon_possibleConstructorReturn","MenuIcon_getPrototypeOf","TOOLBAR_DEFAULT_MENU_INDEX","ToolbarView","ToolbarView_classCallCheck","ToolbarView_getPrototypeOf","toolbarElement","menuIndex","onBarExpand","ToolbarView_assertThisInitialized","menus","setCurrentMenu","toggleBar","Children","child","containerOnly","toolbarMenus","toolbarMenuIndex","ToolbarMenu","showCustomToolbarMenu","hasButtons","count","isBarOpen","shouldBarHide","showBarExpander","app_bar","bar_menu","menu_container","ToolbarView_extends","menuProps","toolbar","menu_button_container","renderMenuButtons","bar_toolbar","experimental_toolbar_ToolbarTitle","toolbar_title","toolbar_button_container","renderToolbarButtons","toolbar_expander","MenuIcon","WorkspaceView","WorkspaceView_classCallCheck","WorkspaceView_possibleConstructorReturn","WorkspaceView_getPrototypeOf","viewSize","Number","MIN_VALUE","getScale","halfViewSize","VIEWPORT_DEFAULT_VIEW_INDEX","ViewportView","ViewportView_classCallCheck","ViewportView_possibleConstructorReturn","ViewportView_getPrototypeOf","viewIndex","views","viewportViews","viewportViewIndex","ViewportViewPane","view_container","ViewportView_extends","viewProps","TooltipView","TooltipView_classCallCheck","TooltipView_possibleConstructorReturn","TooltipView_getPrototypeOf","_tooltipTimeout","index","initial","mode","nextIndex","floor","setTooltipIndex","tooltipIndex","updateTooltip","tooltip_container","opacity","UploadIcon_classCallCheck","UploadIcon_possibleConstructorReturn","UploadIcon_getPrototypeOf","UploadDropZone","UploadDropZone_classCallCheck","UploadDropZone_getPrototypeOf","_waiting","onDragEnter","UploadDropZone_assertThisInitialized","onDragLeave","onFileDrop","dataTransfer","items","dataItems","file","kind","getAsFile","dataFiles","files","clearData","isWaitingForFile","upload_container","UploadIcon","upload_icon","only","ExportPanel","ExportPanel_classCallCheck","ExportPanel_possibleConstructorReturn","ExportPanel_getPrototypeOf","exporter","doesSupportFile","getIconClass","panel_button","getLabel","getMachineName","exportToFile","graphExporters","getGraphExporters","imageExporters","getImageExporters","panel_container","panel_title","I18N","panel_content","renderExporterButton","TinyDownIcon_classCallCheck","TinyDownIcon_possibleConstructorReturn","TinyDownIcon_getPrototypeOf","TinyUpIcon_classCallCheck","TinyUpIcon_possibleConstructorReturn","TinyUpIcon_getPrototypeOf","PanelSection","PanelSection_classCallCheck","PanelSection_getPrototypeOf","PanelSection_assertThisInitialized","isOpen","isDisabled","isFull","full","section_container","section_header","TinyUpIcon","TinyDownIcon","section_content_container","section_content","OptionPanel","OptionPanel_classCallCheck","OptionPanel_possibleConstructorReturn","OptionPanel_getPrototypeOf","experimental_panels_PanelSection","confirm","LocalSave","terminate","clearStorage","alert","EditPencilIcon_classCallCheck","EditPencilIcon_possibleConstructorReturn","EditPencilIcon_getPrototypeOf","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","ModeSelectTray","ModeSelectTray_classCallCheck","ModeSelectTray_getPrototypeOf","onChange","ModeSelectTray_assertThisInitialized","tray_container","tray_button","EditPencilIcon","MoveIcon","userClearGraph","graphOnly","getCurrentModule","getUndoManager","setMachineName","TrashCanDetailedIcon_classCallCheck","TrashCanDetailedIcon_possibleConstructorReturn","TrashCanDetailedIcon_getPrototypeOf","TrashCanWidget","TrashCanWidget_classCallCheck","TrashCanWidget_getPrototypeOf","forceActive","_doubleTapTimeout","onMouseEnter","TrashCanWidget_assertThisInitialized","onMouseLeave","onAnyMouseDownNotConsumed","setTrashMode","active","isEmpty","isUsingTouch","trash_container","TrashCanDetailedIcon","IconStateButton","IconStateButton_classCallCheck","IconStateButton_getPrototypeOf","IconStateButton_assertThisInitialized","prevIndex","FullscreenIcon_classCallCheck","FullscreenIcon_possibleConstructorReturn","FullscreenIcon_getPrototypeOf","FullscreenExitIcon_classCallCheck","FullscreenExitIcon_possibleConstructorReturn","FullscreenExitIcon_getPrototypeOf","FullscreenWidget","FullscreenWidget_classCallCheck","FullscreenWidget_possibleConstructorReturn","FullscreenWidget_getPrototypeOf","components_IconStateButton","fullscreen_button","FullscreenIcon","FullscreenExitIcon","ZoomInIcon_classCallCheck","ZoomInIcon_possibleConstructorReturn","ZoomInIcon_getPrototypeOf","ZoomOutIcon_classCallCheck","ZoomOutIcon_possibleConstructorReturn","ZoomOutIcon_getPrototypeOf","ZoomWidget","ZoomWidget_classCallCheck","ZoomWidget_getPrototypeOf","onZoomIn","ZoomWidget_assertThisInitialized","onZoomOut","viewScale","addScale","toFixed","zoom_container","zoom_button","ZoomInIcon","ZoomOutIcon","zoom_label","PinpointIcon_classCallCheck","PinpointIcon_possibleConstructorReturn","PinpointIcon_getPrototypeOf","FocusCenterWidget","FocusCenterWidget_classCallCheck","FocusCenterWidget_getPrototypeOf","FocusCenterWidget_assertThisInitialized","center_focus_button","PinpointIcon","NavbarWidget","NavbarWidget_classCallCheck","NavbarWidget_possibleConstructorReturn","NavbarWidget_getPrototypeOf","navbar_container","experimental_widgets_FullscreenWidget","navbar_widget","experimental_widgets_ZoomWidget","navbar_widget_container","experimental_widgets_FocusCenterWidget","EditPane","EditPane_classCallCheck","EditPane_possibleConstructorReturn","EditPane_getPrototypeOf","inputActionMode","isActionMode","view_pane","_workspace","experimental_widgets_NavbarWidget","view_widget","right","bottom","experimental_widgets_ModeSelectTray","modeIndex","setInputScheme","experimental_widgets_TrashCanWidget","DownArrowIcon_classCallCheck","DownArrowIcon_possibleConstructorReturn","DownArrowIcon_getPrototypeOf","TapeWidget","TapeWidget_classCallCheck","TapeWidget_getPrototypeOf","onTapeStepBackward","TapeWidget_assertThisInitialized","onTapeStepForward","onTapeFinish","onTapeReset","onTapeSkipForward","onTapeSkipBackward","onTapeStop","stepBackward","stepForward","reset","finish","stop","tapeContext","tapeIndex","getCurrentTapeIndex","tape_container","tape_control_tray","isTapeLeftInfinite","DownArrowIcon","getTapeInput","activeRead","sourceStates","getTapeSourceStatesByIndex","setCurrentTapeIndex","sourceState","isTapeRightInfinite","TapePane","TapePane_classCallCheck","TapePane_possibleConstructorReturn","TapePane_getPrototypeOf","setDisabled","tester","_tester","experimental_widgets_TapeWidget","getTapeContext","BoxAddIcon_classCallCheck","BoxAddIcon_possibleConstructorReturn","BoxAddIcon_getPrototypeOf","TriangleIcon_classCallCheck","TriangleIcon_possibleConstructorReturn","TriangleIcon_getPrototypeOf","StateListElement","StateListElement_classCallCheck","StateListElement_getPrototypeOf","onValueChange","StateListElement_assertThisInitialized","onKeyDown","onKeyUp","nodeLabel","select","nextLabel","keyCode","trim","inputValue","nodeCustom","nodeAccept","getNodeAccept","displayValue","element_container","spellCheck","StateListView","StateListView_classCallCheck","StateListView_getPrototypeOf","_prevX","_prevY","onElementAdd","StateListView_assertThisInitialized","onElementFocus","onElementBlur","onElementChange","focusOnNode","element","getNodesByLabel","renameNode","applyAutoRename","otherNodes","list_container","element_list","TriangleIcon","first_marker","overview_states_StateListElement","add_button","BoxAddIcon","AlphabetListElement","AlphabetListElement_classCallCheck","AlphabetListElement_getPrototypeOf","_inputElement","AlphabetListElement_assertThisInitialized","nextSymbol","inputSymbol","displaySymbol","symbolUsed","used","maxLength","AlphabetListView","AlphabetListView_classCallCheck","AlphabetListView_getPrototypeOf","newSymbolComponent","useNewSymbol","AlphabetListView_assertThisInitialized","machine","getMachineBuilder","getMachine","isSymbol","renameSymbol","createSymbol","deleteSymbol","alphabet","overview_alphabet_AlphabetListElement","isUsedSymbol","getAlphabet","renderAlphabetList","display","SRC","SYMBOL","DST","SYMBOL_AXIS","getDestinationFromSourceAndSymbol","src","isSet","doTransition","isArray","join","TransitionTable","TransitionTable_classCallCheck","TransitionTable_possibleConstructorReturn","TransitionTable_getPrototypeOf","rowAxis","states","getStates","rowAxisType","getTransitions","isNFAMachine","getMachineType","hasEmptyColumn","scope","EMPTY","startsWith","transitions","transition","getSymbolFromSourceAndDestination","TransitionFunction","TransitionFunction_classCallCheck","TransitionFunction_possibleConstructorReturn","TransitionFunction_getPrototypeOf","sort","isNFA","emptrans","empclassName","j","trans","unshift","OverviewPanel","OverviewPanel_classCallCheck","OverviewPanel_possibleConstructorReturn","OverviewPanel_getPrototypeOf","drawerFull","isDrawerFullscreen","TITLE","overview_states_StateListView","overview_alphabet_AlphabetListView","panel_divider","overview_transitions_TransitionFunction","overview_transitions_TransitionTable","Object","defineProperty","PanelCheckbox","PanelCheckbox_classCallCheck","PanelCheckbox_getPrototypeOf","checked","PanelCheckbox_assertThisInitialized","checkbox_container","htmlFor","AnalysisPanel","AnalysisPanel_classCallCheck","AnalysisPanel_getPrototypeOf","optimizeUnreachOption","optimizeRedundOption","onConvertToDFA","AnalysisPanel_assertThisInitialized","onConvertToNFA","onOptimizeMachine","unreachableArray","getUnreachableNodes","deleteTargetNodes","Notifications","addMessage","NFAToDFAConversionWarningMessage","convertMachineTo","isChecked","onDeleteAllUnreachable","experimental_panels_PanelCheckbox","panel_checkbox","canOptimize","IconUploadButton","IconUploadButton_classCallCheck","IconUploadButton_getPrototypeOf","onFileUpload","IconUploadButton_assertThisInitialized","onUpload","accept","upload_button","upload_input","PageContentIcon_classCallCheck","PageContentIcon_possibleConstructorReturn","PageContentIcon_getPrototypeOf","DownloadIcon_classCallCheck","DownloadIcon_possibleConstructorReturn","DownloadIcon_getPrototypeOf","CrossIcon_classCallCheck","CrossIcon_possibleConstructorReturn","CrossIcon_getPrototypeOf","AddIcon_classCallCheck","AddIcon_possibleConstructorReturn","AddIcon_getPrototypeOf","RunningManIcon_classCallCheck","RunningManIcon_possibleConstructorReturn","RunningManIcon_getPrototypeOf","SubtractIcon_classCallCheck","SubtractIcon_possibleConstructorReturn","SubtractIcon_getPrototypeOf","CheckCircleIcon_classCallCheck","CheckCircleIcon_possibleConstructorReturn","CheckCircleIcon_getPrototypeOf","CrossCircleIcon_classCallCheck","CrossCircleIcon_possibleConstructorReturn","CrossCircleIcon_getPrototypeOf","PendingIcon_classCallCheck","PendingIcon_possibleConstructorReturn","PendingIcon_getPrototypeOf","DEFAULT_MODE","TestItem","TestItem_classCallCheck","TestItem_getPrototypeOf","status","TestItem_assertThisInitialized","nextValue","onDelete","onTest","subtitle","test_item_container","test_button","CheckCircleIcon","CrossCircleIcon","PendingIcon","RunningManIcon","test_input","delete_button","SubtractIcon","ACCEPT_FILE_TYPES","TEST_FILENAME","TestListView","TestListView_classCallCheck","TestListView_getPrototypeOf","_testList","_testName","onTestNew","TestListView_assertThisInitialized","onTestUpload","onTestDownload","onTestClose","onTestAdd","onTestDelete","onTestTest","onTestRunAll","event","tests","test","guid","testStrings","getValue","isTesting","stopTest","item","immediate","itemValue","startTest","then","runTest","empty","test_container","test_control_tray","test_control_button","PageContentIcon","experimental_components_IconUploadButton","DownloadIcon","CrossIcon","test_list_container","test_list_add","AddIcon","test_list_count","test_list_scroll_container","test_list","testCallback","panels_test_TestItem","splice","test_list_runall","TestingPanel","TestingPanel_classCallCheck","TestingPanel_possibleConstructorReturn","TestingPanel_getPrototypeOf","on","_viewport","setCurrentView","_drawer","setDrawerSoloClass","closeDrawer","openDrawer","panels_test_TestListView","ToolbarDivider","ToolbarDivider_classCallCheck","ToolbarDivider_possibleConstructorReturn","ToolbarDivider_getPrototypeOf","divider","ToolbarUploadButton","ToolbarUploadButton_classCallCheck","ToolbarUploadButton_possibleConstructorReturn","ToolbarUploadButton_getPrototypeOf","ToolbarButtonStyle","PageEmptyIcon_classCallCheck","PageEmptyIcon_possibleConstructorReturn","PageEmptyIcon_getPrototypeOf","UndoIcon_classCallCheck","UndoIcon_possibleConstructorReturn","UndoIcon_getPrototypeOf","RedoIcon_classCallCheck","RedoIcon_possibleConstructorReturn","RedoIcon_getPrototypeOf","BugIcon_classCallCheck","BugIcon_possibleConstructorReturn","BugIcon_getPrototypeOf","WorldIcon_classCallCheck","WorldIcon_possibleConstructorReturn","WorldIcon_getPrototypeOf","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","SettingsIcon_classCallCheck","SettingsIcon_possibleConstructorReturn","SettingsIcon_getPrototypeOf","AbstractLocalSaver","AppSaver","AppSaver_classCallCheck","AppSaver_possibleConstructorReturn","AppSaver_getPrototypeOf","_app","moduleName","loadFromStorage","getDefaultGraphExporter","importFromData","exportToData","saveToStorage","CTRL_KEY","SHIFT_KEY","HotKeyManager","HotKeyManager_classCallCheck","_hotkeys","_cachedEvent","ctrlKey","metaKey","altKey","shiftKey","_prevHotKey","_repeatCount","_enabled","_altHotkey","keys","ctrlIndex","indexOf","metaIndex","altIndex","shiftIndex","charKey","ctrl","alt","shift","localizedKeys","hotkey","matchesHotKeyEvent","eventCtrl","eventAlt","eventShift","eventKey","repeat","captureKeyEvent","findMatchingHotKey","isKeyUp","HotKeyView","HotKeyView_classCallCheck","HotKeyView_possibleConstructorReturn","HotKeyView_getPrototypeOf","_cachedHotKeys","_cacheTimeout","hotKeyManager","showHotKeys","isEnabled","getCurrentlyPossibleHotKeys","useCount","getCurrentHotKeyRepeatCount","currentHotKey","getCurrentHotKey","hotkey_container","isActive","hotkey_label","hotkey_name","SMOOTH_OFFSET_DAMPING","MIN_SCALE","MAX_SCALE","App","App_classCallCheck","App_getPrototypeOf","_toolbar","InputAdapter","setMinScale","setMaxScale","setOffsetDamping","_undoManager","UndoManager","_hotKeyManager","registerHotKey","console","log","registerAltHotKey","_saver","App_assertThisInitialized","_init","Module","_mediaQuerySmallWidthList","matchMedia","_mediaQuerySmallHeightList","workspaceDOM","initialize","registerHandler","unregisterHandler","destroy","ModuleClass","update","setEnabled","hasSmallWidth","matches","hasSmallHeight","isFullscreen","undoManager","graphImporter","getGraphImporter","modulePanels","modulePanelProps","moduleMenus","getModuleMenus","concat","moduleMenuProps","moduleViews","getModuleViews","moduleViewProps","GraphRenderer","getRenderer","GraphOverlayRenderer","experimental_toolbar_ToolbarView","experimental_toolbar_ToolbarButton","PageEmptyIcon","UserUtil","closeBar","toolbar_ToolbarUploadButton","getImportFileTypes","importFile","catch","addErrorMessage","finally","UndoIcon","canUndo","undo","RedoIcon","canRedo","redo","experimental_toolbar_ToolbarDivider","BugIcon","WorldIcon","HelpIcon","SettingsIcon","nextModuleClass","setCurrentModuleClass","experimental_drawer_DrawerView","experimental_components_UploadDropZone","experimental_tooltip_TooltipView","experimental_workspace_WorkspaceView","Fragment","NotificationView","notificationManager","experimental_hotkey_HotKeyView","experimental_viewport_ViewportView","hot"],"mappings":"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","file":"experimental.bundle.51949397c8972965e0f8.js","sourcesContent":["import NodalGraph from '../NodalGraph.js';\n\nimport GraphNode from '../GraphNode.js';\nimport GraphEdge from '../GraphEdge.js';\nimport QuadraticEdge from '../QuadraticEdge.js';\n\nconst GRAPH_PARSER_VERSION = \"1.0.0\";\n\nexport const JSON = {\n  parse(data, dst=null)\n  {\n    const nodeDatas = data['nodes'] || [];\n    const nodeCount = Math.min(nodeDatas.length || 0, data['nodeCount'] || 0);\n    const edgeDatas = data['edges'] || [];\n    const edgeCount = Math.min(edgeDatas.length || 0, data['edgeCount'] || 0);\n    const hasQuad = data['quad'] || false;\n\n    if (!dst) dst = new NodalGraph(GraphNode, hasQuad ? QuadraticEdge : GraphEdge);\n    else dst.clear();\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeData = nodeDatas[i];\n      if (!nodeData) continue;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(nodeData['x'] || 0, nodeData['y'] || 0, nodeData['id']);\n      node.setNodeLabel(nodeData['label'] || \"\");\n\n      nodeIndices.set(i, node);\n    }\n\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeData = edgeDatas[i];\n      if (!edgeData) continue;\n      const sourceNode = nodeIndices.get(edgeData['from']) || null;\n      //Cannot create source-less edges\n      if (!sourceNode) continue;\n      const destinationNode = nodeIndices.get(edgeData['to']) || null;\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode, edgeData['id']);\n      edge.setEdgeLabel(edgeData['label'] || \"\");\n\n      if (edge instanceof QuadraticEdge)\n      {\n        const quadData = edgeData['quad'] || {};\n        edge.setQuadratic(quadData['radians'] || 0, quadData['length'] || 0);\n      }\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n\n    const nodeDatas = new Array(nodeCount);\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      if (node)\n      {\n        //NOTE: Assumes node must have an id\n        const elementID = node.getGraphElementID();\n\n        nodeIndices.set(node, i);\n        nodeDatas[i] = {\n          id: elementID,\n          x: node.x || 0, y: node.y || 0,\n          label: node.getNodeLabel() || \"\"\n        };\n      }\n    }\n\n    let flag = false;\n    const edgeDatas = new Array(edgeCount);\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edge = graphEdges[i];\n      if (edge)\n      {\n        //NOTE: Assumes edge must have an id\n        const elementID = edge.getGraphElementID();\n\n        const quad = edge.getQuadratic() || {};\n        const edgeSource = edge.getSourceNode();\n        const edgeDestination = edge.getDestinationNode();\n        const sourceIndex = nodeIndices.has(edgeSource) ? nodeIndices.get(edgeSource) : -1;\n        const destinationIndex = nodeIndices.has(edgeDestination) ? nodeIndices.get(edgeDestination) : -1;\n        edgeDatas[i] = {\n          id: elementID,\n          from: sourceIndex,\n          to: destinationIndex,\n          label: edge.getEdgeLabel() || \"\"\n        };\n\n        if (edge instanceof QuadraticEdge)\n        {\n          flag = true;\n          edgeDatas[i]['quad'] = {\n            radians: quad['radians'] || 0,\n            length: quad['length'] || 0\n          };\n        }\n      }\n    }\n\n    return {\n      nodeCount: nodeCount,\n      nodes: nodeDatas,\n      edgeCount: edgeCount,\n      edges: edgeDatas,\n      hasQuad: flag,\n      _version: GRAPH_PARSER_VERSION\n    };\n  }\n};\n","import AbstractGraphExporter from 'modules/abstract/exporter/AbstractGraphExporter.js';\n\nimport JSONFileIcon from 'icons/flat/JSONIcon.js';\nimport { JSON as JSONGraphParser } from 'graph/parser/NodalGraphParser.js';\nimport { downloadText } from 'util/Downloader.js';\n\nclass DefaultGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  fromJSON(data, module)\n  {\n    const graphController = module.getGraphController();\n    const graph = graphController.getGraph();\n\n    const metadata = '_metadata' in data ? data['_metadata'] : {};\n    const newGraph = JSONGraphParser.parse(data.graphData, graph);\n    return newGraph;\n  }\n\n  toJSON(graphData, module)\n  {\n    const graphController = module.getGraphController();\n\n    const dst = {};\n    dst[\"_metadata\"] = {\n      module: module.getModuleName(),\n      version: process.env.VERSION + \":\" + module.getModuleVersion(),\n      timestamp: new Date().toString()\n    };\n    dst[\"graphData\"] = graphData;\n    return dst;\n  }\n\n  //Override\n  importFromData(data, module)\n  {\n    this.fromJSON(data, module);\n  }\n\n  //Override\n  exportToData(module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const result = this.toJSON(graphData, module);\n    return result;\n  }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        graphController.emit(\"userPreImportGraph\", graph);\n\n        try\n        {\n          const jsonData = JSON.parse(data);\n\n          this.fromJSON(jsonData, module);\n\n          graphController.emit(\"userImportGraph\", graph);\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          graphController.emit(\"userPostImportGraph\", graph);\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const dst = this.toJSON(graphData, module);\n    const jsonString = JSON.stringify(dst);\n    downloadText(filename + '.' + this.getFileType(), jsonString);\n  }\n\n  //Override\n  doesSupportData() { return true; }\n  //Override\n  doesSupportFile() { return true; }\n  //Override\n  canImport() { return true; }\n  //Override\n  getTitle() { return \"Save machine to JSON\"; }\n  //Override\n  getLabel() { return \"Save machine to JSON\"; }\n  //Override\n  getFileType() { return \"json\"; }\n  //Override\n  getIconClass() { return JSONFileIcon; }\n}\n\nexport default DefaultGraphExporter;\n","import Config from 'config.js';\n\nclass GraphPicker\n{\n  constructor()\n  {\n    this.selectionBox = {\n      fromX: 0, fromY: 0,\n      toX: 0, toY: 0,\n      visible: false\n    };\n    this.targets = [];\n\n    this.target = null;\n    this.targetType = \"\";\n\n    this.initialTarget = null;\n    this.initialTargetType = \"\";\n  }\n\n  setInitialTarget(target, type)\n  {\n    this.initialTarget = target;\n    this.initialTargetType = type;\n  }\n\n  updateTarget(graph, x, y)\n  {\n    if (this.target = this.getEdgeByEndPointAt(graph, x, y))\n    {\n      //Clicked on endpoint\n      this.targetType = \"endpoint\";\n    }\n    else if (this.target = this.getNodeAt(graph, x, y))\n    {\n      //Clicked on node\n      this.targetType = \"node\";\n    }\n    else if (this.target = this.getEdgeAt(graph, x, y))\n    {\n      //Clicked on edge\n      this.targetType = \"edge\";\n    }\n    else\n    {\n      //Clicked on graph\n      this.target = null;\n      this.targetType = \"none\";\n    }\n\n    return this.target;\n  }\n\n  clearTarget()\n  {\n    this.target = null;\n    this.targetType = \"none\";\n  }\n\n  hasTarget()\n  {\n    return this.target != null;\n  }\n\n  getNodeAt(graph, x, y)\n  {\n    //Search graph\n    for(const node of graph.getNodes())\n    {\n      const dx = x - node.x;\n      const dy = y - node.y;\n      if (dx * dx + dy * dy < Config.NODE_RADIUS_SQU)\n      {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  getEdgeAt(graph, x, y)\n  {\n    const center = {x: 0, y: 0};\n\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getCenterPoint(center);\n      const dx = x - center.x;\n      const dy = y - center.y;\n      if (dx * dx + dy * dy < Config.EDGE_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getEdgeByEndPointAt(graph, x, y)\n  {\n    const end = {x: 0, y: 0};\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getEndPoint(end);\n      const dx = x - end.x;\n      const dy = y - end.y;\n      if (dx * dx + dy * dy < Config.ENDPOINT_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getSelectionBox()\n  {\n    return this.selectionBox;\n  }\n\n  getSelection(graph, forceUpdate=false)\n  {\n    if (forceUpdate)\n    {\n      const box = this.selectionBox;\n      const mx = Math.max(box.toX, box.fromX);\n      const my = Math.max(box.toY, box.fromY);\n      const lx = Math.min(box.toX, box.fromX);\n      const ly = Math.min(box.toY, box.fromY);\n      this.clearSelection();\n      getNodesWithin(graph, lx, ly, mx, my, this.targets);\n    }\n\n    return this.targets;\n  }\n\n  hasSelection()\n  {\n    return this.targets.length > 0;\n  }\n\n  clearSelection()\n  {\n    this.targets.length = 0;\n  }\n\n  isTargetInSelection(target)\n  {\n    return this.targets.includes(target || this.target);\n  }\n\n  isTarget(target)\n  {\n    return this.target == target;\n  }\n\n  beginSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.fromX = box.toX = x;\n    box.fromY = box.toY = y;\n    this.clearSelection();\n\n    box.visible = true;\n  }\n\n  updateSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n  }\n\n  endSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n\n    box.visible = false;\n  }\n\n  isSelecting()\n  {\n    return this.selectionBox.visible;\n  }\n}\n\nfunction getNodesWithin(graph, x1, y1, x2, y2, dst)\n{\n  const fromX = Math.min(x1, x2);\n  const fromY = Math.min(y1, y2);\n  const toX = Math.max(x1, x2);\n  const toY = Math.max(y1, y2);\n\n  for(const node of graph.getNodes())\n  {\n    if (node.x >= fromX && node.x < toX &&\n        node.y >= fromY && node.y < toY)\n    {\n      dst.push(node);\n    }\n  }\n  return dst;\n}\n\nexport default GraphPicker;\n","import AbstractModuleInputController from 'modules/abstract/AbstractModuleInputController.js';\n\nimport GraphPicker from './GraphPicker.js';\nimport Node from 'graph/GraphNode.js';\nimport Edge from 'graph/QuadraticEdge.js';\n\nconst DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE = true;\nconst STR_TRANSITION_DEFAULT_LABEL = \"\";\n\nclass DefaultInputController extends AbstractModuleInputController\n{\n  constructor(module, inputAdapter)\n  {\n    super(module, inputAdapter);\n\n    this._picker = new GraphPicker();\n\n    this._graphController = null;\n\n    //Used to check if target needs to be updated for the hover effect\n    this.prevPointerX = 0;\n    this.prevPointerY = 0;\n\n    //Make sure this is always false when moving endpoints\n    this.isNewEdge = false;\n\n    //Whether to destroy pointless edges\n    this.shouldDestroyPointlessEdges = DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE;\n\n    //Swap left to right clicks and vice versa on anything else but Macs\n    this._swapMouseScheme = true;//!navigator.platform.startsWith(\"Mac\");\n\n    //Used to determine whether the target should be destroyed because of trash mode\n    this._trashMode = false;\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this._graphController = module.getGraphController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    const graph = this._graphController.getGraph();\n    const picker = this._picker;\n    const x = this._inputAdapter.getPointerX();\n    const y = this._inputAdapter.getPointerY();\n\n    if (x != this.prevPointerX || y != this.prevPointerY)\n    {\n      this.prevPointerX = x;\n      this.prevPointerY = y;\n\n      //Update target\n      picker.updateTarget(graph, x, y);\n\n      //HACK: to make the cursor look like a pointer when targeting\n      if (picker.hasTarget())\n      {\n        document.body.style.cursor = \"pointer\";\n      }\n      else\n      {\n        document.body.style.cursor = \"auto\";\n      }\n    }\n  }\n\n  //Override\n  onPreInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n    picker.setInitialTarget(picker.target, picker.targetType);\n\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    if (picker.hasSelection())\n    {\n      //Unselect everything is clicked on something other than nodes...\n      if (targetType != \"node\" || !picker.isTargetInSelection(target))\n      {\n        picker.clearSelection();\n      }\n    }\n\n    return super.onPreInputEvent(pointer);\n  }\n\n  //Override\n  onInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const x = pointer.x;\n    const y = pointer.y;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in trash mode... capture all events!\n    if (inputController.isTrashMode())\n    {\n      //Click to delete node\n      if (targetType === 'node')\n      {\n        //So that the emitted 'delete' events can use this\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n\n        //If there exists selected states, delete them all!\n        if (picker.hasSelection())\n        {\n          //Delete all selected nodes\n          graphController.deleteSelectedNodes(target);\n        }\n        else\n        {\n          //Delete a single node\n          graphController.deleteTargetNode(target);\n        }\n\n        return true;\n      }\n      else if (targetType === 'edge' || targetType === 'endpoint')\n      {\n        //Delete a single edge\n        graphController.deleteTargetEdge(target);\n        return true;\n      }\n\n      //Clicked on something you cannot delete\n      //return true;\n      return false;\n    }\n\n    //If not in Trash Mode, then events should pass through to here...\n    //Otherwise, ALL events are captured to prevent ALL default behavior.\n\n    //Edit label for selected edge\n    if (targetType === 'node')\n    {\n      graphController.openLabelEditor(target, x, y);\n      return true;\n    }\n    //Edit label for selected edge\n    if (targetType === 'edge')\n    {\n      graphController.openLabelEditor(target, x, y);\n      return true;\n    }\n    if (targetType !== 'none')\n    {\n      //Do nothing\n      return true;\n    }\n\n    return super.onInputEvent(pointer);\n  }\n\n  //Override\n  onDblInputEvent(pointer)\n  {\n    const graphController = this._graphController;\n    const x = pointer.x;\n    const y = pointer.y;\n\n    if (!this.isTrashMode())\n    {\n      //Create state at position\n      graphController.createNode(x, y);\n      return true;\n    }\n    else\n    {\n      graphController.emit(\"tryCreateWhileTrash\");\n      return true;\n    }\n\n    return super.onDblInputEvent(pointer);\n  }\n\n  //Override\n  onDragStart(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    const viewport = inputController.getInputAdapter().getViewport();\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Make sure it is not in trash mode\n      if (inputController.isTrashMode())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        graphController.emit(\"tryCreateWhileTrash\");\n        return false;\n      }\n\n      //Make sure it is not in new edge mode\n      inputController.isNewEdge = false;\n\n      //Makes sure that placeholders are not quadratics!\n      if (targetType === 'edge' && target.isPlaceholder())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        //Ignore drag event...\n        return false;\n      }\n      //Moving node (and selected nodes)\n      else if (targetType === 'node')\n      {\n        //target MUST be an instance of Node...\n        if (!(target instanceof Node))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Node.\");\n\n        //Ready to move node(s)...\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n        return true;\n      }\n      //Moving edge center point\n      else if (targetType === 'edge')\n      {\n        //target MUST be an instance of Edge...\n        if (!(target instanceof Edge))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n        //Makes sure that placeholders are not quadratics!\n        if (target.isPlaceholder())\n        {\n          //inputController.setMoveMode(false, true);//Set to false\n          return false;\n        }\n\n        //Save previous quadratics\n        const targetQuad = target.getQuadratic();\n        graphController.prevQuad.radians = targetQuad.radians;\n        graphController.prevQuad.length = targetQuad.length;\n\n        //Ready to move the edge vertex to pointer...\n        return true;\n      }\n      //Moving initial marker\n      else if (targetType === 'initial')\n      {\n        inputController.ghostInitialMarker = pointer;\n\n        //Ready to move the initial marker to another state...\n        return true;\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If input dragged a node...\n      if (targetType === 'node')\n      {\n        if (!inputController.isTrashMode())\n        {\n          const edge = graph.createEdge(target, pointer);\n          edge.setEdgeLabel(graphController.getGraphLabeler().getDefaultEdgeLabel());\n\n          //Redirect pointer to refer to the edge as the new target\n          picker.setInitialTarget(edge, \"endpoint\");\n          inputController.isNewEdge = true;\n\n          //Reset previous quad values for new proxy edge\n          const edgeQuad = edge.getQuadratic();\n          graphController.prevQuad.radians = edgeQuad.radians;\n          graphController.prevQuad.length = edgeQuad.length;\n\n          //Ready to move proxy edge to pointer...\n          //inputController.setMoveMode(true, true);\n          return true;\n        }\n        else\n        {\n          graphController.emit(\"tryCreateWhileTrash\");\n          return false;\n        }\n      }\n      else if (targetType == 'edge')\n      {\n        //Do nothing.\n        return false;\n      }\n      //If input dragged nothing...\n      else if (targetType === 'none')\n      {\n        //Begin selection box...\n        picker.beginSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    //In either moving or not... moving endpoints\n    if (targetType === 'endpoint')\n    {\n      //target MUST be an instance of Edge...\n      if (!(target instanceof Edge))\n        throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n      const targetQuad = target.getQuadratic();\n      graphController.prevQuad.radians = targetQuad.radians;\n      graphController.prevQuad.length = targetQuad.length;\n\n      graphController.prevEdgeTo = target.getDestinationNode();\n      inputController.isNewEdge = inputController.isMoveMode() ? false : true;\n\n      //Ready to move the edge endpoint to pointer...\n      return true;\n    }\n\n    //All input should be handled\n    //throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n\n    return super.onDragStart(pointer);\n  }\n\n  //Override\n  onDragMove(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Continue to move node(s)\n      if (targetType === 'node')\n      {\n        if (picker.hasSelection())\n        {\n          graphController.moveMultipleNodesTo(pointer, picker.getSelection(graph), x, y);\n        }\n        else\n        {\n          graphController.moveNodeTo(pointer, target, x, y);\n        }\n        return true;\n      }\n      //Continue to move edge vertex\n      else if (targetType === 'edge')\n      {\n        graphController.moveEdgeTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move edge endpoint\n      else if (targetType === 'endpoint')\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move initial\n      else if (targetType === 'initial')\n      {\n        //Move initial marker to node or pointer\n        const dst = picker.getNodeAt(graph, x, y) || pointer;\n        inputController.ghostInitialMarker = dst;\n        return true;\n      }\n      //Continue to move graph if on none\n      else if (targetType !== 'none')\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      if (inputController.isNewEdge)\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n\n      //If the selection box is active...\n      if (picker.isSelecting())\n      {\n        //Update the selection box\n        picker.updateSelection(graph, x, y);\n        return true;\n      }\n\n      //Otherwise, don't do anything. Cause even input drags will become move drags.\n    }\n\n    return super.onDragMove(pointer);\n  }\n\n  //Override\n  onDragStop(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode() || inputController.isNewEdge)\n    {\n      //If stopped dragging a node...\n      if (targetType === 'node')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          //If there exists selected states, delete them all!\n          if (picker.hasSelection())\n          {\n            graphController.deleteSelectedNodes(target);\n          }\n          else\n          {\n            //Delete a single node\n            graphController.deleteTargetNode(target);\n          }\n\n          return true;\n        }\n        //If dragged to an empty space (not trash)\n        else\n        {\n          //Do nothing, since should have moved to position\n          if (picker.hasSelection())\n          {\n            const dx = x - graphController.prevX;\n            const dy = y - graphController.prevY;\n            graphController.emit(\"nodeMoveAll\", graph, picker.getSelection(graph), dx, dy);\n          }\n          else\n          {\n            graphController.emit(\"nodeMove\", graph, target, x, y, graphController.prevX, graphController.prevY);\n          }\n          return true;\n        }\n      }\n      //If stopped dragging a edge...\n      else if (targetType === 'edge')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n        }\n        else\n        {\n          //Do nothing, since should have moved to position\n          graphController.emit(\"edgeMove\", graph, target, target.getQuadratic(), graphController.prevQuad);\n        }\n        return true;\n      }\n      //If stopped dragging a endpoint...\n      else if (inputController.isNewEdge || targetType === 'endpoint')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n          return true;\n        }\n        //If hovering over a node...\n        else if (target.getDestinationNode() instanceof Node)\n        {\n          const result = target;//FIXME: graph.formatEdge(target);\n\n          //If a different edge is the result of the target...\n          if (result !== target)\n          {\n            //Allow the user to edit the merged labels\n            graphController.openLabelEditor(result, x, y, result.getEdgeLabel(), false);\n\n            //Delete the merged label\n            graph.deleteEdge(target);\n            return true;\n          }\n          //Open label editor if a new edge...\n          else\n          {\n            if (inputController.isNewEdge)\n            {\n              graphController.openLabelEditor(target, x, y, null, true, () => {\n                graphController.emit(\"userPostCreateEdge\", graph, target);\n              });\n            }\n            else\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n          }\n\n          if (inputController.isNewEdge)\n          {\n            //Must be after openLabelEditor() to allow the function to check it...\n            inputController.isNewEdge = false;\n\n            //Emit event\n            graphController.emit(\"userCreateEdge\", graph, target);\n          }\n          else if (graphController.prevEdgeTo !== null)\n          {\n            //Emit event\n            graphController.emit(\"edgeDestination\", graph, target, target.getDestinationNode(), graphController.prevEdgeTo, graphController.prevQuad);\n          }\n\n          return true;\n        }\n        //If hovering over anything else...\n        else\n        {\n          //Destroy any edge that no longer have a destination\n          if (inputController.shouldDestroyPointlessEdges)\n          {\n            if (!inputController.isNewEdge)\n            {\n              graphController.deleteTargetEdge(target);\n            }\n            else\n            {\n              graph.deleteEdge(target);\n            }\n            return true;\n          }\n          //Keep edges as placeholders (used in DFA's)\n          else\n          {\n            target.changeDestinationNode(null);\n\n            //Open label editor if default edge...\n            if (target.getEdgeLabel().length <= 0)\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n            return true;\n          }\n        }\n      }\n      else if (targetType !== 'none')\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If was trying to select...\n      if (picker.isSelecting())\n      {\n        //Stop selecting stuff, fool.\n        picker.endSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    return super.onDragStop(pointer);\n  }\n\n  //Override\n  onPostInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n\n    picker.clearTarget();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n\n    return super.onPostInputEvent(pointer);\n  }\n\n  //Override\n  onZoomChange(pointer, zoomValue, prevValue)\n  {\n    return super.onZoomChange(pointer, zoomValue, prevValue);\n  }\n\n  setTrashMode(enabled)\n  {\n    this._trashMode = enabled;\n  }\n\n  isTrashMode()\n  {\n    return this._trashMode;\n  }\n\n  setInputScheme(shouldInputFirst)\n  {\n    this._swapMouseScheme = !shouldInputFirst;\n  }\n\n  getInputScheme()\n  {\n    return this._swapMouseScheme;\n  }\n\n  isMoveMode()\n  {\n    const result = this._inputAdapter.isAltInput();\n    return this._swapMouseScheme ? !result : result;\n  }\n\n  isDragging()\n  {\n    return this._inputAdapter.isDragging();\n  }\n\n  isActionMode()\n  {\n    return this._inputAdapter.isPointerActive() ?\n      //Is considered an input when NOT moving or when creating a new edge...\n      this.isNewEdge || !this.isMoveMode() :\n      //If not active, just show default input...\n      !this._swapMouseScheme;\n  }\n\n  getPicker()\n  {\n    return this._picker;\n  }\n}\n\nexport default DefaultInputController;\n","import AbstractGraphLabeler from 'graph/AbstractGraphLabeler.js';\n\nclass DefaultGraphLabeler extends AbstractGraphLabeler\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  getNodeLabelFormatter()\n  {\n    return labelFormatter;\n  }\n\n  //Override\n  getEdgeLabelFormatter()\n  {\n    return labelFormatter;\n  }\n}\n\nfunction labelFormatter(string)\n{\n  return string || \"\";\n}\n\nexport default DefaultGraphLabeler;\n","import AbstractModuleGraphController from 'modules/abstract/AbstractModuleGraphController.js';\n\nimport Config from 'config.js';\nimport Eventable from 'util/Eventable.js';\n\nimport NodalGraph from 'graph/NodalGraph.js';\nimport GraphNode from 'graph/GraphNode.js';\nimport GraphEdge from 'graph/GraphEdge.js';\nimport QuadraticEdge from 'graph/QuadraticEdge.js';\n\nimport DefaultGraphLabeler from './DefaultGraphLabeler.js';\n\nclass DefaultGraphController extends AbstractModuleGraphController\n{\n  constructor(module)\n  {\n    super(module, new NodalGraph(GraphNode, QuadraticEdge), new DefaultGraphLabeler());\n\n    this.inputController = null;\n    this.machineController = null;\n\n    this.labelEditorElement = null;\n\n    this.prevQuad = {\n      radians: 0, length: 0,\n      x: 0, y: 0\n    };\n    this.prevEdgeTo = null;\n    this.prevX = 0;\n    this.prevY = 0;\n\n    //The difference between controller events vs graph events is: controller has user-intent\n\n    //userCreateNode(graph, node) - When user creates a node\n    this.registerEvent(\"userCreateNode\");\n    this.registerEvent(\"userPreCreateNode\");//(graph, nextNodeID, x, y)\n    this.registerEvent(\"userPostCreateNode\");//(graph, node)\n\n    //userDeleteNodes(graph, node, targetNodes, prevX, prevY) - When user deletes one or more nodes\n    this.registerEvent(\"userDeleteNodes\");\n    this.registerEvent(\"userPreDeleteNodes\");\n    this.registerEvent(\"userPostDeleteNodes\");\n\n    //userDeleteEdge(graph, edge, prevTo, prevQuad) - When user deletes an edge\n    this.registerEvent(\"userDeleteEdge\");\n    this.registerEvent(\"userPreDeleteEdge\");\n    this.registerEvent(\"userPostDeleteEdge\");\n\n    //userCreateEdge(graph, edge) - When user creates an edge, after naming it\n    this.registerEvent(\"userCreateEdge\");\n    //this.registerEvent(\"userPreCreateEdge\");\n    this.registerEvent(\"userPostCreateEdge\");\n\n    /*\n    //userMoveNodes(graph, nodes, dx, dy) - When user moves one or more nodes\n    this.registerEvent(\"userMoveNodes\");\n    //userMoveInitial(graph, node, prevNode) - When user moves the initial marker to another\n    this.registerEvent(\"userMoveInitial\");\n    //userPreCreateEdge(graph, edge) - When user is about to create an edge, before src\n    this.registerEvent(\"userPreCreateEdge\");\n    //userBeginEdge(graph, edge, src) - When user begins to create an edge, after src and before naming it\n    this.registerEvent(\"userBeginEdge\");\n    //userEndEdge(graph, edge, src, dst) - When user finishes creating an edge, after dst and before naming it (dst could be null for deletion)\n    this.registerEvent(\"userEndEdge\");\n    //userPostCreateEdge(graph, edge) - When user is finished creating an edge, after dst and after quad changes\n    this.registerEvent(\"userPostCreateEdge\");\n    //userMoveEdge(graph, edge, prevDest) - When user changes the dst of edge\n    this.registerEvent(\"userChangeEdge\");\n    //userBendEdge(graph, edge, prevQuad) - When user bends the edge\n    this.registerEvent(\"userBendEdge\");\n    //userLabelEdge(graph, edge, prevLabel) - When user re-labels the edge\n    this.registerEvent(\"userLabelEdge\");\n    */\n\n    //userRenameNode(graph, node, nextLabel, prevLabel, isPrevCustom) - When user sets the label of node\n    this.registerEvent(\"userRenameNode\");\n\n    //userChangeLayout(graph, prevLayout) - When user re-layouts the graph\n    this.registerEvent(\"userChangeLayout\");\n    this.registerEvent(\"userPreChangeLayout\");//before any changes\n    this.registerEvent(\"userPostChangeLayout\");//after all changes\n\n    //userImportGraph(graph) - When user imports a graph\n    this.registerEvent(\"userImportGraph\");\n    this.registerEvent(\"userPreImportGraph\");//before any changes\n    this.registerEvent(\"userPostImportGraph\");//after all changes\n\n    //nodeMove(targetNode, nextX, nextY, prevX, prevY)\n    this.registerEvent(\"nodeMove\");\n    //nodeMoveAll(targetNodes, dx, dy)\n    this.registerEvent(\"nodeMoveAll\");\n    //nodeInitial(nextInitial, prevInitial)\n    this.registerEvent(\"nodeInitial\");\n    //edgeDestination(targetEdge, nextDestination, prevDestination, prevQuad)\n    this.registerEvent(\"edgeDestination\");\n    //edgeMove(targetEdge, nextQuad, prevQuad)\n    this.registerEvent(\"edgeMove\");\n    //edgeLabel(targetEdge, nextLabel, prevLabel)\n    this.registerEvent(\"edgeLabel\");\n    //tryCreateWhileTrash()\n    this.registerEvent(\"tryCreateWhileTrash\");\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this.inputController = module.getInputController();\n    this.machineController = module.getMachineController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  renameNode(node, name)\n  {\n    const prev = node.getNodeLabel();\n    const isPrevCustom = node.getNodeCustom();\n\n    node.setNodeLabel(name);\n    node.setNodeCustom(true);\n\n    this.emit(\"userRenameNode\", this.getGraph(), node, name, prev, isPrevCustom);\n  }\n\n  createNode(x, y)\n  {\n    const newNodeLabel = this.getGraphLabeler().getDefaultNodeLabel();\n\n    if (typeof x === 'undefined') x = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n    if (typeof y === 'undefined') y = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n\n    this.emit(\"userPreCreateNode\", this.getGraph(), newNodeLabel, x, y);\n\n    const node = this.getGraph().createNode(x, y);\n    node.setNodeLabel(newNodeLabel);\n\n    this.emit(\"userCreateNode\", this.getGraph(), node);\n\n    this.emit(\"userPostCreateNode\", this.getGraph(), node);\n    return node;\n  }\n\n  deleteSelectedNodes(selectedNode)\n  {\n    const picker = this.inputController.getPicker();\n    const selection = picker.getSelection(this.getGraph()).slice();\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n\n    //Remove from graph\n    for(const node of selection)\n    {\n      this.getGraph().deleteNode(node);\n    }\n\n    //Remove from selection\n    picker.clearSelection();\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n  }\n\n  deleteTargetNode(target)\n  {\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n\n    this.getGraph().deleteNode(target);\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n  }\n\n  deleteTargetNodes(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n\n    const graph = this.getGraph();\n    for(const node of targets)\n    {\n      graph.deleteNode(node);\n    }\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n  }\n\n  deleteTargetEdge(target)\n  {\n    this.emit(\"userPreDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.getGraph().deleteEdge(target);\n\n    //Emit event\n    this.emit(\"userDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.emit(\"userPostDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n  }\n\n  deleteTargetEdges(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    for(const target of targets)\n    {\n      this.deleteTargetEdge(target);\n    }\n  }\n\n  moveNodeTo(pointer, node, x, y)\n  {\n    for(const other of this.getGraph().getNodes())\n    {\n      //Update node collision\n      if (node === other) continue;\n      const nodeSize = node.getNodeSize();\n\n      const dx = x - other.x;\n      const dy = y - other.y;\n      const angle = Math.atan2(dy, dx);\n\n      const diameter = (nodeSize * 2);\n      const nextDX = other.x + (Math.cos(angle) * diameter) - x;\n      const nextDY = other.y + (Math.sin(angle) * diameter) - y;\n\n      if (dx * dx + dy * dy < nodeSize * nodeSize * 4)\n      {\n        x += nextDX;\n        y += nextDY;\n      }\n    }\n\n    node.x = x;\n    node.y = y;\n  }\n\n  moveMultipleNodesTo(pointer, nodes, x, y)\n  {\n    //Moves all nodes by difference between initial position with passed-in x and y\n    const pos = pointer.getInputEventPosition();\n    const dx = x - pos.x;\n    const dy = y - pos.y;\n    for(const node of nodes)\n    {\n      node.x += dx;\n      node.y += dy;\n    }\n\n    //Updates initial position to passed-in x and y to maintain relative position\n    pointer.changeInputEventPosition(x, y);\n  }\n\n  moveEdgeTo(pointer, edge, x, y)\n  {\n    edge.setQuadraticByCoords(x, y);\n  }\n\n  moveEndpointTo(pointer, edge, x, y)\n  {\n    //Get ONLY node at x and y (cannot use hover target, since it is not ONLY nodes)\n    const picker = this.inputController.getPicker();\n    const dst = picker.getNodeAt(this.getGraph(), x, y) || pointer;\n\n    edge.changeDestinationNode(dst);\n\n    //If the cursor returns to the state after leaving it...\n    if (edge.isSelfLoop())\n    {\n      //Make it a self loop\n      const sourceNode = edge.getSourceNode();\n      const dx = sourceNode.x - x;\n      const dy = sourceNode.y - y;\n      const radians = Math.atan2(dy, dx) + Math.PI;\n      edge.setQuadratic(radians);\n    }\n    //Otherwise, maintain original curve\n    else\n    {\n      //TODO: This also causes self-loops to act weird when no longer a self loop\n      edge.setQuadratic(this.prevQuad.radians, this.prevQuad.length);\n    }\n  }\n\n  openLabelEditor(target, x, y, placeholder=null, replace=true, callback=null)\n  {\n    if (!this.labelEditorElement)\n    {\n      if (callback) callback();\n      return;\n    }\n\n    const prevLabel = placeholder || target instanceof GraphEdge ? target.getEdgeLabel() : target.getNodeLabel();\n    this.labelEditorElement.openEditor(target, placeholder, replace, () => {\n      const label = target instanceof GraphEdge ? target.getEdgeLabel() : target.getNodeLabel();\n      if (prevLabel && prevLabel.length > 0 && label != prevLabel)\n      {\n        this.emit(target instanceof GraphEdge ? \"edgeLabel\" : \"nodeLabel\", this.getGraph(), target, label, prevLabel);\n      }\n\n      if (callback)\n      {\n        callback();\n      }\n    });\n  }\n\n  focusOnNode(node)\n  {\n    //Center workspace at focused node; inverted due to graph-to-screen space\n    this.inputController.getInputAdapter().getViewport().setOffset(-node.x, -node.y);\n  }\n\n  focusOnEdge(edge)\n  {\n    //Center workspace at focused edge; inverted due to graph-to-screen space\n    const center = edge.getCenterPoint();\n    this.inputController.getInputAdapter().getViewport().setOffset(-center.x, -center.y);\n  }\n\n  focusOnNodes(nodes)\n  {\n    //Center workspace at the average of focused nodes; inverted due to graph-to-screen space\n    const length = nodes.length;\n    let ax = 0;\n    let ay = 0;\n    for(const node of nodes)\n    {\n      ax += node.x;\n      ay += node.y;\n    }\n    this.inputController.getInputAdapter().getViewport().setOffset(-ax / length, -ay / length);\n  }\n}\n//Mixin Eventable\nEventable.mixin(DefaultGraphController);\n\nfunction moveNodesOutOfEdges(target, graph)\n{\n\n  const x1 = target.getSourceNode().x;\n  const y1 = target.getSourceNode().y;\n  const x2 = target.getDestinationNode().x;\n  const y2 = target.getDestinationNode().y;\n  const dist12sq = (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\n  let vertical = false;\n  let m = 0;\n  let b = 0;\n  if(x1 > x2) {\n    m = (y1-y2) / (x1-x2);\n    b = y2-m*x2;\n  } else if (x1 < x2) {\n    m = (y2-y1) / (x2-x1);\n    b = y1-m*x1;\n  } else {\n    vertical = true;\n  }\n\n  for(const node of graph.getNodes())\n  {\n    if(node === target.getSourceNode() || node === target.getDestinationNode()) continue;\n\n    const x0 = node.x;\n    const y0 = node.y;\n\n    const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n    const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n    if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n\n    let dist = 0;\n    let xint = 0;\n    let yint = 0;\n    let m0 = 0;\n    let horizontal = false;\n    if(vertical) {\n      dist = Math.abs(x1-x0);\n      xint = x1;\n      yint = y0;\n      m0 = 0;\n    } else {\n      dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n      xint = (x0 + m*y0 - m*b) / (m*m + 1);\n      yint = m * xint + b;\n      if(m !== 0) {\n        m0 = 1 / m;\n      } else {\n        horizontal = true;\n      }\n    }\n\n    if(dist < Config.NODE_RADIUS) {\n      const toMove = Config.NODE_RADIUS - dist + 10;\n      const distx = x0 - xint;\n      const disty = y0 - yint;\n      let signx = -1;\n      let signy = -1;\n      if(distx > 0) signx = 1;\n      if(disty > 0) signy = 1;\n\n      if(horizontal) {\n        node.y = y0 + signy * toMove;\n      } else {\n        let toMovex = toMove / Math.sqrt(m0*m0 + 1);\n        let toMovey = Math.abs(m0) * toMovex;\n        node.x = x0 + signx * toMovex;\n        node.y = y0 + signy * toMovey;\n      }\n    }\n  }\n}\n\nexport default DefaultGraphController;\n","import AbstractMachineBuilder from 'modules/abstract/AbstractMachineBuilder.js';\n\nclass DefaultMachineBuilder extends AbstractMachineBuilder\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  onGraphChange(graph)\n  {\n    //Do nothing.\n  }\n}\n\nexport default DefaultMachineBuilder;\n","import AbstractModuleMachineController from 'modules/abstract/AbstractModuleMachineController.js';\n\nimport DefaultMachineBuilder from './DefaultMachineBuilder.js';\n\nclass DefaultMachineController extends AbstractModuleMachineController\n{\n  constructor(module)\n  {\n    super(module, new DefaultMachineBuilder());\n\n    this._machineName = \"\";\n  }\n\n  setMachineName(name) { this._machineName = name; }\n  getMachineName() { return this._machineName; }\n}\nexport default DefaultMachineController;\n","import React from 'react';\n\nclass DefaultPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  //Override\n  render()\n  {\n    return <div className={\"panel-container \" + this.props.className} id=\"about\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>Default</h1>\n      </div>\n      <div className=\"panel-content\">\n        <p>{\"Brought to you with \\u2764 by the Flap.js team.\"}</p>\n        <p>{\"<- Tap on a tab to begin!\"}</p>\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\n\nexport default DefaultPanel;\n","import React from 'react';\n\nconst GRAPH_NODE_CONTAINER_STYLE_NAME = \"graph-node-container\";\nconst GRAPH_NODE_BODY_STYLE_NAME = \"graph-node\";\nconst GRAPH_NODE_LABEL_STYLE_NAME = \"graph-node-label\";\n\nclass GraphNodeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const node = this.props.node;\n    const fill = this.props.fill || \"#FFFFFF\";\n    const stroke = this.props.stroke || \"#000000\";\n\n    const label = node.getNodeLabel() || \"\";\n\n    return (\n      <g className={GRAPH_NODE_CONTAINER_STYLE_NAME}>\n        {/*Outer circle*/}\n        <circle className={GRAPH_NODE_BODY_STYLE_NAME}\n          cx={node.x} cy={node.y}\n          r={node.getNodeSize()}\n\n          fill={fill}\n          stroke={stroke}/>\n\n        //Label\n        <text className={GRAPH_NODE_LABEL_STYLE_NAME}\n          x={node.x} y={node.y + 4}\n          pointerEvents=\"none\"\n          style={{\n            userSelect: \"none\",\n            fontSize: (1 - Math.min(Math.max(label.length - 2, 0) / 6, 0.5)) + \"em\"\n          }}\n          textAnchor=\"middle\">\n          {label}\n        </text>\n      </g>\n    );\n  }\n}\n\nexport default GraphNodeRenderer;\n","import React from 'react';\n\nconst GRAPH_EDGE_CONTAINER_STYLE_NAME = \"graph-edge-container\";\nconst GRAPH_EDGE_BODY_STYLE_NAME = \"graph-edge\";\nconst GRAPH_EDGE_LABEL_STYLE_NAME = \"graph-edge-label\";\n\nconst ARROW_WIDTH = 10;\nconst SIXTH_PI = Math.PI / 6;\n\nclass QuadraticEdgeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const stroke = this.props.stroke || \"#000000\";\n\n    const edge = this.props.edge;\n    const start = edge.getStartPoint();\n    const end = edge.getEndPoint();\n    const center = edge.getCenterPoint();\n    const label = edge.getEdgeLabel();\n    const quad = edge.getQuadratic();\n    const quadCoords = edge.getQuadraticAsCoords();\n    const edgeDir = edge.getEdgeDirection();\n    const flipLabel = quadCoords.y > 0;\n\n    //Calculate curved lines...\n    let quadLine = null;\n    let arrowAngle = 0;\n    if (!edge.isQuadratic())\n    {\n      //Straight line\n      arrowAngle = Math.atan2(start.x - end.x, start.y - end.y) + Math.PI;\n      quadLine = \"L \" + end.x + \" \" + end.y;\n    }\n    else\n    {\n      //Quadratic curve\n      //center = (midpoint + the quadratic offset) + the quadratic offset\n      const cx = center.x + quadCoords.x;\n      const cy = center.y + quadCoords.y;\n      arrowAngle = Math.atan2(cx - end.x, cy - end.y) + Math.PI;\n      quadLine = \"Q \" + cx + \" \" + cy + \" \" + end.x + \" \" + end.y;\n    }\n\n    //Draw multiple labels\n    const labels = label ? label.split('\\n') : [];\n    let dy = 0;\n\n    const cx = (center && center.x || 0);\n    const cy = (center && center.y || 0);\n\n    return (\n      <g className={GRAPH_EDGE_CONTAINER_STYLE_NAME}>\n        //Draw lines\n        <path className={GRAPH_EDGE_BODY_STYLE_NAME} id={\"edge:\" + edge.getGraphElementID()}\n          d={\n            \"M \" + start.x + \" \" + start.y + \" \" +\n            quadLine + \" \" +\n            \"M \" +\n              (end.x - (ARROW_WIDTH * Math.sin(arrowAngle - SIXTH_PI))) + \" \" +\n              (end.y - (ARROW_WIDTH * Math.cos(arrowAngle - SIXTH_PI))) + \" \" +\n            \"L \" + end.x + \" \" + end.y + \" \" +\n            \"L \" +\n              (end.x - (ARROW_WIDTH * Math.sin(arrowAngle + SIXTH_PI))) + \" \" +\n              (end.y - (ARROW_WIDTH * Math.cos(arrowAngle + SIXTH_PI)))}\n          fill=\"none\"\n\n          stroke={stroke}/>\n\n        {/*Draw labels*/}\n        <g transform={\"translate(\" + (cx) + \",\" + (cy) + \") rotate(\" + (edgeDir * 180 / Math.PI) + \")\"}>\n        { labels.length > 0 && labels.map((str, i) => {\n            const yy = (i + 1) * -15;\n\n            //TODO: ctx.clearRect(xx - cx - 2, yy - 5, (cx * 2) + 4, 10);\n            return <text\n              key={str + \".\" + i}\n              className={GRAPH_EDGE_LABEL_STYLE_NAME}\n              transform={\"translate(0, \" + yy + \")\" + (flipLabel ? \" scale(-1, -1)\" : \"\")}\n              alignmentBaseline=\"central\"\n              pointerEvents=\"none\"\n              style={{userSelect: \"none\"}}\n              textAnchor=\"middle\">\n              {str}\n            </text>;\n        })}\n        </g>\n      </g>\n    );\n  }\n}\n\nexport default QuadraticEdgeRenderer;\n","import React from 'react';\nimport DefaultGraphRenderer from './DefaultGraphRenderer.css';\n\nimport GraphNodeRenderer from 'graph/renderer/GraphNodeRenderer.js';\nimport QuadraticEdgeRenderer from 'graph/renderer/QuadraticEdgeRenderer.js';\n\nclass HLSMGraphRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    return <g>\n      {graph.getNodes().map((e, i) => <GraphNodeRenderer key={e.getGraphElementID() || i} node={e}/>)}\n      {graph.getEdges().map((e, i) => <QuadraticEdgeRenderer key={e.getGraphElementID() || i} edge={e}/>)}\n    </g>;\n  }\n}\n\nexport default HLSMGraphRenderer;\n","import React from 'react';\n\nimport SelectionBoxRenderer from 'content/workspace/renderer/SelectionBoxRenderer.js';\nimport HighlightRenderer from 'content/workspace/renderer/HighlightRenderer.js';\n\nclass DefaultGraphOverlayRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const selectionBox = picker.getSelectionBox();\n\n    return <g>\n      {/* Selected elements */}\n      { picker.hasSelection() &&\n        picker.getSelection(graph).map((e, i) =>\n          <HighlightRenderer key={e.getGraphElementID()} className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={e} type=\"node\"/>) }\n\n      {/* Selection box */}\n      <SelectionBoxRenderer visible={selectionBox.visible}\n        fromX={selectionBox.fromX} fromY={selectionBox.fromY}\n        toX={selectionBox.toX} toY={selectionBox.toY}/>\n\n      {/* Hover markers */}\n      { picker.hasTarget() &&\n        !picker.isTargetInSelection() &&\n        <HighlightRenderer className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={picker.target} type={picker.targetType}/> }\n    </g>;\n  }\n}\n\nexport default DefaultGraphOverlayRenderer;\n","import React from 'react';\n\nimport TrashCan from 'content/viewport/TrashCan.js';\nimport CursorMode from 'content/viewport/CursorMode.js';\n\nclass DefaultViewportRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n    const screen = this.props.screen;\n\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return <span>\n    { LabelEditor &&\n      <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n      inputController={inputController}\n      graphController={graphController}\n      machineController={machineController}\n      screen={screen}/> }\n      <span>\n        <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n          <CursorMode inputController={inputController} graphController={graphController}/>\n        </div>\n        <div className=\"anchor-bottom-right\">\n          <TrashCan inputController={inputController} viewport={parent}/>\n        </div>\n      </span>\n    </span>;\n  }\n}\nexport default DefaultViewportRenderer;\n","import React from 'react';\nimport './DefaultLabelEditor.css';\n\nimport GraphEdge from 'graph/GraphEdge.js';\n\nimport Config from 'config.js';\nimport { SYMBOL_SEPARATOR, EMPTY_CHAR } from 'modules/fsa/graph/FSAEdge.js';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\n//TODO: This is equivalent to 4em for toolbar height\nconst LABEL_OFFSET_Y = -64;\nconst EDITOR_OFFSET_Y = -36;\nconst DELETE_KEY = 8;\nconst DELETE_FORWARD_KEY = 46;\n\nconst RECOMMENDED_SYMBOLS = [\"0\", \"1\"];\nconst DEFAULT_SYMBOLS = [EMPTY_CHAR];\nconst DELETE_ON_EMPTY = true;\n\nclass DefaultLabelEditor extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.parentElement = null;\n    this.inputElement = null;\n\n    //HACK: this is so if the click is focused back to the label editor, then it will NOT close\n    this._timer = null;\n    this._prevValue = \"\";\n\n    this.state = {\n      target: null,\n      callback: null\n    };\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onFormat = this.onFormat.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  openEditor(targetElement, defaultText=null, replace=true, callback=null)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    this.setState((prev, props) => {\n      return {\n        target: targetElement,\n        callback: callback\n      };\n    });\n\n    const targetLabel = targetElement instanceof GraphEdge ?\n      targetElement.getEdgeLabel() :\n      targetElement.getNodeLabel();\n    this.inputElement.resetValue(targetLabel, () => {\n      if (defaultText) this.inputElement.setValue(defaultText);\n\n      this._prevValue = targetLabel;\n      this.parentElement.focus();\n      this.inputElement.focus(replace);\n    });\n  }\n\n  closeEditor(saveOnExit=false)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    //Save data\n    const targetElement = this.state.target;\n    if (targetElement !== null)\n    {\n      if (saveOnExit)\n      {\n        let value = this.inputElement.value;\n        if (targetElement instanceof GraphEdge)\n        {\n          targetElement.setEdgeLabel(value);\n        }\n        else\n        {\n          targetElement.setNodeLabel(value);\n        }\n      }\n      else\n      {\n        const targetLabel = targetElement instanceof GraphEdge ?\n          targetElement.getEdgeLabel() :\n          targetElement.getNodeLabel();\n        if (!targetLabel)\n        {\n          //Make sure its empty (and let edge handle default labels)\n          if (targetElement instanceof GraphEdge)\n          {\n            targetElement.setEdgeLabel(null);\n          }\n          else\n          {\n            targetElement.setNodeLabel(null);\n          }\n\n          //Delete it since it is not a valid element\n          if (DELETE_ON_EMPTY)\n          {\n            if (targetElement instanceof GraphEdge)\n            {\n              this.props.graphController.getGraph().deleteEdge(targetElement);\n            }\n            else\n            {\n              this.props.graphController.getGraph().deleteNode(targetElement)\n            }\n          }\n        }\n      }\n\n      this.setState({target: null});\n\n      if (this.state.callback) this.state.callback();\n    }\n\n    //Reset label editor\n    this.inputElement.blur();\n  }\n\n  hasFocus()\n  {\n    return this.inputElement.hasFocus();\n  }\n\n  isEditorOpen()\n  {\n    return this.state.target !== null;\n  }\n\n  onContextMenu(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  appendSymbol(symbol)\n  {\n    this.inputElement.appendValue(symbol, SYMBOL_SEPARATOR);\n    this.inputElement.focus(false);\n  }\n\n  onSubmit(newValue, prevValue)\n  {\n    //this._prevValue = newValue;\n    //If the value has changed or the value remained empty...\n    if (newValue != prevValue)\n    {\n      //this.closeEditor(true);\n    }\n    else\n    {\n      //TODO: This was commented out for some reason...\n      //Will close due to timer...\n      this.closeEditor(false);\n    }\n  }\n\n  onFormat(value)\n  {\n    return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null, value);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const viewport = inputController.getInputAdapter().getViewport();\n    const graphController = this.props.graphController;//This is used in closeEditor()\n    const machineController = this.props.machineController;//This is also used in callbacks\n    const screen = this.props.screen;\n\n    const targetStyle = {\n      visibility: \"hidden\"\n    };\n\n    const target = this.state.target;\n\n    if (target)\n    {\n      targetStyle.visibility = \"visible\";\n\n      //Assumes target is an instance of Edge\n      const center = target instanceof GraphEdge ?\n        target.getCenterPoint() :\n        target/* GraphNode themselves have x/y attribs */;\n      const screenPos = transformViewToScreen(screen,\n        center.x + viewport.getOffsetX(),\n        center.y + viewport.getOffsetY());\n      const x = screenPos.x;\n      const y = screenPos.y + LABEL_OFFSET_Y + EDITOR_OFFSET_Y;\n      const offsetX = -(this.parentElement.offsetWidth / 2);\n      const offsetY = -(this.parentElement.offsetHeight / 2);\n\n      targetStyle.top = (y + offsetY) + \"px\";\n      targetStyle.left = (x + offsetX) + \"px\";\n    }\n\n    return <div className=\"bubble\" id=\"label-editor\" ref={ref=>this.parentElement=ref}\n      tabIndex={\"0\"/*This is to allow div's to focus/blur*/}\n      style={targetStyle}\n      onContextMenu={this.onContextMenu}\n      onFocus={(e)=>{\n        //HACK: delete the timer that will exit labelEditor\n        clearTimeout(this._timer);\n      }}\n      onBlur={(e)=>{\n        //HACK: start the timer that will exit labelEditor if not return focus\n        this._timer = setTimeout(() => this.closeEditor(true), 10);\n      }}>\n      <FormattedInput className=\"label-editor-input\" ref={ref=>this.inputElement=ref}\n        formatter={this.onFormat}\n        onSubmit={this.onSubmit}\n        captureOnExit={\"none\"}\n        multiline={true}/>\n    </div>;\n  }\n}\n\nfunction transformViewToScreen(svg, x, y)\n{\n  const ctm = svg.getScreenCTM();\n  return {\n    x: (x * ctm.a) + ctm.e,\n    y: (y * ctm.d) + ctm.f\n  };\n}\n\nexport default DefaultLabelEditor;\n","import AbstractModule from 'modules/abstract/AbstractModule.js';\n\nimport DefaultGraphExporter from './DefaultGraphExporter.js';\n\nimport DefaultInputController from './DefaultInputController.js';\nimport DefaultGraphController from './DefaultGraphController.js';\nimport DefaultMachineController from './DefaultMachineController.js';\n\nimport DefaultPanel from './DefaultPanel.js';\nimport DefaultGraphRenderer from './DefaultGraphRenderer.js';\nimport DefaultGraphOverlayRenderer from './DefaultGraphOverlayRenderer.js';\nimport DefaultViewportRenderer from './DefaultViewportRenderer.js';\n\nimport DefaultLabelEditor from './DefaultLabelEditor.js';\n\nconst VERSION = \"0.0.1\";\nconst PANELS = [DefaultPanel];\nconst EXPORTERS = [new DefaultGraphExporter()];\n\nclass DefaultModule extends AbstractModule\n{\n  constructor(app)\n  {\n    super(app);\n\n    const inputAdapter = app.getInputAdapter();\n    this._inputController = new DefaultInputController(this, inputAdapter);\n    this._graphController = new DefaultGraphController(this);\n    this._machineController = new DefaultMachineController(this);\n  }\n\n  getLabelEditor()\n  {\n    return DefaultLabelEditor;\n  }\n\n  //Override\n  initialize(app)\n  {\n    super.initialize(app);\n  }\n\n  //Override\n  destroy(app)\n  {\n    super.destroy(app);\n  }\n\n  //Override\n  update(app)\n  {\n    super.update(app);\n  }\n\n  //Override\n  getRenderer(renderLayer)\n  {\n    switch(renderLayer)\n    {\n      case \"graph\":\n        return DefaultGraphRenderer;\n      case \"graphoverlay\":\n        return DefaultGraphOverlayRenderer;\n      case \"viewport\":\n        return DefaultViewportRenderer;\n    }\n    return null;\n  }\n  //Override\n  getInputController() { return this._inputController; }\n  //Override\n  getGraphController() { return this._graphController; }\n  //Override\n  getMachineController() { return this._machineController; }\n  //Override\n  getGraphExporters() { return EXPORTERS; }\n  //Override\n  getModuleVersion() { return VERSION; }\n  //Override\n  getModulePanels() { return PANELS; }\n  //Override\n  getModuleName() { return \"default\"; }\n  //Override\n  getLocalizedModuleName() { return \"Default\"; }\n}\n\nexport default DefaultModule;\n","import React from 'react';\nimport Style from './IconButton.css';\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const showButtonLabel = IconButton.SHOW_LABEL && title;\n\n    return (\n      <button id={this.props.id}\n        className={Style.icon_button +\n          (showButtonLabel ? \" icon-button-show-label \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        {this.props.children}\n        <label>{title}</label>\n      </button>\n    );\n  }\n}\nIconButton.SHOW_LABEL = false;\n\nexport default IconButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './DrawerView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ExpandDownIcon from 'experimental/iconset/ExpandDownIcon.js';\n\nconst DRAWER_WIDTH_CSSVAR = \"--drawer-width\";\nconst DRAWER_HANDLE_DRAG_OFFSET = 6;\nconst DRAWER_HANDLE_MIN_SIZE_BUFFER = 32;\nconst DRAWER_HANDLE_MAX_SIZE_BUFFER = 128;\nconst DRAWER_MIN_WIDTH = 200;\nconst DRAWER_RESIZE_REFRESH_RATE = 200;\nconst DRAWER_HANDLE_CUSTOM_SNAP_WIDTH = 300;\n\nconst DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE = true;\nconst DRAWER_SHOULD_HIDE_TAB_LIST = false;\n\nexport const DRAWER_WIDTH_TYPE_FULL = \"full\";\nexport const DRAWER_WIDTH_TYPE_MIN = \"min\";\nexport const DRAWER_SIDE_BOTTOM = \"bottom\";\nexport const DRAWER_SIDE_RIGHT = \"right\";\nexport const DRAWER_BAR_DIRECTION_VERTICAL = \"vertical\";\nexport const DRAWER_BAR_DIRECTION_HORIZONTAL = \"horizontal\";\n\nclass DrawerView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.drawerElement = null;\n\n    this.state = {\n      open: false,\n      tabIndex: 0,\n      soloClass: null\n    };\n\n    //When drawer is currently changing size intentfully\n    this._handlingGrab = false;\n    this._handlingResize = false;\n    //Whether the drawer should fullscreen\n    this._isfull = false;\n    //Whether to restore drawer width after fullscreen\n    this._hasintent = false;\n    //Save intentful drawer width for restore after fullscreen\n    this._prevWidth = DRAWER_MIN_WIDTH;\n    //Used to manage resize updates\n    this._resizeTimeout = null;\n    this._resizeEndTimeout = null;\n    //Changed in render() to reflect current render state.\n    this._sideways = false;\n\n    this.onDrawerHandleGrab = this.onDrawerHandleGrab.bind(this);\n    this.onDrawerHandleRelease = this.onDrawerHandleRelease.bind(this);\n    this.onDrawerHandleMove = this.onDrawerHandleMove.bind(this);\n    this.onDrawerExpand = this.onDrawerExpand.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    window.addEventListener('resize', this.onWindowResize, false);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  openDrawer(fullscreen=false, callback=null)\n  {\n    if (fullscreen)\n    {\n      this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n    }\n\n    if (!this.state.open)\n    {\n      this.setState({ open: true }, callback);\n    }\n  }\n\n  closeDrawer(callback=null)\n  {\n    if (this.state.open)\n    {\n      this.setState({ open: false }, callback);\n    }\n  }\n\n  toggleDrawer(callback=null)\n  {\n    this.setState((prev, props) => {\n      return { open: !prev.open };\n    }, callback);\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.open;\n  }\n\n  isDrawerFullscreen()\n  {\n    return this._isfull;\n  }\n\n  setCurrentTab(tabIndex)\n  {\n    if (!this.props.panels) return;\n    if (tabIndex >= this.props.panels.length) tabIndex = 0;\n    if (this.state.open && this.state.tabIndex === tabIndex)\n    {\n      //Toggle fullscreen\n      if (this._isfull)\n      {\n        this.setDrawerWidth(this._prevWidth);\n      }\n      else\n      {\n        this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n      }\n    }\n    else\n    {\n      //Open and set tab index\n      this.setState({open: true, tabIndex: tabIndex});\n    }\n  }\n\n  getCurrentTabIndex()\n  {\n    return this.state.tabIndex;\n  }\n\n  isCurrentTab(tabIndex)\n  {\n    return this.state.tabIndex === tabIndex;\n  }\n\n  setDrawerSoloClass(soloClass, callback=null)\n  {\n    this.setState({soloClass: soloClass}, callback);\n  }\n\n  setDrawerWidth(value, hasIntent=true)\n  {\n    if (!this.drawerElement || !this.ref) return;\n\n    this._hasintent = hasIntent;\n\n    const drawerSide = this.props.side;\n    const drawerOffsetY = this.ref.getBoundingClientRect().top;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight - drawerOffsetY:\n      document.documentElement.clientWidth;\n    const minSize = DRAWER_MIN_WIDTH;\n\n    if (typeof value === 'string')\n    {\n      switch(value)\n      {\n        case DRAWER_WIDTH_TYPE_FULL:\n          this._isfull = true;\n          this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n          break;\n        case DRAWER_WIDTH_TYPE_MIN:\n          this._isfull = false;\n          this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, minSize + \"px\");\n          break;\n        default:\n          throw new Error(\"Trying to set drawer width to invalid string\");\n      }\n    }\n    else if (typeof value === 'number')\n    {\n      if (value < minSize + DRAWER_HANDLE_MIN_SIZE_BUFFER) value = minSize;\n      if (value > documentSize - DRAWER_HANDLE_MAX_SIZE_BUFFER)\n      {\n        value = documentSize;\n        this._isfull = true;\n      }\n      else\n      {\n        this._isfull = false;\n      }\n      this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, value + \"px\");\n    }\n    else\n    {\n      throw new Error(\"Trying to set drawer width to unknown value\");\n    }\n  }\n\n  onDrawerExpand()\n  {\n    //Don't close, just small-ify.\n    if (this.state.open && this._isfull)\n    {\n      this.setDrawerWidth(this._prevWidth);\n\n      //If did not make any changes...\n      if (this._isfull)\n      {\n        //Make it do normal stuff.\n        this.toggleDrawer();\n      }\n    }\n    else\n    {\n      this.toggleDrawer();\n    }\n  }\n\n  onWindowResize(e)\n  {\n    if (!this._resizeTimeout)\n    {\n      this._resizeTimeout = setTimeout(() => {\n        this._resizeTimeout = null;\n\n        //Handle resize ends (more like debouncing)\n        if (this._resizeEndTimeout) clearTimeout(this._resizeEndTimeout);\n        else this._handlingResize = true;\n        this._resizeEndTimeout = setTimeout(() => {\n          this._resizeEndTimeout = null;\n          this._handlingResize = false;\n        }, 500);\n\n        if (!this.drawerElement || !this.ref) return;\n\n        const drawerSide = this.props.side;\n        const drawerOffsetY = this.ref.getBoundingClientRect().top;\n        const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n        const documentSize = isDrawerSideBottom ?\n          document.documentElement.clientHeight - drawerOffsetY:\n          document.documentElement.clientWidth;\n\n        if (this._isfull)\n        {\n          if (this._hasintent) return;\n          if (this._prevWidth + DRAWER_HANDLE_MAX_SIZE_BUFFER < documentSize)\n          {\n            this._isfull = false;\n            this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, this._prevWidth + \"px\");\n          }\n        }\n        else\n        {\n          const drawerSize = getCSSDrawerWidth(this.drawerElement);\n          if (drawerSize + DRAWER_HANDLE_MAX_SIZE_BUFFER > documentSize)\n          {\n            this._isfull = true;\n            this._hasintent = false;\n          }\n        }\n      }, DRAWER_RESIZE_REFRESH_RATE);\n    }\n  }\n\n  onDrawerHandleGrab(e)\n  {\n    if (!this._handlingGrab)\n    {\n      this._handlingGrab = true;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n      document.addEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.addEventListener(\"mousemove\", this.onDrawerHandleMove);\n    }\n    else\n    {\n      this.onDrawerHandleRelease(e);\n    }\n  }\n\n  onDrawerHandleRelease(e)\n  {\n    if (this._handlingGrab)\n    {\n      document.removeEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.removeEventListener(\"mousemove\", this.onDrawerHandleMove);\n      this._handlingGrab = false;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n    }\n  }\n\n  onDrawerHandleMove(e)\n  {\n    const drawerSide = this.props.side;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight :\n      document.documentElement.clientWidth;\n    const pointerValue = isDrawerSideBottom ? e.clientY : e.clientX;\n\n    let result = documentSize - pointerValue + DRAWER_HANDLE_DRAG_OFFSET;\n    //Try snapping to some widths...\n    if (!isDrawerSideBottom && Math.abs(result - DRAWER_HANDLE_CUSTOM_SNAP_WIDTH) < DRAWER_HANDLE_MIN_SIZE_BUFFER)\n    {\n      result = DRAWER_HANDLE_CUSTOM_SNAP_WIDTH;\n    }\n    this.setDrawerWidth(result);\n  }\n\n  //Override\n  render()\n  {\n    const drawerPanels = this.props.panels;\n    const drawerSide = this.props.side || DRAWER_SIDE_RIGHT;\n    const drawerDirection = this.props.direction || DRAWER_BAR_DIRECTION_HORIZONTAL;\n    const shouldDrawerHide = this.props.hide || false;\n    const drawerSoloClass = this.state.soloClass;\n\n    const isDrawerOpen = this.state.open;\n    //Assumes that parent container has flex and flex-direction: column for bottom, row for right.\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const shouldDrawerBarSideways = !isDrawerSideBottom && (!isDrawerOpen || drawerDirection === DRAWER_BAR_DIRECTION_VERTICAL);\n    const showDrawerHandle = isDrawerOpen || this._handlingGrab;\n    const shouldDrawerOpenFull = this._isfull;\n    const shouldHideDrawerContent = (DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE && (this._handlingGrab || this._handlingResize)) || !isDrawerOpen;\n    const showDrawerTabs = isDrawerOpen || !DRAWER_SHOULD_HIDE_TAB_LIST;\n\n    //Used to handle sideways logic\n    this._sideways = shouldDrawerBarSideways;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_content +\n        (isDrawerSideBottom ? \" column \" : \"\") +\n        (\" \" + this.props.className)}\n      style={this.props.style}>\n        <div className={Style.app_viewport}>\n          {this.props.children}\n        </div>\n        <div ref={ref=>this.drawerElement=ref}\n        className={\n          Style.app_drawer +\n          (isDrawerOpen ? \" open \" : \"\") +\n          (shouldDrawerBarSideways ? \" drawer-bar-sideways \" : \"\") +\n          (isDrawerSideBottom ? \" drawer-side-bottom \" : \"\") +\n          (shouldDrawerOpenFull ? \" full \" : \"\") +\n          (shouldHideDrawerContent ? \" hide-content \" : \"\") +\n          (this._handlingResize ? \" no-animation \" : \"\") +\n          (shouldDrawerHide ? \" hide \" : \"\")}>\n          <div className={Style.drawer_handle + (showDrawerHandle ? \" show \" : \"\")} onMouseDown={this.onDrawerHandleGrab}>\n            <span>{\"||\"}</span>\n          </div>\n          <div className={Style.drawer_content}>\n            <nav className={Style.drawer_content_bar}>\n              <IconButton className={Style.drawer_tab_expander} onClick={this.onDrawerExpand}>\n                <ExpandDownIcon/>\n              </IconButton>\n              {showDrawerTabs && drawerPanels && drawerPanels.map((e, i) => {\n                if (!e) return null;\n                if (!e['TITLE']) return null;\n                const title = e['TITLE'];\n                const current = this.isCurrentTab(i);\n                const disabled = drawerSoloClass && drawerSoloClass !== e;\n                return (\n                  <a key={title + \":\" + i}\n                    className={Style.drawer_tab +\n                      (current ? \" active \" : \"\") +\n                      (disabled ? \" disabled \" : \"\")}\n                    onClick={() => this.setCurrentTab(i)}>\n                    <label>{title}</label>\n                  </a>\n                );\n              })}\n            </nav>\n            <div className={Style.drawer_content_panel_container}>\n              <div className={Style.drawer_content_panel}>\n                {drawerPanels && drawerPanels.map((e, i) => {\n                  if (!e) return null;\n                  const ComponentClass = e;\n                  const title = e['TITLE'] || \"\";\n                  const current = this.isCurrentTab(i);\n                  const disabled = drawerSoloClass && drawerSoloClass !== e;\n                  return (\n                    <div key={title + \":\" + i}\n                      className={Style.drawer_panel_container +\n                        (!current ? \" hide \" : \"\") +\n                        (disabled ? \" disabled \" : \"\")}>\n                      <ComponentClass className={Style.drawer_panel}\n                        {...this.props.panelProps}\n                        drawer={this}/>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default DrawerView;\n\nfunction getCSSDrawerWidth(drawerElement)\n{\n  return parseInt(window.getComputedStyle(drawerElement).getPropertyValue(DRAWER_WIDTH_CSSVAR).replace(/\\D/g, ''));\n}\n","import React from 'react';\nimport Style from './ToolbarButton.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nexport const TOOLBAR_CONTAINER_MENU = \"menu\";\nexport const TOOLBAR_CONTAINER_TOOLBAR = \"toolbar\";\nexport const TOOLBAR_CONTAINER_ALL = \"all\";\n\nclass ToolbarButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconButton id={this.props.id}\n        className={Style.toolbar_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n}\n\nexport default ToolbarButton;\n","import React from 'react';\nimport Style from './ToolbarTitle.css';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\nconst DEFAULT_TITLE = \"Untitled\";\n\nclass ToolbarTitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  setTitle(title)\n  {\n    this.ref.resetValue(title);\n  }\n\n  getTitle()\n  {\n    return this.ref.value;\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.title_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <span className={Style.title_input_container}>\n          <FormattedInput ref={ref=>this.ref=ref}\n            defaultValue={DEFAULT_TITLE}/>\n        </span>\n        <div className={Style.title_subtitle}>\n          ModuleName\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarTitle;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarView.css';\n\nimport {TOOLBAR_CONTAINER_MENU, TOOLBAR_CONTAINER_TOOLBAR} from './ToolbarButton.js';\nimport ToolbarTitle from './ToolbarTitle.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport MenuIcon from 'experimental/iconset/MenuIcon.js';\n\nconst TOOLBAR_BUTTON_BUFFER = 150;\nconst TOOLBAR_ALLOW_MENU_BAR = true;\nconst TOOLBAR_DEFAULT_MENU_INDEX = -1;\n\nclass ToolbarView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.toolbarElement = null;\n\n    this.state = {\n      open: false,\n      menuIndex: TOOLBAR_DEFAULT_MENU_INDEX\n    };\n\n    this.onBarExpand = this.onBarExpand.bind(this);\n  }\n\n  openBar(callback=null)\n  {\n    if (!this.state.open)\n    {\n      //Open it, but also reset menu...\n      this.setState({ open: true, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  closeBar(callback=null)\n  {\n    if (this.state.open)\n    {\n      //Close it, but also reset menu...\n      this.setState({ open: false, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  toggleBar(callback=null)\n  {\n    //Toggle it, but also reset menu...\n    this.setState((prev, props) => {\n      return { open: !prev.open, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX };\n    }, callback);\n  }\n\n  isBarOpen()\n  {\n    return this.state.open;\n  }\n\n  setCurrentMenu(menuIndex)\n  {\n    if (!this.props.menus) return;\n    if (menuIndex >= this.props.menus.length) menuIndex = TOOLBAR_DEFAULT_MENU_INDEX;\n\n    //Open and set tab index\n    this.setState({open: true, menuIndex: menuIndex});\n  }\n\n  getCurrentMenuIndex()\n  {\n    return this.state.menuIndex;\n  }\n\n  isCurrentMenu(menuIndex)\n  {\n    return this.state.menuIndex === menuIndex;\n  }\n\n  onBarExpand(e)\n  {\n    if (this.state.open && this.state.menuIndex  >= 0)\n    {\n      this.setCurrentMenu(TOOLBAR_DEFAULT_MENU_INDEX);\n    }\n    else\n    {\n      this.toggleBar();\n    }\n  }\n\n  renderMenuButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_TOOLBAR) return child;\n    });\n  }\n\n  renderToolbarButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_MENU) return child;\n    });\n  }\n\n  //Override\n  render()\n  {\n    const toolbarMenus = this.props.menus;\n    const toolbarMenuIndex = this.state.menuIndex;\n    const ToolbarMenu = toolbarMenuIndex >= 0 ? toolbarMenus[toolbarMenuIndex] : null;\n    const showCustomToolbarMenu = ToolbarMenu != null;\n\n    const hasButtons = React.Children.count(this.props.children) > 0;\n    const isBarOpen = this.state.open;\n    const shouldBarHide = this.props.hide || false;\n    const showBarExpander = isBarOpen || (hasButtons && TOOLBAR_ALLOW_MENU_BAR);\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_bar +\n        (isBarOpen ? \" open \" : \"\") +\n        (shouldBarHide ? \" hide \" : \"\") +\n        \" \" + this.props.className}\n      style={this.props.style}>\n        <div className={Style.bar_menu}>\n          {showCustomToolbarMenu ?\n            <div className={Style.menu_container}>\n              <ToolbarMenu {...this.props.menuProps} toolbar={this}/>\n            </div> :\n            <div className={Style.menu_button_container}>\n              {this.renderMenuButtons(this.props.children)}\n            </div>}\n        </div>\n        <div ref={ref=>this.toolbarElement=ref} className={Style.bar_toolbar}>\n          <ToolbarTitle className={Style.toolbar_title}/>\n\n          <div className={Style.toolbar_button_container}>\n            {this.renderToolbarButtons(this.props.children)}\n          </div>\n\n          {showBarExpander &&\n          <IconButton className={Style.toolbar_expander} onClick={this.onBarExpand}>\n            <MenuIcon/>\n          </IconButton>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ToolbarView;\n","import React from 'react';\nimport Style from './WorkspaceView.css';\n\nconst DEFAULT_WORKSPACE_SIZE = 300;\n\nclass WorkspaceView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const viewSize = DEFAULT_WORKSPACE_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfViewSize = viewSize / 2;\n    return (\n      <svg ref={ref=>this.ref=ref} id={this.props.id}\n        className={\"workspace-container\" +\n          \" \" + this.props.className}\n        style={this.props.style}\n        viewBox={(-halfViewSize) +\n          \" \" + (-halfViewSize) +\n          \" \" + viewSize +\n          \" \" + viewSize}\n        xmlns=\"http://www.w3.org/2000/svg\">\n        <g className=\"workspace-content\" transform={\"translate(\" + offsetX + \" \" + offsetY + \")\"}>\n          {this.props.children}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default WorkspaceView;\n","import React from 'react';\nimport Style from './ViewportView.css';\n\nconst VIEWPORT_DEFAULT_VIEW_INDEX = 0;\n\nclass ViewportView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      viewIndex: VIEWPORT_DEFAULT_VIEW_INDEX\n    };\n  }\n\n  setCurrentView(viewIndex)\n  {\n    if (!this.props.views) return;\n    if (viewIndex >= this.props.views.length) viewIndex = VIEWPORT_DEFAULT_VIEW_INDEX;\n\n    //Open and set tab index\n    this.setState({viewIndex: viewIndex});\n  }\n\n  getCurrentViewIndex()\n  {\n    return this.state.viewIndex;\n  }\n\n  isCurrentView(viewIndex)\n  {\n    return this.state.viewIndex === viewIndex;\n  }\n\n  //Override\n  render()\n  {\n    const viewportViews = this.props.views;\n    const viewportViewIndex = this.state.viewIndex;\n    const ViewportViewPane = viewportViewIndex >= 0 ? viewportViews[viewportViewIndex] : null;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n        id={this.props.id}\n        className={Style.view_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {ViewportViewPane &&\n          <ViewportViewPane {...this.props.viewProps} viewport={this}/>}\n      </div>\n    );\n  }\n}\n\nexport default ViewportView;\n","import React from 'react';\nimport Style from './TooltipView.css';\n\nconst TOOLTIP_WAIT_TIME = 30000;\n\nexport const RANDOM_MODE = \"random\";\nexport const SEQUENTIAL_MODE = \"sequential\";\nexport const ONESHOT_MODE = \"oneshot\";\n\nclass TooltipView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._tooltipTimeout = null;\n\n    this.state = {\n      index: props.initial || 0\n    };\n  }\n\n  setTooltipIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getTooltipIndex()\n  {\n    return this.state.index;\n  }\n\n  updateTooltip()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    this._tooltipTimeout = null;\n\n    if (visible)\n    {\n      const count = React.Children.count(this.props.children);\n      let nextIndex = this.state.index + 1;\n      if (mode === RANDOM_MODE)\n      {\n        nextIndex = Math.floor(Math.random() * count);\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        if (nextIndex >= count) nextIndex = count - 1;\n      }\n      else\n      {\n        if (nextIndex >= count) nextIndex = 0;\n      }\n      this.setTooltipIndex(nextIndex);\n    }\n    else\n    {\n      if (mode === RANDOM_MODE)\n      {\n        //Pick a random index to start at.\n        this.setTooltipIndex(Math.floor(Math.random() * React.Children.count(this.props.children)));\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        //Skip to the end.\n        this.setTooltipIndex(React.Children.count(this.props.children) - 1);\n      }\n      else\n      {\n        //Go back to the beginning.\n        this.setTooltipIndex(0);\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    const tooltipIndex = this.state.index;\n\n    if (visible && !this._tooltipTimeout)\n    {\n      this._tooltipTimeout = setTimeout(() => {\n        this.updateTooltip();\n      }, TOOLTIP_WAIT_TIME);\n    }\n\n    return (\n      <div id={this.props.id}\n        className={Style.tooltip_container +\n          (visible ? \" visible \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <label style={{opacity: tooltipIndex === i ? 1 : 0}}>\n              {child}\n            </label>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TooltipView;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './UploadDropZone.css';\n\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\n\nclass UploadDropZone extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this._waiting = false;\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Upload drop zone\n    this.ref.addEventListener(\"drop\", this.onFileDrop);\n    this.ref.addEventListener(\"dragover\", this.onDragEnter);\n    this.ref.addEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.addEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.addEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.ref.removeEventListener(\"drop\", this.onFileDrop);\n    this.ref.removeEventListener(\"dragover\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.removeEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  onDragEnter(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Change state\n    this._waiting = true;\n  }\n\n  onDragLeave(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n  }\n\n  onFileDrop(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n\n    const dataTransfer = e.dataTransfer;\n    let fileBlob = null;\n    if (dataTransfer.items)\n    {\n      const dataItems = dataTransfer.items;\n      const length = dataItems.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = dataItems[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const dataFiles = dataTransfer.files;\n      const length = dataFiles.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = dataFiles[0];\n      }\n    }\n\n    if (this.props.onFileDrop)\n    {\n      //NOTE: fileBlob could be null\n      this.props.onFileDrop(fileBlob);\n    }\n\n    if (dataTransfer.items)\n    {\n      dataTransfer.items.clear();\n    }\n    else\n    {\n      dataTransfer.clearData();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isWaitingForFile = this._waiting;\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.upload_container +\n          (isWaitingForFile ? \" waiting \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <UploadIcon className={Style.upload_icon}/>\n        {React.Children.only(this.props.children)}\n      </div>\n    );\n  }\n}\n\nexport default UploadDropZone;\n","import React from 'react';\nimport Style from './ExportPanel.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass ExportPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n    const IconClass = exporter.getIconClass();\n    return (\n      <IconButton key={exporter.getFileType()}\n        className={Style.panel_button}\n        title={exporter.getLabel()}\n        onClick={() => {\n          const currentModule = this.props.currentModule;\n          const machineController = currentModule.getMachineController();\n          const filename = machineController.getMachineName();\n          exporter.exportToFile(filename, currentModule);\n        }}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphExporters = module.getGraphExporters();\n    const imageExporters = module.getImageExporters();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {graphExporters.map(e => this.renderExporterButton(e))}\n          {imageExporters.map(e => this.renderExporterButton(e))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExportPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 10l5 5 5-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14l5-5 5 5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './PanelSection.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport TinyDownIcon from 'experimental/iconset/TinyDownIcon.js';\nimport TinyUpIcon from 'experimental/iconset/TinyUpIcon.js';\n\nclass PanelSection extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: props.initial || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    })\n  }\n\n  //Override\n  render()\n  {\n    const isOpen = this.state.open;\n    const isDisabled = this.props.disabled || React.Children.count(this.props.children) <= 0;\n    const isFull = this.props.full;\n    const title = this.props.title;\n    return (\n      <section id={this.props.id}\n        className={Style.section_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.section_header}\n          title={title}\n          disabled={isDisabled}\n          onClick={this.onClick}>\n          {!isOpen ? <TinyDownIcon/> : <TinyUpIcon/>}\n        </IconButton>\n        <div className={Style.section_content_container +\n          (isOpen ? \" open \" : \"\") +\n          (isFull ? \" full \" : \"\")}>\n          <div className={Style.section_content}>\n            {this.props.children}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PanelSection;\n","import React from 'react';\nimport Style from './OptionPanel.css';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nclass OptionPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.options.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n\n          <PanelSection title={\"Customize stuff\"}>\n            <p>If only there was cool stuff here...</p>\n          </PanelSection>\n\n          <PanelSection title={\"What?\"}>\n          </PanelSection>\n\n          <button onClick={() => {\n            if (window.confirm(\"This will clear any cached or saved data. Are you sure you want to continue?\"))\n            {\n              try { LocalSave.terminate(); }\n              catch(e){/* Ignore if it fails. */}\n              LocalSave.clearStorage();\n\n              window.alert(\"It's done! Restart to apply changes!\");\n            }\n          }}>\n            {\"Get out of Experimental Mode\"}\n          </button>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OptionPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ModeSelectTray.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport EditPencilIcon from 'experimental/iconset/EditPencilIcon.js';\nimport MoveIcon from 'experimental/iconset/MoveIcon.js';\n\nclass ModeSelectTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(newValue)\n  {\n    if (this.props.onChange)\n    {\n      this.props.onChange(newValue);\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode || 0;\n    const onChange = this.props.onChange;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tray_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.tray_button +\n          (mode === 0 ? \" active \" : \"\")}\n          onClick={() => this.onChange(0)}\n          title={I18N.toString(\"cursor.actionmode\")}>\n          <EditPencilIcon/>\n        </IconButton>\n        <IconButton className={Style.tray_button +\n          (mode === 1 ? \" active \" : \"\")}\n          onClick={() => this.onChange(1)}\n          title={I18N.toString(\"cursor.movemode\")}>\n          <MoveIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\nexport default ModeSelectTray;\n","export function userClearGraph(app, graphOnly=false, callback=null)\n{\n  if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n  {\n    const module = app.getCurrentModule();\n    module.getGraphController().getGraph().clear();\n    if (!graphOnly)\n    {\n      app.getUndoManager().clear();\n      module.getMachineController().setMachineName(null);\n    }\n    if (callback) callback();\n  }\n}\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 26 26\">\n        <path d=\"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z \"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TrashCanWidget.css';\n\nimport { userClearGraph } from 'experimental/UserUtil.js';\n\nimport TrashCanDetailedIcon from 'experimental/iconset/TrashCanDetailedIcon.js';\n\nconst DOUBLE_TAP_TIME = 250;\n\nclass TrashCanWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      forceActive: false\n    };\n\n    this._doubleTapTimeout = null;\n\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onClick = this.onClick.bind(this);\n\n    //HACK: This is kinda a hack to lose trash mode focus...\n    this.onAnyMouseDownNotConsumed = this.onAnyMouseDownNotConsumed.bind(this);\n  }\n\n  onMouseEnter(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(true);\n  }\n\n  onMouseLeave(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(false);\n  }\n\n  onClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._doubleTapTimeout)\n    {\n      //This is a double tap!\n      clearTimeout(this._doubleTapTimeout);\n      this._doubleTapTimeout = null;\n      this.setState({forceActive: false});\n\n      userClearGraph(this.props.app, true);\n      this.props.inputController.setTrashMode(false);\n    }\n    else\n    {\n      //This is a single tap!\n      this.setState((prev, props) => {\n        const result = !prev.forceActive;\n        props.inputController.setTrashMode(result);\n        this._doubleTapTimeout = setTimeout(() => {\n          this._doubleTapTimeout = null;\n        }, DOUBLE_TAP_TIME);\n\n        if (result)\n        {\n          document.documentElement.addEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n        }\n\n        return {\n          forceActive: result\n        };\n      });\n    }\n  }\n\n  onAnyMouseDownNotConsumed(e)\n  {\n    if (this.state.forceActive && this.ref !== e.target)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      document.documentElement.removeEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n\n      this.props.inputController.setTrashMode(false);\n      this.setState({forceActive: false});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    const active = inputController.isTrashMode();\n    const hide = !active && (graphController.getGraph().isEmpty() || (inputAdapter.isUsingTouch() && inputAdapter.isDragging()));\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.trash_container +\n          (active ? \" active \" : \"\") +\n          (hide ? \" hide \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onClick={this.onClick}>\n        <TrashCanDetailedIcon/>\n      </div>\n    );\n  }\n}\n\nexport default TrashCanWidget;\n","import React from 'react';\nimport IconButton from './IconButton.js';\n\nclass IconStateButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: props.initial || 0\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const prevIndex = this.state.index;\n    this.setState((prev, props) => {\n      const count = React.Children.count(props.children);\n      let nextIndex = prev.index + 1;\n      if (nextIndex >= count)\n      {\n        nextIndex = 0;\n      }\n      return {index: nextIndex};\n    }, () => {\n      if (this.props.onClick)\n      {\n        this.props.onClick(e, prevIndex);\n      }\n    });\n  }\n\n  setStateIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getStateIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    const child = React.Children.map(this.props.children, (child, i) => {\n      if (i === this.state.index) return child;\n    })[0];\n\n    return (\n      <IconButton id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.onClick}>\n        {child}\n      </IconButton>\n    );\n  }\n}\nexport default IconStateButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FullscreenWidget.css';\n\nimport IconStateButton from 'experimental/components/IconStateButton.js';\nimport FullscreenIcon from 'experimental/iconset/FullscreenIcon.js';\nimport FullscreenExitIcon from 'experimental/iconset/FullscreenExitIcon.js';\n\nclass FullscreenWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n\n    return (\n      <IconStateButton id={this.props.id}\n        className={Style.fullscreen_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Fullscreen Mode\"}\n        onClick={(e, i) => app.setState({hide: (i === 0)})}>\n        <FullscreenIcon/>\n        <FullscreenExitIcon/>\n      </IconStateButton>\n    );\n  }\n}\n\nexport default FullscreenWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ZoomWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ZoomInIcon from 'experimental/iconset/ZoomInIcon.js';\nimport ZoomOutIcon from 'experimental/iconset/ZoomOutIcon.js';\n\nclass ZoomWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onZoomIn = this.onZoomIn.bind(this);\n    this.onZoomOut = this.onZoomOut.bind(this);\n  }\n\n  onZoomIn(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = -viewport.getScale() * 0.4;\n    viewport.addScale(viewScale);\n  }\n\n  onZoomOut(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = viewport.getScale() * 0.75;\n    viewport.addScale(viewScale);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const viewScale = \"x\" + (1 / (viewport.getScale() || 1)).toFixed(2);\n\n    return (\n      <div id={this.props.id}\n        className={Style.zoom_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.zoom_button} title=\"Zoom In\" onClick={this.onZoomIn}>\n          <ZoomInIcon/>\n        </IconButton>\n        <IconButton className={Style.zoom_button} title=\"Zoom Out\" onClick={this.onZoomOut}>\n          <ZoomOutIcon/>\n        </IconButton>\n        <label className={Style.zoom_label}>{viewScale}</label>\n      </div>\n    );\n  }\n}\n\nexport default ZoomWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FocusCenterWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport PinpointIcon from 'experimental/iconset/PinpointIcon.js';\n\nconst OFFSET_EPSILON = 0.1;\n\nclass FocusCenterWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const viewport = this.props.viewport;\n    viewport.setOffset(0, 0);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.center_focus_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Center Workspace\"}\n        disabled={Math.abs(viewport.getOffsetX()) < OFFSET_EPSILON &&\n          Math.abs(viewport.getOffsetY()) < OFFSET_EPSILON} onClick={this.onClick}>\n        <PinpointIcon/>\n      </IconButton>\n    );\n  }\n}\n\nexport default FocusCenterWidget;\n","import React from 'react';\nimport Style from './NavbarWidget.css';\n\nimport FullscreenWidget from 'experimental/widgets/FullscreenWidget.js';\nimport ZoomWidget from 'experimental/widgets/ZoomWidget.js';\nimport FocusCenterWidget from 'experimental/widgets/FocusCenterWidget.js';\n\nclass NavbarWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const viewport = app.getInputAdapter().getViewport();\n\n    return (\n      <div id={this.props.id}\n        className={Style.navbar_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <FullscreenWidget className={Style.navbar_widget} app={app}/>\n        <ZoomWidget className={Style.navbar_widget_container} viewport={viewport}/>\n        <FocusCenterWidget className={Style.navbar_widget} viewport={viewport}/>\n      </div>\n    );\n  }\n}\n\nexport default NavbarWidget;\n","import React from 'react';\nimport Style from './viewport/ViewportView.css';\n\nimport ModeSelectTray from './widgets/ModeSelectTray.js';\nimport TrashCanWidget from './widgets/TrashCanWidget.js';\nimport NavbarWidget from './widgets/NavbarWidget.js';\n\nclass EditPane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const viewport = this.props.viewport;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const inputActionMode = inputController.isActionMode();\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        { LabelEditor &&\n          <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n          inputController={inputController}\n          graphController={graphController}\n          machineController={machineController}\n          screen={app._workspace ? app._workspace.ref : null}/> }\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0, left: 0}}>\n          <ModeSelectTray mode={inputActionMode ? 0 : 1} onChange={modeIndex => inputController.setInputScheme(modeIndex === 0)}/>\n        </div>\n        <div className={Style.view_widget} style={{bottom: 0, right: 0}}>\n          <TrashCanWidget app={app} inputController={inputController} graphController={graphController}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditPane;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TapeWidget.css';\n\nimport DownArrowIcon from 'experimental/iconset/DownArrowIcon.js';\n\nconst TAPE_INFINITE_LEFT = true;\nconst TAPE_INFINITE_RIGHT = true;\n\nclass TapeWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onTapeStepBackward = this.onTapeStepBackward.bind(this);\n    this.onTapeStepForward = this.onTapeStepForward.bind(this);\n    this.onTapeFinish = this.onTapeFinish.bind(this);\n    this.onTapeReset = this.onTapeReset.bind(this);\n    this.onTapeSkipForward = this.onTapeSkipForward.bind(this);\n    this.onTapeSkipBackward = this.onTapeSkipBackward.bind(this);\n    this.onTapeStop = this.onTapeStop.bind(this);\n  }\n\n  onTapeStepBackward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepBackward();\n  }\n\n  onTapeStepForward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepForward();\n  }\n\n  onTapeSkipForward(e)\n  {\n  }\n\n  onTapeSkipBackward(e)\n  {\n  }\n\n  onTapeReset(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.reset();\n  }\n\n  onTapeFinish(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.finish();\n  }\n\n  onTapeStop(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stop();\n  }\n\n  //Override\n  render()\n  {\n    const showTransitionStates = true;\n    const tapeContext = this.props.value;\n    const tapeIndex = tapeContext ? tapeContext.getCurrentTapeIndex() : -1;\n\n    if (!tapeContext) return null;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tape_container +\n        \" \" + this.props.className}\n        style={this.props.style}>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeStepBackward}>BACK</button>\n          <button onClick={this.onTapeStepForward}>STEP</button>\n          <button onClick={this.onTapeReset}>RESET</button>\n          <button onClick={this.onTapeFinish}>TO END</button>\n        </div>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeSkipForward}>SKIP TO NEXT</button>\n          <button onClick={this.onTapeSkipBackward}>SKIP TO PREV</button>\n          <button onClick={this.onTapeStop}>STOP</button>\n        </div>\n\n        <div className={\"tape-row\"}>\n\n          {TAPE_INFINITE_LEFT && tapeContext.isTapeLeftInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n\n          <DownArrowIcon\n            className=\"tape-pointer\"\n            style={{left: tapeIndex + \"em\"}}/>\n\n          {tapeContext.getTapeInput().map((e, i) => {\n            let active = false;\n            let activeRead = false;\n            active = tapeIndex === i;\n            activeRead = tapeIndex === i - 1;\n            /*\n            const currentIndex = Math.floor(tapeIndex / 2);\n            if (currentIndex === i)\n            {\n              //It's the current index...\n              active = tapeIndex % 2 === 1;\n              activeRead = tapeIndex % 2 === 0;\n            }\n            else if (currentIndex === i + 1)\n            {\n              //It's the previous index...\n              active = tapeIndex % 2 === 0;\n            }\n            */\n\n            const sourceStates = tapeContext.getTapeSourceStatesByIndex(i);\n            const disabled = sourceStates === null;\n            return (\n              <div key={e + \":\" + i} className={\"tape-row-entry\" +\n                (active ? \" active \" : \"\") +\n                (activeRead ? \" active-read \" : \"\") +\n                (disabled ? \" disabled \" : \"\")}\n                onClick={(e) => (!disabled ? tapeContext.setCurrentTapeIndex(i) : null)}>\n                {showTransitionStates &&\n                  sourceStates &&\n                  <span className=\"tape-row-states\">\n                    {sourceStates.map(sourceState => {\n                      return (\n                        <label key={sourceState.getGraphElementID()}>\n                          {sourceState.getNodeLabel()}\n                        </label>\n                      );\n                    })}\n                  </span>}\n                <label className=\"tape-row-symbol\">\n                  {e}\n                </label>\n              </div>\n            );\n          })}\n\n          {TAPE_INFINITE_RIGHT && tapeContext.isTapeRightInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapeWidget;\n","import React from 'react';\nimport Style from 'experimental/viewport/ViewportView.css';\n\nimport TapeWidget from 'experimental/widgets/TapeWidget.js';\nimport NavbarWidget from 'experimental/widgets/NavbarWidget.js';\n\nclass TapePane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n\n    inputController.setDisabled(true);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n\n    inputController.setDisabled(false);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const viewport = this.props.viewport;\n    const tester = currentModule._tester;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0}}>\n          <TapeWidget value={tester ? tester.getTapeContext() : null}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapePane;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './StateListElement.css';\n\nconst SUBMIT_KEY_CODE = \"Enter\";\nconst CANCEL_KEY_CODE = \"Escape\";\n\nclass StateListElement extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    const node = this.props.node;\n\n    const nodeLabel = node ? node.getNodeLabel() : null;\n    this.setState({\n      value: nodeLabel,\n      error: false\n    }, () => target.select());\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e, this);\n  }\n\n  onBlur(e)\n  {\n    const nextLabel = this.state.value;\n\n    //Reset to nothing (will use node.getNodeLabel() instead)\n    this.setState({ value: null, error: false });\n\n    //Call any listening blurs\n    if (this.props.onBlur) this.props.onBlur(e, this, nextLabel);\n  }\n\n  onKeyDown(e)\n  {\n    const keyCode = e.key;\n    if (keyCode === SUBMIT_KEY_CODE || keyCode === CANCEL_KEY_CODE)\n    {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    const keyCode = e.key;\n    const target = e.target;\n\n    if (keyCode === SUBMIT_KEY_CODE)\n    {\n      target.blur();\n    }\n    else if (keyCode === CANCEL_KEY_CODE)\n    {\n      this.setState({\n        value: null,\n        error: false\n      }, () => target.blur());\n    }\n  }\n\n  onValueChange(e)\n  {\n    let value = e.target.value.trim();\n    let error = false;\n\n    if (this.props.onChange)\n    {\n      try\n      {\n        this.props.onChange(e, this, value);\n      }\n      catch(e)\n      {\n        error = true;\n      }\n    }\n\n    this.setState({\n      value: value,\n      error: error\n    });\n  }\n\n  //Override\n  render()\n  {\n    const node = this.props.node;\n    const inputValue = this.state.value;\n\n    const nodeLabel = node ? node.getNodeLabel() : \"\";\n    const nodeCustom = node ? (node.getNodeCustom() || inputValue !== null && inputValue !== nodeLabel) : false;\n    const nodeAccept = node ? node.getNodeAccept() : false;\n    //Must check for null, not ONLY truthy because value might be empty string.\n    const displayValue = inputValue === null ? nodeLabel : inputValue;\n\n    return (\n      <div id={this.props.id}\n        className={Style.element_container +\n          (nodeCustom ? \" custom \" : \"\") +\n          ((!node.getNodeCustom() && displayValue.length <= 0) ? \" empty \" : \"\") +\n          (inputValue !== null && this.state.error ? \" error \" : \"\") +\n          (nodeAccept ? \" accept \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input\n          spellCheck={false}\n          style={{width: displayValue.length + \"ch\"}}\n          value={displayValue}\n          onChange={this.onValueChange}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onKeyDown={this.onKeyDown}\n          onKeyUp={this.onKeyUp}/>\n      </div>\n    );\n  }\n}\n\nexport default StateListElement;\n","import React from 'react';\nimport Style from './StateListView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport BoxAddIcon from 'experimental/iconset/BoxAddIcon.js';\nimport TriangleIcon from 'experimental/iconset/TriangleIcon.js';\n\nimport StateListElement from './StateListElement.js';\n\nclass StateListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._prevX = 0;\n    this._prevY = 0;\n\n    this.onElementAdd = this.onElementAdd.bind(this);\n    this.onElementFocus = this.onElementFocus.bind(this);\n    this.onElementBlur = this.onElementBlur.bind(this);\n    this.onElementChange = this.onElementChange.bind(this);\n  }\n\n  onElementAdd(e)\n  {\n    const graphController = this.props.graphController;\n    this._prevX += 16;\n    this._prevY += 16;\n    const node = graphController.createNode(this._prevX, this._prevY);\n    graphController.focusOnNode(node);\n  }\n\n  onElementFocus(e, element)\n  {\n    this._prevX = element.props.node.x;\n    this._prevY = element.props.node.y;\n    const graphController = this.props.graphController;\n    graphController.focusOnNode(element.props.node);\n  }\n\n  onElementBlur(e, element, nextLabel)\n  {\n    const node = element.props.node;\n    if (!node) return;\n\n    const graphController = this.props.graphController;\n\n    //The value is already processed, abort\n    if (nextLabel !== null)\n    {\n      const graph = graphController.getGraph();\n      if (nextLabel.length > 0)\n      {\n        const otherNodes = graph.getNodesByLabel(nextLabel);\n        if (otherNodes.length <= 0)\n        {\n          //None other have the same name. Rename it!\n          graphController.renameNode(node, nextLabel);\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else if (node.getNodeCustom())\n      {\n        //Remove custom naming instead of deleting.\n        node.setNodeCustom(false);\n        graphController.applyAutoRename();\n      }\n      else\n      {\n        //Delete!\n        graphController.deleteTargetNode(node);\n      }\n    }\n  }\n\n  onElementChange(e, element, value)\n  {\n    const graphController = this.props.graphController;\n\n    if (value.length > 0)\n    {\n      const graph = graphController.getGraph();\n      const otherNodes = graph.getNodesByLabel(value);\n\n      //If there are more than 1 nodes by the same name,\n      //OR if the duplicate node found is NOT the same node\n      if (otherNodes.length > 1 || (otherNodes.length === 1 && otherNodes[0] !== element.props.node))\n      {\n        throw new Error(\"Not a valid node label\");\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const graphController = this.props.graphController;\n    const graph = graphController.getGraph();\n    const nodes = graph.getNodes();\n\n    return (\n      <div id={this.props.id}\n        className={Style.list_container}\n        style={this.props.style}>\n        <div className={Style.element_list}>\n          <TriangleIcon className={Style.first_marker}/>\n          {nodes.map(e => <StateListElement key={e.getGraphElementID()}\n              node={e}\n              onFocus={this.onElementFocus}\n              onBlur={this.onElementBlur}\n              onChange={this.onElementChange}/>)}\n        </div>\n        <IconButton className={Style.add_button}\n          title=\"Add State\"\n          onClick={this.onElementAdd}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\n\nexport default StateListView;\n","import React from 'react';\nimport Style from './AlphabetListElement.css';\n\nconst SUBMIT_KEY_CODE = \"Enter\";\nconst CANCEL_KEY_CODE = \"Escape\";\n\nclass AlphabetListElement extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._inputElement = null;\n\n    this.state = {\n      value: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    const symbol = this.props.symbol;\n\n    this.setState({\n      value: symbol,\n      error: false\n    }, () => target.select());\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e, this);\n  }\n\n  onBlur(e)\n  {\n    const nextSymbol = this.state.value;\n\n    //Call any listening blurs\n    if (this.props.onBlur) this.props.onBlur(e, this, nextSymbol);\n\n    //Reset to nothing (will use props.symbol instead)\n    this.setState({ value: null, error: false });\n  }\n\n  onKeyDown(e)\n  {\n    const keyCode = e.key;\n    if (keyCode === SUBMIT_KEY_CODE || keyCode === CANCEL_KEY_CODE)\n    {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    const keyCode = e.key;\n    const target = e.target;\n\n    if (keyCode === SUBMIT_KEY_CODE)\n    {\n      target.blur();\n    }\n    else if (keyCode === CANCEL_KEY_CODE)\n    {\n      this.setState({\n        value: null,\n        error: false\n      }, () => target.blur());\n    }\n  }\n\n  onValueChange(e)\n  {\n    let value = e.target.value.trim();\n    let error = false;\n\n    if (this.props.onChange)\n    {\n      try\n      {\n        this.props.onChange(e, this, value);\n      }\n      catch(e)\n      {\n        error = true;\n      }\n    }\n\n    this.setState({\n      value: value,\n      error: error\n    });\n  }\n\n  focus()\n  {\n    this._inputElement.focus();\n  }\n\n  //Override\n  render()\n  {\n    const inputSymbol = this.state.value;\n    const displaySymbol = inputSymbol === null ? this.props.symbol : inputSymbol;\n\n    const symbolUsed = this.props.used || false;\n\n    return (\n      <div id={this.props.id}\n        className={Style.element_container +\n          (displaySymbol !== null && displaySymbol.length <= 0 ? \" empty \" : \"\") +\n          (inputSymbol !== null && this.state.error ? \" error \" : \"\") +\n          (symbolUsed ? \" used \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input ref={ref=>this._inputElement=ref}\n          spellCheck={false}\n          maxLength={1}\n          style={{width: \"1ch\"}}\n          value={displaySymbol}\n          onChange={this.onValueChange}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onKeyDown={this.onKeyDown}\n          onKeyUp={this.onKeyUp}/>\n      </div>\n    );\n  }\n}\n\nexport default AlphabetListElement;\n","import React from 'react';\nimport Style from './AlphabetListView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport BoxAddIcon from 'experimental/iconset/BoxAddIcon.js';\n\nimport AlphabetListElement from './AlphabetListElement.js';\n\nclass AlphabetListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.newSymbolComponent = null;\n\n    this.state = {\n      useNewSymbol: false\n    };\n\n    this.onElementAdd = this.onElementAdd.bind(this);\n    this.onElementFocus = this.onElementFocus.bind(this);\n    this.onElementBlur = this.onElementBlur.bind(this);\n    this.onElementChange = this.onElementChange.bind(this);\n  }\n\n  onElementAdd(e)\n  {\n    //Create a new alphabet element...\n    this.setState({useNewSymbol: true}, () => {\n      this.newSymbolComponent.focus();\n    });\n  }\n\n  onElementFocus(e, element)\n  {\n    //Do nothing...\n  }\n\n  onElementBlur(e, element, nextSymbol)\n  {\n    const symbol = element.props.symbol;\n    const machineController = this.props.machineController;\n\n    if (nextSymbol !== null)\n    {\n      const machine = machineController.getMachineBuilder().getMachine();\n      if (nextSymbol.length > 0)\n      {\n        if (!machine.isSymbol(nextSymbol))\n        {\n          if (symbol)\n          {\n            //None other have the same name. Rename it!\n            machineController.renameSymbol(symbol, nextSymbol);\n          }\n          else\n          {\n            //None other have the same name. Create it!\n            machineController.createSymbol(nextSymbol);\n          }\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else if (symbol)\n      {\n        //Delete!\n        machineController.deleteSymbol(symbol);\n      }\n    }\n\n    //Regardless, just close the \"new\" alphabet element if open.\n    if (this.state.useNewSymbol)\n    {\n      this.setState({ useNewSymbol: false });\n    }\n  }\n\n  onElementChange(e, element, symbol)\n  {\n    const machineController = this.props.machineController;\n\n    if (symbol.length > 0)\n    {\n      //If there are more than 1 symbols by the same name,\n      //OR if the duplicate symbol found is NOT the same symbol\n      const machine = machineController.getMachineBuilder().getMachine();\n      if (machine.isSymbol(symbol) && symbol !== element.props.symbol)\n      {\n        throw new Error(\"Not a valid symbol\");\n      }\n    }\n  }\n\n  renderAlphabetList(machine, alphabet)\n  {\n    const result = [];\n    for(const symbol of alphabet)\n    {\n      if (!symbol) continue;\n\n      result.push(<AlphabetListElement key={symbol}\n        symbol={symbol}\n        used={machine.isUsedSymbol(symbol)}\n        onFocus={this.onElementFocus}\n        onBlur={this.onElementBlur}\n        onChange={this.onElementChange}/>);\n    }\n    return result;\n  }\n\n  //Override\n  render()\n  {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const alphabet = machine.getAlphabet();\n\n    return (\n      <div id={this.props.id}\n        className={Style.list_container}\n        style={this.props.style}>\n        <div className={Style.element_list}>\n          {this.renderAlphabetList(machine, alphabet)}\n          <AlphabetListElement\n            ref={ref=>this.newSymbolComponent=ref}\n            style={{display: this.state.useNewSymbol ? \"block\" : \"none\"}}\n            symbol={\"\"}\n            onFocus={this.onElementFocus}\n            onBlur={this.onElementBlur}\n            onChange={this.onElementChange}/>\n        </div>\n        <IconButton className={Style.add_button}\n          title=\"Add Symbol\"\n          onClick={this.onElementAdd}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\n\nexport default AlphabetListView;\n","import React from 'react';\nimport './TransitionTable.css';\n\nimport NFA from 'machine/NFA.js';\nimport { EMPTY } from 'machine/Symbols.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nconst SYMBOL_AXIS = \"symbols\";\nconst STATE_AXIS = \"states\";\n\nclass TransitionTable extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      rowAxis: SYMBOL_AXIS\n    }\n  }\n\n  render()\n  {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const states = machineController.getStates();\n    const alphabet = machineController.getAlphabet();\n    const transitions = machineController.getTransitions();\n    const rowAxisType = this.state.rowAxis;\n    const isNFAMachine = machineController.getMachineType() == \"NFA\";\n    const hasEmptyColumn = rowAxisType === SYMBOL_AXIS && isNFAMachine;\n\n    return (\n      <div className=\"transitiontable-container\">\n        <table className=\"transitiontable\">\n          <tbody>\n            <tr>\n              <th className=\"emptycell\">\n                <button onClick={()=>\n                  this.setState((prev, props)=>{\n                    return {\n                      rowAxis: prev.rowAxis == SYMBOL_AXIS ? STATE_AXIS : SYMBOL_AXIS\n                    };\n                  })}>\n                  {this.state.rowAxis == SYMBOL_AXIS ? \"Q/\\u03A3\" : \"Q/Q\"}\n                </button>\n              </th>\n              {\n                rowAxisType === SYMBOL_AXIS ?\n                  alphabet.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                rowAxisType === STATE_AXIS ?\n                  states.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                null\n              }\n              {\n                hasEmptyColumn &&\n                  <th scope=\"col\">{EMPTY}</th>\n              }\n            </tr>\n            {\n              states.map((e, i)=><tr key={e}>\n                <th scope=\"row\" className=\"row\">{e}</th>\n                {\n                  rowAxisType === SYMBOL_AXIS ?\n                    alphabet.map((symbol, i) => {\n                      let className = \"\";//TODO: machine.isFinalState(e) ? \"accept\" : \"\";\n                      const result = getDestinationFromSourceAndSymbol(machine, e, symbol, isNFAMachine);\n                      if (!isNFAMachine && (result.startsWith(\"{\") || result == \"-\"))\n                      {\n                        className += \" error\";\n                      }\n                      return <td key={e + \",\" + symbol} className={className}>\n                        {result}\n                      </td>;\n                    }) :\n                  rowAxisType === STATE_AXIS ?\n                    states.map((dst, i) => {\n                      const result = getSymbolFromSourceAndDestination(machine, e, dst);\n                      return <td key={e + \",\" + dst}>\n                        {result}\n                      </td>;\n                    }) :\n                  null\n                }\n                {\n                  hasEmptyColumn &&\n                    <td>{getDestinationFromSourceAndSymbol(machine, e, EMPTY)}</td>\n                }\n              </tr>)\n            }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nfunction getDestinationFromSourceAndSymbol(machine, src, symbol, isSet=true)\n{\n  const result = machine.doTransition(src, symbol);\n\n  //Assumes that the machine is always an NFA, therefore the result is an array\n  if (Array.isArray(result))\n  {\n    return !isSet && result.length == 1 ?\n      result[0] :\n      result.length > 0 ?\n      \"{\" + result.join(\", \") + \"}\" : \"-\";\n  }\n  else\n  {\n    return result || \"-\";\n  }\n}\n\nfunction getSymbolFromSourceAndDestination(machine, src, dst)\n{\n  const result = [];\n  const transitions = machine.getTransitions();\n  for(const transition of transitions)\n  {\n    if (transition[SRC] == src && transition[DST] == dst)\n    {\n      result.push(transition[SYMBOL]);\n    }\n  }\n\n  if (result.length === 1)\n  {\n    return result[0];\n  }\n  else if (result.length > 0)\n  {\n    return \"{\" + result.join(\", \") + \"}\";\n  }\n  else\n  {\n    return \"-\";\n  }\n}\n\nexport default TransitionTable;\n","import React from 'react';\nimport './TransitionFunction.css';\n\nimport { EMPTY } from 'machine/Symbols.js';\n\nclass TransitionFunction extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const states = machineController.getStates();\n    const alphabet = machineController.getAlphabet().sort();\n    let isNFA = machineController.getMachineType() == \"NFA\";\n    return(\n      <div className=\"transitionfunction-container\">\n        <table className=\"transitionfunction-table\">\n          <tbody>\n            <tr>\n              <th>Q{\"\\u00d7\"}&Sigma;</th>\n              <th>{isNFA ? \"\\u2118(Q)\" : \"Q\"}</th>\n            </tr>\n            {\n              states.map((state, i) => {\n                let emptrans = machine.doTransition(state, EMPTY);\n                let empclassName = \"\";\n\n                let transitions = alphabet.map((symbol, j) => {\n                  let className = \"\";\n                  let trans = machine.doTransition(state, symbol);\n                  if(isNFA && !trans.length) return;\n                  if(!isNFA && !trans.length) {\n                    className = \"error\";\n                    trans = \"-\";\n                  }\n                  if(!isNFA && trans.length > 1) {\n                    className = \"error\";\n                    trans = \"{\" + trans + \"}\"\n                  }\n                  trans = isNFA ? \"{\" + trans + \"}\" : \"\" + trans;\n                  return <tr key={\"\"+state+symbol}>\n                      <td className=\"transitionfunction-key\">{\"(\" + state + \",\" + symbol + \")\"}</td>\n                      <td className={\"transitionfunction-value \" + className}>{trans}</td>\n                    </tr>\n                });\n\n                if(emptrans.length > 0) {\n                  if(!isNFA) {\n                    empclassName = \"error\";\n                  }\n                  const addBrac = isNFA || emptrans.length > 1;\n                  emptrans = addBrac ? \"{\" + emptrans + \"}\" : \"\" + emptrans;\n                  transitions.unshift(\n                      <tr key={\"\"+state+EMPTY}>\n                        <td className={\"transitionfunction-key \" + empclassName}>{\"(\" + state + \",\" + EMPTY + \")\"}</td>\n                        <td className=\"transitionfunction-value\">{emptrans}</td>\n                      </tr>\n                  );\n                }\n                return transitions;\n              })\n            }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default TransitionFunction;\n","import React from 'react';\nimport Style from './OverviewPanel.css';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nimport StateListView from './states/StateListView.js';\nimport AlphabetListView from './alphabet/AlphabetListView.js';\n//import TransitionChartView from './transitions/TransitionChartView.js';\n//import TransitionTableView from './transitions/TransitionTableView.js';\n//HACK: this is only to support the old FSABuilder (remove this once finished)\nimport TransitionTable from './transitions/TransitionTable.js';\nimport TransitionFunction from './transitions/TransitionFunction.js';\n\nclass OverviewPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const drawer = this.props.drawer;\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const drawerFull = drawer.isDrawerFullscreen();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{OverviewPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <PanelSection title={\"States\"} initial={true} full={drawerFull}>\n            <StateListView graphController={graphController}/>\n          </PanelSection>\n          <PanelSection title={\"Alphabet\"} initial={true} full={drawerFull}>\n            <AlphabetListView machineController={machineController}/>\n          </PanelSection>\n          <div className={Style.panel_divider}></div>\n          {/*\n          <PanelSection title={\"Transition Chart\"} full={drawerFull}>\n            <TransitionChartView machineController={machineController}/>\n          </PanelSection>\n          <PanelSection title={\"Transition Table\"} full={drawerFull}>\n            <TransitionTableView machineController={machineController}/>\n          </PanelSection>\n          */}\n          <PanelSection title={\"Transition Chart\"} full={drawerFull}>\n            <TransitionFunction machineController={machineController}/>\n          </PanelSection>\n          <PanelSection title={\"Transition Table\"} full={drawerFull}>\n            <TransitionTable machineController={machineController}/>\n          </PanelSection>\n          <div className={Style.panel_divider}></div>\n          <button>State Labels</button>\n          <button>Auto layout</button>\n          <button>Auto label</button>\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(OverviewPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.overview.title\"); }\n});\n\nexport default OverviewPanel;\n","import React from 'react';\nimport Style from './PanelCheckbox.css';\n\nclass PanelCheckbox extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      checked: props.initial || false\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  setChecked(value)\n  {\n    this.setState({checked: value});\n  }\n\n  isChecked()\n  {\n    return this.state.checked;\n  }\n\n  onChange(e)\n  {\n    const checked = e.target.checked;\n    if (this.state.checked !== checked)\n    {\n      this.setState({checked: checked});\n    }\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.checkbox_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input type=\"checkbox\" id={this.props.id + \"-checkbox\"}\n          name={this.props.id + \"-checkbox\"} value={this.props.value}\n          checked={this.state.checked}\n          disabled={this.props.disabled}\n          onChange={this.onChange}/>\n        <label htmlFor={this.props.id + \"-checkbox\"}>{this.props.title}</label>\n      </div>\n    );\n  }\n}\n\nexport default PanelCheckbox;\n","import React from 'react';\nimport Style from './AnalysisPanel.css';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\nimport PanelCheckbox from 'experimental/panels/PanelCheckbox.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NFAToDFAConversionWarningMessage from 'modules/fsa/notifications/NFAToDFAConversionWarningMessage.js';\n\nconst MACHINE_CONVERSION_MESSAGE_TAG = \"machine-convert\";\n\nclass AnalysisPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.optimizeUnreachOption = null;\n    this.optimizeRedundOption = null;\n\n    this.onConvertToDFA = this.onConvertToDFA.bind(this);\n    this.onConvertToNFA = this.onConvertToNFA.bind(this);\n\n    this.onOptimizeMachine = this.onOptimizeMachine.bind(this);\n  }\n\n  onDeleteAllUnreachable(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const unreachableArray = machineController.getUnreachableNodes();\n    graphController.deleteTargetNodes(unreachableArray);\n  }\n\n  onConvertToDFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const props = {graphController: graphController, machineController: machineController};\n\n    //Will do: machineController.convertMachineTo(\"DFA\");\n    Notifications.addMessage(I18N.toString(\"message.warning.convertNFAToDFA\"),\n      \"warning\", MACHINE_CONVERSION_MESSAGE_TAG, NFAToDFAConversionWarningMessage, props);\n  }\n\n  onConvertToNFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const machineController = currentModule.getMachineController();\n    machineController.convertMachineTo(\"NFA\");\n  }\n\n  onOptimizeMachine(e)\n  {\n    if (this.optimizeUnreachOption.isChecked())\n    {\n      this.onDeleteAllUnreachable(e);\n    }\n  }\n\n  canOptimize()\n  {\n    return (this.optimizeRedundOption && this.optimizeRedundOption.isChecked()) ||\n    (this.optimizeUnreachOption && this.optimizeUnreachOption.isChecked());\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{AnalysisPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <PanelSection title={\"Optimizations\"} initial={true}>\n            <PanelCheckbox ref={ref=>this.optimizeUnreachOption=ref} className={Style.panel_checkbox}\n              id=\"opt-unreach\" title=\"Unreachables\" value=\"unreach\"/>\n            <PanelCheckbox ref={ref=>this.optimizeRedundOption=ref} className={Style.panel_checkbox} disabled={true}\n              id=\"opt-redund\" title=\"Redundant States\" value=\"redund\"/>\n            <button className={Style.panel_button} onClick={this.onOptimizeMachine} disabled={!this.canOptimize()}>Optimize</button>\n          </PanelSection>\n          {\n            machineController.getMachineType() == \"DFA\" ?\n              <button className={Style.panel_button} onClick={this.onConvertToNFA}>\n                {I18N.toString(\"action.overview.convertnfa\")}\n              </button>\n            : machineController.getMachineType() == \"NFA\" ?\n              <button className={Style.panel_button} onClick={this.onConvertToDFA}>\n                {I18N.toString(\"action.overview.convertdfa\")}\n              </button>\n            : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(AnalysisPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.analysis.title\"); }\n});\n\nexport default AnalysisPanel;\n","import React from 'react';\nimport Style from './IconUploadButton.css';\n\nimport IconButton from './IconButton.js';\n\nclass IconUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onFileUpload = this.onFileUpload.bind(this);\n  }\n\n  onFileUpload(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      if (this.props.onUpload) this.props.onUpload(files[0]);\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  //Override\n  render()\n  {\n    const accept = this.props.accept;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.upload_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}>\n        <input type=\"file\" name=\"import\"\n          className={Style.upload_input}\n          accept={accept}\n          onChange={this.onFileUpload}/>\n        {this.props.children}\n      </IconButton>\n    );\n  }\n}\n\nexport default IconUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TestItem.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport SubtractIcon from 'experimental/iconset/SubtractIcon.js';\nimport CheckCircleIcon from 'experimental/iconset/CheckCircleIcon.js';\nimport CrossCircleIcon from 'experimental/iconset/CrossCircleIcon.js';\nimport PendingIcon from 'experimental/iconset/PendingIcon.js';\nimport RunningManIcon from 'experimental/iconset/RunningManIcon.js';\n\nexport const DEFAULT_MODE = \"default\";\nexport const SUCCESS_MODE = \"success\";\nexport const FAILURE_MODE = \"failure\";\nexport const WORKING_MODE = \"working\";\n\nclass TestItem extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.inputElement = null;\n\n    this.state = {\n      value: this.props.defaultValue || \"\",\n      status: DEFAULT_MODE\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  focus()\n  {\n    if (this.inputElement)\n    {\n      this.inputElement.focus();\n    }\n  }\n\n  setValue(value, callback=null)\n  {\n    if (this.state.value !== value)\n    {\n      this.setState({value: value}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  setStatus(status, callback=null)\n  {\n    if (this.state.status !== status)\n    {\n      this.setState({status: status}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  getValue()\n  {\n    return this.state.value;\n  }\n\n  getStatus()\n  {\n    return this.state.status;\n  }\n\n  onChange(e)\n  {\n    const nextValue = e.target.value;\n    if (this.state.value !== nextValue)\n    {\n      this.setState({value: nextValue, status: DEFAULT_MODE});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const onDelete = this.props.onDelete;\n    const showDelete = true;\n\n    const onTest = this.props.onTest;\n    const showTest = true;\n    \n    const active = this.props.active;\n    const subtitle = this.props.subtitle;\n    const placeholder = this.props.placeholder;\n    const status = this.state.status;\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_item_container +\n          (active ? \" active \" : \"\") +\n          \" \" + status +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showTest &&\n          <IconButton className={Style.test_button}\n            title={\"Test\"}\n            disabled={!onTest}\n            onClick={(e) => onTest(e, this)}>\n            {status === SUCCESS_MODE ?\n              <CheckCircleIcon/> :\n              status === FAILURE_MODE ?\n              <CrossCircleIcon/> :\n              status === WORKING_MODE ?\n              <PendingIcon/> :\n              <RunningManIcon/>}\n          </IconButton>}\n        <div className={Style.test_input}>\n          <input ref={ref=>this.inputElement=ref} type=\"text\"\n            placeholder={placeholder}\n            value={this.state.value}\n            onChange={this.onChange}/>\n          <label>{this.props.subtitle}</label>\n        </div>\n        {showDelete &&\n          <IconButton className={Style.delete_button}\n            title={\"Delete\"}\n            disabled={!onDelete}\n            onClick={(e) => onDelete(e, this)}>\n            <SubtractIcon/>\n          </IconButton>}\n      </div>\n    );\n  }\n}\n\nexport default TestItem;\n","import React from 'react';\nimport Style from './TestListView.css';\n\nimport { guid } from 'util/MathHelper.js';\nimport { downloadText } from 'util/Downloader.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nimport PageContentIcon from 'experimental/iconset/PageContentIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport CrossIcon from 'experimental/iconset/CrossIcon.js';\nimport AddIcon from 'experimental/iconset/AddIcon.js';\nimport RunningManIcon from 'experimental/iconset/RunningManIcon.js';\nimport WalkingManIcon from 'experimental/iconset/WalkingManIcon.js';\n\nimport TestItem, {SUCCESS_MODE, FAILURE_MODE, WORKING_MODE, DEFAULT_MODE} from './TestItem.js';\n\nconst ACCEPT_FILE_TYPES = ['.txt'];\nconst TEST_FILENAME = \"test.txt\";\n\nclass TestListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._testList = [];\n    this._testName = TEST_FILENAME;\n\n    this.onTestNew = this.onTestNew.bind(this);\n    this.onTestUpload = this.onTestUpload.bind(this);\n    this.onTestDownload = this.onTestDownload.bind(this);\n    this.onTestClose = this.onTestClose.bind(this);\n    this.onTestAdd = this.onTestAdd.bind(this);\n    this.onTestDelete = this.onTestDelete.bind(this);\n    this.onTestTest = this.onTestTest.bind(this);\n    this.onTestRunAll = this.onTestRunAll.bind(this);\n  }\n\n  onTestNew(e)\n  {\n    if (!this.isEmpty())\n    {\n      this.onTestClose(e);\n    }\n\n    this.onTestAdd(e);\n  }\n\n  onTestUpload(fileBlob)\n  {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try\n      {\n        this._testName = fileBlob.name;\n        this._testList.length = 0;\n\n        const tests = event.target.result.split(\"\\n\");\n        for(let test of tests)\n        {\n          test = test.trim();\n          if (test.length > 0)\n          {\n            this._testList.push({\n              id: guid(),\n              defaultValue: test,\n              ref: null\n            });\n          }\n        }\n\n        //Make sure an element exists, at least\n        if (this._testList.length <= 0)\n        {\n          this.onTestAdd(null);\n        }\n      }\n      catch(e)\n      {\n        reader.abort();\n      }\n    };\n    reader.readAsText(fileBlob);\n  }\n\n  onTestDownload(e)\n  {\n    const testStrings = [];\n    for(const test of this._testList)\n    {\n      const ref = test.ref;\n      if (ref)\n      {\n        testStrings.push(ref.getValue());\n      }\n    }\n\n    downloadText(this._testName, testStrings.join('\\n'));\n  }\n\n  onTestClose(e)\n  {\n    const tester = this.props.tester;\n    if (tester.isTesting())\n    {\n      tester.stopTest();\n    }\n\n    this._testList.length = 0;\n  }\n\n  onTestAdd(e)\n  {\n    this._testList.push({\n      id: guid(),\n      defaultValue: \"\",\n      ref: null\n    });\n  }\n\n  onTestRunAll(e)\n  {\n    const tester = this.props.tester;\n    for(const test of this._testList)\n    {\n      //this.onTestTest(null, test.ref, true);\n    }\n  }\n\n  onTestDelete(e, item)\n  {\n    //Already handled in render()\n  }\n\n  onTestTest(e, item, forceImmediate=false)\n  {\n    const immediate = forceImmediate || this.props.immediate;\n    const tester = this.props.tester;\n    const itemValue = item.getValue();\n\n    item.setState({status: WORKING_MODE});\n\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    tester.startTest(itemValue, graphController, machineController).then((result) => {\n      item.setState({status: result ? SUCCESS_MODE : FAILURE_MODE});\n    }, (err) => {\n      //It didn't work out :(\n      item.setState({status: DEFAULT_MODE});\n    });\n\n    if (immediate)\n    {\n      tester.runTest(graphController, machineController, true);\n    }\n  }\n\n  isEmpty()\n  {\n    return this._testList.length <= 0;\n  }\n\n  //Override\n  render()\n  {\n    const immediate = this.props.immediate;\n    const tester = this.props.tester;\n\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n\n    const empty = this.isEmpty();\n    const disabled = tester && tester.isTesting();\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.test_control_tray}>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.new\")}\n            onClick={this.onTestNew}>\n            <PageContentIcon/>\n          </IconButton>\n          <IconUploadButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.import\")}\n            accept={ACCEPT_FILE_TYPES.join(\",\")}\n            onUpload={this.onTestUpload}>\n            <UploadIcon/>\n          </IconUploadButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.save\")}\n            disabled={empty}\n            onClick={this.onTestDownload}>\n            <DownloadIcon/>\n          </IconButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.clear\")}\n            disabled={empty}\n            onClick={this.onTestClose}>\n            <CrossIcon/>\n          </IconButton>\n        </div>\n        <div className={Style.test_list_container +\n          (empty ? \" empty \" : \"\") +\n          (disabled ? \" disabled \": \"\")}>\n          <IconButton className={Style.test_list_add}\n            title={\"Add\"} onClick={this.onTestAdd}>\n            <AddIcon/>\n            <span className={Style.test_list_count}>\n              {!empty ? \"\" + this._testList.length : \"\"}\n            </span>\n          </IconButton>\n          <div className={Style.test_list_scroll_container}>\n            <div className={Style.test_list}>\n              {this._testList.map((e, i) => {\n                const id = e.id;\n                const defaultValue = e['defaultValue'] || \"\";\n                let testCallback = this.onTestTest;\n                if (!tester || graphController.getGraph().isEmpty())\n                {\n                  testCallback = null;\n                }\n                return <TestItem key={id} ref={ref=>e.ref=ref}\n                  defaultValue={defaultValue}\n                  onTest={testCallback}\n                  onDelete={(e, item) => {\n                    this._testList.splice(i, 1);\n                    this.onTestDelete(e, item);\n                  }}/>\n              })}\n            </div>\n          </div>\n          <IconButton className={Style.test_list_runall}\n            title={\"Run All\"} disabled={true} onClick={this.onTestRunAll}>\n            <RunningManIcon/>\n          </IconButton>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TestListView;\n","import React from 'react';\nimport Style from './TestingPanel.css';\n\nimport TestListView from './TestListView.js';\n\nimport PanelCheckbox from 'experimental/panels/PanelCheckbox.js';\n\nclass TestingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //TODO: This should be in modules...\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const tester = currentModule._tester;\n    tester.on(\"startTest\", (tester) => {\n      app._viewport.setCurrentView(1);\n      app._drawer.setDrawerSoloClass(TestingPanel);\n      app._drawer.closeDrawer();\n    });\n    tester.on(\"stopTest\", (tester) => {\n      app._viewport.setCurrentView(0);\n      app._drawer.setDrawerSoloClass(null);\n      app._drawer.openDrawer();\n    });\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule._tester;\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{TestingPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <TestListView tester={tester} graphController={graphController} machineController={machineController}/>\n          <PanelCheckbox title={\"Step Testing\"}/>\n          <PanelCheckbox title={\"Automatic Error Checking\"}/>\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(TestingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.testing.title\"); }\n});\n\nexport default TestingPanel;\n","import React from 'react';\nimport Style from './ToolbarDivider.css';\n\nclass ToolbarDivider extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.divider + \" \" + this.props.className}\n        style={this.props.style}>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarDivider;\n","import React from 'react';\n\nimport ToolbarButtonStyle from './ToolbarButton.css';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nclass ToolbarUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconUploadButton id={this.props.id}\n        className={ToolbarButtonStyle.toolbar_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        accept={this.props.accept}\n        onUpload={this.props.onUpload}>\n        <IconClass/>\n      </IconUploadButton>\n    );\n  }\n}\n\nexport default ToolbarUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"}/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 20 20\">\n        <path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","class AbstractLocalSaver\n{\n  onLoadSave() {}\n  onUnloadSave() {}\n  onAutoSave() {}\n}\n\nexport default AbstractLocalSaver;\n","import AbstractLocalSaver from 'system/localsave/AbstractLocalSaver.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nclass AppSaver extends AbstractLocalSaver\n{\n  constructor(app)\n  {\n    super();\n\n    this._app = app;\n  }\n\n  //Override\n  onLoadSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const data = LocalSave.loadFromStorage(\"graph-\" + moduleName);\n    if (data)\n    {\n      const exporter = module.getDefaultGraphExporter();\n      exporter.importFromData(data, module);\n    }\n  }\n\n  //Override\n  onUnloadSave()\n  {\n    //Don't do anything...\n  }\n\n  //Override\n  onAutoSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const exporter = module.getDefaultGraphExporter();\n    const data = exporter.exportToData(module);\n    LocalSave.saveToStorage(\"graph-\" + moduleName, data);\n  }\n\n  getApp()\n  {\n    return this._app;\n  }\n}\n\nexport default AppSaver;\n","export const CTRL_KEY = 'Control';\nexport const META_KEY = 'Meta';\nexport const ALT_KEY = 'Alt';\nexport const SHIFT_KEY = 'Shift';\n//NOTE: For more keys, refer to http://keycode.info/\n\nclass HotKeyManager\n{\n  constructor()\n  {\n    this._hotkeys = [];\n    this._cachedEvent = {\n      ctrlKey: false,\n      metaKey: false,\n      altKey: false,\n      shiftKey: false,\n      code: null\n    };\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._enabled = false;\n\n    this._altHotkey = null;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  initialize()\n  {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n\n    this._enabled = true;\n  }\n\n  destroy()\n  {\n    this._enabled = false;\n\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  registerHotKey(name, keys, callback)\n  {\n    if (!Array.isArray(keys)) throw new Error(\"Must be an array of key codes\");\n    const ctrlIndex = keys.indexOf(CTRL_KEY);\n    if (ctrlIndex >= 0) keys.splice(ctrlIndex, 1);\n    const metaIndex = keys.indexOf(META_KEY);\n    if (metaIndex >= 0) keys.splice(metaIndex, 1);\n    const altIndex = keys.indexOf(ALT_KEY);\n    if (altIndex >= 0) keys.splice(altIndex, 1);\n    const shiftIndex = keys.indexOf(SHIFT_KEY);\n    if (shiftIndex >= 0) keys.splice(shiftIndex, 1);\n    if (keys.length != 1) throw new Error(\"Multiple key operations not supported\");\n    const charKey = keys[0];\n\n    const ctrl = ctrlIndex >= 0 || metaIndex >= 0;\n    const alt = altIndex >= 0;\n    const shift = shiftIndex >= 0;\n\n    const result = {\n      name: name,\n      localizedKeys: (ctrl ? \"Ctrl + \" : \"\") +\n        (alt ? \"Alt + \" : \"\") +\n        (shift ? \"Shift + \" : \"\") +\n        charKey,\n      charKey: charKey,\n      ctrlKey: ctrl,\n      altKey: alt,\n      shiftKey: shift,\n      callback: callback\n    };\n\n    this._hotkeys.push(result);\n  }\n\n  //HACK: Cause hotkey manager does not allow 'control' hotkeys. This is the exception.\n  registerAltHotKey(name, callback)\n  {\n    if (this._altHotkey) throw new Error(\"Only one hotkey can exist for \\'Alt\\'\");\n\n    this._altHotkey = {\n      name: name,\n      localizedKeys: \"Alt\",\n      charKey: null,\n      ctrlKey: false,\n      altKey: true,\n      shiftKey: false,\n      callback: callback\n    };\n  }\n\n  setEnabled(enabled)\n  {\n    this._enabled = enabled;\n  }\n\n  isEnabled()\n  {\n    return this._enabled;\n  }\n\n  findMatchingHotKey(e)\n  {\n    for(const hotkey of this._hotkeys)\n    {\n      if (matchesHotKeyEvent(e, hotkey)) return hotkey;\n    }\n    return null;\n  }\n\n  getCurrentHotKey()\n  {\n    return this._prevHotKey;\n  }\n\n  getCurrentHotKeyRepeatCount()\n  {\n    return this._repeatCount;\n  }\n\n  getCurrentlyPossibleHotKeys(dst=[])\n  {\n    const event = this._cachedEvent;\n    const eventCtrl = event.ctrlKey || event.metaKey;\n    const eventAlt = event.altKey;\n    const eventShift = event.shiftKey;\n    if (!eventCtrl && !eventAlt && !eventShift) return dst;\n    const eventKey = event.code;\n\n    let result = null;\n    for(const hotkey of this._hotkeys)\n    {\n      let flag = false;\n      if (eventCtrl ^ hotkey.ctrlKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventCtrl) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventAlt ^ hotkey.altKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventAlt) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventShift ^ hotkey.shiftKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventShift) flag = true;\n        //Nope.\n        else continue;\n      }\n\n      if (!flag && eventKey === hotkey.charKey)\n      {\n        result = hotkey;\n      }\n\n      dst.push(hotkey);\n    }\n\n    if (result) return result;\n    else return dst;\n  }\n\n  onKeyDown(e)\n  {\n    if (!this._enabled) return;\n\n    if (!e.repeat)\n    {\n      this.captureKeyEvent(e, false);\n\n      let result = this.findMatchingHotKey(this._cachedEvent);\n      if (!result && matchesHotKeyEvent(e, this._altHotkey)) result = this._altHotkey;\n\n      if (result)\n      {\n        if (this._prevHotKey === result)\n        {\n          ++this._repeatCount;\n        }\n        else\n        {\n          this._prevHotKey = result;\n          this._repeatCount = 0;\n        }\n\n        result.callback();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (!this._enabled) return;\n\n    if (this.captureKeyEvent(e, true))\n    {\n      this._prevHotKey = null;\n      this._repeatCount = 0;\n    }\n  }\n\n  captureKeyEvent(e, isKeyUp=false)\n  {\n    this._cachedEvent.ctrlKey = e.ctrlKey;\n    this._cachedEvent.metaKey = e.metaKey;\n    this._cachedEvent.altKey = e.altKey;\n    this._cachedEvent.shiftKey = e.shiftKey;\n    this._cachedEvent.code = isKeyUp ? null : (e.code || null);\n    return isKeyUp && !(this._cachedEvent.ctrlKey || this._cachedEvent.metaKey || this._cachedEvent.altKey || this._cachedEvent.shiftKey);\n  }\n}\n\nexport default HotKeyManager;\n\nfunction matchesHotKeyEvent(e, hotkey)\n{\n  if (hotkey.ctrlKey !== (e.ctrlKey || e.metaKey)) return false;\n  if (hotkey.altKey !== e.altKey) return false;\n  if (hotkey.shiftKey !== e.shiftKey) return false;\n  if (hotkey.charKey && hotkey.charKey !== e.code) return false;\n  return true;\n}\n","import React from 'react';\nimport Style from './HotKeyView.css';\n\nconst AVAILABLE_HOTKEY_REFRESH_RATE = 100;\n\nclass HotKeyView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._cachedHotKeys = [];\n    this._cacheTimeout = null;\n  }\n\n  //Override\n  render()\n  {\n    const hotKeyManager = this.props.hotKeyManager;\n    const showHotKeys = !this.props.disabled && hotKeyManager.isEnabled();\n\n    if (!this._cacheTimeout && showHotKeys)\n    {\n      this._cacheTimeout = setTimeout(() => {\n        this._cacheTimeout = null;\n        this._cachedHotKeys.length = 0;\n        hotKeyManager.getCurrentlyPossibleHotKeys(this._cachedHotKeys);\n      }, AVAILABLE_HOTKEY_REFRESH_RATE);\n    }\n\n    const useCount = hotKeyManager.getCurrentHotKeyRepeatCount();\n    const currentHotKey = hotKeyManager.getCurrentHotKey();\n\n    return (\n      <div id={this.props.id}\n        className={Style.hotkey_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showHotKeys && this._cachedHotKeys.map((e, i) => {\n          const isActive = currentHotKey === e;\n          return (\n            <div key={e.localizedKeys + \":\" + i + \":\" + (isActive ? useCount : 0)}\n              className={Style.hotkey +\n                (isActive ? \" active \" : \"\")}>\n              <label className={Style.hotkey_label}>\n                {e.localizedKeys}\n              </label>\n              <label className={Style.hotkey_name}>\n                {e.name + (isActive && useCount > 1 ? \" x\" + useCount : \"\")}\n              </label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default HotKeyView;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport DrawerView, { DRAWER_SIDE_RIGHT, DRAWER_SIDE_BOTTOM, DRAWER_BAR_DIRECTION_VERTICAL, DRAWER_BAR_DIRECTION_HORIZONTAL } from 'experimental/drawer/DrawerView.js';\nimport ToolbarView from 'experimental/toolbar/ToolbarView.js';\nimport WorkspaceView from 'experimental/workspace/WorkspaceView.js';\nimport ViewportView from 'experimental/viewport/ViewportView.js';\nimport TooltipView, { ONESHOT_MODE } from 'experimental/tooltip/TooltipView.js';\nimport UploadDropZone from 'experimental/components/UploadDropZone.js';\n\nimport ExportPanel from 'experimental/menus/export/ExportPanel.js';\nimport OptionPanel from 'experimental/menus/option/OptionPanel.js';\n\nimport EditPane from 'experimental/EditPane.js';\nimport TapePane from 'experimental/TapePane.js';\n\nimport OverviewPanel from 'experimental/panels/overview/OverviewPanel.js';\nimport AnalysisPanel from 'experimental/panels/analysis/AnalysisPanel.js';\nimport TestingPanel from 'experimental/panels/test/TestingPanel.js';\n\nimport ToolbarButton, {TOOLBAR_CONTAINER_TOOLBAR, TOOLBAR_CONTAINER_MENU } from 'experimental/toolbar/ToolbarButton.js';\nimport ToolbarDivider from 'experimental/toolbar/ToolbarDivider.js';\nimport ToolbarUploadButton from 'experimental/toolbar/ToolbarUploadButton.js';\nimport PageEmptyIcon from 'experimental/iconset/PageEmptyIcon.js';\nimport UndoIcon from 'experimental/iconset/UndoIcon.js';\nimport RedoIcon from 'experimental/iconset/RedoIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport BugIcon from 'experimental/iconset/BugIcon.js';\nimport WorldIcon from 'experimental/iconset/WorldIcon.js';\nimport HelpIcon from 'experimental/iconset/HelpIcon.js';\nimport SettingsIcon from 'experimental/iconset/SettingsIcon.js';\n\nimport * as UserUtil from 'experimental/UserUtil.js';\nimport AppSaver from 'experimental/AppSaver.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport HotKeyManager, {CTRL_KEY, ALT_KEY, SHIFT_KEY} from 'experimental/hotkey/HotKeyManager.js';\nimport HotKeyView from 'experimental/hotkey/HotKeyView.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NotificationView from 'system/notification/components/NotificationView.js';\n\nimport InputAdapter from 'system/inputadapter/InputAdapter.js';\nimport UndoManager from 'system/undomanager/UndoManager.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport DefaultModule from 'modules/default/DefaultModule.js';\nimport Module from 'modules/fsa/FSAModule.js';\n\nconst HELP_URL = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n\nconst SMOOTH_OFFSET_DAMPING = 0.4;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._workspace = null;\n    this._toolbar = null;\n    this._drawer = null;\n    this._viewport = null;\n\n    //These need to be initialized before module\n    this._inputAdapter = new InputAdapter();\n    this._inputAdapter.getViewport()\n      .setMinScale(MIN_SCALE)\n      .setMaxScale(MAX_SCALE)\n      .setOffsetDamping(SMOOTH_OFFSET_DAMPING);\n    this._undoManager = new UndoManager();\n\n    this._hotKeyManager = new HotKeyManager();\n    this._hotKeyManager.registerHotKey(\"Export to PNG\", [CTRL_KEY, 'KeyP'], () => {console.log(\"Export!\")});\n    this._hotKeyManager.registerHotKey(\"Save as JSON\", [CTRL_KEY, 'KeyS'], () => {console.log(\"Save!\")});\n    this._hotKeyManager.registerHotKey(\"New\", [CTRL_KEY, 'KeyN'], () => {console.log(\"New!\")});\n    this._hotKeyManager.registerHotKey(\"Undo\", [CTRL_KEY, 'KeyZ'], () => {console.log(\"Undo!\")});\n    this._hotKeyManager.registerHotKey(\"Redo\", [CTRL_KEY, SHIFT_KEY, 'KeyZ'], () => {console.log(\"Redo!\")});\n    this._hotKeyManager.registerAltHotKey(\"Show Hints\", () => { IconButton.SHOW_LABEL = !IconButton.SHOW_LABEL })\n\n    this._saver = new AppSaver(this);\n\n    this._init = false;\n\n    this.state = {\n      module: new Module(this),\n      hide: false\n    };\n\n    this._mediaQuerySmallWidthList = window.matchMedia(\"only screen and (max-width: 400px)\");\n    this._mediaQuerySmallHeightList = window.matchMedia(\"only screen and (min-height: 400px)\");\n\n    //Notifications.addMessage(\"Welcome to Flap.js\");\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const workspaceDOM = this._workspace.ref;\n    this._inputAdapter.initialize(workspaceDOM);\n\n    const currentModule = this.getCurrentModule();\n    currentModule.initialize(this);\n\n    this._hotKeyManager.initialize();\n\n    LocalSave.registerHandler(this._saver);\n\n    this._init = true;\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._init = false;\n\n    LocalSave.unregisterHandler(this._saver);\n\n    this._hotKeyManager.destroy();\n\n    const currentModule = this.getCurrentModule();\n    currentModule.destroy(this);\n\n    this._inputAdapter.destroy();\n  }\n\n  get workspace() { return this._workspace; }\n  get viewport() { return this._inputAdapter.getViewport(); }\n\n  setCurrentModuleClass(ModuleClass)\n  {\n    const prevModule = this.getCurrentModule();\n    prevModule.destroy(this);\n\n    const currentModule = new ModuleClass(this);\n    this.setState({ module: currentModule }, () => {\n      currentModule.initialize(this);\n    });\n  }\n\n  getCurrentModule() { return this.state.module; }\n  getInputAdapter() { return this._inputAdapter; }\n  getUndoManager() { return this._undoManager; }\n  getHotKeyManager() { return this._hotKeyManager; }\n\n  //Override\n  render()\n  {\n    const currentModule = this.state.module;\n\n    if (this._init)\n    {\n      this._inputAdapter.update();\n      currentModule.update(this);\n\n      //Disable hotkeys when graph is not in view\n      this._hotKeyManager.setEnabled(\n        !(this._toolbar && this._toolbar.isBarOpen()) &&\n        !(this._drawer && this._drawer.isDrawerOpen() &&\n          this._drawer.isDrawerFullscreen())\n        );\n    }\n\n    const hasSmallWidth = this._mediaQuerySmallWidthList.matches;\n    const hasSmallHeight = this._mediaQuerySmallHeightList.matches;\n    const isFullscreen = this.state.hide;\n\n    const undoManager = this._undoManager;\n    const viewport = this._inputAdapter.getViewport();\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const graphImporter = currentModule.getGraphImporter();\n    const inputActionMode = inputController.isActionMode();\n\n    const modulePanels = [TestingPanel, OverviewPanel, AnalysisPanel];\n    const modulePanelProps = {currentModule: currentModule, app: this};\n    const moduleMenus = currentModule.getModuleMenus().concat([ExportPanel, OptionPanel]);\n    const moduleMenuProps = {currentModule: currentModule, app: this};\n    const moduleViews = currentModule.getModuleViews().concat([EditPane, TapePane]);\n    const moduleViewProps = {currentModule: currentModule, app: this};\n\n    const GRAPH_RENDER_LAYER = \"graph\";\n    const GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n    const VIEWPORT_RENDER_LAYER = \"viewport\";\n    const GraphRenderer = currentModule.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = currentModule.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n    const ViewportRenderer = currentModule.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return (\n      <div className=\"app-container\">\n\n        <ToolbarView ref={ref=>this._toolbar=ref} className=\"app-bar\"\n          menus={moduleMenus}\n          menuProps={moduleMenuProps}\n          hide={isFullscreen}>\n\n          <ToolbarButton title=\"New\" icon={PageEmptyIcon}\n            onClick={() => UserUtil.userClearGraph(this, false, () => this._toolbar.closeBar())}/>\n          <ToolbarUploadButton title=\"Upload\" icon={UploadIcon} accept={graphImporter.getImportFileTypes().join(\",\")}\n            onUpload={file => {\n              graphImporter.importFile(file, currentModule)\n                .catch((e) => {\n                  Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n                  console.error(e);\n                })\n                .finally(() => {\n                  this._toolbar.closeBar();\n                });\n            }}/>\n          <ToolbarButton title=\"Undo\" icon={UndoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canUndo()}\n            onClick={()=>undoManager.undo()}/>\n          <ToolbarButton title=\"Redo\" icon={RedoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canRedo()}\n            onClick={()=>undoManager.redo()}/>\n          <ToolbarButton title={I18N.toString(\"component.exporting.title\")} icon={DownloadIcon}\n            onClick={()=>this._toolbar.setCurrentMenu(0)}\n            disabled={graphController.getGraph().isEmpty()}/>\n          <ToolbarDivider/>\n          <ToolbarButton title=\"Report a Bug\" icon={BugIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Language\" icon={WorldIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Help\" icon={HelpIcon}\n            onClick={()=>window.open(HELP_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"component.options.title\")} icon={SettingsIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(1)}/>\n\n          <button onClick={() => {\n            const nextModuleClass = this.getCurrentModule() instanceof Module ? DefaultModule : Module;\n            this.setCurrentModuleClass(nextModuleClass);\n          }}>\n            {\"Change to Module\"}\n          </button>\n\n        </ToolbarView>\n\n        <DrawerView ref={ref=>this._drawer=ref} className=\"app-content\"\n          panels={modulePanels}\n          panelProps={modulePanelProps}\n          side={hasSmallWidth ? DRAWER_SIDE_BOTTOM : DRAWER_SIDE_RIGHT}\n          direction={hasSmallHeight ? DRAWER_BAR_DIRECTION_VERTICAL : DRAWER_BAR_DIRECTION_HORIZONTAL}\n          hide={isFullscreen}>\n          <UploadDropZone>\n            <div className=\"viewport\">\n\n              <TooltipView mode={ONESHOT_MODE} visible={/* For the initial fade-in animation */this._init && graphController.getGraph().isEmpty()}>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n                <label>{\"If you need help, try the \\'?\\' at the top.\"}</label>\n                <label>{\"Or you can choose to do nothing.\"}</label>\n                <label>{\"I can't do anything about that.\"}</label>\n                <label>{\"You really should consider doing something though, for the sake of both of us.\"}</label>\n                <label>{\"Of course, it is your free will.\"}</label>\n                <label>{\"You do you.\"}</label>\n                <label>{\"Please do something.\"}</label>\n                <label>{\"I need my job.\"}</label>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n              </TooltipView>\n\n              <WorkspaceView ref={ref=>this._workspace=ref} viewport={viewport}>\n                {/* Graph origin crosshair */\n                  !graphController.getGraph().isEmpty() &&\n                  <React.Fragment>\n                    <line className=\"graph-ui\" x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"var(--color-viewport-back-detail)\"/>\n                    <line className=\"graph-ui\" x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"var(--color-viewport-back-detail)\"/>\n                  </React.Fragment>}\n                {/* Graph objects */\n                  GraphRenderer &&\n                  <GraphRenderer currentModule={currentModule} parent={this._workspace}/>}\n                {/* Graph overlays */\n                  GraphOverlayRenderer &&\n                  <GraphOverlayRenderer currentModule={currentModule} parent={this._workspace}/>}\n              </WorkspaceView>\n\n              <NotificationView notificationManager={Notifications}>\n              </NotificationView>\n\n              <HotKeyView hotKeyManager={this._hotKeyManager}/>\n\n              <ViewportView ref={ref=>this._viewport=ref}\n                views={moduleViews}\n                viewProps={moduleViewProps}>\n              </ViewportView>\n\n            </div>\n          </UploadDropZone>\n        </DrawerView>\n\n      </div>\n    );\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n"],"sourceRoot":""}