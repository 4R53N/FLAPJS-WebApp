{"version":3,"sources":["webpack:///./src/app/experimental/components/IconButton.js","webpack:///./src/app/experimental/panels/PanelContainer.js","webpack:///./src/app/experimental/iconset/TinyDownIcon.js","webpack:///./src/app/experimental/iconset/TinyUpIcon.js","webpack:///./src/app/experimental/panels/PanelSection.js","webpack:///./src/app/input/AbstractInputHandler.js","webpack:///./src/app/experimental/UserUtil.js","webpack:///./src/app/manager/RenderManager.js","webpack:///./src/app/experimental/panels/PanelSwitch.js","webpack:///./src/app/experimental/iconset/UploadIcon.js","webpack:///./src/app/experimental/components/IconUploadButton.js","webpack:///./src/app/experimental/iconset/DownloadIcon.js","webpack:///./src/app/experimental/iconset/EditPencilIcon.js","webpack:///./src/app/manager/hotkey/HotKeyManager.js","webpack:///./src/app/experimental/iconset/ExpandDownIcon.js","webpack:///./src/app/experimental/drawer/DrawerView.js","webpack:///./src/app/experimental/toolbar/ToolbarButton.js","webpack:///./src/app/experimental/iconset/OfflineIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarTitle.js","webpack:///./src/app/experimental/iconset/MenuIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarView.js","webpack:///./src/app/experimental/viewport/ViewportView.js","webpack:///./src/app/experimental/tooltip/TooltipView.js","webpack:///./src/app/experimental/components/UploadDropZone.js","webpack:///./src/app/input/InputPointer.js","webpack:///./src/app/input/ViewportAdapter.js","webpack:///./src/app/input/InputAdapter.js","webpack:///./src/app/input/components/ViewportComponent.js","webpack:///./src/app/experimental/menus/export/ExportPanel.js","webpack:///./src/app/experimental/panels/PanelButton.js","webpack:///./src/app/experimental/menus/option/PreviewView.js","webpack:///./src/app/experimental/menus/option/OptionPanel.js","webpack:///./src/app/experimental/menus/language/LanguagePanel.js","webpack:///./src/app/experimental/menus/moduleloader/ModuleLoaderPanel.js","webpack:///./src/app/experimental/toolbar/ToolbarDivider.js","webpack:///./src/app/experimental/toolbar/ToolbarUploadButton.js","webpack:///./src/app/experimental/iconset/PageEmptyIcon.js","webpack:///./src/app/experimental/iconset/UndoIcon.js","webpack:///./src/app/experimental/iconset/RedoIcon.js","webpack:///./src/app/experimental/iconset/BugIcon.js","webpack:///./src/app/experimental/iconset/WorldIcon.js","webpack:///./src/app/experimental/iconset/HelpIcon.js","webpack:///./src/app/experimental/iconset/SettingsIcon.js","webpack:///./src/app/experimental/AppSaver.js","webpack:///./src/app/experimental/ColorSaver.js","webpack:///./src/app/experimental/notification/NotificationView.js","webpack:///./src/app/modules/Session.js","webpack:///./src/app/util/URLHelper.js","webpack:///./src/app/manager/export/ExportManager.js","webpack:///./src/app/manager/DrawerManager.js","webpack:///./src/app/manager/MenuManager.js","webpack:///./src/app/manager/ViewportManager.js","webpack:///./src/app/manager/hotkey/HotKeyView.js","webpack:///./src/app/manager/undo/UndoManager.js","webpack:///./src/app/manager/TooltipManager.js","webpack:///./src/app/experimental/App.js"],"names":["IconButton","props","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","React","Component","title","showButtonLabel","SHOW_LABEL","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","id","className","Style","icon_button","style","disabled","onClick","children","PanelContainer","panel_container","panel_title","panel_content","panel_bottom","Icon","react_default","xmlns","width","height","viewBox","d","TinyUpIcon_classCallCheck","TinyUpIcon_possibleConstructorReturn","TinyUpIcon_getPrototypeOf","PanelSection","_this","PanelSection_classCallCheck","PanelSection_getPrototypeOf","state","open","initial","bind","PanelSection_assertThisInitialized","e","setState","prev","isOpen","isDisabled","Children","count","isFull","full","section_container","section_header","TinyUpIcon","TinyDownIcon","section_content_container","section_content","AbstractInputHandler","pointer","zoomValue","prevValue","userClearGraph","app","graphOnly","arguments","length","undefined","callback","window","confirm","I18N","toString","getCurrentModule","getGraphController","getGraph","clear","getUndoManager","getSession","setProjectName","__webpack_require__","__webpack_exports__","RENDER_LAYER_WORKSPACE","RENDER_LAYER_WORKSPACE_OVERLAY","RENDER_LAYER_VIEWPORT","RENDER_LAYER_VIEWPORT_OVERLAY","RenderManager","_renderMapping","Map","layerID","rendererClass","has","get","push","set","session","PanelSwitch","Error","checked","onChange","switch_container","panel_switch","type","switch_slider","switch_label","htmlFor","IconUploadButton","onFileUpload","_assertThisInitialized","files","target","onUpload","value","accept","_IconButton_js__WEBPACK_IMPORTED_MODULE_2__","upload_button","name","upload_input","CTRL_KEY","SHIFT_KEY","HotKeyManager","_hotkeys","_cachedEvent","ctrlKey","metaKey","altKey","shiftKey","code","_prevHotKey","_repeatCount","_enabled","_altHotkey","onKeyDown","onKeyUp","keys","Array","isArray","ctrlIndex","indexOf","splice","metaIndex","altIndex","shiftIndex","charKey","ctrl","alt","shift","result","localizedKeys","unshift","addEventListener","removeEventListener","enabled","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","hotkey","matchesHotKeyEvent","err","return","dst","event","eventCtrl","eventAlt","eventShift","eventKey","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","flag","repeat","captureKeyEvent","findMatchingHotKey","preventDefault","stopPropagation","isKeyUp","DRAWER_WIDTH_CSSVAR","DRAWER_MIN_WIDTH","DrawerView","DrawerView_classCallCheck","DrawerView_getPrototypeOf","ref","drawerElement","tabIndex","soloClass","viewportColor","_handlingGrab","_handlingResize","_isfull","_hasintent","_prevWidth","_resizeTimeout","_resizeEndTimeout","_sideways","onDrawerHandleGrab","DrawerView_assertThisInitialized","onDrawerHandleRelease","onDrawerHandleMove","onDrawerExpand","onWindowResize","fullscreen","setDrawerWidth","panels","color","hasIntent","drawerSide","side","drawerOffsetY","getBoundingClientRect","top","documentSize","document","documentElement","clientHeight","clientWidth","minSize","getCSSDrawerWidth","setProperty","toggleDrawer","_this2","setTimeout","clearTimeout","isDrawerSideBottom","clientY","clientX","Math","abs","_this3","drawerPanels","drawerDirection","direction","shouldDrawerHide","hide","drawerSoloClass","isDrawerOpen","shouldDrawerBarSideways","showDrawerHandle","shouldDrawerOpenFull","shouldHideDrawerContent","showDrawerTabs","viewportStyle","app_content","app_viewport","app_drawer","drawer_handle","onMouseDown","drawer_content","drawer_content_bar","drawer_tab_expander","ExpandDownIcon","map","i","current","isCurrentTab","key","drawer_tab","setCurrentTab","drawer_content_panel_container","drawer_content_panel","ComponentClass","drawer_panel_container","_extends","drawer_panel","panelProps","drawer","parseInt","getComputedStyle","getPropertyValue","replace","ToolbarButton","ToolbarButton_classCallCheck","ToolbarButton_possibleConstructorReturn","ToolbarButton_getPrototypeOf","IconClass","icon","toolbar_button","OfflineIcon_classCallCheck","OfflineIcon_possibleConstructorReturn","OfflineIcon_getPrototypeOf","ToolbarTitle","ToolbarTitle_classCallCheck","ToolbarTitle_getPrototypeOf","inputElement","onSubmit","ToolbarTitle_assertThisInitialized","resetValue","newValue","offline","navigator","onLine","title_container","title_input_container","FormattedInput","defaultValue","OfflineIcon","offline_status","title_subtitle","MenuIcon_classCallCheck","MenuIcon_possibleConstructorReturn","MenuIcon_getPrototypeOf","TOOLBAR_DEFAULT_MENU_INDEX","ToolbarView","ToolbarView_classCallCheck","ToolbarView_getPrototypeOf","toolbarElement","menuIndex","onBarExpand","ToolbarView_assertThisInitialized","onTitleChange","menus","setCurrentMenu","toggleBar","child","containerOnly","toolbarMenus","toolbarMenuIndex","ToolbarMenu","showCustomToolbarMenu","onTitleClick","hasButtons","isBarOpen","shouldBarHide","showBarExpander","app_bar","bar_menu","menu_container","ToolbarView_extends","menuProps","toolbar","menu_button_container","renderMenuButtons","bar_toolbar","experimental_toolbar_ToolbarTitle","toolbar_title","getProjectName","toolbar_button_container","renderToolbarButtons","toolbar_expander","MenuIcon","VIEWPORT_DEFAULT_VIEW_INDEX","ViewportView","ViewportView_classCallCheck","ViewportView_possibleConstructorReturn","ViewportView_getPrototypeOf","viewIndex","views","viewportViews","viewportViewIndex","ViewportViewPane","view_container","ViewportView_extends","viewProps","viewport","ONESHOT_MODE","TooltipView","TooltipView_classCallCheck","TooltipView_possibleConstructorReturn","TooltipView_getPrototypeOf","_tooltipTimeout","index","mode","visible","nextIndex","floor","random","setTooltipIndex","tooltipIndex","updateTooltip","tooltip_container","opacity","UploadDropZone","UploadDropZone_classCallCheck","UploadDropZone_getPrototypeOf","_waiting","onDragEnter","UploadDropZone_assertThisInitialized","onDragLeave","onFileDrop","dataTransfer","fileBlob","items","dataItems","file","kind","getAsFile","dataFiles","clearData","isWaitingForFile","upload_container","UploadIcon","upload_icon","only","InputPointer","adapter","element","InputPointer_classCallCheck","_adapter","_element","_viewport","_active","_x","_y","_inputpos","x","y","pos","dx","dy","ViewportAdapter","ViewportAdapter_classCallCheck","_offsetX","_offsetY","_nextOffsetX","_nextOffsetY","_offsetDamping","_scaleFactor","_minScale","_maxScale","scale","damping","ctm","getScreenCTM","f","min","max","dscale","LONG_TAP_TICKS","DOUBLE_TAP_TICKS","SCROLL_SENSITIVITY","CURSOR_RADIUS_SQU","CURSOR_RADIUS","DRAGGING_BUFFER_SQU","DRAGGING_BUFFER","InputAdapter","InputAdapter_classCallCheck","_handlers","_activeDragHandler","_cursor","_mousemove","_mouseup","_touchmove","_touchend","_timer","_pointer","_dragging","_altinput","_holdInputDelay","_dblInputDelay","_scrollSensitivity","_minTapRadius","_draggingRadiusSqu","_prevEmptyInput","_prevEmptyTime","_prevEmptyX","_prevEmptyY","onContextMenu","onMouseMove","onTouchStart","onWheel","onMouseDownThenMove","onMouseDownThenUp","onTouchStartThenMove","onTouchStartThenEnd","onDelayedInputDown","handler","SVGElement","setElement","onTouchMove","update","eventName","_len","eventArgs","_key","apply","hasInputHandlers","cursor","activeElement","blur","focus","button","onInputDown","mouse","transformScreenToView","setPosition","handleEvent","cancelInputEvent","onInputMove","onInputUp","changedTouches","touch","deltaY","getScale","setScale","beginInput","onDragMove","getDistanceSquToInitial","timer","onDragStop","dist","dt","Date","now","endInput","isActive","SMOOTH_OFFSET_DAMPING","MIN_SCALE","MAX_SCALE","ViewportComponent","ViewportComponent_classCallCheck","ViewportComponent_possibleConstructorReturn","ViewportComponent_getPrototypeOf","_ref","createRef","_inputAdapter","getViewport","setMinScale","setMaxScale","setOffsetDamping","inputHandler","addInputHandler","initialize","terminate","getOffsetX","getOffsetY","baseViewSize","viewSize","Number","MIN_VALUE","halfViewSize","getSVGViewBoxString","transform","getSVGTransformString","viewport_component","ExportPanel","ExportPanel_classCallCheck","ExportPanel_possibleConstructorReturn","ExportPanel_getPrototypeOf","exporter","doesSupportFile","getIconClass","getLabel","getFileType","panel_button","getApp","getExportManager","tryExportToFile","exporters","getExporters","renderExporterButton","PanelButton","PanelButton_classCallCheck","PanelButton_possibleConstructorReturn","PanelButton_getPrototypeOf","button_container","PreviewView","PreviewView_classCallCheck","PreviewView_possibleConstructorReturn","PreviewView_getPrototypeOf","preview_container","preview_app","preview_toolbar","preview_workspace","preview_viewport","preview_node","left","preview_notifications","preview_notification_info","preview_notification_error","preview_notification_warning","preview_notification_success","preview_drawer","SKIP_WELCOME_STORAGE_ID","DISABLE_EXIT_WARNING_STORAGE_ID","OptionPanel","OptionPanel_classCallCheck","OptionPanel_getPrototypeOf","theme","customTheme","skipWelcome","LocalSave","getStringFromStorage","exitWarning","onChangeTheme","OptionPanel_assertThisInitialized","opts","getStyleOpts","prevTheme","getOptions","resetStyle","display","experimental_panels_PanelButton","getPropsByGroup","StyleInput","getOptionByProp","menus_option_PreviewView","setStringToStorage","alert","LanguagePanel","LanguagePanel_classCallCheck","LanguagePanel_possibleConstructorReturn","LanguagePanel_getPrototypeOf","localizedName","langFile","language_button","fetchLanguageFile","language_button_list","renderLanguageButton","ModuleLoaderPanel","ModuleLoaderPanel_classCallCheck","ModuleLoaderPanel_possibleConstructorReturn","ModuleLoaderPanel_getPrototypeOf","moduleKey","moduleInfo","useExperimental","isExperimental","currentModule","getModuleName","module_button","version","restartSession","module_button_list","Object","Modules","renderModuleButton","ToolbarDivider","ToolbarDivider_classCallCheck","ToolbarDivider_possibleConstructorReturn","ToolbarDivider_getPrototypeOf","divider","ToolbarUploadButton","ToolbarUploadButton_classCallCheck","ToolbarUploadButton_possibleConstructorReturn","ToolbarUploadButton_getPrototypeOf","ToolbarButtonStyle","PageEmptyIcon_classCallCheck","PageEmptyIcon_possibleConstructorReturn","PageEmptyIcon_getPrototypeOf","UndoIcon_classCallCheck","UndoIcon_possibleConstructorReturn","UndoIcon_getPrototypeOf","RedoIcon_classCallCheck","RedoIcon_possibleConstructorReturn","RedoIcon_getPrototypeOf","BugIcon_classCallCheck","BugIcon_possibleConstructorReturn","BugIcon_getPrototypeOf","WorldIcon_classCallCheck","WorldIcon_possibleConstructorReturn","WorldIcon_getPrototypeOf","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","SettingsIcon_classCallCheck","SettingsIcon_possibleConstructorReturn","SettingsIcon_getPrototypeOf","AppSaver","AppSaver_classCallCheck","AppSaver_possibleConstructorReturn","AppSaver_getPrototypeOf","_app","AbstractLocalSaver","currentModuleName","data","loadFromStorage","getDefaultExporter","importFromData","captureEvent","exportToData","saveToStorage","ColorSaver","styleOpts","ColorSaver_classCallCheck","ColorSaver_possibleConstructorReturn","ColorSaver_getPrototypeOf","_styleOpts","root","getElementById","activeColor","opt","ColorHelper","prop","setStyle","liteColor","inverted","darkColor","registerStyleOption","isDefaultStyle","getStyle","NotificationView","NotificationView_classCallCheck","NotificationView_possibleConstructorReturn","NotificationView_getPrototypeOf","notificationManager","notification_container","getMessages","getID","getComponentClass","componentProps","getComponentProps","NotificationMessage","NotificationView_extends","message","MODULE_TIMEOUT","Session","Session_classCallCheck","_name","_module","_moduleClass","_listeners","listener","moduleName","urlParams","url","parser","href","vars","search","substring","split","pair","decodeURIComponent","URLHelper","location","fetch","ModuleClass","onSessionStart","console","log","stopSession","startSession","onSessionStop","destroy","string","innerHTML","separator","trim","ExportManager","ExportManager_classCallCheck","_exporters","File","Promise","reject","fileName","_loop","canImport","endsWith","catch","importFromFile","error","exportToFile","DrawerManager","DrawerManager_classCallCheck","_panelClasses","_panelProps","panelClass","MenuManager","MenuManager_classCallCheck","getToolbarComponent","closeBar","ViewportManager","ViewportManager_classCallCheck","_viewClasses","_viewProps","viewClass","HotKeyView","HotKeyView_classCallCheck","HotKeyView_possibleConstructorReturn","HotKeyView_getPrototypeOf","_cachedHotKeys","_cacheTimeout","hotKeyManager","showHotKeys","isEnabled","getCurrentlyPossibleHotKeys","useCount","getCurrentHotKeyRepeatCount","currentHotKey","getCurrentHotKey","hotkey_container","hotkey_label","hotkey_name","UndoManager","UndoManager_classCallCheck","history","offsetIndex","_handlerFactory","factory","args","captureEventAsHandler","eventHandler","pop","canUndo","canRedo","applyUndo","applyRedo","TooltipManager","TooltipManager_classCallCheck","_tooltips","_transitionMode","transitionMode","tooltip","App","App_classCallCheck","App_getPrototypeOf","_workspace","_toolbar","_drawer","_labeleditor","StyleOptionRegistry","_colorSaver","_saver","App_assertThisInitialized","_undoManager","_hotKeyManager","_exportManager","_drawerManager","_menuManager","_viewportManager","_renderManager","_tooltipManager","_session","addListener","_init","_mediaQuerySmallWidthList","matchMedia","_mediaQuerySmallHeightList","onModuleTitleClick","addPanelClass","registerAltHotKey","registerHandler","Notifications","clearMessages","unregisterHandler","getWorkspaceComponent","getInputAdapter","updateSession","setEnabled","isDrawerFullscreen","currentModuleLocalizedName","getLocalizedModuleName","hasSmallWidth","matches","hasSmallHeight","isFullscreen","undoManager","exportManager","drawerManager","menuManager","viewportManager","renderManager","tooltipManager","drawerPanelClasses","getPanelClasses","drawerPanelProps","getPanelProps","menuPanelClasses","menuPanelProps","viewportViewClasses","getViewClasses","viewportViewProps","getViewProps","defaultExporter","workspaceRenderers","getRenderersByLayer","workspaceOverlayRenderers","viewportRenderers","viewportOverlayRenderers","app_container","experimental_toolbar_ToolbarView","experimental_toolbar_ToolbarButton","PageEmptyIcon","toolbar_ToolbarUploadButton","getImportFileTypes","join","tryImportFromFile","addErrorMessage","finally","UndoIcon","undo","RedoIcon","redo","DownloadIcon","canExport","experimental_toolbar_ToolbarDivider","BugIcon","WorldIcon","HelpIcon","SettingsIcon","EditPencilIcon","experimental_drawer_DrawerView","experimental_components_UploadDropZone","experimental_tooltip_TooltipView","getTransitionMode","getTooltips","input_components_ViewportComponent","WorkspaceRenderer","workspace","WorkspaceOverlayRenderer","experimental_notification_NotificationView","manager_hotkey_HotKeyView","experimental_viewport_ViewportView","ViewportRenderer","ViewportOverlayRenderer","hot"],"mappings":"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","file":"experimental.bundle.da5a67d5a7ac762983d0.js","sourcesContent":["import React from 'react';\nimport Style from './IconButton.css';\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const showButtonLabel = IconButton.SHOW_LABEL && title;\n\n    return (\n      <button id={this.props.id}\n        className={Style.icon_button +\n          (showButtonLabel ? \" hint \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        {this.props.children}\n        <label>{title}</label>\n      </button>\n    );\n  }\n}\nIconButton.SHOW_LABEL = false;\n\nexport default IconButton;\n","import React from 'react';\nimport Style from './PanelContainer.css';\n\nclass PanelContainer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n  \n  //Override\n  render()\n  {\n    const title = this.props.title;\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{title}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {this.props.children}\n        </div>\n        <div className={Style.panel_bottom}>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PanelContainer;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 10l5 5 5-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14l5-5 5 5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './PanelSection.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport TinyDownIcon from 'experimental/iconset/TinyDownIcon.js';\nimport TinyUpIcon from 'experimental/iconset/TinyUpIcon.js';\n\nclass PanelSection extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: props.initial || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    })\n  }\n\n  //Override\n  componentDidUpdate()\n  {\n    if (this.state.open && this.props.disabled)\n    {\n      this.setState({open: false});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isOpen = this.state.open;\n    const isDisabled = this.props.disabled || React.Children.count(this.props.children) <= 0;\n    const isFull = this.props.full;\n    const title = this.props.title;\n    return (\n      <section id={this.props.id}\n        className={Style.section_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.section_header}\n          title={title}\n          disabled={isDisabled}\n          onClick={this.onClick}>\n          {!isOpen ? <TinyDownIcon/> : <TinyUpIcon/>}\n        </IconButton>\n        <div className={Style.section_content_container +\n          (isOpen ? \" open \" : \"\") +\n          (isFull ? \" full \" : \"\")}>\n          <div className={Style.section_content}>\n            {this.props.children}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PanelSection;\n","/**\n * Used by InputAdapter to handle input event logic.\n */\nclass AbstractInputHandler\n{\n  constructor() {}\n\n  /**\n   * Called by InputAdapter before an InputEvent begins.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not begin.\n   */\n  onPreInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when an InputEvent resolves and is not an Alt input.\n   * To handle events for Alt inputs, refer to onAltInputEvent().\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when an InputEvent resolves and is an Alt input.\n   * To handle events for non-Alt inputs, refer to onInputEvent().\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onAltInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when a DblInputEvent resolves. The input is\n   * assumed by a non-Alt input, since only non-Alt inputs can trigger this\n   * event.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onDblInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when input movess. The input is called before drag\n   * logic.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events (i.e. dragging events).\n   */\n  onMoveInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter before a drag begins. The input could be either\n   * an Alt or non-Alt input.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events, nor continue the drag input.\n   */\n  onDragStart(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter while dragging moves. The input could be either\n   * an Alt or non-Alt input.\n   * Will always be called after onDragStart() and will be followed by\n   * onDragStop() when complete.\n   */\n  onDragMove(pointer) {}\n\n  /**\n   * Called by InputAdapter after a drag ends. The input could be either an\n   * Alt or non-Alt input.\n   * Will always be called after onDragStart(). Although onDragMove may be\n   * called in-between, it is not guaranteed.\n   */\n  onDragStop(pointer) {}\n\n  /**\n   * Called by InputAdapter after an InputEvent ends.\n   */\n  onPostInputEvent(pointer) {}\n\n  /**\n   * Called by InputAdapter when zoom changes.\n   * Returns true if event is consumed (zoom will not be applied)\n   */\n  onZoomChange(pointer, zoomValue, prevValue)\n  {\n    return false;\n  }\n}\n\nexport default AbstractInputHandler;\n","export function userClearGraph(app, graphOnly=false, callback=null)\n{\n  if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n  {\n    const module = app.getCurrentModule();\n    module.getGraphController().getGraph().clear();\n    if (!graphOnly)\n    {\n      app.getUndoManager().clear();\n      app.getSession().setProjectName(null);\n    }\n    if (callback) callback();\n  }\n}\n","export const RENDER_LAYER_WORKSPACE = \"workspace\";\nexport const RENDER_LAYER_WORKSPACE_OVERLAY = \"workspace-overlay\";\nexport const RENDER_LAYER_VIEWPORT = \"viewport\";\nexport const RENDER_LAYER_VIEWPORT_OVERLAY = \"viewport-overlay\";\n\nclass RenderManager\n{\n  constructor()\n  {\n    this._renderMapping = new Map();\n  }\n\n  addRenderer(layerID, rendererClass)\n  {\n    if (this._renderMapping.has(layerID))\n    {\n      this._renderMapping.get(layerID).push(rendererClass);\n    }\n    else\n    {\n      this._renderMapping.set(layerID, [rendererClass]);\n    }\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this._renderMapping.clear();\n  }\n\n  getRenderersByLayer(layerID)\n  {\n    return this._renderMapping.get(layerID);\n  }\n}\n\nexport default RenderManager;\n","import React from 'react';\nimport Style from './PanelSwitch.css';\n\nclass PanelSwitch extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    if (!props.id) throw new Error(\"Must specify id\");\n  }\n\n  //Override\n  render()\n  {\n    const id = this.props.id;\n    const disabled = this.props.disabled;\n    const checked = this.props.checked;\n    const onChange = this.props.onChange;\n\n    return (\n      <div id={id}\n        className={Style.switch_container +\n          (disabled ? \" disabled \" : \"\") +\n          (checked ? \" active \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <label className={Style.panel_switch}\n          style={this.props.style}>\n          <input type=\"checkbox\" id={id + \"-switch\"} checked={checked} onChange={onChange} disabled={disabled}/>\n          <div className={Style.switch_slider}></div>\n        </label>\n        <label className={Style.switch_label}\n          htmlFor={id + \"-switch\"}>\n          {this.props.title}\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default PanelSwitch;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './IconUploadButton.css';\n\nimport IconButton from './IconButton.js';\n\nclass IconUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onFileUpload = this.onFileUpload.bind(this);\n  }\n\n  onFileUpload(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      if (this.props.onUpload) this.props.onUpload(files[0]);\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  //Override\n  render()\n  {\n    const accept = this.props.accept;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.upload_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}>\n        <input type=\"file\" name=\"import\"\n          className={Style.upload_input}\n          disabled={this.props.disabled}\n          accept={accept}\n          onChange={this.onFileUpload}/>\n        {this.props.children}\n      </IconButton>\n    );\n  }\n}\n\nexport default IconUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","export const CTRL_KEY = 'Control';\nexport const META_KEY = 'Meta';\nexport const ALT_KEY = 'Alt';\nexport const SHIFT_KEY = 'Shift';\n//NOTE: For more keys, refer to http://keycode.info/\n\nclass HotKeyManager\n{\n  constructor()\n  {\n    this._hotkeys = [];\n    this._cachedEvent = {\n      ctrlKey: false,\n      metaKey: false,\n      altKey: false,\n      shiftKey: false,\n      code: null\n    };\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._enabled = false;\n\n    this._altHotkey = null;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  registerHotKey(name, keys, callback)\n  {\n    if (!Array.isArray(keys)) throw new Error(\"Must be an array of key codes\");\n    const ctrlIndex = keys.indexOf(CTRL_KEY);\n    if (ctrlIndex >= 0) keys.splice(ctrlIndex, 1);\n    const metaIndex = keys.indexOf(META_KEY);\n    if (metaIndex >= 0) keys.splice(metaIndex, 1);\n    const altIndex = keys.indexOf(ALT_KEY);\n    if (altIndex >= 0) keys.splice(altIndex, 1);\n    const shiftIndex = keys.indexOf(SHIFT_KEY);\n    if (shiftIndex >= 0) keys.splice(shiftIndex, 1);\n    if (keys.length != 1) throw new Error(\"Multiple key operations not supported\");\n    const charKey = keys[0];\n\n    const ctrl = ctrlIndex >= 0 || metaIndex >= 0;\n    const alt = altIndex >= 0;\n    const shift = shiftIndex >= 0;\n\n    const result = {\n      name: name,\n      localizedKeys: (ctrl ? \"Ctrl + \" : \"\") +\n        (alt ? \"Alt + \" : \"\") +\n        (shift ? \"Shift + \" : \"\") +\n        charKey,\n      charKey: charKey,\n      ctrlKey: ctrl,\n      altKey: alt,\n      shiftKey: shift,\n      callback: callback\n    };\n\n    this._hotkeys.unshift(result);\n\n    return this;\n  }\n\n  //HACK: Cause hotkey manager does not allow 'control' hotkeys. This is the exception.\n  registerAltHotKey(name, callback)\n  {\n    if (this._altHotkey) throw new Error(\"Only one hotkey can exist for \\'Alt\\'\");\n\n    this._altHotkey = {\n      name: name,\n      localizedKeys: \"Alt\",\n      charKey: null,\n      ctrlKey: false,\n      altKey: true,\n      shiftKey: false,\n      callback: callback\n    };\n\n    return this;\n  }\n\n  //Override\n  onSessionStart(session)\n  {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n\n    this._enabled = true;\n  }\n\n  //Override\n  onSessionStop(session)\n  {\n    this._enabled = false;\n\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._hotkeys.length = 0;\n    this._altHotkey = null;\n\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  setEnabled(enabled)\n  {\n    this._enabled = enabled;\n  }\n\n  isEnabled()\n  {\n    return this._enabled;\n  }\n\n  findMatchingHotKey(e)\n  {\n    for(const hotkey of this._hotkeys)\n    {\n      if (matchesHotKeyEvent(e, hotkey)) return hotkey;\n    }\n    return null;\n  }\n\n  getCurrentHotKey()\n  {\n    return this._prevHotKey;\n  }\n\n  getCurrentHotKeyRepeatCount()\n  {\n    return this._repeatCount;\n  }\n\n  getCurrentlyPossibleHotKeys(dst=[])\n  {\n    const event = this._cachedEvent;\n    const eventCtrl = event.ctrlKey || event.metaKey;\n    const eventAlt = event.altKey;\n    const eventShift = event.shiftKey;\n    if (!eventCtrl && !eventAlt && !eventShift) return dst;\n    const eventKey = event.code;\n\n    let result = null;\n    for(const hotkey of this._hotkeys)\n    {\n      let flag = false;\n      if (eventCtrl ^ hotkey.ctrlKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventCtrl) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventAlt ^ hotkey.altKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventAlt) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventShift ^ hotkey.shiftKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventShift) flag = true;\n        //Nope.\n        else continue;\n      }\n\n      if (!flag && eventKey === hotkey.charKey)\n      {\n        result = hotkey;\n      }\n\n      dst.push(hotkey);\n    }\n\n    if (result) return result;\n    else return dst;\n  }\n\n  onKeyDown(e)\n  {\n    if (!this._enabled) return;\n\n    if (!e.repeat)\n    {\n      this.captureKeyEvent(e, false);\n\n      let result = this.findMatchingHotKey(this._cachedEvent);\n      if (!result && matchesHotKeyEvent(e, this._altHotkey)) result = this._altHotkey;\n\n      if (result)\n      {\n        if (this._prevHotKey === result)\n        {\n          ++this._repeatCount;\n        }\n        else\n        {\n          this._prevHotKey = result;\n          this._repeatCount = 0;\n        }\n\n        result.callback();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (!this._enabled) return;\n\n    if (this.captureKeyEvent(e, true))\n    {\n      this._prevHotKey = null;\n      this._repeatCount = 0;\n    }\n  }\n\n  captureKeyEvent(e, isKeyUp=false)\n  {\n    this._cachedEvent.ctrlKey = e.ctrlKey;\n    this._cachedEvent.metaKey = e.metaKey;\n    this._cachedEvent.altKey = e.altKey;\n    this._cachedEvent.shiftKey = e.shiftKey;\n    this._cachedEvent.code = isKeyUp ? null : (e.code || null);\n    return isKeyUp && !(this._cachedEvent.ctrlKey || this._cachedEvent.metaKey || this._cachedEvent.altKey || this._cachedEvent.shiftKey);\n  }\n}\n\nexport default HotKeyManager;\n\nfunction matchesHotKeyEvent(e, hotkey)\n{\n  if (hotkey.ctrlKey !== (e.ctrlKey || e.metaKey)) return false;\n  if (hotkey.altKey !== e.altKey) return false;\n  if (hotkey.shiftKey !== e.shiftKey) return false;\n  if (hotkey.charKey && hotkey.charKey !== e.code) return false;\n  return true;\n}\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './DrawerView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ExpandDownIcon from 'experimental/iconset/ExpandDownIcon.js';\n\nconst DRAWER_WIDTH_CSSVAR = \"--drawer-width\";\nconst DRAWER_HANDLE_DRAG_OFFSET = 6;\nconst DRAWER_HANDLE_MIN_SIZE_BUFFER = 32;\nconst DRAWER_HANDLE_MAX_SIZE_BUFFER = 128;\nconst DRAWER_MIN_WIDTH = 200;\nconst DRAWER_RESIZE_REFRESH_RATE = 200;\nconst DRAWER_HANDLE_CUSTOM_SNAP_WIDTH = 300;\n\nconst DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE = true;\nconst DRAWER_SHOULD_HIDE_TAB_LIST = false;\nconst DRAWER_SHOULD_HIDE_FIRST_PANEL = true;\n\nexport const DRAWER_WIDTH_TYPE_FULL = \"full\";\nexport const DRAWER_WIDTH_TYPE_MIN = \"min\";\nexport const DRAWER_SIDE_BOTTOM = \"bottom\";\nexport const DRAWER_SIDE_RIGHT = \"right\";\nexport const DRAWER_BAR_DIRECTION_VERTICAL = \"vertical\";\nexport const DRAWER_BAR_DIRECTION_HORIZONTAL = \"horizontal\";\n\nclass DrawerView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.drawerElement = null;\n\n    this.state = {\n      open: false,\n      tabIndex: 0,\n      soloClass: null,\n      viewportColor: null\n    };\n\n    //When drawer is currently changing size intentfully\n    this._handlingGrab = false;\n    this._handlingResize = false;\n    //Whether the drawer should fullscreen\n    this._isfull = false;\n    //Whether to restore drawer width after fullscreen\n    this._hasintent = false;\n    //Save intentful drawer width for restore after fullscreen\n    this._prevWidth = DRAWER_MIN_WIDTH;\n    //Used to manage resize updates\n    this._resizeTimeout = null;\n    this._resizeEndTimeout = null;\n    //Changed in render() to reflect current render state.\n    this._sideways = false;\n\n    this.onDrawerHandleGrab = this.onDrawerHandleGrab.bind(this);\n    this.onDrawerHandleRelease = this.onDrawerHandleRelease.bind(this);\n    this.onDrawerHandleMove = this.onDrawerHandleMove.bind(this);\n    this.onDrawerExpand = this.onDrawerExpand.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    window.addEventListener('resize', this.onWindowResize, false);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  openDrawer(fullscreen=false, callback=null)\n  {\n    if (fullscreen)\n    {\n      this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n    }\n\n    if (!this.state.open)\n    {\n      this.setState({ open: true }, callback);\n    }\n  }\n\n  closeDrawer(callback=null)\n  {\n    if (this.state.open)\n    {\n      this.setState({ open: false }, callback);\n    }\n  }\n\n  toggleDrawer(callback=null)\n  {\n    this.setState((prev, props) => {\n      return { open: !prev.open };\n    }, callback);\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.open;\n  }\n\n  isDrawerFullscreen()\n  {\n    return this._isfull;\n  }\n\n  setCurrentTab(tabIndex)\n  {\n    if (!this.props.panels) return;\n    if (tabIndex >= this.props.panels.length) tabIndex = 0;\n    if (this.state.open && this.state.tabIndex === tabIndex)\n    {\n      //Toggle fullscreen\n      if (this._isfull)\n      {\n        this.setDrawerWidth(this._prevWidth);\n      }\n      else\n      {\n        this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n      }\n    }\n    else\n    {\n      //Open and set tab index\n      this.setState({open: true, tabIndex: tabIndex});\n    }\n  }\n\n  getCurrentTabIndex()\n  {\n    return this.state.tabIndex;\n  }\n\n  isCurrentTab(tabIndex)\n  {\n    return this.state.tabIndex === tabIndex;\n  }\n\n  setViewportColor(color)\n  {\n    this.state.viewportColor = color;\n  }\n\n  getViewportColor()\n  {\n    return this.state.viewportColor;\n  }\n\n  setDrawerSoloClass(soloClass, callback=null)\n  {\n    this.setState({soloClass: soloClass}, callback);\n  }\n\n  setDrawerWidth(value, hasIntent=true)\n  {\n    if (!this.drawerElement || !this.ref) return;\n\n    this._hasintent = hasIntent;\n\n    const drawerSide = this.props.side;\n    const drawerOffsetY = this.ref.getBoundingClientRect().top;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight - drawerOffsetY:\n      document.documentElement.clientWidth;\n    const minSize = DRAWER_MIN_WIDTH;\n\n    if (typeof value === 'string')\n    {\n      switch(value)\n      {\n        case DRAWER_WIDTH_TYPE_FULL:\n          this._isfull = true;\n          this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n          break;\n        case DRAWER_WIDTH_TYPE_MIN:\n          this._isfull = false;\n          this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, minSize + \"px\");\n          break;\n        default:\n          throw new Error(\"Trying to set drawer width to invalid string\");\n      }\n    }\n    else if (typeof value === 'number')\n    {\n      if (value < minSize + DRAWER_HANDLE_MIN_SIZE_BUFFER) value = minSize;\n      if (value > documentSize - DRAWER_HANDLE_MAX_SIZE_BUFFER)\n      {\n        value = documentSize;\n        this._isfull = true;\n      }\n      else\n      {\n        this._isfull = false;\n      }\n      this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, value + \"px\");\n    }\n    else\n    {\n      throw new Error(\"Trying to set drawer width to unknown value\");\n    }\n  }\n\n  onDrawerExpand()\n  {\n    //Don't close, just small-ify.\n    if (this.state.open && this._isfull)\n    {\n      this.setDrawerWidth(this._prevWidth);\n\n      //If did not make any changes...\n      if (this._isfull)\n      {\n        //Make it do normal stuff.\n        this.toggleDrawer();\n      }\n    }\n    else\n    {\n      this.toggleDrawer();\n    }\n  }\n\n  onWindowResize(e)\n  {\n    if (!this._resizeTimeout)\n    {\n      this._resizeTimeout = setTimeout(() => {\n        this._resizeTimeout = null;\n\n        //Handle resize ends (more like debouncing)\n        if (this._resizeEndTimeout) clearTimeout(this._resizeEndTimeout);\n        else this._handlingResize = true;\n        this._resizeEndTimeout = setTimeout(() => {\n          this._resizeEndTimeout = null;\n          this._handlingResize = false;\n        }, 500);\n\n        if (!this.drawerElement || !this.ref) return;\n\n        const drawerSide = this.props.side;\n        const drawerOffsetY = this.ref.getBoundingClientRect().top;\n        const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n        const documentSize = isDrawerSideBottom ?\n          document.documentElement.clientHeight - drawerOffsetY:\n          document.documentElement.clientWidth;\n\n        if (this._isfull)\n        {\n          if (this._hasintent) return;\n          if (this._prevWidth + DRAWER_HANDLE_MAX_SIZE_BUFFER < documentSize)\n          {\n            this._isfull = false;\n            this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, this._prevWidth + \"px\");\n          }\n        }\n        else\n        {\n          const drawerSize = getCSSDrawerWidth(this.drawerElement);\n          if (drawerSize + DRAWER_HANDLE_MAX_SIZE_BUFFER > documentSize)\n          {\n            this._isfull = true;\n            this._hasintent = false;\n          }\n        }\n      }, DRAWER_RESIZE_REFRESH_RATE);\n    }\n  }\n\n  onDrawerHandleGrab(e)\n  {\n    if (!this._handlingGrab && this.state.open)\n    {\n      this._handlingGrab = true;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n      document.addEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.addEventListener(\"mousemove\", this.onDrawerHandleMove);\n    }\n    else\n    {\n      this.onDrawerHandleRelease(e);\n    }\n  }\n\n  onDrawerHandleRelease(e)\n  {\n    if (this._handlingGrab)\n    {\n      document.removeEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.removeEventListener(\"mousemove\", this.onDrawerHandleMove);\n      this._handlingGrab = false;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n    }\n  }\n\n  onDrawerHandleMove(e)\n  {\n    const drawerSide = this.props.side;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight :\n      document.documentElement.clientWidth;\n    const pointerValue = isDrawerSideBottom ? e.clientY : e.clientX;\n\n    let result = documentSize - pointerValue + DRAWER_HANDLE_DRAG_OFFSET;\n    //Try snapping to some widths...\n    if (!isDrawerSideBottom && Math.abs(result - DRAWER_HANDLE_CUSTOM_SNAP_WIDTH) < DRAWER_HANDLE_MIN_SIZE_BUFFER)\n    {\n      result = DRAWER_HANDLE_CUSTOM_SNAP_WIDTH;\n    }\n    this.setDrawerWidth(result);\n  }\n\n  //Override\n  render()\n  {\n    const drawerPanels = this.props.panels;\n    const drawerSide = this.props.side || DRAWER_SIDE_RIGHT;\n    const drawerDirection = this.props.direction || DRAWER_BAR_DIRECTION_HORIZONTAL;\n    const shouldDrawerHide = this.props.hide || false;\n    const drawerSoloClass = this.state.soloClass;\n\n    const isDrawerOpen = this.state.open;\n    //Assumes that parent container has flex and flex-direction: column for bottom, row for right.\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const shouldDrawerBarSideways = !isDrawerSideBottom && (!isDrawerOpen || drawerDirection === DRAWER_BAR_DIRECTION_VERTICAL);\n    const showDrawerHandle = isDrawerOpen || this._handlingGrab;\n    const shouldDrawerOpenFull = this._isfull;\n    const shouldHideDrawerContent = (DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE && (this._handlingGrab || this._handlingResize)) || !isDrawerOpen;\n    const shouldHideFirstDrawerPanel = DRAWER_SHOULD_HIDE_FIRST_PANEL;\n    const showDrawerTabs = isDrawerOpen || !DRAWER_SHOULD_HIDE_TAB_LIST;\n\n    //Used to handle sideways logic\n    this._sideways = shouldDrawerBarSideways;\n\n    let viewportStyle = {};\n    if (this.state.viewportColor !== null)\n    {\n      viewportStyle['outlineColor'] = this.state.viewportColor;\n    }\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_content +\n        (isDrawerSideBottom ? \" column \" : \"\") +\n        (\" \" + this.props.className)}\n      style={this.props.style}>\n        <div className={Style.app_viewport} style={viewportStyle}>\n          {this.props.children}\n        </div>\n        <div ref={ref=>this.drawerElement=ref}\n        className={\n          Style.app_drawer +\n          (isDrawerOpen ? \" open \" : \"\") +\n          (shouldDrawerBarSideways ? \" drawer-bar-sideways \" : \"\") +\n          (isDrawerSideBottom ? \" drawer-side-bottom \" : \"\") +\n          (shouldDrawerOpenFull ? \" full \" : \"\") +\n          (shouldHideDrawerContent ? \" hide-content \" : \"\") +\n          (this._handlingResize ? \" no-animation \" : \"\") +\n          (shouldDrawerHide ? \" hide \" : \"\")}>\n          <div className={Style.drawer_handle + (showDrawerHandle ? \" show \" : \"\")} onMouseDown={this.onDrawerHandleGrab}>\n            <span>{\"||\"}</span>\n          </div>\n          <div className={Style.drawer_content}>\n            <nav className={Style.drawer_content_bar}>\n              <IconButton className={Style.drawer_tab_expander} onClick={this.onDrawerExpand}>\n                <ExpandDownIcon/>\n              </IconButton>\n              {showDrawerTabs && drawerPanels && drawerPanels.map((e, i) => {\n                if (!e) return null;\n                if (!e['TITLE']) return null;\n                const title = e['TITLE'];\n                const current = this.isCurrentTab(i);\n                const disabled = drawerSoloClass && drawerSoloClass !== e;\n                return (\n                  <a key={title + \":\" + i}\n                    className={Style.drawer_tab +\n                      (current ? \" active \" : \"\") +\n                      (disabled ? \" disabled \" : \"\")}\n                    onClick={() => this.setCurrentTab(i)}>\n                    <label>{title}</label>\n                  </a>\n                );\n              })}\n            </nav>\n            <div className={Style.drawer_content_panel_container}>\n              <div className={Style.drawer_content_panel}>\n                {drawerPanels && drawerPanels.map((e, i) => {\n                  if (!e) return null;\n                  const ComponentClass = e;\n                  const title = e['TITLE'] || \"\";\n                  const current = this.isCurrentTab(i);\n                  const disabled = drawerSoloClass && drawerSoloClass !== e;\n                  return (\n                    <div key={title + \":\" + i}\n                      className={Style.drawer_panel_container +\n                        (!current ? \" hide \" : \"\") +\n                        (disabled ? \" disabled \" : \"\")}>\n                      <ComponentClass className={Style.drawer_panel}\n                        {...this.props.panelProps}\n                        drawer={this}/>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default DrawerView;\n\nfunction getCSSDrawerWidth(drawerElement)\n{\n  return parseInt(window.getComputedStyle(drawerElement).getPropertyValue(DRAWER_WIDTH_CSSVAR).replace(/\\D/g, ''));\n}\n","import React from 'react';\nimport Style from './ToolbarButton.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nexport const TOOLBAR_CONTAINER_MENU = \"menu\";\nexport const TOOLBAR_CONTAINER_TOOLBAR = \"toolbar\";\nexport const TOOLBAR_CONTAINER_ALL = \"all\";\n\nclass ToolbarButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconButton id={this.props.id}\n        className={Style.toolbar_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n}\n\nexport default ToolbarButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarTitle.css';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\nimport OfflineIcon from 'experimental/iconset/OfflineIcon.js';\n\nclass ToolbarTitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.inputElement = null;\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  setTitle(title)\n  {\n    this.inputElement.resetValue(title);\n  }\n\n  getTitle()\n  {\n    return this.inputElement.value;\n  }\n\n  onSubmit(newValue, prevValue)\n  {\n    //If the value has changed or the value remained empty...\n    if (newValue !== prevValue)\n    {\n      if (this.props.onChange) this.props.onChange(newValue);\n    }\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const offline = !(navigator && navigator.onLine);\n    const onClick = this.props.onClick;\n\n    return (\n      <div id={this.props.id}\n        className={Style.title_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <span className={Style.title_input_container}>\n          <FormattedInput ref={ref=>this.inputElement=ref}\n            defaultValue={this.props.defaultValue}\n            onSubmit={this.onSubmit}/>\n          {offline && <OfflineIcon className={Style.offline_status}/>}\n        </span>\n        <div className={Style.title_subtitle} onClick={onClick}>\n          {title}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarTitle;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarView.css';\n\nimport {TOOLBAR_CONTAINER_MENU, TOOLBAR_CONTAINER_TOOLBAR} from './ToolbarButton.js';\nimport ToolbarTitle from './ToolbarTitle.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport MenuIcon from 'experimental/iconset/MenuIcon.js';\n\nconst TOOLBAR_BUTTON_BUFFER = 150;\nconst TOOLBAR_ALLOW_MENU_BAR = true;\nconst TOOLBAR_DEFAULT_MENU_INDEX = -1;\n\nclass ToolbarView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.toolbarElement = null;\n\n    this.state = {\n      open: false,\n      menuIndex: TOOLBAR_DEFAULT_MENU_INDEX\n    };\n\n    this.onBarExpand = this.onBarExpand.bind(this);\n    this.onTitleChange = this.onTitleChange.bind(this);\n  }\n\n  openBar(callback=null)\n  {\n    if (!this.state.open)\n    {\n      //Open it, but also reset menu...\n      this.setState({ open: true, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  closeBar(callback=null)\n  {\n    if (this.state.open)\n    {\n      //Close it, but also reset menu...\n      this.setState({ open: false, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  toggleBar(callback=null)\n  {\n    //Toggle it, but also reset menu...\n    this.setState((prev, props) => {\n      return { open: !prev.open, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX };\n    }, callback);\n  }\n\n  isBarOpen()\n  {\n    return this.state.open;\n  }\n\n  setCurrentMenu(menuIndex)\n  {\n    if (!this.props.menus) return;\n    if (menuIndex >= this.props.menus.length) menuIndex = TOOLBAR_DEFAULT_MENU_INDEX;\n\n    //Open and set tab index\n    this.setState({open: true, menuIndex: menuIndex});\n  }\n\n  getCurrentMenuIndex()\n  {\n    return this.state.menuIndex;\n  }\n\n  isCurrentMenu(menuIndex)\n  {\n    return this.state.menuIndex === menuIndex;\n  }\n\n  onBarExpand(e)\n  {\n    if (this.state.open && this.state.menuIndex  >= 0)\n    {\n      this.setCurrentMenu(TOOLBAR_DEFAULT_MENU_INDEX);\n    }\n    else\n    {\n      this.toggleBar();\n    }\n  }\n\n  onTitleChange(value)\n  {\n    this.props.session.setProjectName(value);\n  }\n\n  renderMenuButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_TOOLBAR) return child;\n    });\n  }\n\n  renderToolbarButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_MENU) return child;\n    });\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const toolbarMenus = this.props.menus;\n    const toolbarMenuIndex = this.state.menuIndex;\n    const ToolbarMenu = toolbarMenuIndex >= 0 ? toolbarMenus[toolbarMenuIndex] : null;\n    const showCustomToolbarMenu = ToolbarMenu != null;\n    const onTitleClick = this.props.onTitleClick;\n\n    const session = this.props.session;\n\n    const hasButtons = React.Children.count(this.props.children) > 0;\n    const isBarOpen = this.state.open;\n    const shouldBarHide = this.props.hide || false;\n    const showBarExpander = isBarOpen || (hasButtons && TOOLBAR_ALLOW_MENU_BAR);\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_bar +\n        (isBarOpen ? \" open \" : \"\") +\n        (shouldBarHide ? \" hide \" : \"\") +\n        \" \" + this.props.className}\n      style={this.props.style}>\n        <div className={Style.bar_menu}>\n          {showCustomToolbarMenu ?\n            <div className={Style.menu_container}>\n              <ToolbarMenu {...this.props.menuProps} toolbar={this}/>\n            </div> :\n            <div className={Style.menu_button_container}>\n              {this.renderMenuButtons(this.props.children)}\n            </div>}\n        </div>\n        <div ref={ref=>this.toolbarElement=ref} className={Style.bar_toolbar}>\n          <ToolbarTitle className={Style.toolbar_title}\n            title={title}\n            defaultValue={session.getProjectName()}\n            onChange={this.onTitleChange}\n            onClick={onTitleClick}/>\n\n          <div className={Style.toolbar_button_container}>\n            {this.renderToolbarButtons(this.props.children)}\n          </div>\n\n          {showBarExpander &&\n          <IconButton className={Style.toolbar_expander} onClick={this.onBarExpand}>\n            <MenuIcon/>\n          </IconButton>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ToolbarView;\n","import React from 'react';\nimport Style from './ViewportView.css';\n\nconst VIEWPORT_DEFAULT_VIEW_INDEX = 0;\n\nclass ViewportView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      viewIndex: VIEWPORT_DEFAULT_VIEW_INDEX\n    };\n  }\n\n  setCurrentView(viewIndex)\n  {\n    if (!this.props.views) return;\n    if (viewIndex >= this.props.views.length) viewIndex = VIEWPORT_DEFAULT_VIEW_INDEX;\n\n    //Open and set tab index\n    this.setState({viewIndex: viewIndex});\n  }\n\n  getCurrentViewIndex()\n  {\n    return this.state.viewIndex;\n  }\n\n  isCurrentView(viewIndex)\n  {\n    return this.state.viewIndex === viewIndex;\n  }\n\n  //Override\n  render()\n  {\n    const viewportViews = this.props.views;\n    const viewportViewIndex = this.state.viewIndex;\n    const ViewportViewPane = viewportViewIndex >= 0 ? viewportViews[viewportViewIndex] : null;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n        id={this.props.id}\n        className={Style.view_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {ViewportViewPane &&\n          <ViewportViewPane {...this.props.viewProps} viewport={this}/>}\n      </div>\n    );\n  }\n}\n\nexport default ViewportView;\n","import React from 'react';\nimport Style from './TooltipView.css';\n\nconst TOOLTIP_WAIT_TIME = 30000;\n\nexport const RANDOM_MODE = \"random\";\nexport const SEQUENTIAL_MODE = \"sequential\";\nexport const ONESHOT_MODE = \"oneshot\";\n\nclass TooltipView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._tooltipTimeout = null;\n\n    this.state = {\n      index: props.initial || 0\n    };\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    clearTimeout(this._tooltipTimeout);\n    this._tooltipTimeout = null;\n  }\n\n  setTooltipIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getTooltipIndex()\n  {\n    return this.state.index;\n  }\n\n  updateTooltip()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    this._tooltipTimeout = null;\n\n    if (visible)\n    {\n      const count = React.Children.count(this.props.children);\n      let nextIndex = this.state.index + 1;\n      if (mode === RANDOM_MODE)\n      {\n        nextIndex = Math.floor(Math.random() * count);\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        if (nextIndex >= count) nextIndex = count - 1;\n      }\n      else\n      {\n        if (nextIndex >= count) nextIndex = 0;\n      }\n      this.setTooltipIndex(nextIndex);\n    }\n    else\n    {\n      if (mode === RANDOM_MODE)\n      {\n        //Pick a random index to start at.\n        this.setTooltipIndex(Math.floor(Math.random() * React.Children.count(this.props.children)));\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        //Skip to the end.\n        this.setTooltipIndex(React.Children.count(this.props.children) - 1);\n      }\n      else\n      {\n        //Go back to the beginning.\n        this.setTooltipIndex(0);\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    const tooltipIndex = this.state.index;\n\n    if (visible && !this._tooltipTimeout)\n    {\n      this._tooltipTimeout = setTimeout(() => {\n        this.updateTooltip();\n      }, TOOLTIP_WAIT_TIME);\n    }\n\n    return (\n      <div id={this.props.id}\n        className={Style.tooltip_container +\n          (visible ? \" visible \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <label style={{opacity: tooltipIndex === i ? 1 : 0}}>\n              {child}\n            </label>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TooltipView;\n","import React from 'react';\nimport Style from './UploadDropZone.css';\n\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\n\nclass UploadDropZone extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this._waiting = false;\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Upload drop zone\n    this.ref.addEventListener(\"drop\", this.onFileDrop);\n    this.ref.addEventListener(\"dragover\", this.onDragEnter);\n    this.ref.addEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.addEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.addEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.ref.removeEventListener(\"drop\", this.onFileDrop);\n    this.ref.removeEventListener(\"dragover\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.removeEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  onDragEnter(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Change state\n    this._waiting = true;\n  }\n\n  onDragLeave(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n  }\n\n  onFileDrop(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n\n    const dataTransfer = e.dataTransfer;\n    let fileBlob = null;\n    if (dataTransfer.items)\n    {\n      const dataItems = dataTransfer.items;\n      const length = dataItems.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = dataItems[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const dataFiles = dataTransfer.files;\n      const length = dataFiles.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = dataFiles[0];\n      }\n    }\n\n    if (this.props.onFileDrop)\n    {\n      //NOTE: fileBlob could be null\n      this.props.onFileDrop(fileBlob);\n    }\n\n    if (dataTransfer.items)\n    {\n      dataTransfer.items.clear();\n    }\n    else\n    {\n      dataTransfer.clearData();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isWaitingForFile = this._waiting;\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.upload_container +\n          (isWaitingForFile ? \" waiting \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <UploadIcon className={Style.upload_icon}/>\n        {React.Children.only(this.props.children)}\n      </div>\n    );\n  }\n}\n\nexport default UploadDropZone;\n","/**\n * Used by InputAdapter to hold input event data.\n */\nclass InputPointer\n{\n  constructor(adapter, element, viewport)\n  {\n    this._adapter = adapter;\n    this._element = element;\n    this._viewport = viewport;\n\n    this._active = false;\n    this._x = 0;\n    this._y = 0;\n\n    this._inputpos = {x: 0, y: 0};\n  }\n\n  get x() { return this._x; }\n  get y() { return this._y; }\n\n  setPosition(x, y)\n  {\n    this._x = x;\n    this._y = y;\n    return this;\n  }\n\n  beginInput()\n  {\n    this._active = true;\n    this._inputpos.x = this._x;\n    this._inputpos.y = this._y;\n  }\n\n  /**\n   * Returns the position which the input began at. This is mutable.\n   */\n  getInputEventPosition() { return this._inputpos; }\n\n  changeInputEventPosition(x, y)\n  {\n    this._inputpos.x = x;\n    this._inputpos.y = y;\n  }\n\n  endInput() { this._active = false; }\n  isActive() { return this._active; }\n\n  getDistanceSquToInitial()\n  {\n    const pos = this._inputpos;\n    const dx = pos.x - this._x;\n    const dy = pos.y - this._y;\n    return dx * dx + dy * dy;\n  }\n\n  /**\n   * The DOM element for which this pointer provides context for; this should be\n   * the same element as in the input adapter.\n   */\n  getElement() { return this._element; }\n\n  /**\n   * The viewport for this pointer operates within; this should be the same\n   * viewport as in the input adapter.\n   */\n  getViewport() { return this._viewport; }\n\n  /**\n   * The input adapter that controls this pointer's properties\n   */\n  getAdapter() { return this._adapter; }\n}\n\nexport default InputPointer;\n","/**\n * Represents and handles the transformations to the interactible viewport of\n * the SVG element.\n */\nclass ViewportAdapter\n{\n  constructor()\n  {\n    this._element = null;\n    this._offsetX = 0;\n    this._offsetY = 0;\n    this._nextOffsetX = 0;\n    this._nextOffsetY = 0;\n    this._offsetDamping = 0.1;\n\n    this._scaleFactor = 1;\n    this._minScale = 1;\n    this._maxScale = 1;\n  }\n\n  setElement(element)\n  {\n    this._element = element;\n    return this;\n  }\n\n  setMinScale(scale)\n  {\n    this._minScale = scale;\n    if (this._scaleFactor < this._minScale) this._scaleFactor = this._minScale;\n    return this;\n  }\n\n  setMaxScale(scale)\n  {\n    this._maxScale = scale;\n    if (this._scaleFactor > this._maxScale) this._scaleFactor = this._maxScale;\n    return this;\n  }\n\n  setOffsetDamping(damping)\n  {\n    this._offsetDamping = damping;\n    return this;\n  }\n\n  update()\n  {\n    const dx = this._nextOffsetX - this._offsetX;\n    this._offsetX += dx * this._offsetDamping;\n    const dy = this._nextOffsetY - this._offsetY;\n    this._offsetY += dy * this._offsetDamping;\n  }\n\n  transformScreenToView(clientX, clientY)\n  {\n    if (!this._element) return {x: clientX - this._offsetX, y: clientY - this._offsetY};\n\n    const ctm = this._element.getScreenCTM();\n    return {\n      x: (clientX - ctm.e) / ctm.a - this._offsetX,\n      y: (clientY - ctm.f) / ctm.d - this._offsetY\n    };\n  }\n\n  setOffset(x, y, immediate=false)\n  {\n    if (immediate)\n    {\n      this._nextOffsetX = this._offsetX = x;\n      this._nextOffsetY = this._offsetY = y;\n    }\n    else\n    {\n      this._nextOffsetX = x;\n      this._nextOffsetY = y;\n    }\n  }\n\n  addOffset(dx, dy, immediate=false)\n  {\n    if (immediate)\n    {\n      this._offsetX += dx;\n      this._offsetY += dy;\n      this._nextOffsetX = this._offsetX;\n      this._nextOffsetY = this._offsetY;\n    }\n    else\n    {\n      this._nextOffsetX += dx;\n      this._nextOffsetY += dy;\n    }\n  }\n\n  setScale(scale) { this._scaleFactor = Math.min(this._maxScale, Math.max(this._minScale, scale)); }\n  addScale(dscale) { this._scaleFactor = Math.min(this._maxScale, Math.max(this._minScale, this._scaleFactor + dscale)); }\n  getOffsetX() { return this._offsetX; }\n  getOffsetY() { return this._offsetY; }\n  getOffsetDamping() { return this._offsetDamping; }\n  getScale() { return this._scaleFactor; }\n  getMinScale() { return this._minScale; }\n  getMaxScale() { return this._maxScale; }\n  getElement() { return this._element; }\n}\n\nexport default ViewportAdapter;\n","import InputPointer from './InputPointer.js';\nimport ViewportAdapter from './ViewportAdapter.js';\n\nconst LONG_TAP_TICKS = 600;\nconst DOUBLE_TAP_TICKS = 600;\nconst SCROLL_SENSITIVITY = 1.0 / 300.0;\nconst CURSOR_RADIUS = 4;\nconst CURSOR_RADIUS_SQU = CURSOR_RADIUS * CURSOR_RADIUS;\nconst DRAGGING_BUFFER = 18;\nconst DRAGGING_BUFFER_SQU = DRAGGING_BUFFER * DRAGGING_BUFFER;\n\n/**\n * Provides an interface for input handlers to interact with a HTMLElement.\n * Each listenable element should correspond to only a single InputAdapter.\n */\nclass InputAdapter\n{\n  constructor()\n  {\n    this._handlers = [];\n    this._activeDragHandler = null;\n\n    this._element = null;\n    this._cursor = {\n      _mousemove: null,\n      _mouseup: null,\n      _touchmove: null,\n      _touchend: null,\n      _timer: null\n    };\n    this._pointer = null;\n\n    this._viewport = new ViewportAdapter();\n\n    //Although dragging could be in pointer, it should be here to allow\n    //the adapter to be independent of pointer.\n    this._dragging = false;\n    this._altinput = false;\n\n    this._holdInputDelay = LONG_TAP_TICKS;\n    this._dblInputDelay = DOUBLE_TAP_TICKS;\n    this._scrollSensitivity = SCROLL_SENSITIVITY;\n    this._minTapRadius = CURSOR_RADIUS_SQU * 16;\n    this._draggingRadiusSqu = CURSOR_RADIUS_SQU + DRAGGING_BUFFER_SQU;\n\n    this._prevEmptyInput = false;\n    this._prevEmptyTime = 0;\n    this._prevEmptyX = 0;\n    this._prevEmptyY = 0;\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    this.onMouseDownThenMove = this.onMouseDownThenMove.bind(this);\n    this.onMouseDownThenUp = this.onMouseDownThenUp.bind(this);\n    this.onTouchStartThenMove = this.onTouchStartThenMove.bind(this);\n    this.onTouchStartThenEnd = this.onTouchStartThenEnd.bind(this);\n\n    this.onDelayedInputDown = this.onDelayedInputDown.bind(this);\n  }\n\n  addInputHandler(handler)\n  {\n    this._handlers.push(handler);\n    return this;\n  }\n\n  removeInputHandler(handler)\n  {\n    const index = this._handlers.indexOf(handler);\n    if (index >= 0) this._handlers.splice(index, 1);\n    return this;\n  }\n\n  initialize(element)\n  {\n    if (!(element instanceof SVGElement)) throw new Error(\"Missing SVG element for input adapter's viewport\");\n    if (this._element) throw new Error(\"Trying to initialize an InputAdapter already initialized\");\n\n    this._viewport.setElement(this._element = element);\n    this._pointer = new InputPointer(this, this._element, this._viewport);\n\n    this._element.addEventListener('mousedown', this.onMouseDown);\n    this._element.addEventListener('mousemove', this.onMouseMove);\n    this._element.addEventListener('touchstart', this.onTouchStart);\n    this._element.addEventListener('touchmove', this.onTouchMove);\n    this._element.addEventListener('contextmenu', this.onContextMenu);\n    this._element.addEventListener('wheel', this.onWheel);\n  }\n\n  destroy()\n  {\n    if (!this._element) throw new Error(\"Trying to destroy an InputAdapter that is not yet initialized\");\n\n    this._element.removeEventListener('mousedown', this.onMouseDown);\n    this._element.removeEventListener('mousemove', this.onMouseMove);\n    this._element.removeEventListener('touchstart', this.onTouchStart);\n    this._element.removeEventListener('contextmenu', this.onContextMenu);\n    this._element.removeEventListener('wheel', this.onWheel);\n\n    this._element = null;\n  }\n\n  update()\n  {\n    if (this._element)\n    {\n      //Smooth transition offset\n      this._viewport.update();\n    }\n  }\n\n  handleEvent(eventName, ...eventArgs)\n  {\n    //Let others handle this event...\n    for(const handler of this._handlers)\n    {\n      if (handler[eventName](...eventArgs))\n      {\n        return handler;\n      }\n    }\n\n    return null;\n  }\n\n  onMouseDown(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Blur any element in focus\n    document.activeElement.blur();\n    this._element.focus();\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    //HACK: To allow Mac's to use ctrl+click as right clicks\n    const button = e.ctrlKey ? 2 : e.button;\n\n    //Is this a valid mouse down?\n    if (this.onInputDown(e.clientX, e.clientY, button))\n    {\n      //Start mouse down logic...\n      cursor._mousemove = this.onMouseDownThenMove;\n      cursor._mouseup = this.onMouseDownThenUp;\n\n      document.addEventListener('mousemove', cursor._mousemove);\n      document.addEventListener('mouseup', cursor._mouseup);\n    }\n\n    return false;\n  }\n\n  onMouseMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    const mouse = this._viewport.transformScreenToView(e.clientX, e.clientY);\n    const pointer = this._pointer;\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (this.handleEvent('onMoveInputEvent', pointer))\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      this.cancelInputEvent();\n    }\n  }\n\n  onMouseDownThenMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.onInputMove(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onMouseDownThenUp(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    this.onInputUp(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onTouchStart(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    if (e.changedTouches.length == 1)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const cursor = this._cursor;\n\n      //Blur any element in focus\n      document.activeElement.blur();\n      this._element.focus();\n\n      //Make sure touch move is deleted, just in case\n      if (cursor._touchmove)\n      {\n        document.removeEventListener('touchmove', cursor._touchmove);\n        cursor._touchmove = null;\n      }\n      //Make sure touch end is deleted, just in case\n      if (cursor._touchend)\n      {\n        document.removeEventListener('touchend', cursor._touchend);\n        cursor._touchend = null;\n      }\n\n      const touch = e.changedTouches[0];\n      //Is this a valid touch start?\n      if (this.onInputDown(touch.clientX, touch.clientY, 0))\n      {\n        //Start touch start logic...\n        cursor._touchmove = this.onTouchStartThenMove;\n        cursor._touchend = this.onTouchStartThenEnd;\n\n        document.addEventListener('touchmove', cursor._touchmove);\n        document.addEventListener('touchend', cursor._touchend);\n      }\n\n      return false;\n    }\n  }\n\n  onTouchStartThenEnd(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._touchmove)\n    {\n      document.removeEventListener('touchmove', cursor._touchmove);\n      cursor._touchmove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._touchend)\n    {\n      document.removeEventListener('touchend', cursor._touchend);\n      cursor._touchend = null;\n    }\n\n    const touch = e.changedTouches[0];\n    this.onInputUp(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onTouchStartThenMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const touch = e.changedTouches[0];\n    this.onInputMove(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onContextMenu(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    return false;\n  }\n\n  onWheel(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const pointer = this._pointer;\n    const dy = e.deltaY * this._scrollSensitivity;\n    const prev = this._viewport.getScale();\n    const next = prev + dy;\n\n    //Let others handle this event...\n    if (!this.handleEvent('onZoomChange', pointer, next, prev))\n    {\n      this._viewport.setScale(next);\n    }\n\n    return false;\n  }\n\n  onInputDown(x, y, button)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    //Setup for hold timer...\n    const cursor = this._cursor;\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    this._dragging = false;\n    this._altinput = button == 2;\n\n    //Let others handle this event...\n    if (!this.handleEvent('onPreInputEvent', pointer))\n    {\n      pointer.beginInput();\n      cursor._timer = setTimeout(this.onDelayedInputDown, this._holdInputDelay);\n      return true;\n    }\n\n    return false;\n  }\n\n  onDelayedInputDown()\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    //That means the input is remaining still (like a hold)...\n    if (!this._dragging)\n    {\n      this._altinput = true;\n    }\n  }\n\n  onInputMove(x, y)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (!this._dragging)\n    {\n      if (pointer.getDistanceSquToInitial() > this._draggingRadiusSqu)\n      {\n        this._dragging = true;\n\n        //Let others handle this event...\n        const result = this.handleEvent('onDragStart', pointer);\n        if (!result)\n        {\n          this._dragging = false;\n\n          //TODO: you could NOT cancel the event and just update the target?\n          //If so, who is the initial target then?\n\n          //Stop the input event early...\n          this.cancelInputEvent();\n        }\n        else\n        {\n          this._activeDragHandler = result;\n        }\n      }\n      else\n      {\n        //Still a click or hold...\n      }\n    }\n    else\n    {\n      //Continue to drag...\n      if (this._activeDragHandler)\n      {\n        this._activeDragHandler.onDragMove(pointer);\n      }\n    }\n  }\n\n  onInputUp(x, y)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    const cursor = this._cursor;\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    //Update pointer target to final position\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (this._dragging)\n    {\n      //Stop dragging!\n      if (this._activeDragHandler)\n      {\n        this._activeDragHandler.onDragStop(pointer);\n        this._activeDragHandler = null;\n      }\n    }\n    else\n    {\n      if (this._altinput)\n      {\n        //Alt Tap!\n        this.handleEvent('onAltInputEvent', pointer);\n      }\n      else\n      {\n        //If the input was not consumed...\n        if (!this.handleEvent('onInputEvent', pointer))\n        {\n          //Try for double tap...\n          const dx = x - this._prevEmptyX;\n          const dy = y - this._prevEmptyY;\n          const dist = dx * dx + dy * dy;\n          const dt = Date.now() - this._prevEmptyTime;\n          if (this._prevEmptyInput &&\n            dist < this._minTapRadius &&\n            dt < this._dblInputDelay)\n          {\n            //Double tap!\n            this.handleEvent('onDblInputEvent', pointer);\n\n            this._prevEmptyInput = false;\n          }\n          else\n          {\n            this._prevEmptyInput = true;\n            this._prevEmptyTime = Date.now();\n            this._prevEmptyX = x;\n            this._prevEmptyY = y;\n          }\n        }\n      }\n    }\n\n    pointer.endInput();\n    this.handleEvent('onPostInputEvent', pointer);\n  }\n\n  cancelInputEvent()\n  {\n    const pointer = this._pointer;\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    pointer.endInput();\n    this.handleEvent('onPostInputEvent', pointer);\n  }\n\n  clearInputHandlers() { this._handlers.clear(); }\n  hasInputHandlers() { return this._handlers.length > 0; }\n  getActiveElement() { return this._element; }\n  getViewport() { return this._viewport; }\n  getPointerX() { return this._pointer ? this._pointer.x : 0; }\n  getPointerY() { return this._pointer ? this._pointer.y : 0; }\n  isPointerActive() { return this._pointer ? this._pointer.isActive() : false; }\n  isUsingTouch() { return this._cursor._touchmove || this._cursor._touchend; }\n  isAltInput() { return this._altinput; }\n  isDragging() { return this._dragging; }\n}\n\nexport default InputAdapter;\n","import React from 'react';\nimport Style from './ViewportComponent.css';\n\nimport InputAdapter from '../InputAdapter.js';\nimport AbstractInputHandler from '../AbstractInputHandler.js';\n\nconst DEFAULT_VIEW_SIZE = 300;\nconst SMOOTH_OFFSET_DAMPING = 0.4;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\n\nclass ViewportComponent extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._ref = React.createRef();\n\n    this._inputAdapter = new InputAdapter();\n    this._inputAdapter.getViewport()\n      .setMinScale(MIN_SCALE)\n      .setMaxScale(MAX_SCALE)\n      .setOffsetDamping(SMOOTH_OFFSET_DAMPING);\n  }\n\n  addInputHandler(inputHandler)\n  {\n    if (!(inputHandler instanceof AbstractInputHandler)) throw new Error(\"input handler must be an instanceof AbstractInputHandler\");\n    this._inputAdapter.addInputHandler(inputHandler);\n    return this;\n  }\n\n  //Override\n  componentDidMount()\n  {\n    this._inputAdapter.initialize(this._ref.current);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._inputAdapter.terminate();\n  }\n\n  //Override\n  componentDidUpdate()\n  {\n    this._inputAdapter.update();\n  }\n\n  getSVGTransformString()\n  {\n    const viewport = this._inputAdapter.getViewport();\n    return \"translate(\" + viewport.getOffsetX() + \" \" + viewport.getOffsetY() + \")\";\n  }\n\n  getSVGViewBoxString(baseViewSize)\n  {\n    const viewport = this._inputAdapter.getViewport();\n    const viewSize = baseViewSize * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfViewSize = viewSize / 2;\n    return (-halfViewSize) + \" \" + (-halfViewSize) + \" \" + viewSize + \" \" + viewSize;\n  }\n\n  getSVGElement()\n  {\n    return this._ref.current;\n  }\n\n  getInputAdapter()\n  {\n    return this._inputAdapter;\n  }\n\n  //Override\n  render()\n  {\n    const viewBox = this.getSVGViewBoxString(this.props.viewSize || DEFAULT_VIEW_SIZE);\n    const transform = this.getSVGTransformString();\n\n    return (\n      <svg ref={this._ref}\n        id={this.props.id}\n        className={Style.viewport_component + \" \" + this.props.className}\n        style={this.props.style}\n        viewBox={viewBox}>\n        <g transform={transform}>\n          {this.props.children}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default ViewportComponent;\n","import React from 'react';\nimport Style from '../MenuPanel.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass ExportPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n    const IconClass = exporter.getIconClass();\n    return (\n      <IconButton key={exporter.getLabel() + \":\" + exporter.getFileType()}\n        className={Style.panel_button}\n        title={exporter.getLabel()}\n        onClick={() => this.props.session.getApp().getExportManager().tryExportToFile(exporter)}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const session = this.props.session;\n    const exportManager = session.getApp().getExportManager();\n    const exporters = exportManager.getExporters();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {exporters.map(e => this.renderExporterButton(e))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExportPanel;\n","import React from 'react';\nimport Style from './PanelButton.css';\n\nclass PanelButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <button id={this.props.id}\n        className={Style.button_container +\n          \" \" + this.props.className}\n        style={this.props.style}\n        onClick={this.props.onClick}>\n        {this.props.children}\n      </button>\n    );\n  }\n}\n\nexport default PanelButton;\n","import React from 'react';\nimport Style from './PreviewView.css';\n\nclass PreviewView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.preview_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.preview_app}>\n          <div className={Style.preview_toolbar}>\n          </div>\n          <div className={Style.preview_workspace}>\n            <div className={Style.preview_viewport}>\n              <div className={Style.preview_node} style={{left: \"25%\", top: \"40%\"}}></div>\n              <div className={Style.preview_node} style={{left: \"40%\", top: \"40%\"}}></div>\n            </div>\n            <div className={Style.preview_notifications}>\n              <div className={Style.preview_notification_info}></div>\n              <div className={Style.preview_notification_error}></div>\n              <div className={Style.preview_notification_warning}></div>\n              <div className={Style.preview_notification_success}></div>\n            </div>\n            <div className={Style.preview_drawer}>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PreviewView;\n","import React from 'react';\nimport Style from './OptionPanel.css';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport StyleInput from 'system/styleopt/components/StyleInput.js';\n\nimport PanelContainer from 'experimental/panels/PanelContainer.js';\nimport PanelSection from 'experimental/panels/PanelSection.js';\nimport PanelSwitch from 'experimental/panels/PanelSwitch.js';\nimport PanelButton from 'experimental/panels/PanelButton.js';\n\nimport PreviewView from './PreviewView.js';\n\n//This should be the same as the one referred to by index.js\nconst SKIP_WELCOME_STORAGE_ID = \"skipWelcome\";\nconst DISABLE_EXIT_WARNING_STORAGE_ID = \"disableExitWarning\";\nconst ENABLE_MODULES = process.env.NODE_ENV === 'development';\n\nclass OptionPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      theme: \"default\",\n      customTheme: false,\n      skipWelcome: LocalSave.getStringFromStorage(SKIP_WELCOME_STORAGE_ID) === \"true\",\n      exitWarning: LocalSave.getStringFromStorage(DISABLE_EXIT_WARNING_STORAGE_ID) === \"true\"\n    };\n\n    this.onChangeTheme = this.onChangeTheme.bind(this);\n  }\n\n  onChangeTheme(e)\n  {\n    const session = this.props.session;\n    const app = session.getApp();\n    const opts = app.getStyleOpts();\n    const prevTheme = this.state.theme;\n    const theme = e.target.value;\n    if (prevTheme === theme) return;\n\n    if (theme === \"default\")\n    {\n      for(let option of opts.getOptions())\n      {\n        option.resetStyle();\n      }\n    }\n\n    this.setState({theme: theme});\n  }\n\n  //Override\n  render()\n  {\n    const session = this.props.session;\n    const currentModule = session.getCurrentModule();\n    const opts = session.getApp().getStyleOpts();\n\n    return (\n      <PanelContainer id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={I18N.toString(\"component.options.title\")}>\n        <PanelSection title=\"Theme\">\n          <div style={{display: \"flex\"}}>\n            <div style={{width: \"60%\"}}>\n              <div id=\"options-theme-select-container\">\n                <select id=\"options-theme-select\" className=\"panel-select\" value={this.state.theme} onChange={this.onChangeTheme} disabled={this.state.customTheme}>\n                  <option value=\"default\">Default</option>\n                  <option value=\"ucsd\" disabled={true}>UC San Diego (Coming Soon)</option>\n                  <option value=\"duke\" disabled={true}>Duke University (Coming Soon)</option>\n                  <option value=\"mit\" disabled={true}>MIT (Coming Soon)</option>\n                </select>\n                {\n                  !this.state.customTheme &&\n                  <PanelButton onClick={() => this.setState({customTheme: true})}>\n                    {I18N.toString(\"action.options.changetheme\")}\n                  </PanelButton>\n                }\n              </div>\n              {\n                this.state.customTheme && <div>\n\n                  <PanelSection title={\"General Colors\"} full={true}>\n                    {opts.getPropsByGroup(\"general\").map(e => (\n                      <div key={e}>\n                        <StyleInput value={opts.getOptionByProp(e)}\n                          title={I18N.toString(\"options.\" + e)}/>\n                      </div>\n                    ))}\n                  </PanelSection>\n\n                  <PanelSection title={\"Surface Colors\"} full={true}>\n                    {opts.getPropsByGroup(\"surface\").map(e => (\n                      <div key={e}>\n                        <StyleInput value={opts.getOptionByProp(e)}\n                          title={I18N.toString(\"options.\" + e)}/>\n                      </div>\n                    ))}\n                  </PanelSection>\n\n                  <PanelSection title={\"Graph Colors\"} full={true}>\n                    {opts.getPropsByGroup(\"graph\").map(e => (\n                      <div key={e}>\n                        <StyleInput value={opts.getOptionByProp(e)}\n                          title={I18N.toString(\"options.\" + e)}/>\n                      </div>\n                    ))}\n                  </PanelSection>\n\n                  <PanelButton onClick={(e) => {\n                    for(let option of opts.getOptions())\n                    {\n                      option.resetStyle();\n                    }\n                    this.setState({customTheme: false});\n                  }}>\n                    {I18N.toString(\"action.options.reset\")}\n                  </PanelButton>\n                </div>\n              }\n            </div>\n            <div>\n              <PreviewView/>\n            </div>\n          </div>\n        </PanelSection>\n\n        <PanelSwitch id={\"option-skipwelcome\"}\n          checked={this.state.skipWelcome}\n          title={I18N.toString(\"options.skipwelcome\")}\n          onChange={(e) => {\n            const result = e.target.checked;\n            this.setState({skipWelcome: result});\n            LocalSave.setStringToStorage(SKIP_WELCOME_STORAGE_ID, \"\" + result);\n          }}/>\n        <PanelSwitch id={\"option-exitwarning\"}\n          checked={this.state.exitWarning}\n          title={I18N.toString(\"options.exitwarning\")}\n          onChange={(e) => {\n            const result = e.target.checked;\n            this.setState({exitWarning: result});\n            LocalSave.setStringToStorage(DISABLE_EXIT_WARNING_STORAGE_ID, \"\" + result);\n          }}/>\n\n        <PanelButton onClick={() => {\n          if (window.confirm(\"This will clear any cached or saved data. Are you sure you want to continue?\"))\n          {\n            LocalSave.setStringToStorage(\"enableExperimental\", \"false\");\n            //TODO: This is only to force use default module, remove later.\n            LocalSave.setStringToStorage(\"currentModule\", \"\");\n\n            try { LocalSave.terminate(); }\n            catch(e){/* Ignore if it fails. */}\n\n            window.alert(\"It's done! Restart to apply changes!\");\n          }\n        }}>\n          {\"Get out of Experimental Mode and return to Safety\"}\n        </PanelButton>\n      </PanelContainer>\n    );\n  }\n}\n\nexport default OptionPanel;\n","import React from 'react';\nimport Style from './LanguagePanel.css';\n\nimport PanelContainer from 'experimental/panels/PanelContainer.js';\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass LanguagePanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderLanguageButton(localizedName, langFile)\n  {\n    return (\n      <IconButton key={langFile}\n        className={Style.language_button}\n        title={localizedName}\n        onClick={(e) => I18N.fetchLanguageFile(langFile)}>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const session = this.props.session;\n\n    return (\n      <PanelContainer id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={I18N.toString(\"component.language.title\")}>\n        <div className={Style.language_button_list}>\n          {this.renderLanguageButton(\"English\", \"en_us\")}\n          {this.renderLanguageButton(\"Pirate Speak\", \"xx_pirate\")}\n        </div>\n      </PanelContainer>\n    );\n  }\n}\n\nexport default LanguagePanel;\n","import React from 'react';\nimport Style from './ModuleLoaderPanel.css';\n\nimport PanelContainer from 'experimental/panels/PanelContainer.js';\nimport IconButton from 'experimental/components/IconButton.js';\n\nimport Modules from 'modules/Modules.js';\n\nclass ModuleLoaderPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderModuleButton(moduleKey, moduleInfo)\n  {\n    const session = this.props.session;\n    const app = session.getApp();\n    const useExperimental = app.isExperimental();\n    const currentModule = session.getCurrentModule();\n    const currentModuleName = currentModule ? currentModule.getModuleName() : \"\";\n\n    return (\n      <IconButton key={moduleKey}\n        className={Style.module_button}\n        title={moduleInfo.name + \" (\" + moduleInfo.version + \")\"}\n        disabled={moduleInfo['experimental'] !== useExperimental || moduleInfo['disabled']}\n        onClick={(e) => {\n          session.restartSession(session.getApp(), moduleKey);\n        }}>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const session = this.props.session;\n    const app = session.getApp();\n    const useExperimental = app.isExperimental();\n    const currentModule = session.getCurrentModule();\n    const currentModuleName = currentModule ? currentModule.getModuleName() : \"\";\n\n    return (\n      <PanelContainer\n        id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={\"Change Modules\"}>\n        <div className={Style.module_button_list}>\n          {Object.keys(Modules).map(e => this.renderModuleButton(e, Modules[e]))}\n        </div>\n      </PanelContainer>\n    );\n  }\n}\n\nexport default ModuleLoaderPanel;\n","import React from 'react';\nimport Style from './ToolbarDivider.css';\n\nclass ToolbarDivider extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.divider + \" \" + this.props.className}\n        style={this.props.style}>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarDivider;\n","import React from 'react';\n\nimport ToolbarButtonStyle from './ToolbarButton.css';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nclass ToolbarUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconUploadButton id={this.props.id}\n        className={ToolbarButtonStyle.toolbar_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        accept={this.props.accept}\n        onUpload={this.props.onUpload}>\n        <IconClass/>\n      </IconUploadButton>\n    );\n  }\n}\n\nexport default ToolbarUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"}/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 20 20\">\n        <path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import AbstractLocalSaver from 'system/localsave/AbstractLocalSaver.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nclass AppSaver extends AbstractLocalSaver\n{\n  constructor(app)\n  {\n    super();\n\n    this._app = app;\n  }\n\n  //Override\n  onLoadSave()\n  {\n    const app = this._app;\n    const session = app.getSession();\n    const currentModule = session.getCurrentModule();\n    const currentModuleName = currentModule.getModuleName();\n\n    const data = LocalSave.loadFromStorage(\"graph-\" + currentModuleName);\n    if (data)\n    {\n      const exporter = app.getExportManager().getDefaultExporter();\n      if (exporter)\n      {\n        exporter.importFromData(data, currentModule);\n\n        app.getUndoManager().captureEvent();\n      }\n    }\n  }\n\n  //Override\n  onUnloadSave()\n  {\n    //Don't do anything...\n  }\n\n  //Override\n  onAutoSave()\n  {\n    const app = this._app;\n    const session = app.getSession();\n    const currentModule = session.getCurrentModule();\n    const currentModuleName = currentModule.getModuleName();\n\n    const exporter = app.getExportManager().getDefaultExporter();\n    if (exporter)\n    {\n      const data = exporter.exportToData(currentModule);\n      LocalSave.saveToStorage(\"graph-\" + currentModuleName, data);\n    }\n  }\n\n  getApp()\n  {\n    return this._app;\n  }\n}\n\nexport default AppSaver;\n","import AbstractLocalSaver from 'system/localsave/AbstractLocalSaver.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport * as ColorHelper from 'util/ColorHelper.js';\n\nclass ColorSaver extends AbstractLocalSaver\n{\n  constructor(styleOpts)\n  {\n    super();\n\n    this._styleOpts = styleOpts;\n  }\n\n  initialize()\n  {\n    const root = document.getElementById(\"root\");\n    const opts = this._styleOpts;\n\n    function activeColor(opt, value)\n    {\n      const color = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, false, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-active\").setStyle(result);\n    }\n    function liteColor(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.39, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-lite\").setStyle(result);\n    }\n    function darkColor(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.2, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-dark\").setStyle(result);\n    }\n    opts.registerStyleOption(root, \"--color-graph-node\", \"color\", \"graph\");\n    opts.registerStyleOption(root, \"--color-graph-text\", \"color\", \"graph\");\n    opts.registerStyleOption(root, \"--color-graph-select\", \"color\", \"graph\");\n\n    opts.registerStyleOption(root, \"--color-accent\", \"color\", \"general\");\n    opts.registerStyleOption(root, \"--color-primary\", \"color\", \"general\", (...args) => {\n      liteColor(...args);\n      darkColor(...args);\n    });\n    opts.registerStyleOption(root, \"--color-primary-text\", \"color\", \"general\");\n    opts.registerStyleOption(root, \"--color-primary-lite\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-primary-dark\", \"color\", \"hidden\");\n\n    opts.registerStyleOption(root, \"--color-background\", \"color\", \"general\", (...args) => {\n      activeColor(...args);\n      liteColor(...args);\n    });\n    opts.registerStyleOption(root, \"--color-background-active\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-background-lite\", \"color\", \"hidden\");\n\n    opts.registerStyleOption(root, \"--color-success\", \"color\", \"general\");\n    opts.registerStyleOption(root, \"--color-warning\", \"color\", \"general\");\n\n    opts.registerStyleOption(root, \"--color-surface\", \"color\", \"surface\", (...args) => {\n      activeColor(...args);\n      liteColor(...args);\n      darkColor(...args);\n    });\n    opts.registerStyleOption(root, \"--color-surface-text\", \"color\", \"surface\");\n    opts.registerStyleOption(root, \"--color-surface-active\", \"color\", \"surface\");\n    opts.registerStyleOption(root, \"--color-surface-lite\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-surface-dark\", \"color\", \"hidden\");\n\n    opts.registerStyleOption(root, \"--color-surface-error\", \"color\", \"surface\", darkColor);\n    opts.registerStyleOption(root, \"--color-surface-error-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-surface-success\", \"color\", \"surface\", darkColor);\n    opts.registerStyleOption(root, \"--color-surface-success-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-surface-warning\", \"color\", \"surface\", darkColor);\n    opts.registerStyleOption(root, \"--color-surface-warning-dark\", \"color\", \"hidden\");\n\n    opts.initialize();\n  }\n\n  destroy()\n  {\n    const opts = this._styleOpts;\n    opts.terminate();\n  }\n\n  //Override\n  onLoadSave()\n  {\n    const opts = this._styleOpts;\n    const data = LocalSave.loadFromStorage(\"prefs-color\");\n    for(let prop in data)\n    {\n      const opt = opts.getOptionByProp(prop);\n      if (opt)\n      {\n        opt.setStyle(data[prop]);\n      }\n    }\n  }\n\n  //Override\n  onUnloadSave()\n  {\n    //Don't do anything...\n  }\n\n  //Override\n  onAutoSave()\n  {\n    const opts = this._styleOpts;\n    const data = {};\n    for(let opt of opts.getOptions())\n    {\n      if (!opt.isDefaultStyle())\n      {\n        data[opt.prop] = opt.getStyle();\n      }\n    }\n    LocalSave.saveToStorage(\"prefs-color\", data);\n  }\n\n  getStyleOpts()\n  {\n    return this._styleOpts;\n  }\n}\n\nexport default ColorSaver;\n","import React from 'react';\nimport Style from './NotificationView.css';\n\nimport NotificationMessage from 'system/notification/components/NotificationMessage.js';\n\nclass NotificationView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const notificationManager = this.props.notificationManager;\n    return <div id={this.props.id}\n      className={Style.notification_container +\n        \" \" + this.props.className}\n      style={this.props.style}>\n    {\n      notificationManager.getMessages().map(e => {\n        const id = e.getID();\n        const ComponentClass = e.getComponentClass();\n        const componentProps = e.getComponentProps() || {};\n\n        return <NotificationMessage key={id} value={e}>\n        { ComponentClass && <ComponentClass message={e} {...componentProps}/> }\n        </NotificationMessage>;\n      })\n    }\n    </div>;\n  }\n}\nexport default NotificationView;\n","import Modules from 'modules/Modules.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport * as URLHelper from 'util/URLHelper.js';\n\nconst DEFAULT_MODULE_ID = \"fsa2\"\nexport const CURRENT_MODULE_STORAGE_ID = \"currentModule\";\nconst MODULE_LOAD_DELAY = 300;\nlet MODULE_TIMEOUT = null;\n\nclass Session\n{\n  constructor()\n  {\n    this._name = I18N.toString(\"file.untitled\");\n    this._module = null;\n    this._moduleClass = null;\n    this._app = null;\n\n    this._listeners = [];\n  }\n\n  addListener(listener)\n  {\n    this._listeners.push(listener);\n    return this;\n  }\n\n  startSession(app, moduleName=null)\n  {\n    //Load from storage, url, or default, if not specified...\n    if (!moduleName || moduleName.length <= 0)\n    {\n      const urlParams = URLHelper.getURLParameters(URLHelper.getCurrentURL());\n      if ('module' in urlParams) moduleName = urlParams['module'];\n      if (!moduleName || moduleName.length <= 0)\n      {\n        moduleName = LocalSave.getStringFromStorage(CURRENT_MODULE_STORAGE_ID);\n        if (!moduleName || moduleName.length <= 0)\n        {\n          moduleName = DEFAULT_MODULE_ID;\n        }\n      }\n    }\n\n    //Check registered module info...\n    const moduleInfo = Modules[moduleName];\n    if (!moduleInfo)\n    {\n      window.alert(\"Cannot find registered module with id \\'\" + moduleName + \"\\'\");\n      return;\n    }\n    const useExperimental = moduleInfo['experimental'];\n    if (useExperimental && !app.isExperimental())\n    {\n      window.alert(\"Cannot load experimental module with id \\'\" + moduleName + \"\\' on stable app version.\");\n      return;\n    }\n    else if (!useExperimental && app.isExperimental())\n    {\n      window.alert(\"Cannot load stable module with id \\'\" + moduleName + \"\\' on experimental app version.\");\n      return;\n    }\n\n    //Overwrite any past calls...\n    if (MODULE_TIMEOUT) clearTimeout(MODULE_TIMEOUT);\n\n    MODULE_TIMEOUT = setTimeout(() => {\n      moduleInfo.fetch((ModuleClass) => {\n        MODULE_TIMEOUT = null;\n\n        this._app = app;\n        this._moduleClass = ModuleClass;\n        try\n        {\n          this._module = new ModuleClass(app);\n          this._module.initialize(app);\n\n          for(const listener of this._listeners)\n          {\n            listener.onSessionStart(this);\n          }\n\n          LocalSave.setStringToStorage(CURRENT_MODULE_STORAGE_ID, moduleName);\n        }\n        catch (e)\n        {\n          console.log(e);\n          window.alert(\"Could not load module with id \\'\" + moduleName + \"\\'\");\n        }\n      });\n    }, MODULE_LOAD_DELAY);\n  }\n\n  restartSession(app, moduleName=null)\n  {\n    this.stopSession(app);\n    this.startSession(app, moduleName);\n  }\n\n  updateSession(app)\n  {\n    if (this._module)\n    {\n      this._module.update(app);\n    }\n  }\n\n  stopSession(app)\n  {\n    for(const listener of this._listeners)\n    {\n      listener.onSessionStop(this);\n    }\n\n    this._module.destroy(this._app);\n    this._moduleClass = null;\n    this._module = null;\n  }\n\n  setProjectName(name)\n  {\n    if (!name || name.length <= 0)\n    {\n      this._name = I18N.toString(\"file.untitled\");\n    }\n    else\n    {\n      this._name = name;\n    }\n\n    const value = this._name;\n    const element = document.getElementById('window-title');\n    const string = element.innerHTML;\n    const separator = string.indexOf('-');\n    if (separator !== -1)\n    {\n      element.innerHTML = string.substring(0, separator).trim() + \" - \" + value;\n    }\n    else\n    {\n      element.innerHTML = string + \" - \" + value;\n    }\n  }\n\n  getProjectName() { return this._name; }\n  getApp() { return this._app; }\n  getCurrentModule() { return this._module; }\n}\n\nexport default Session;\n","export function getCurrentURL()\n{\n  return window.location.href;\n}\n\n//https://gomakethings.com/getting-all-query-string-values-from-a-url-with-vanilla-js/\nexport function getURLParameters(url)\n{\n  const result = {};\n  const parser = document.createElement('a');\n  parser.href = url;\n  const query = parser.search.substring(1);\n  const vars = query.split('&');\n  for(const v of vars)\n  {\n    const pair = v.split('=');\n    result[pair[0]] = decodeURIComponent(pair[1]);\n  }\n  return result;\n}\n","class ExportManager\n{\n  constructor(app)\n  {\n    this._app = app;\n\n    this._exporters = [];\n  }\n\n  addExporter(exporter)\n  {\n    this._exporters.push(exporter);\n    return this;\n  }\n\n  addExporters(exporters)\n  {\n    for(const exporter of exporters)\n    {\n      this._exporters.push(exporter);\n    }\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this._exporters.length = 0;\n  }\n\n  tryImportFromFile(fileBlob)\n  {\n    if (!fileBlob) throw new Error(\"Unable to import null file\");\n    if (!(fileBlob instanceof File)) throw new Error(\"Unable to import object as file\");\n\n    const currentModule = this._app.getSession().getCurrentModule();\n    let result = Promise.reject();\n    const fileName = fileBlob.name;\n    const exporters = this._exporters;\n\n    for(const exporter of exporters)\n    {\n      if (exporter.canImport(currentModule) && exporter.doesSupportFile() && fileName.endsWith(exporter.getFileType()))\n      {\n        result = result.catch(e => exporter.importFromFile(fileBlob, currentModule));\n      }\n    }\n\n    return result.catch(e => {\n      console.error(e);\n      throw new Error(\"Cannot find valid exporter for file: \" + fileName);\n    });\n  }\n\n  tryExportToFile(exporter=null)\n  {\n    const session = this._app.getSession();\n    const currentModule = session.getCurrentModule();\n    const fileName = session.getProjectName();\n    if (!exporter) exporter = this.getDefaultExporter();\n    exporter.exportToFile(fileName, currentModule)\n  }\n\n  getImportFileTypes()\n  {\n    const session = this._app.getSession();\n    const currentModule = session.getCurrentModule();\n    return this._exporters.map(e => {\n      if (!e.canImport(currentModule) || !e.doesSupportFile()) return null;\n      return '.' + e.getFileType();\n    });\n  }\n\n  getDefaultExporter()\n  {\n    return this._exporters[0];\n  }\n\n  getExporters()\n  {\n    return this._exporters;\n  }\n}\n\nexport default ExportManager;\n","class DrawerManager\n{\n  constructor()\n  {\n    this._panelClasses = [];\n    this._panelProps = null;\n  }\n\n  setPanelProps(props)\n  {\n    this._panelProps = props;\n    return this;\n  }\n\n  addPanelClass(panelClass)\n  {\n    this._panelClasses.push(panelClass);\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n    \n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this._panelClasses.length = 0;\n    this._panelProps = null;\n  }\n\n  getPanelProps()\n  {\n    return this._panelProps;\n  }\n\n  getPanelClasses()\n  {\n    return this._panelClasses;\n  }\n}\n\nexport default DrawerManager;\n","class MenuManager\n{\n  constructor()\n  {\n    this._panelClasses = [];\n    this._panelProps = null;\n  }\n\n  setPanelProps(props)\n  {\n    this._panelProps = props;\n    return this;\n  }\n\n  addPanelClass(panelClass)\n  {\n    this._panelClasses.push(panelClass);\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    session.getApp().getToolbarComponent().closeBar();\n    \n    this._panelClasses.length = 0;\n    this._panelProps = null;\n  }\n\n  getPanelProps()\n  {\n    return this._panelProps;\n  }\n\n  getPanelClasses()\n  {\n    return this._panelClasses;\n  }\n}\n\nexport default MenuManager;\n","class ViewportManager\n{\n  constructor()\n  {\n    this._viewClasses = [];\n    this._viewProps = null;\n  }\n\n  setViewProps(props)\n  {\n    this._viewProps = props;\n    return this;\n  }\n\n  addViewClass(viewClass)\n  {\n    this._viewClasses.push(viewClass);\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this._viewClasses.length = 0;\n    this._viewProps = null;\n  }\n\n  getViewProps()\n  {\n    return this._viewProps;\n  }\n\n  getViewClasses()\n  {\n    return this._viewClasses;\n  }\n}\n\nexport default ViewportManager;\n","import React from 'react';\nimport Style from './HotKeyView.css';\n\nconst AVAILABLE_HOTKEY_REFRESH_RATE = 100;\n\nclass HotKeyView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._cachedHotKeys = [];\n    this._cacheTimeout = null;\n  }\n\n  //Override\n  render()\n  {\n    const hotKeyManager = this.props.hotKeyManager;\n    const showHotKeys = !this.props.disabled && hotKeyManager.isEnabled();\n\n    if (!this._cacheTimeout && showHotKeys)\n    {\n      this._cacheTimeout = setTimeout(() => {\n        this._cacheTimeout = null;\n        this._cachedHotKeys.length = 0;\n        hotKeyManager.getCurrentlyPossibleHotKeys(this._cachedHotKeys);\n      }, AVAILABLE_HOTKEY_REFRESH_RATE);\n    }\n\n    const useCount = hotKeyManager.getCurrentHotKeyRepeatCount();\n    const currentHotKey = hotKeyManager.getCurrentHotKey();\n\n    return (\n      <div id={this.props.id}\n        className={Style.hotkey_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showHotKeys && this._cachedHotKeys.map((e, i) => {\n          const isActive = currentHotKey === e;\n          return (\n            <div key={e.localizedKeys + \":\" + i + \":\" + (isActive ? useCount : 0)}\n              className={Style.hotkey +\n                (isActive ? \" active \" : \"\")}>\n              <label className={Style.hotkey_label}>\n                {e.localizedKeys}\n              </label>\n              <label className={Style.hotkey_name}>\n                {e.name + (isActive && useCount > 1 ? \" x\" + useCount : \"\")}\n              </label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default HotKeyView;\n","const MAX_HISTORY_LENGTH = 1000;\n\nclass UndoManager\n{\n  constructor()\n  {\n    this.history = [];\n    this.offsetIndex = 0;\n\n    this._handlerFactory = null;\n  }\n\n  setEventHandlerFactory(factory)\n  {\n    this._handlerFactory = factory;\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this.clear();\n  }\n\n  captureEvent(...args)\n  {\n    if (typeof this._handlerFactory === 'function')\n    {\n      const handler = this._handlerFactory(args);\n      if (handler)\n      {\n        this.captureEventAsHandler(handler);\n      }\n      else\n      {\n        throw new Error(\"Cannot create valid undo event handler for capture\");\n      }\n    }\n    else\n    {\n      console.error(\"Missing default undo event handler for capture\");\n    }\n  }\n\n  captureEventAsHandler(eventHandler)\n  {\n    //Pop it all until current event\n    while(this.offsetIndex > 0)\n    {\n      this.history.pop();\n      --this.offsetIndex;\n    }\n\n    //Push the current event to the stack\n    this.history.push(eventHandler);\n\n    while(this.history.length > MAX_HISTORY_LENGTH)\n    {\n      this.history.unshift();\n    }\n  }\n\n  getPreviousEvent()\n  {\n    if (!this.canUndo()) return null;\n    return this.history[this.history.length - this.offsetIndex - 1];\n  }\n\n  getNextEvent()\n  {\n    if (!this.canRedo()) return null;\n    return this.history[this.history.length - this.offsetIndex + 1];\n  }\n\n  undo()\n  {\n    if (!this.canUndo())\n    {\n      //Already the oldest recorded event!\n      return;\n    }\n\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n    ++this.offsetIndex;\n\n    event.applyUndo(this);\n  }\n\n  canUndo()\n  {\n    return this.offsetIndex < this.history.length;\n  }\n\n  redo()\n  {\n    if (!this.canRedo())\n    {\n      //Already the most recent event!\n      return;\n    }\n\n    --this.offsetIndex;\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n\n    event.applyRedo(this);\n  }\n\n  canRedo()\n  {\n    return this.offsetIndex > 0;\n  }\n\n  clear()\n  {\n    this.history.length = 0;\n    this.offsetIndex = 0;\n  }\n}\n\nexport default UndoManager;\n","import {ONESHOT_MODE} from 'experimental/tooltip/TooltipView.js';\n\nclass TooltipManager\n{\n  constructor()\n  {\n    this._tooltips = [];\n\n    this._transitionMode = ONESHOT_MODE;\n  }\n\n  setTransitionMode(transitionMode)\n  {\n    this._transitionMode = transitionMode;\n    return this;\n  }\n\n  addTooltip(tooltip)\n  {\n    this._tooltips.push(tooltip);\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this._tooltips.length = 0;\n    this._transitionMode = ONESHOT_MODE;\n  }\n\n  getTransitionMode()\n  {\n    return this._transitionMode;\n  }\n\n  getTooltips()\n  {\n    return this._tooltips;\n  }\n}\n\nexport default TooltipManager;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport Style from './App.css';\n\nimport DrawerView, { DRAWER_SIDE_RIGHT, DRAWER_SIDE_BOTTOM, DRAWER_BAR_DIRECTION_VERTICAL, DRAWER_BAR_DIRECTION_HORIZONTAL } from 'experimental/drawer/DrawerView.js';\nimport ToolbarView from 'experimental/toolbar/ToolbarView.js';\nimport ViewportView from 'experimental/viewport/ViewportView.js';\nimport TooltipView, { ONESHOT_MODE } from 'experimental/tooltip/TooltipView.js';\nimport UploadDropZone from 'experimental/components/UploadDropZone.js';\nimport ViewportComponent from 'input/components/ViewportComponent.js';\n\nimport ExportPanel from 'experimental/menus/export/ExportPanel.js';\nimport OptionPanel from 'experimental/menus/option/OptionPanel.js';\nimport LanguagePanel from 'experimental/menus/language/LanguagePanel.js';\nimport ModuleLoaderPanel from 'experimental/menus/moduleloader/ModuleLoaderPanel.js';\n\nimport ToolbarButton, {TOOLBAR_CONTAINER_TOOLBAR, TOOLBAR_CONTAINER_MENU} from 'experimental/toolbar/ToolbarButton.js';\nimport ToolbarDivider from 'experimental/toolbar/ToolbarDivider.js';\nimport ToolbarUploadButton from 'experimental/toolbar/ToolbarUploadButton.js';\nimport PageEmptyIcon from 'experimental/iconset/PageEmptyIcon.js';\nimport UndoIcon from 'experimental/iconset/UndoIcon.js';\nimport RedoIcon from 'experimental/iconset/RedoIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport BugIcon from 'experimental/iconset/BugIcon.js';\nimport WorldIcon from 'experimental/iconset/WorldIcon.js';\nimport HelpIcon from 'experimental/iconset/HelpIcon.js';\nimport SettingsIcon from 'experimental/iconset/SettingsIcon.js';\nimport EditPencilIcon from 'experimental/iconset/EditPencilIcon.js';\n\nimport * as UserUtil from 'experimental/UserUtil.js';\nimport AppSaver from 'experimental/AppSaver.js';\nimport ColorSaver from 'experimental/ColorSaver.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nimport NotificationView from 'experimental/notification/NotificationView.js';\nimport Notifications from 'system/notification/Notifications.js';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\nimport StyleOptionRegistry from 'system/styleopt/StyleOptionRegistry.js';\n\nimport Session from 'modules/Session.js';\nimport ExportManager from 'manager/export/ExportManager.js';\nimport DrawerManager from 'manager/DrawerManager.js';\nimport MenuManager from 'manager/MenuManager.js';\nimport ViewportManager from 'manager/ViewportManager.js';\nimport HotKeyManager from 'manager/hotkey/HotKeyManager.js';\nimport HotKeyView from 'manager/hotkey/HotKeyView.js';\nimport UndoManager from 'manager/undo/UndoManager.js';\nimport RenderManager, {RENDER_LAYER_WORKSPACE, RENDER_LAYER_WORKSPACE_OVERLAY,\n  RENDER_LAYER_VIEWPORT, RENDER_LAYER_VIEWPORT_OVERLAY} from 'manager/RenderManager.js';\nimport TooltipManager from 'manager/TooltipManager.js';\n\nconst BUGREPORT_URL = \"https://goo.gl/forms/XSil43Xl5xLHsa0E2\";\nconst HELP_URL = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n\nconst SMOOTH_OFFSET_DAMPING = 0.4;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\n\nconst MENU_INDEX_EXPORT = 0;\nconst MENU_INDEX_OPTION = 1;\nconst MENU_INDEX_LANGUAGE = 2;\nconst MENU_INDEX_MODULE = 3;\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._workspace = React.createRef();\n    this._toolbar = null;\n    this._drawer = null;\n    this._viewport = null;\n    this._labeleditor = null;\n\n    this._styleOpts = new StyleOptionRegistry();\n    this._colorSaver = new ColorSaver(this._styleOpts);\n\n    this._saver = new AppSaver(this);\n\n    this._undoManager = new UndoManager();\n    this._hotKeyManager = new HotKeyManager();\n    this._exportManager = new ExportManager(this);\n    this._drawerManager = new DrawerManager();\n    this._menuManager = new MenuManager();\n    this._viewportManager = new ViewportManager();\n    this._renderManager = new RenderManager();\n    this._tooltipManager = new TooltipManager();\n\n    this._session = new Session()\n      .addListener(this._undoManager)\n      .addListener(this._hotKeyManager)\n      .addListener(this._exportManager)\n      .addListener(this._drawerManager)\n      .addListener(this._menuManager)\n      .addListener(this._viewportManager)\n      .addListener(this._renderManager)\n      .addListener(this._tooltipManager)\n      .addListener(this);\n\n    //TODO: This is only used to control transitions (do we really need it?)\n    this._init = false;\n\n    this.state = {\n      hide: false\n    };\n\n    this._mediaQuerySmallWidthList = window.matchMedia(\"only screen and (max-width: 400px)\");\n    this._mediaQuerySmallHeightList = window.matchMedia(\"only screen and (min-height: 400px)\");\n\n    //Notifications.addMessage(\"Welcome to Flap.js\");\n    this.onModuleTitleClick = this.onModuleTitleClick.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Start session\n    this._session.startSession(this);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._session.stopSession(this);\n  }\n\n  onSessionStart(session)\n  {\n    //Default values\n    this._menuManager\n      .addPanelClass(ExportPanel)//MENU_INDEX_EXPORT\n      .addPanelClass(OptionPanel)//MENU_INDEX_OPTION\n      .addPanelClass(LanguagePanel)//MENU_INDEX_LANGUAGE\n      .addPanelClass(ModuleLoaderPanel);//MENU_INDEX_MODULE\n    this._hotKeyManager\n      .registerAltHotKey(\"Show Hints\", () => {IconButton.SHOW_LABEL = !IconButton.SHOW_LABEL});\n\n    this._colorSaver.initialize();\n\n    LocalSave.registerHandler(this._saver);\n    LocalSave.registerHandler(this._colorSaver);\n\n    this._init = true;\n  }\n\n  onSessionStop(session)\n  {\n    this._init = false;\n\n    Notifications.clearMessages();\n\n    LocalSave.unregisterHandler(this._saver);\n    LocalSave.unregisterHandler(this._colorSaver);\n\n    this._colorSaver.destroy();\n  }\n\n  onModuleTitleClick(e)\n  {\n    this._drawer.setCurrentTab(0);\n  }\n\n  getWorkspaceComponent() { return this._workspace.current; }\n  getToolbarComponent() { return this._toolbar; }\n\n  getUndoManager() { return this._undoManager; }\n  getHotKeyManager() { return this._hotKeyManager; }\n  getExportManager() { return this._exportManager; }\n  getDrawerManager() { return this._drawerManager; }\n  getMenuManager() { return this._menuManager; }\n  getViewportManager() { return this._viewportManager; }\n  getRenderManager() { return this._renderManager; }\n  getTooltipManager() { return this._tooltipManager; }\n\n  getSession() { return this._session; }\n  getCurrentModule() { return this._session.getCurrentModule(); }\n  getInputAdapter() { return this.getWorkspaceComponent().getInputAdapter(); }\n  getStyleOpts() { return this._styleOpts; }\n\n  isExperimental() { return true; }\n\n  //Override\n  componentDidUpdate()\n  {\n    this._session.updateSession(this);\n\n    //Disable hotkeys when graph is not in view\n    this._hotKeyManager.setEnabled(\n      !(this._toolbar && this._toolbar.isBarOpen()) &&\n      !(this._drawer && this._drawer.isDrawerOpen() &&\n        this._drawer.isDrawerFullscreen())\n      );\n  }\n\n  //Override\n  render()\n  {\n    const session = this._session;\n    const currentModule = session.getCurrentModule();\n    const currentModuleLocalizedName = currentModule ? currentModule.getLocalizedModuleName() : null;\n\n    const hasSmallWidth = this._mediaQuerySmallWidthList.matches;\n    const hasSmallHeight = this._mediaQuerySmallHeightList.matches;\n    const isFullscreen = this.state.hide;\n\n    const undoManager = this._undoManager;\n    const exportManager = this._exportManager;\n    const drawerManager = this._drawerManager;\n    const menuManager = this._menuManager;\n    const viewportManager = this._viewportManager;\n    const renderManager = this._renderManager;\n    const tooltipManager = this._tooltipManager;\n\n    const drawerPanelClasses = drawerManager.getPanelClasses();\n    const drawerPanelProps = drawerManager.getPanelProps() || {session: session};\n    const menuPanelClasses = menuManager.getPanelClasses();\n    const menuPanelProps = menuManager.getPanelProps() || {session: session};\n    const viewportViewClasses = viewportManager.getViewClasses();\n    const viewportViewProps = viewportManager.getViewProps() || {session: session};\n    const defaultExporter = exportManager.getDefaultExporter();\n\n    const workspaceRenderers = renderManager.getRenderersByLayer(RENDER_LAYER_WORKSPACE);\n    const workspaceOverlayRenderers = renderManager.getRenderersByLayer(RENDER_LAYER_WORKSPACE_OVERLAY);\n    const viewportRenderers = renderManager.getRenderersByLayer(RENDER_LAYER_VIEWPORT);\n    const viewportOverlayRenderers = renderManager.getRenderersByLayer(RENDER_LAYER_VIEWPORT_OVERLAY);\n\n    return (\n      <div className={Style.app_container + (currentModule ? \" active \" : \"\")}>\n        <ToolbarView ref={ref=>this._toolbar=ref} className={Style.app_bar}\n          menus={menuPanelClasses}\n          menuProps={menuPanelProps}\n          hide={isFullscreen}\n          title={currentModuleLocalizedName}\n          session={session}\n          onTitleClick={this.onModuleTitleClick}>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.newmachine\")} icon={PageEmptyIcon}\n            onClick={() => currentModule.clear(this)}/>\n          <ToolbarUploadButton title={I18N.toString(\"action.toolbar.uploadmachine\")} icon={UploadIcon} accept={exportManager.getImportFileTypes().join(\",\")}\n            onUpload={fileBlob => {\n              exportManager.tryImportFromFile(fileBlob)\n                .catch((e) => {\n                  Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n                  console.error(e);\n                })\n                .finally(() => {\n                  this._toolbar.closeBar();\n                });\n            }}\n            disabled={!defaultExporter || !defaultExporter.canImport(currentModule)}/>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.undo\")} icon={UndoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canUndo()}\n            onClick={()=>undoManager.undo()}/>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.redo\")} icon={RedoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canRedo()}\n            onClick={()=>undoManager.redo()}/>\n          <ToolbarButton title={I18N.toString(\"component.exporting.title\")} icon={DownloadIcon}\n            onClick={()=>this._toolbar.setCurrentMenu(MENU_INDEX_EXPORT)}\n            disabled={!defaultExporter || !defaultExporter.canExport(currentModule)}/>\n          <ToolbarDivider/>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.bug\")} icon={BugIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>window.open(BUGREPORT_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.lang\")} icon={WorldIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(MENU_INDEX_LANGUAGE)}/>\n          <ToolbarButton title={I18N.toString(\"action.toolbar.help\")} icon={HelpIcon}\n            onClick={()=>window.open(HELP_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"component.options.title\")} icon={SettingsIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(MENU_INDEX_OPTION)}/>\n          <ToolbarButton title={\"Change Module\"} icon={EditPencilIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(MENU_INDEX_MODULE)}/>\n        </ToolbarView>\n\n        <DrawerView ref={ref=>this._drawer=ref} className={Style.app_content}\n          panels={drawerPanelClasses}\n          panelProps={drawerPanelProps}\n          side={hasSmallWidth ? DRAWER_SIDE_BOTTOM : DRAWER_SIDE_RIGHT}\n          direction={hasSmallHeight ? DRAWER_BAR_DIRECTION_VERTICAL : DRAWER_BAR_DIRECTION_HORIZONTAL}\n          hide={isFullscreen}>\n\n          <UploadDropZone>\n            <div className=\"viewport\">\n\n              <TooltipView mode={tooltipManager.getTransitionMode()}\n                visible={/* TODO: For the initial fade-in animation */this._init && !undoManager.canUndo()}>\n                {tooltipManager.getTooltips().map((e, i) => <label key={e + \":\" + i}>{e}</label>)}\n              </TooltipView>\n\n              <ViewportComponent ref={this._workspace}>\n                {/* RENDER_LAYER_WORKSPACE */\n                  workspaceRenderers &&\n                  workspaceRenderers.map((WorkspaceRenderer, i) =>\n                    <WorkspaceRenderer key={currentModuleLocalizedName + \":\" + i} workspace={this.getWorkspaceComponent()}/>)}\n              </ViewportComponent>\n\n              {/* RENDER_LAYER_WORKSPACE_OVERLAY */\n                workspaceOverlayRenderers &&\n                workspaceOverlayRenderers.map((WorkspaceOverlayRenderer, i) =>\n                  <WorkspaceOverlayRenderer key={currentModuleLocalizedName + \":\" + i} workspace={this.getWorkspaceComponent()}/>)}\n\n              <NotificationView notificationManager={Notifications}>\n              </NotificationView>\n\n              {this._hotKeyManager.isEnabled() &&\n                <HotKeyView hotKeyManager={this._hotKeyManager}/>}\n\n              <ViewportView ref={ref=>this._viewport=ref}\n                views={viewportViewClasses}\n                viewProps={viewportViewProps}>\n                {/* RENDER_LAYER_VIEWPORT */\n                  viewportRenderers &&\n                  viewportRenderers.map((ViewportRenderer, i) =>\n                    <ViewportRenderer key={currentModuleLocalizedName + \":\" + i} viewport={this._viewport}/>)}\n              </ViewportView>\n\n              {/* RENDER_LAYER_VIEWPORT_OVERLAY */\n                viewportOverlayRenderers &&\n                viewportOverlayRenderers.map((ViewportOverlayRenderer, i) =>\n                  <ViewportOverlayRenderer key={currentModuleLocalizedName + \":\" + i} viewport={this._viewport}/>)}\n\n            </div>\n          </UploadDropZone>\n        </DrawerView>\n      </div>\n    );\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n"],"sourceRoot":""}