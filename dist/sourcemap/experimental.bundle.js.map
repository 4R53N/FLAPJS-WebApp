{"version":3,"sources":["webpack:///./src/app/experimental/components/IconButton.js","webpack:///./src/app/experimental/iconset/ExpandDownIcon.js","webpack:///./src/app/experimental/drawer/DrawerView.js","webpack:///./src/app/experimental/toolbar/ToolbarButton.js","webpack:///./src/app/experimental/toolbar/ToolbarTitle.js","webpack:///./src/app/experimental/iconset/MenuIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarView.js","webpack:///./src/app/experimental/workspace/WorkspaceView.js","webpack:///./src/app/experimental/viewport/ViewportView.js","webpack:///./src/app/experimental/tooltip/TooltipView.js","webpack:///./src/app/experimental/iconset/UploadIcon.js","webpack:///./src/app/experimental/components/UploadDropZone.js","webpack:///./src/app/experimental/menus/export/ExportPanel.js","webpack:///./src/app/experimental/iconset/TinyDownIcon.js","webpack:///./src/app/experimental/iconset/TinyUpIcon.js","webpack:///./src/app/experimental/panels/PanelSection.js","webpack:///./src/app/experimental/menus/option/OptionPanel.js","webpack:///./src/app/experimental/iconset/EditPencilIcon.js","webpack:///./src/app/experimental/iconset/MoveIcon.js","webpack:///./src/app/experimental/widgets/ModeSelectTray.js","webpack:///./src/app/experimental/UserUtil.js","webpack:///./src/app/experimental/iconset/TrashCanDetailedIcon.js","webpack:///./src/app/experimental/widgets/TrashCanWidget.js","webpack:///./src/app/experimental/components/IconStateButton.js","webpack:///./src/app/experimental/iconset/FullscreenIcon.js","webpack:///./src/app/experimental/iconset/FullscreenExitIcon.js","webpack:///./src/app/experimental/widgets/FullscreenWidget.js","webpack:///./src/app/experimental/iconset/ZoomInIcon.js","webpack:///./src/app/experimental/iconset/ZoomOutIcon.js","webpack:///./src/app/experimental/widgets/ZoomWidget.js","webpack:///./src/app/experimental/iconset/PinpointIcon.js","webpack:///./src/app/experimental/widgets/FocusCenterWidget.js","webpack:///./src/app/experimental/widgets/NavbarWidget.js","webpack:///./src/app/experimental/EditPane.js","webpack:///./src/app/experimental/iconset/DownArrowIcon.js","webpack:///./src/app/experimental/widgets/TapeWidget.js","webpack:///./src/app/experimental/TapePane.js","webpack:///./src/app/experimental/components/IconUploadButton.js","webpack:///./src/app/experimental/iconset/PageContentIcon.js","webpack:///./src/app/experimental/iconset/DownloadIcon.js","webpack:///./src/app/experimental/iconset/CrossIcon.js","webpack:///./src/app/experimental/iconset/AddIcon.js","webpack:///./src/app/experimental/iconset/SubtractIcon.js","webpack:///./src/app/experimental/iconset/CheckCircleIcon.js","webpack:///./src/app/experimental/iconset/CrossCircleIcon.js","webpack:///./src/app/experimental/iconset/PendingIcon.js","webpack:///./src/app/experimental/iconset/RunningManIcon.js","webpack:///./src/app/experimental/panels/test/TestItem.js","webpack:///./src/app/experimental/panels/test/TestListView.js","webpack:///./src/app/experimental/panels/PanelCheckbox.js","webpack:///./src/app/experimental/panels/test/TestingPanel.js","webpack:///./src/app/experimental/toolbar/ToolbarDivider.js","webpack:///./src/app/experimental/toolbar/ToolbarUploadButton.js","webpack:///./src/app/experimental/iconset/PageEmptyIcon.js","webpack:///./src/app/experimental/iconset/UndoIcon.js","webpack:///./src/app/experimental/iconset/RedoIcon.js","webpack:///./src/app/experimental/iconset/BugIcon.js","webpack:///./src/app/experimental/iconset/WorldIcon.js","webpack:///./src/app/experimental/iconset/HelpIcon.js","webpack:///./src/app/experimental/iconset/SettingsIcon.js","webpack:///./src/app/experimental/hotkey/HotKeyManager.js","webpack:///./src/app/experimental/hotkey/HotKeyView.js","webpack:///./src/app/experimental/panels/test/TapeContext.js","webpack:///./src/app/experimental/panels/test/StringTester.js","webpack:///./src/app/experimental/App.js"],"names":["IconButton","props","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","React","Component","title","react_default","a","createElement","id","className","Style","icon_button","style","disabled","onClick","children","Icon","ExpandDownIcon_classCallCheck","ExpandDownIcon_possibleConstructorReturn","ExpandDownIcon_getPrototypeOf","xmlns","width","height","viewBox","d","DRAWER_WIDTH_CSSVAR","DRAWER_MIN_WIDTH","DrawerView","_this","DrawerView_classCallCheck","DrawerView_getPrototypeOf","ref","drawerElement","state","open","tabIndex","_handlingGrab","_handlingResize","_isfull","_hasintent","_prevWidth","_resizeTimeout","_resizeEndTimeout","_sideways","onDrawerHandleGrab","bind","DrawerView_assertThisInitialized","onDrawerHandleRelease","onDrawerHandleMove","onDrawerExpand","onWindowResize","window","addEventListener","removeEventListener","fullscreen","arguments","length","undefined","callback","setDrawerWidth","setState","prev","panels","value","hasIntent","drawerSide","side","drawerOffsetY","getBoundingClientRect","top","documentSize","document","documentElement","clientHeight","clientWidth","minSize","getCSSDrawerWidth","setProperty","Error","toggleDrawer","e","_this2","setTimeout","clearTimeout","isDrawerSideBottom","result","clientY","clientX","Math","abs","_this3","drawerPanels","drawerDirection","direction","shouldDrawerHide","hide","isDrawerOpen","shouldDrawerBarSideways","showDrawerHandle","shouldDrawerOpenFull","shouldHideDrawerContent","showDrawerTabs","app_content","app_viewport","app_drawer","drawer_handle","onMouseDown","drawer_content","drawer_content_bar","experimental_components_IconButton","drawer_tab_expander","ExpandDownIcon","map","i","key","drawer_tab","isCurrentTab","setCurrentTab","drawer_content_panel_container","drawer_content_panel","ComponentClass","TITLE","current","drawer_panel_container","_extends","drawer_panel","panelProps","drawer","parseInt","getComputedStyle","getPropertyValue","replace","ToolbarButton","ToolbarButton_classCallCheck","ToolbarButton_possibleConstructorReturn","ToolbarButton_getPrototypeOf","IconClass","icon","toolbar_button","ToolbarTitle","ToolbarTitle_classCallCheck","ToolbarTitle_possibleConstructorReturn","ToolbarTitle_getPrototypeOf","resetValue","title_container","title_input_container","FormattedInput","defaultValue","title_subtitle","MenuIcon_classCallCheck","MenuIcon_possibleConstructorReturn","MenuIcon_getPrototypeOf","TOOLBAR_DEFAULT_MENU_INDEX","ToolbarView","ToolbarView_classCallCheck","ToolbarView_getPrototypeOf","toolbarElement","menuIndex","onBarExpand","ToolbarView_assertThisInitialized","menus","setCurrentMenu","toggleBar","Children","child","containerOnly","toolbarMenus","toolbarMenuIndex","ToolbarMenu","showCustomToolbarMenu","hasButtons","count","isBarOpen","shouldBarHide","showBarExpander","app_bar","bar_menu","menu_container","ToolbarView_extends","menuProps","toolbar","menu_button_container","renderMenuButtons","bar_toolbar","experimental_toolbar_ToolbarTitle","toolbar_title","toolbar_button_container","renderToolbarButtons","toolbar_expander","MenuIcon","WorkspaceView","WorkspaceView_classCallCheck","WorkspaceView_possibleConstructorReturn","WorkspaceView_getPrototypeOf","viewport","offsetX","getOffsetX","offsetY","getOffsetY","viewSize","max","Number","MIN_VALUE","getScale","halfViewSize","transform","ViewportView","ViewportView_classCallCheck","ViewportView_possibleConstructorReturn","ViewportView_getPrototypeOf","index","Fragment","view_container","TooltipView","TooltipView_classCallCheck","TooltipView_possibleConstructorReturn","TooltipView_getPrototypeOf","_tooltipTimeout","initial","mode","visible","nextIndex","floor","random","setTooltipIndex","tooltipIndex","updateTooltip","tooltip_container","opacity","UploadIcon_classCallCheck","UploadIcon_possibleConstructorReturn","UploadIcon_getPrototypeOf","UploadDropZone","UploadDropZone_classCallCheck","UploadDropZone_getPrototypeOf","_waiting","onDragEnter","UploadDropZone_assertThisInitialized","onDragLeave","onFileDrop","preventDefault","stopPropagation","dataTransfer","fileBlob","items","dataItems","file","kind","getAsFile","dataFiles","files","clear","clearData","isWaitingForFile","upload_container","UploadIcon","upload_icon","only","ExportPanel","ExportPanel_classCallCheck","ExportPanel_possibleConstructorReturn","ExportPanel_getPrototypeOf","exporter","doesSupportFile","getIconClass","getFileType","panel_button","getLabel","filename","currentModule","getMachineController","getMachineName","exportToFile","module","graphExporters","getGraphExporters","imageExporters","getImageExporters","panel_container","panel_title","I18N","toString","panel_content","renderExporterButton","TinyDownIcon_classCallCheck","TinyDownIcon_possibleConstructorReturn","TinyDownIcon_getPrototypeOf","TinyUpIcon_classCallCheck","TinyUpIcon_possibleConstructorReturn","TinyUpIcon_getPrototypeOf","PanelSection","PanelSection_classCallCheck","PanelSection_getPrototypeOf","PanelSection_assertThisInitialized","isOpen","isDisabled","section_container","section_header","TinyUpIcon","TinyDownIcon","section_content_container","section_content","OptionPanel","OptionPanel_classCallCheck","OptionPanel_possibleConstructorReturn","OptionPanel_getPrototypeOf","experimental_panels_PanelSection","confirm","LocalSave","terminate","clearStorage","alert","EditPencilIcon_classCallCheck","EditPencilIcon_possibleConstructorReturn","EditPencilIcon_getPrototypeOf","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","ModeSelectTray","ModeSelectTray_classCallCheck","ModeSelectTray_getPrototypeOf","onChange","ModeSelectTray_assertThisInitialized","newValue","tray_container","tray_button","EditPencilIcon","MoveIcon","userClearGraph","app","graphOnly","getCurrentModule","getGraphController","getGraph","getUndoManager","setMachineName","TrashCanDetailedIcon_classCallCheck","TrashCanDetailedIcon_possibleConstructorReturn","TrashCanDetailedIcon_getPrototypeOf","TrashCanWidget","TrashCanWidget_classCallCheck","TrashCanWidget_getPrototypeOf","forceActive","_doubleTapTimeout","onMouseEnter","TrashCanWidget_assertThisInitialized","onMouseLeave","onAnyMouseDownNotConsumed","inputController","setTrashMode","target","graphController","inputAdapter","getInputAdapter","active","isTrashMode","isEmpty","isUsingTouch","isDragging","trash_container","TrashCanDetailedIcon","IconStateButton","IconStateButton_classCallCheck","IconStateButton_getPrototypeOf","IconStateButton_assertThisInitialized","prevIndex","FullscreenIcon_classCallCheck","FullscreenIcon_possibleConstructorReturn","FullscreenIcon_getPrototypeOf","FullscreenExitIcon_classCallCheck","FullscreenExitIcon_possibleConstructorReturn","FullscreenExitIcon_getPrototypeOf","FullscreenWidget","FullscreenWidget_classCallCheck","FullscreenWidget_possibleConstructorReturn","FullscreenWidget_getPrototypeOf","components_IconStateButton","fullscreen_button","FullscreenIcon","FullscreenExitIcon","ZoomInIcon_classCallCheck","ZoomInIcon_possibleConstructorReturn","ZoomInIcon_getPrototypeOf","ZoomOutIcon_classCallCheck","ZoomOutIcon_possibleConstructorReturn","ZoomOutIcon_getPrototypeOf","ZoomWidget","ZoomWidget_classCallCheck","ZoomWidget_getPrototypeOf","onZoomIn","ZoomWidget_assertThisInitialized","onZoomOut","viewScale","addScale","toFixed","zoom_container","zoom_button","ZoomInIcon","ZoomOutIcon","zoom_label","PinpointIcon_classCallCheck","PinpointIcon_possibleConstructorReturn","PinpointIcon_getPrototypeOf","FocusCenterWidget","FocusCenterWidget_classCallCheck","FocusCenterWidget_getPrototypeOf","FocusCenterWidget_assertThisInitialized","setOffset","center_focus_button","PinpointIcon","NavbarWidget","NavbarWidget_classCallCheck","NavbarWidget_possibleConstructorReturn","NavbarWidget_getPrototypeOf","getViewport","navbar_container","experimental_widgets_FullscreenWidget","navbar_widget","experimental_widgets_ZoomWidget","navbar_widget_container","experimental_widgets_FocusCenterWidget","EditPane","EditPane_classCallCheck","EditPane_possibleConstructorReturn","EditPane_getPrototypeOf","getInputController","machineController","inputActionMode","isActionMode","LabelEditor","getLabelEditor","view_pane","labelEditorElement","screen","_workspace","experimental_widgets_NavbarWidget","view_widget","right","bottom","left","experimental_widgets_ModeSelectTray","modeIndex","setInputScheme","experimental_widgets_TrashCanWidget","DownArrowIcon_classCallCheck","DownArrowIcon_possibleConstructorReturn","DownArrowIcon_getPrototypeOf","TapeWidget","TapeWidget_classCallCheck","TapeWidget_getPrototypeOf","onTapeStepBackward","TapeWidget_assertThisInitialized","onTapeStepForward","onTapeFinish","onTapeReset","onTapeSkipForward","onTapeSkipBackward","onTapeStop","stepBackward","stepForward","reset","finish","stop","tapeContext","tapeIndex","getCurrentTapeIndex","tape_container","tape_control_tray","isTapeLeftInfinite","DownArrowIcon","getTapeInput","activeRead","sourceStates","getTapeSourceStatesByIndex","sourceState","isTapeRightInfinite","TapePane","TapePane_classCallCheck","TapePane_possibleConstructorReturn","TapePane_getPrototypeOf","tester","experimental_widgets_TapeWidget","getTapeContext","IconUploadButton","IconUploadButton_classCallCheck","IconUploadButton_getPrototypeOf","onFileUpload","IconUploadButton_assertThisInitialized","onUpload","accept","upload_button","type","name","upload_input","PageContentIcon_classCallCheck","PageContentIcon_possibleConstructorReturn","PageContentIcon_getPrototypeOf","DownloadIcon_classCallCheck","DownloadIcon_possibleConstructorReturn","DownloadIcon_getPrototypeOf","CrossIcon_classCallCheck","CrossIcon_possibleConstructorReturn","CrossIcon_getPrototypeOf","AddIcon_classCallCheck","AddIcon_possibleConstructorReturn","AddIcon_getPrototypeOf","SubtractIcon_classCallCheck","SubtractIcon_possibleConstructorReturn","SubtractIcon_getPrototypeOf","CheckCircleIcon_classCallCheck","CheckCircleIcon_possibleConstructorReturn","CheckCircleIcon_getPrototypeOf","CrossCircleIcon_classCallCheck","CrossCircleIcon_possibleConstructorReturn","CrossCircleIcon_getPrototypeOf","PendingIcon_classCallCheck","PendingIcon_possibleConstructorReturn","PendingIcon_getPrototypeOf","RunningManIcon_classCallCheck","RunningManIcon_possibleConstructorReturn","RunningManIcon_getPrototypeOf","DEFAULT_MODE","TestItem","TestItem_classCallCheck","TestItem_getPrototypeOf","inputElement","status","TestItem_assertThisInitialized","focus","nextValue","onDelete","onTest","placeholder","subtitle","test_item_container","test_button","CheckCircleIcon","CrossCircleIcon","PendingIcon","RunningManIcon","test_input","delete_button","SubtractIcon","ACCEPT_FILE_TYPES","TestListView","TestListView_classCallCheck","TestListView_getPrototypeOf","_testList","onTestNew","TestListView_assertThisInitialized","onTestUpload","onTestDownload","onTestClose","onTestAdd","onTestDelete","onTestTest","push","guid","item","indexOf","splice","immediate","itemValue","getValue","startTest","then","err","runTest","empty","isTesting","test_container","test_control_tray","test_control_button","PageContentIcon","experimental_components_IconUploadButton","join","DownloadIcon","CrossIcon","test_list_container","test_list_add","AddIcon","test_list_count","test_list_scroll_container","test_list","panels_test_TestItem","PanelCheckbox","PanelCheckbox_classCallCheck","PanelCheckbox_getPrototypeOf","checked","PanelCheckbox_assertThisInitialized","checkbox_container","htmlFor","TestingPanel","TestingPanel_classCallCheck","TestingPanel_possibleConstructorReturn","TestingPanel_getPrototypeOf","_tester","on","_viewport","setViewIndex","panels_test_TestListView","experimental_panels_PanelCheckbox","Object","defineProperty","get","ToolbarDivider","ToolbarDivider_classCallCheck","ToolbarDivider_possibleConstructorReturn","ToolbarDivider_getPrototypeOf","divider","ToolbarUploadButton","ToolbarUploadButton_classCallCheck","ToolbarUploadButton_possibleConstructorReturn","ToolbarUploadButton_getPrototypeOf","ToolbarButtonStyle","PageEmptyIcon_classCallCheck","PageEmptyIcon_possibleConstructorReturn","PageEmptyIcon_getPrototypeOf","UndoIcon_classCallCheck","UndoIcon_possibleConstructorReturn","UndoIcon_getPrototypeOf","RedoIcon_classCallCheck","RedoIcon_possibleConstructorReturn","RedoIcon_getPrototypeOf","BugIcon_classCallCheck","BugIcon_possibleConstructorReturn","BugIcon_getPrototypeOf","WorldIcon_classCallCheck","WorldIcon_possibleConstructorReturn","WorldIcon_getPrototypeOf","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","SettingsIcon_classCallCheck","SettingsIcon_possibleConstructorReturn","SettingsIcon_getPrototypeOf","CTRL_KEY","SHIFT_KEY","HotKeyManager","HotKeyManager_classCallCheck","_hotkeys","_cachedEvent","ctrlKey","metaKey","altKey","shiftKey","code","_prevHotKey","_repeatCount","_enabled","onKeyDown","onKeyUp","keys","Array","isArray","ctrlIndex","metaIndex","altIndex","shiftIndex","charKey","ctrl","alt","shift","localizedKeys","enabled","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","hotkey","return","dst","event","eventCtrl","eventAlt","eventShift","eventKey","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","flag","repeat","captureKeyEvent","findMatchingHotKey","isKeyUp","HotKeyView","HotKeyView_classCallCheck","HotKeyView_possibleConstructorReturn","HotKeyView_getPrototypeOf","_cachedHotKeys","_cacheTimeout","hotKeyManager","showHotKeys","isEnabled","getCurrentlyPossibleHotKeys","useCount","getCurrentHotKeyRepeatCount","currentHotKey","getCurrentHotKey","hotkey_container","isActive","hotkey_label","hotkey_name","TapeContext","inputString","infiniteLeft","infiniteRight","TapeContext_classCallCheck","_tapeInput","split","_left","_right","_index","symbol","TestTapeContext","StringTester_classCallCheck","StringTester_possibleConstructorReturn","StringTester_getPrototypeOf","getTestString","_graphController","_machineController","resetPosition","stopTest","getNodesAtPosition","changePosition","getPosition","StringTester","_testString","_testIndex","_tapeContext","_cachePath","_cachedResult","_resolve","_reject","registerEvent","testString","emit","Promise","resolve","reject","testResult","thenStop","cachedStates","cachedSymbols","nextSymbol","targets","Set","checkedStates","prevCache","states","slice","symbols","fsa","getMachineBuilder","getMachine","graph","solveNFAbyStep","node","getFirstGraphNodeByLabel","add","nextCache","from","position","Eventable","mixin","App","App_classCallCheck","App_getPrototypeOf","_toolbar","_drawer","_inputAdapter","InputAdapter","setMinScale","setMaxScale","setOffsetDamping","_undoManager","UndoManager","_hotKeyManager","registerHotKey","console","log","_module","FSAModule","App_assertThisInitialized","_init","_mediaQuerySmallWidthList","matchMedia","_mediaQuerySmallHeightList","workspaceDOM","initialize","destroy","update","setEnabled","isDrawerFullscreen","hasSmallWidth","matches","hasSmallHeight","isFullscreen","undoManager","graphImporter","getGraphImporter","GraphRenderer","getRenderer","GraphOverlayRenderer","experimental_toolbar_ToolbarView","experimental_toolbar_ToolbarButton","PageEmptyIcon","UserUtil","closeBar","toolbar_ToolbarUploadButton","getImportFileTypes","importFile","catch","Notifications","addErrorMessage","error","finally","UndoIcon","canUndo","undo","RedoIcon","canRedo","redo","experimental_toolbar_ToolbarDivider","BugIcon","WorldIcon","HelpIcon","SettingsIcon","experimental_drawer_DrawerView","getModulePanels","concat","experimental_components_UploadDropZone","experimental_tooltip_TooltipView","experimental_workspace_WorkspaceView","x1","y1","x2","y2","stroke","parent","NotificationView","notificationManager","experimental_hotkey_HotKeyView","experimental_viewport_ViewportView","experimental_EditPane","experimental_TapePane","hot"],"mappings":"i9BAGA,IA+BeA,cA3Bb,SAAAA,EAAYC,GACZ,mGAAAC,CAAAC,KAAAH,GAAAI,EAAAD,KAAAE,EAAAL,GAAAM,KAAAH,KACQF,0PAJeM,IAAMC,kDAU3B,IAAMC,EAAQN,KAAKF,MAAMQ,MAIzB,OACEC,EAAAC,EAAAC,cAAA,UAAQC,GAAIV,KAAKF,MAAMY,GACrBC,UAAWC,IAAMC,YACiC,IAC1Cb,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAOA,EACPS,SAAUf,KAAKF,MAAMiB,SACrBC,QAAShB,KAAKF,MAAMkB,SACnBhB,KAAKF,MAAMmB,SACZV,EAAAC,EAAAC,cAAA,aAAQH,o1BCXDY,cAdb,SAAAA,EAAYpB,GAAO,mGAAAqB,CAAAnB,KAAAkB,GAAAE,EAAApB,KAAAqB,EAAAH,GAAAf,KAAAH,KAAQF,0PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,ygCCPhB,IAAMC,EAAsB,iBAItBC,EAAmB,IA2XVC,cA3Wb,SAAAA,EAAY/B,GACZ,IAAAgC,MAAA,mGAAAC,CAAA/B,KAAA6B,KACE7B,MAAA8B,MAAAE,EAAAH,GAAA1B,KAAAH,KAAMF,mDAEDmC,IAAM,KACXH,EAAKI,cAAgB,KAErBJ,EAAKK,MAAQ,CACXC,MAAM,EACNC,SAAU,GAIZP,EAAKQ,eAAgB,EACrBR,EAAKS,iBAAkB,EAEvBT,EAAKU,SAAU,EAEfV,EAAKW,YAAa,EAElBX,EAAKY,WAAad,EAElBE,EAAKa,eAAiB,KACtBb,EAAKc,kBAAoB,KAEzBd,EAAKe,WAAY,EAEjBf,EAAKgB,mBAAqBhB,EAAKgB,mBAAmBC,KAAxBC,IAAAlB,KAC1BA,EAAKmB,sBAAwBnB,EAAKmB,sBAAsBF,KAA3BC,IAAAlB,KAC7BA,EAAKoB,mBAAqBpB,EAAKoB,mBAAmBH,KAAxBC,IAAAlB,KAC1BA,EAAKqB,eAAiBrB,EAAKqB,eAAeJ,KAApBC,IAAAlB,KACtBA,EAAKsB,eAAiBtB,EAAKsB,eAAeL,KAApBC,IAAAlB,KA9BxBA,wPAHuB1B,IAAMC,6DAuC3BgD,OAAOC,iBAAiB,SAAUtD,KAAKoD,gBAAgB,kDAMvDC,OAAOE,oBAAoB,SAAUvD,KAAKoD,qDAI5C,IADWI,EACXC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAD6BG,EAC7BH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADsC,KAEhCD,GAEFxD,KAAK6D,eA3D2B,QA2DY,GAGzC7D,KAAKmC,MAAMC,MAEdpC,KAAK8D,SAAS,CAAE1B,MAAM,GAAQwB,yCAKlC,IADYA,EACZH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADqB,KAEfzD,KAAKmC,MAAMC,MAEbpC,KAAK8D,SAAS,CAAE1B,MAAM,GAASwB,0CAKnC,IADaA,EACbH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADsB,KAEpBzD,KAAK8D,SAAS,SAACC,EAAMjE,GACnB,MAAO,CAAEsC,MAAO2B,EAAK3B,OACpBwB,0CAKH,OAAO5D,KAAKmC,MAAMC,kDAKlB,OAAOpC,KAAKwC,8CAGAH,GAEPrC,KAAKF,MAAMkE,SACZ3B,GAAYrC,KAAKF,MAAMkE,OAAON,SAAQrB,EAAW,GACjDrC,KAAKmC,MAAMC,MAAQpC,KAAKmC,MAAME,WAAaA,EAGzCrC,KAAKwC,QAEPxC,KAAK6D,eAAe7D,KAAK0C,YAIzB1C,KAAK6D,eA1GyB,QA0Gc,GAM9C7D,KAAK8D,SAAS,CAAC1B,MAAM,EAAMC,SAAUA,kDAMvC,OAAOrC,KAAKmC,MAAME,8CAGPA,GAEX,OAAOrC,KAAKmC,MAAME,WAAaA,yCAGlB4B,GACf,IADsBC,IACtBT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GACE,GAAKzD,KAAKkC,eAAkBlC,KAAKiC,IAAjC,CAEAjC,KAAKyC,WAAayB,EAElB,IAAMC,EAAanE,KAAKF,MAAMsE,KACxBC,EAAgBrE,KAAKiC,IAAIqC,wBAAwBC,IAEjDC,EArIwB,WAoIHL,EAEzBM,SAASC,gBAAgBC,aAAeN,EACxCI,SAASC,gBAAgBE,YACrBC,EAAUjD,EAEhB,GAAqB,iBAAVqC,EAET,OAAOA,GAEL,IAhJ8B,OAiJ5BjE,KAAKwC,SAAU,EACfxC,KAAK0C,WAAaoC,EAAkB9E,KAAKkC,eACzC,MACF,IAnJ6B,MAoJ3BlC,KAAKwC,SAAU,EACfxC,KAAKkC,cAAcpB,MAAMiE,YAAYpD,EAAqBkD,EAAU,MACpE,MACF,QACE,MAAM,IAAIG,MAAM,oDAGjB,IAAqB,iBAAVf,EAgBd,MAAM,IAAIe,MAAM,+CAdZf,EAAQY,EAvKoB,KAuKqBZ,EAAQY,GACzDZ,EAAQO,EAvKoB,KAyK9BP,EAAQO,EACRxE,KAAKwC,SAAU,GAIfxC,KAAKwC,SAAU,EAEjBxC,KAAKkC,cAAcpB,MAAMiE,YAAYpD,EAAqBsC,EAAQ,iDAWhEjE,KAAKmC,MAAMC,MAAQpC,KAAKwC,SAE1BxC,KAAK6D,eAAe7D,KAAK0C,YAGrB1C,KAAKwC,SAGPxC,KAAKiF,gBAKPjF,KAAKiF,sDAIMC,GACf,IAAAC,EAAAnF,KACOA,KAAK2C,iBAER3C,KAAK2C,eAAiByC,WAAW,WAW/B,GAVAD,EAAKxC,eAAiB,KAGlBwC,EAAKvC,kBAAmByC,aAAaF,EAAKvC,mBACzCuC,EAAK5C,iBAAkB,EAC5B4C,EAAKvC,kBAAoBwC,WAAW,WAClCD,EAAKvC,kBAAoB,KACzBuC,EAAK5C,iBAAkB,GACtB,KAEE4C,EAAKjD,eAAkBiD,EAAKlD,IAAjC,CAEA,IAAMkC,EAAagB,EAAKrF,MAAMsE,KACxBC,EAAgBc,EAAKlD,IAAIqC,wBAAwBC,IAEjDC,EAtNoB,WAqNCL,EAEzBM,SAASC,gBAAgBC,aAAeN,EACxCI,SAASC,gBAAgBE,YAE3B,GAAIO,EAAK3C,QACT,CACE,GAAI2C,EAAK1C,WAAY,OACjB0C,EAAKzC,WAvOmB,IAuO0B8B,IAEpDW,EAAK3C,SAAU,EACf2C,EAAKjD,cAAcpB,MAAMiE,YAAYpD,EAAqBwD,EAAKzC,WAAa,WAIhF,CACqBoC,EAAkBK,EAAKjD,eA/Od,IAgPqBsC,IAE/CW,EAAK3C,SAAU,EACf2C,EAAK1C,YAAa,MAjPK,iDAwPdyC,GAEZlF,KAAKsC,cASRtC,KAAKiD,sBAAsBiC,IAP3BlF,KAAKsC,eAAgB,EACrBtC,KAAK0C,WAAaoC,EAAkB9E,KAAKkC,eACzCuC,SAASnB,iBAAiB,UAAWtD,KAAKiD,uBAC1CwB,SAASnB,iBAAiB,YAAatD,KAAKkD,mEAQ1BgC,GAEhBlF,KAAKsC,gBAEPmC,SAASlB,oBAAoB,UAAWvD,KAAKiD,uBAC7CwB,SAASlB,oBAAoB,YAAavD,KAAKkD,oBAC/ClD,KAAKsC,eAAgB,EACrBtC,KAAK0C,WAAaoC,EAAkB9E,KAAKkC,2DAI1BgD,GAEjB,IACMI,EA7QwB,WA4QXtF,KAAKF,MAAMsE,KAO1BmB,GALiBD,EACnBb,SAASC,gBAAgBC,aACzBF,SAASC,gBAAgBE,cACNU,EAAqBJ,EAAEM,QAAUN,EAAEO,SA7R1B,GAiSzBH,GAAsBI,KAAKC,IAAIJ,EA5RA,KAJF,KAkShCA,EA9RkC,KAgSpCvF,KAAK6D,eAAe0B,oCAKtB,IAAAK,EAAA5F,KACQ6F,EAAe7F,KAAKF,MAAMkE,OAC1BG,EAAanE,KAAKF,MAAMsE,MA/RD,QAgSvB0B,EAAkB9F,KAAKF,MAAMiG,WA9RQ,aA+RrCC,EAAmBhG,KAAKF,MAAMmG,OAAQ,EAEtCC,EAAelG,KAAKmC,MAAMC,KAE1BkD,EAtSwB,WAsSHnB,EACrBgC,IAA2Bb,GAAwBY,GArShB,aAqSgCJ,GACnEM,EAAmBF,GAAgBlG,KAAKsC,cACxC+D,EAAuBrG,KAAKwC,QAC5B8D,EAAoEtG,KAAKsC,eAAiBtC,KAAKuC,kBAAsB2D,EACrHK,EAAiBL,IAAgB,EAKvC,OAFAlG,KAAK6C,UAAYsD,EAGf5F,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAE2D,EAAK3D,IAAIA,GACxBvB,GAAIV,KAAKF,MAAMY,GACfC,UAAWC,IAAM4F,aACdlB,EAAqB,WAAa,IAClC,IAAMtF,KAAKF,MAAMa,UACpBG,MAAOd,KAAKF,MAAMgB,OAChBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM6F,cACnBzG,KAAKF,MAAMmB,UAEdV,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAE2D,EAAK1D,cAAcD,GAClCtB,UACEC,IAAM8F,YACLR,EAAe,SAAW,KAC1BC,EAA0B,wBAA0B,KACpDb,EAAqB,uBAAyB,KAC9Ce,EAAuB,SAAW,KAClCC,EAA0B,iBAAmB,KAC7CtG,KAAKuC,gBAAkB,iBAAmB,KAC1CyD,EAAmB,SAAW,KAC/BzF,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM+F,eAAiBP,EAAmB,SAAW,IAAKQ,YAAa5G,KAAK8C,oBAC1FvC,EAAAC,EAAAC,cAAA,YAAO,OAETF,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAMiG,gBACpBtG,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAMkG,oBACpBvG,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,IAAMoG,oBAAqBhG,QAAShB,KAAKmD,gBAC9D5C,EAAAC,EAAAC,cAACwG,EAAD,OAEDV,GAAkBV,GAAgBA,EAAaqB,IAAI,SAAChC,EAAGiC,GACtD,IAAKjC,EAAG,OAAO,KACf,IAAKA,EAAC,MAAW,OAAO,KACxB,IAAM5E,EAAQ4E,EAAC,MACf,OACE3E,EAAAC,EAAAC,cAAA,KAAG2G,IAAK9G,EAAQ,IAAM6G,EACtBxG,UAAWC,IAAMyG,YACdzB,EAAK0B,aAAaH,GAAK,WAAa,IACvCnG,QAAS,kBAAM4E,EAAK2B,cAAcJ,KAChC5G,EAAAC,EAAAC,cAAA,aAAQH,OAKhBC,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM4G,gCACpBjH,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM6G,sBACnB5B,GAAgBA,EAAaqB,IAAI,SAAChC,EAAGiC,GACpC,IAAKjC,EAAG,OAAO,KACf,IAAMwC,EAAiBxC,EACjB5E,EAAQ4E,EAAEyC,OAAS,GACnBC,EAAUhC,EAAK0B,aAAaH,GAClC,OACE5G,EAAAC,EAAAC,cAAA,OAAK2G,IAAK9G,EAAQ,IAAM6G,EAAGxG,UAAWC,IAAMiH,wBACxCD,EAAqB,GAAX,WACZrH,EAAAC,EAAAC,cAACiH,EAADI,EAAA,CAAgBnH,UAAWC,IAAMmH,cAC3BnC,EAAK9F,MAAMkI,WADjB,CAEEC,OAAQrC,EAAK3D,oDAcrC,SAAS6C,EAAkB5C,GAEzB,OAAOgG,SAAS7E,OAAO8E,iBAAiBjG,GAAekG,iBAAiBzG,GAAqB0G,QAAQ,MAAO,o1BCpYvG,IA4BQC,cAtBb,SAAAA,EAAYxI,GACZ,mGAAAyI,CAAAvI,KAAAsI,GAAAE,EAAAxI,KAAAyI,EAAAH,GAAAnI,KAAAH,KACQF,0PAJkBM,IAAMC,kDAU9B,IAAMqI,EAAY1I,KAAKF,MAAM6I,KAC7B,OACEpI,EAAAC,EAAAC,cAACsG,EAAD,CAAYrG,GAAIV,KAAKF,MAAMY,GACzBC,UAAWC,IAAMgI,eAAiB,IAAM5I,KAAKF,MAAMa,UACnDG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAON,KAAKF,MAAMQ,MAClBS,SAAUf,KAAKF,MAAMiB,SACrBC,QAAShB,KAAKF,MAAMkB,SACpBT,EAAAC,EAAAC,cAACiI,EAAD,62BCtBR,IAyCeG,cArCb,SAAAA,EAAY/I,GACZ,IAAAgC,EAAA,mGAAAgH,CAAA9I,KAAA6I,IACE/G,EAAAiH,EAAA/I,KAAAgJ,EAAAH,GAAA1I,KAAAH,KAAMF,KAEDmC,IAAM,KAHbH,wPAHyB1B,IAAMC,kDAStBC,GAEPN,KAAKiC,IAAIgH,WAAW3I,sCAKpB,OAAON,KAAKiC,IAAIgC,uCAKlB,IAAAkB,EAAAnF,KACE,OACEO,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,IAAMsI,gBACf,IAAMlJ,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,QAAME,UAAWC,IAAMuI,uBACrB5I,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAgBnH,IAAK,SAAAA,GAAG,OAAEkD,EAAKlD,IAAIA,GACjCoH,aA/BU,cAiCd9I,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM0I,gBAAtB,m2BCpBOpI,eAdb,SAAAA,EAAYpB,GAAO,mGAAAyJ,CAAAvJ,KAAAkB,GAAAsI,EAAAxJ,KAAAyJ,GAAAvI,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,ohCCJhB,IAEMgI,IAA8B,EA6IrBC,eAzIb,SAAAA,EAAY7J,GACZ,IAAAgC,MAAA,mGAAA8H,CAAA5J,KAAA2J,KACE3J,MAAA8B,MAAA+H,GAAAF,GAAAxJ,KAAAH,KAAMF,qDAEDmC,IAAM,KACXH,EAAKgI,eAAiB,KAEtBhI,EAAKK,MAAQ,CACXC,MAAM,EACN2H,UAAWL,IAGb5H,EAAKkI,YAAclI,EAAKkI,YAAYjH,KAAjBkH,MAAAnI,KAXrBA,yPAHwB1B,IAAMC,mDAkB9B,IADQuD,EACRH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADiB,KAEVzD,KAAKmC,MAAMC,MAGdpC,KAAK8D,SAAS,CAAE1B,MAAM,EAAM2H,UAAWL,IAA8B9F,sCAKzE,IADSA,EACTH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADkB,KAEZzD,KAAKmC,MAAMC,MAGbpC,KAAK8D,SAAS,CAAE1B,MAAM,EAAO2H,UAAWL,IAA8B9F,uCAK1E,IADUA,EACVH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADmB,KAGjBzD,KAAK8D,SAAS,SAACC,EAAMjE,GACnB,MAAO,CAAEsC,MAAO2B,EAAK3B,KAAM2H,UAAWL,KACrC9F,uCAKH,OAAO5D,KAAKmC,MAAMC,4CAGL2H,GAER/J,KAAKF,MAAMoK,QACZH,GAAa/J,KAAKF,MAAMoK,MAAMxG,SAAQqG,EAAYL,IAGtD1J,KAAK8D,SAAS,CAAC1B,MAAM,EAAM2H,UAAWA,mDAKtC,OAAO/J,KAAKmC,MAAM4H,gDAGNA,GAEZ,OAAO/J,KAAKmC,MAAM4H,YAAcA,sCAGtB7E,GAENlF,KAAKmC,MAAMC,MAAQpC,KAAKmC,MAAM4H,WAAc,EAE9C/J,KAAKmK,eAAeT,IAIpB1J,KAAKoK,sDAISnJ,GAEhB,OAAOb,IAAMiK,SAASnD,IAAIjG,EAAU,SAAAqJ,GAClC,GHzFmC,YGyF/BA,EAAMxK,MAAMyK,cAA6C,OAAOD,iDAInDrJ,GAEnB,OAAOb,IAAMiK,SAASnD,IAAIjG,EAAU,SAAAqJ,GAClC,GHjGgC,SGiG5BA,EAAMxK,MAAMyK,cAA0C,OAAOD,qCAMrE,IAAAnF,EAAAnF,KACQwK,EAAexK,KAAKF,MAAMoK,MAC1BO,EAAmBzK,KAAKmC,MAAM4H,UAC9BW,EAAcD,GAAoB,EAAID,EAAaC,GAAoB,KACvEE,EAAuC,MAAfD,EAExBE,EAAaxK,IAAMiK,SAASQ,MAAM7K,KAAKF,MAAMmB,UAAY,EACzD6J,EAAY9K,KAAKmC,MAAMC,KACvB2I,EAAgB/K,KAAKF,MAAMmG,OAAQ,EACnC+E,EAAkBF,GAAcF,IA3GX,EA6G3B,OACErK,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAEkD,EAAKlD,IAAIA,GACxBvB,GAAIV,KAAKF,MAAMY,GACfC,UAAWC,IAAMqK,SACdH,EAAY,SAAW,KACvBC,EAAgB,SAAW,IAC5B,IAAM/K,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAChBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAMsK,UACnBP,EACCpK,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAMuK,gBACpB5K,EAAAC,EAAAC,cAACiK,EAADU,GAAA,GAAiBpL,KAAKF,MAAMuL,UAA5B,CAAuCC,QAAStL,KAAKiC,QAEvD1B,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAM2K,uBACnBvL,KAAKwL,kBAAkBxL,KAAKF,MAAMmB,YAGzCV,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAEkD,EAAK2E,eAAe7H,GAAKtB,UAAWC,IAAM6K,aACvDlL,EAAAC,EAAAC,cAACiL,EAAD,CAAc/K,UAAWC,IAAM+K,gBAE/BpL,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAMgL,0BACnB5L,KAAK6L,qBAAqB7L,KAAKF,MAAMmB,WAGvC+J,GACDzK,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,IAAMkL,iBAAkB9K,QAAShB,KAAKgK,aAC3DzJ,EAAAC,EAAAC,cAACsL,GAAD,u2BC9IZ,IAqCeC,eAjCb,SAAAA,EAAYlM,GACZ,IAAAgC,EAAA,mGAAAmK,CAAAjM,KAAAgM,IACElK,EAAAoK,GAAAlM,KAAAmM,GAAAH,GAAA7L,KAAAH,KAAMF,KAEDmC,IAAM,KAHbH,yPAH0B1B,IAAMC,kDAWhC,IAAA8E,EAAAnF,KACQoM,EAAWpM,KAAKF,MAAMsM,SACtBC,EAAUD,EAASE,aACnBC,EAAUH,EAASI,aACnBC,EAjBqB,IAiBe/G,KAAKgH,IAAIC,OAAOC,UAAWR,EAASS,YACxEC,EAAeL,EAAW,EAChC,OACElM,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAEkD,EAAKlD,IAAIA,GAAKvB,GAAIV,KAAKF,MAAMY,GAC1CC,UAAW,uBACHX,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClBW,SAAWqL,EACT,KAAQA,EACR,IAAML,EACN,IAAMA,EACRnL,MAAM,8BACNf,EAAAC,EAAAC,cAAA,KAAGE,UAAU,oBAAoBoM,UAAW,aAAeV,EAAU,IAAME,EAAU,KAClFvM,KAAKF,MAAMmB,23BCYP+L,eAxCb,SAAAA,EAAYlN,GACZ,IAAAgC,EAAA,mGAAAmL,CAAAjN,KAAAgN,IACElL,EAAAoL,GAAAlN,KAAAmN,GAAAH,GAAA7M,KAAAH,KAAMF,KAEDqC,MAAQ,CACXiL,MAAO,GAJXtL,yPAHyB1B,IAAMC,sDAWlB+M,GAEXpN,KAAK8D,SAAS,CAACsJ,MAAOA,2CAKtB,OAAOpN,KAAKmC,MAAMiL,uCAKpB,IAAAjI,EAAAnF,KACE,OACEO,EAAAC,EAAAC,cAACF,EAAAC,EAAM6M,SAAP,KACGjN,IAAMiK,SAASnD,IAAIlH,KAAKF,MAAMmB,SAAU,SAACqJ,EAAOnD,GAC/C,OACE5G,EAAAC,EAAAC,cAAA,OAAKC,GAAIyE,EAAKrF,MAAMY,GAClBC,UAAWC,KAAM0M,gBACdnI,EAAKhD,MAAMiL,QAAUjG,EAAI,WAAa,IACvC,IAAMhC,EAAKrF,MAAMa,UACnBG,MAAOqE,EAAKrF,MAAMgB,OACjBwJ,k3BCjCf,IAyGeiD,eAjGb,SAAAA,EAAYzN,GACZ,IAAAgC,EAAA,mGAAA0L,CAAAxN,KAAAuN,IACEzL,EAAA2L,GAAAzN,KAAA0N,GAAAH,GAAApN,KAAAH,KAAMF,KAED6N,gBAAkB,KAEvB7L,EAAKK,MAAQ,CACXiL,MAAOtN,EAAM8N,SAAW,GAN5B9L,yPAHwB1B,IAAMC,yDAad+M,GAEdpN,KAAK8D,SAAS,CAACsJ,MAAOA,8CAKtB,OAAOpN,KAAKmC,MAAMiL,8CAKlB,IAAMS,EAAO7N,KAAKF,MAAM+N,KAClBC,EAAU9N,KAAKF,MAAMgO,QAG3B,GAFA9N,KAAK2N,gBAAkB,KAEnBG,EACJ,CACE,IAAMjD,EAAQzK,IAAMiK,SAASQ,MAAM7K,KAAKF,MAAMmB,UAC1C8M,EAAY/N,KAAKmC,MAAMiL,MAAQ,EApCd,WAqCjBS,EAEFE,EAAYrI,KAAKsI,MAAMtI,KAAKuI,SAAWpD,GArCnB,YAuCbgD,EAEHE,GAAalD,IAAOkD,EAAYlD,EAAQ,GAIxCkD,GAAalD,IAAOkD,EAAY,GAEtC/N,KAAKkO,gBAAgBH,OAjDA,WAqDjBF,EAGF7N,KAAKkO,gBAAgBxI,KAAKsI,MAAMtI,KAAKuI,SAAW7N,IAAMiK,SAASQ,MAAM7K,KAAKF,MAAMmB,YAtD5D,YAwDb4M,EAGP7N,KAAKkO,gBAAgB9N,IAAMiK,SAASQ,MAAM7K,KAAKF,MAAMmB,UAAY,GAKjEjB,KAAKkO,gBAAgB,oCAO3B,IAAA/I,EAAAnF,KAEQ8N,GADO9N,KAAKF,MAAM+N,KACR7N,KAAKF,MAAMgO,SACrBK,EAAenO,KAAKmC,MAAMiL,MAShC,OAPIU,IAAY9N,KAAK2N,kBAEnB3N,KAAK2N,gBAAkBvI,WAAW,WAChCD,EAAKiJ,iBAnFa,MAwFpB7N,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMyN,mBACdP,EAAU,YAAc,IACzB,IAAM9N,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OACjBV,IAAMiK,SAASnD,IAAIlH,KAAKF,MAAMmB,SAAU,SAACqJ,EAAOnD,GAC/C,OACE5G,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACwN,QAASH,IAAiBhH,EAAI,EAAI,IAC9CmD,s3BCjFApJ,eAdb,SAAAA,EAAYpB,GAAO,mGAAAyO,CAAAvO,KAAAkB,GAAAsN,GAAAxO,KAAAyO,GAAAvN,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,00BCuHDgN,eA7Hb,SAAAA,EAAY5O,GACZ,IAAAgC,MAAA,mGAAA6M,CAAA3O,KAAA0O,KACE1O,MAAA8B,MAAA8M,GAAAF,GAAAvO,KAAAH,KAAMF,qDAEDmC,IAAM,KAEXH,EAAK+M,UAAW,EAEhB/M,EAAKgN,YAAchN,EAAKgN,YAAY/L,KAAjBgM,MAAAjN,KACnBA,EAAKkN,YAAclN,EAAKkN,YAAYjM,KAAjBgM,MAAAjN,KACnBA,EAAKmN,WAAanN,EAAKmN,WAAWlM,KAAhBgM,MAAAjN,KATpBA,yPAH2B1B,IAAMC,6DAmB/BL,KAAKiC,IAAIqB,iBAAiB,OAAQtD,KAAKiP,YACvCjP,KAAKiC,IAAIqB,iBAAiB,WAAYtD,KAAK8O,aAC3C9O,KAAKiC,IAAIqB,iBAAiB,YAAatD,KAAK8O,aAC5C9O,KAAKiC,IAAIqB,iBAAiB,YAAatD,KAAKgP,aAC5ChP,KAAKiC,IAAIqB,iBAAiB,UAAWtD,KAAKgP,4DAM1ChP,KAAKiC,IAAIsB,oBAAoB,OAAQvD,KAAKiP,YAC1CjP,KAAKiC,IAAIsB,oBAAoB,WAAYvD,KAAK8O,aAC9C9O,KAAKiC,IAAIsB,oBAAoB,YAAavD,KAAK8O,aAC/C9O,KAAKiC,IAAIsB,oBAAoB,YAAavD,KAAKgP,aAC/ChP,KAAKiC,IAAIsB,oBAAoB,UAAWvD,KAAKgP,iDAGnC9J,GAEVA,EAAEgK,iBACFhK,EAAEiK,kBAGFnP,KAAK6O,UAAW,sCAGN3J,GAGVA,EAAEgK,iBACFhK,EAAEiK,kBAGFnP,KAAK6O,UAAW,qCAGP3J,GAGTA,EAAEgK,iBACFhK,EAAEiK,kBAGFnP,KAAK6O,UAAW,EAEhB,IAAMO,EAAelK,EAAEkK,aACnBC,EAAW,KACf,GAAID,EAAaE,MACjB,CACE,IAAMC,EAAYH,EAAaE,MAI/B,GAHeC,EAAU7L,QAGX,EACd,CACE,IAAM8L,EAAOD,EAAU,GACL,SAAdC,EAAKC,OAEPJ,EAAWG,EAAKE,kBAKtB,CACE,IAAMC,EAAYP,EAAaQ,MAChBD,EAAUjM,QAGX,IAEZ2L,EAAWM,EAAU,IAIrB3P,KAAKF,MAAMmP,YAGbjP,KAAKF,MAAMmP,WAAWI,GAGpBD,EAAaE,MAEfF,EAAaE,MAAMO,QAInBT,EAAaU,6CAMjB,IAAA3K,EAAAnF,KACQ+P,EAAmB/P,KAAK6O,SAE9B,OACEtO,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAEkD,EAAKlD,IAAIA,GAAKvB,GAAIV,KAAKF,MAAMY,GAC1CC,UAAWC,KAAMoP,kBACdD,EAAmB,YAAc,IAClC,IAAM/P,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAACwP,GAAD,CAAYtP,UAAWC,KAAMsP,cAC5B9P,IAAMiK,SAAS8F,KAAKnQ,KAAKF,MAAMmB,23BCxEzBmP,eA/Cb,SAAAA,EAAYtQ,GACZ,mGAAAuQ,CAAArQ,KAAAoQ,GAAAE,GAAAtQ,KAAAuQ,GAAAH,GAAAjQ,KAAAH,KACQF,2PAJgBM,IAAMC,8DAOTmQ,GACrB,IAAA1O,EAAA9B,KACE,IAAKwQ,EAASC,kBAAmB,OAAO,KACxC,IAAM/H,EAAY8H,EAASE,eAC3B,OACEnQ,EAAAC,EAAAC,cAACsG,EAAD,CAAYK,IAAKoJ,EAASG,cACxBhQ,UAAWC,KAAMgQ,aACjBtQ,MAAOkQ,EAASK,WAChB7P,QAAS,WACP,IACM8P,EADoBhP,EAAKhC,MAAMiR,cAAcC,uBAChBC,iBACnCT,EAASU,aAAaJ,EAAUC,iBAElCxQ,EAAAC,EAAAC,cAACiI,EAAD,wCAON,IAAAvD,EAAAnF,KACQmR,EAASnR,KAAKF,MAAMiR,cACpBK,EAAiBD,EAAOE,oBACxBC,EAAiBH,EAAOI,oBAE9B,OACEhR,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAM4Q,gBACf,IAAMxR,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM6Q,aACpBlR,EAAAC,EAAAC,cAAA,UAAKiR,KAAKC,SAAS,+BAErBpR,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMgR,eACnBR,EAAelK,IAAI,SAAAhC,GAAC,OAAIC,EAAK0M,qBAAqB3M,KAClDoM,EAAepK,IAAI,SAAAhC,GAAC,OAAIC,EAAK0M,qBAAqB3M,o5BC7B9ChE,eAdb,SAAAA,EAAYpB,GAAO,mGAAAgS,CAAA9R,KAAAkB,GAAA6Q,GAAA/R,KAAAgS,GAAA9Q,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,+2BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAmS,CAAAjS,KAAAkB,GAAAgR,GAAAlS,KAAAmS,GAAAjR,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,0yBC0CD0Q,eA9Cb,SAAAA,EAAYtS,GACZ,IAAAgC,MAAA,mGAAAuQ,CAAArS,KAAAoS,KACEpS,MAAA8B,MAAAwQ,GAAAF,GAAAjS,KAAAH,KAAMF,qDAEDqC,MAAQ,CACXC,KAAMtC,EAAM8N,UAAW,GAGzB9L,EAAKd,QAAUc,EAAKd,QAAQ+B,KAAbwP,MAAAzQ,KAPjBA,yPAHyB1B,IAAMC,iDAavB6E,GAENlF,KAAK8D,SAAS,SAACC,EAAMjE,GACnB,MAAO,CAACsC,MAAO2B,EAAK3B,yCAOtB,IAAMoQ,EAASxS,KAAKmC,MAAMC,KACpBqQ,EAAazS,KAAKF,MAAMiB,UAAYX,IAAMiK,SAASQ,MAAM7K,KAAKF,MAAMmB,WAAa,EACjFX,EAAQN,KAAKF,MAAMQ,MACzB,OACEC,EAAAC,EAAAC,cAAA,WAASC,GAAIV,KAAKF,MAAMY,GACtBC,UAAWC,KAAM8R,kBACf,IAAM1S,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAM+R,eAC3BrS,MAAOA,EACPS,SAAU0R,EACVzR,QAAShB,KAAKgB,SACZwR,EAA2BjS,EAAAC,EAAAC,cAACmS,GAAD,MAAlBrS,EAAAC,EAAAC,cAACoS,GAAD,OAEbtS,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMkS,2BACnBN,EAAS,SAAW,KACrBjS,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMmS,iBACnB/S,KAAKF,MAAMmB,u2BCOT+R,eA7Cb,SAAAA,EAAYlT,GACZ,mGAAAmT,CAAAjT,KAAAgT,GAAAE,GAAAlT,KAAAmT,GAAAH,GAAA7S,KAAAH,KACQF,2PAJgBM,IAAMC,kDAUbL,KAAKF,MAAMiR,cAC1B,OACExQ,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAM4Q,gBACf,IAAMxR,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM6Q,aACpBlR,EAAAC,EAAAC,cAAA,UAAKiR,KAAKC,SAAS,6BAErBpR,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMgR,eAEpBrR,EAAAC,EAAAC,cAAC2S,GAAD,CAAc9S,MAAO,mBACnBC,EAAAC,EAAAC,cAAA,kDAGFF,EAAAC,EAAAC,cAAC2S,GAAD,CAAc9S,MAAO,UAGrBC,EAAAC,EAAAC,cAAA,UAAQO,QAAS,WACf,GAAIqC,OAAOgQ,QAAQ,gFACnB,CACE,IAAMC,KAAUC,YAChB,MAAMrO,IACNoO,KAAUE,eAEVnQ,OAAOoQ,MAAM,2CAGd,k5BC3BEvS,eAdb,SAAAA,EAAYpB,GAAO,mGAAA4T,CAAA1T,KAAAkB,GAAAyS,GAAA3T,KAAA4T,GAAA1S,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,s/BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA+T,CAAA7T,KAAAkB,GAAA4S,GAAA9T,KAAA+T,GAAA7S,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,45BCsCDsS,eA1Cb,SAAAA,EAAYlU,GACZ,IAAAgC,MAAA,mGAAAmS,CAAAjU,KAAAgU,KACEhU,MAAA8B,MAAAoS,GAAAF,GAAA7T,KAAAH,KAAMF,qDAEDqU,SAAWrS,EAAKqS,SAASpR,KAAdqR,MAAAtS,KAHlBA,yPAH2B1B,IAAMC,kDASxBgU,GAEHrU,KAAKF,MAAMqU,UAEbnU,KAAKF,MAAMqU,SAASE,oCAMxB,IAAAlP,EAAAnF,KACQ6N,EAAO7N,KAAKF,MAAM+N,MAAQ,EACf7N,KAAKF,MAAMqU,SAE5B,OACE5T,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAM0T,eACf,IAAMtU,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAM2T,aACjB,IAAT1G,EAAa,WAAa,IAC3B7M,QAAS,kBAAMmE,EAAKgP,SAAS,IAC7B7T,MAAOoR,KAAKC,SAAS,sBACrBpR,EAAAC,EAAAC,cAAC+T,GAAD,OAEFjU,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAM2T,aACjB,IAAT1G,EAAa,WAAa,IAC3B7M,QAAS,kBAAMmE,EAAKgP,SAAS,IAC7B7T,MAAOoR,KAAKC,SAAS,oBACrBpR,EAAAC,EAAAC,cAACgU,GAAD,oEC7CH,SAASC,GAAeC,GAC/B,IADoCC,EACpCnR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GADqDG,EACrDH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAD8D,KAE5D,GAAIJ,OAAOgQ,QAAQ3B,KAAKC,SAAS,sBACjC,CACE,IAAMR,EAASwD,EAAIE,mBACnB1D,EAAO2D,qBAAqBC,WAAWlF,QAClC+E,IAEHD,EAAIK,iBAAiBnF,QACrBsB,EAAOH,uBAAuBiE,eAAe,OAE3CrR,GAAUA,yzBCOH1C,eAdb,SAAAA,EAAYpB,GAAO,mGAAAoV,CAAAlV,KAAAkB,GAAAiU,GAAAnV,KAAAoV,GAAAlU,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,0mDCNhB,IAmHe2T,eA/Gb,SAAAA,EAAYvV,GACZ,IAAAgC,MAAA,mGAAAwT,CAAAtV,KAAAqV,KACErV,MAAA8B,MAAAyT,GAAAF,GAAAlV,KAAAH,KAAMF,qDAEDmC,IAAM,KAEXH,EAAKK,MAAQ,CACXqT,aAAa,GAGf1T,EAAK2T,kBAAoB,KAEzB3T,EAAK4T,aAAe5T,EAAK4T,aAAa3S,KAAlB4S,MAAA7T,KACpBA,EAAK8T,aAAe9T,EAAK8T,aAAa7S,KAAlB4S,MAAA7T,KACpBA,EAAKd,QAAUc,EAAKd,QAAQ+B,KAAb4S,MAAA7T,KAGfA,EAAK+T,0BAA4B/T,EAAK+T,0BAA0B9S,KAA/B4S,MAAA7T,KAhBnCA,yPAH2B1B,IAAMC,sDAsBpB6E,GAEPlF,KAAKmC,MAAMqT,aAEfxV,KAAKF,MAAMgW,gBAAgBC,cAAa,wCAG7B7Q,GAEPlF,KAAKmC,MAAMqT,aAEfxV,KAAKF,MAAMgW,gBAAgBC,cAAa,mCAGlC7Q,GACR,IAAAC,EAAAnF,KACEkF,EAAEiK,kBACFjK,EAAEgK,iBAEElP,KAAKyV,mBAGPpQ,aAAarF,KAAKyV,mBAClBzV,KAAKyV,kBAAoB,KACzBzV,KAAK8D,SAAS,CAAC0R,aAAa,IAE5Bd,GAAe1U,KAAKF,MAAM6U,KAAK,GAC/B3U,KAAKF,MAAMgW,gBAAgBC,cAAa,IAKxC/V,KAAK8D,SAAS,SAACC,EAAMjE,GACnB,IAAMyF,GAAUxB,EAAKyR,YAWrB,OAVA1V,EAAMgW,gBAAgBC,aAAaxQ,GACnCJ,EAAKsQ,kBAAoBrQ,WAAW,WAClCD,EAAKsQ,kBAAoB,MA5DX,KA+DZlQ,GAEFd,SAASC,gBAAgBpB,iBAAiB,YAAa6B,EAAK0Q,2BAGvD,CACLL,YAAajQ,uDAMKL,GAEpBlF,KAAKmC,MAAMqT,aAAexV,KAAKiC,MAAQiD,EAAE8Q,SAE3C9Q,EAAEiK,kBACFjK,EAAEgK,iBAEFzK,SAASC,gBAAgBnB,oBAAoB,YAAavD,KAAK6V,2BAE/D7V,KAAKF,MAAMgW,gBAAgBC,cAAa,GACxC/V,KAAK8D,SAAS,CAAC0R,aAAa,sCAMhC,IAAA5P,EAAA5F,KACQ8V,EAAkB9V,KAAKF,MAAMgW,gBAC7BG,EAAkBjW,KAAKF,MAAMmW,gBAC7BC,EAAeJ,EAAgBK,kBAE/BC,EAASN,EAAgBO,cACzBpQ,EAAOgQ,EAAgBlB,WAAWuB,WAAcJ,EAAaK,gBAAkBL,EAAaM,aAElG,OACEjW,EAAAC,EAAAC,cAAA,OAAKwB,IAAK,SAAAA,GAAG,OAAE2D,EAAK3D,IAAIA,GAAKvB,GAAIV,KAAKF,MAAMY,GAC1CC,UAAWC,KAAM6V,iBACdL,EAAS,WAAa,KACtBnQ,EAAO,SAAW,IACnB,IAAMjG,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClB4U,aAAc1V,KAAK0V,aACnBE,aAAc5V,KAAK4V,aACnB5U,QAAShB,KAAKgB,SACdT,EAAAC,EAAAC,cAACiW,GAAD,u0BCpDOC,eA3Db,SAAAA,EAAY7W,GACZ,IAAAgC,MAAA,mGAAA8U,CAAA5W,KAAA2W,KACE3W,MAAA8B,MAAA+U,GAAAF,GAAAxW,KAAAH,KAAMF,qDAEDqC,MAAQ,CACXiL,MAAOtN,EAAM8N,SAAW,GAG1B9L,EAAKd,QAAUc,EAAKd,QAAQ+B,KAAb+T,MAAAhV,KAPjBA,yPAH4B1B,IAAMC,iDAa1B6E,GACR,IAAAC,EAAAnF,KACQ+W,EAAY/W,KAAKmC,MAAMiL,MAC7BpN,KAAK8D,SAAS,SAACC,EAAMjE,GACnB,IAAM+K,EAAQzK,IAAMiK,SAASQ,MAAM/K,EAAMmB,UACrC8M,EAAYhK,EAAKqJ,MAAQ,EAK7B,OAJIW,GAAalD,IAEfkD,EAAY,GAEP,CAACX,MAAOW,IACd,WACG5I,EAAKrF,MAAMkB,SAEbmE,EAAKrF,MAAMkB,QAAQkE,EAAG6R,2CAKd3J,GAEZpN,KAAK8D,SAAS,CAACsJ,MAAOA,4CAKtB,OAAOpN,KAAKmC,MAAMiL,uCAKpB,IAAAxH,EAAA5F,KACQsK,EAAQlK,IAAMiK,SAASnD,IAAIlH,KAAKF,MAAMmB,SAAU,SAACqJ,EAAOnD,GAC5D,GAAIA,IAAMvB,EAAKzD,MAAMiL,MAAO,OAAO9C,IAClC,GAEH,OACE/J,EAAAC,EAAAC,cAACsG,EAAD,CAAYrG,GAAIV,KAAKF,MAAMY,GACzBC,UAAWX,KAAKF,MAAMa,UACtBG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAON,KAAKF,MAAMQ,MAClBS,SAAUf,KAAKF,MAAMiB,SACrBC,QAAShB,KAAKgB,SACbsJ,81BCzCMpJ,eAdb,SAAAA,EAAYpB,GAAO,mGAAAkX,CAAAhX,KAAAkB,GAAA+V,GAAAjX,KAAAkX,GAAAhW,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,+6BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAqX,CAAAnX,KAAAkB,GAAAkW,GAAApX,KAAAqX,GAAAnW,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,86BCmBD4V,eAvBb,SAAAA,EAAYxX,GACZ,mGAAAyX,CAAAvX,KAAAsX,GAAAE,GAAAxX,KAAAyX,GAAAH,GAAAnX,KAAAH,KACQF,2PAJqBM,IAAMC,kDAUjC,IAAMsU,EAAM3U,KAAKF,MAAM6U,IAEvB,OACEpU,EAAAC,EAAAC,cAACiX,GAAD,CAAiBhX,GAAIV,KAAKF,MAAMY,GAC9BC,UAAWC,KAAM+W,kBAAoB,IAAM3X,KAAKF,MAAMa,UACtDG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAO,kBACPU,QAAS,SAACkE,EAAGiC,GAAJ,OAAUwN,EAAI7Q,SAAS,CAACmC,KAAa,IAANkB,MACxC5G,EAAAC,EAAAC,cAACmX,GAAD,MACArX,EAAAC,EAAAC,cAACoX,GAAD,u3BCPO3W,eAfb,SAAAA,EAAYpB,GAAO,mGAAAgY,CAAA9X,KAAAkB,GAAA6W,GAAA/X,KAAAgY,GAAA9W,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,+OACRnB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,k4BCIDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAmY,CAAAjY,KAAAkB,GAAAgX,GAAAlY,KAAAmY,GAAAjX,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,ihCCyCD0W,eA7Cb,SAAAA,EAAYtY,GACZ,IAAAgC,MAAA,mGAAAuW,CAAArY,KAAAoY,KACEpY,MAAA8B,MAAAwW,GAAAF,GAAAjY,KAAAH,KAAMF,qDAEDyY,SAAWzW,EAAKyW,SAASxV,KAAdyV,MAAA1W,KAChBA,EAAK2W,UAAY3W,EAAK2W,UAAU1V,KAAfyV,MAAA1W,KAJnBA,yPAHuB1B,IAAMC,kDAUpB6E,GAEP,IAAMkH,EAAWpM,KAAKF,MAAMsM,SACtBsM,EAAmC,IAAtBtM,EAASS,WAC5BT,EAASuM,SAASD,qCAGVxT,GAER,IAAMkH,EAAWpM,KAAKF,MAAMsM,SACtBsM,EAAkC,IAAtBtM,EAASS,WAC3BT,EAASuM,SAASD,oCAMlB,IACMA,EAAY,KAAO,GADR1Y,KAAKF,MAAMsM,SACWS,YAAc,IAAI+L,QAAQ,GAEjE,OACErY,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMiY,eACf,IAAM7Y,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMkY,YAAaxY,MAAM,UAAUU,QAAShB,KAAKuY,UACtEhY,EAAAC,EAAAC,cAACsY,GAAD,OAEFxY,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMkY,YAAaxY,MAAM,WAAWU,QAAShB,KAAKyY,WACvElY,EAAAC,EAAAC,cAACuY,GAAD,OAEFzY,EAAAC,EAAAC,cAAA,SAAOE,UAAWC,KAAMqY,YAAaP,o3BC9B9BxX,eAdb,SAAAA,EAAYpB,GAAO,mGAAAoZ,CAAAlZ,KAAAkB,GAAAiY,GAAAnZ,KAAAoZ,GAAAlY,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,mjCCPhB,IAoCe2X,eAhCb,SAAAA,EAAYvZ,GACZ,IAAAgC,MAAA,mGAAAwX,CAAAtZ,KAAAqZ,KACErZ,MAAA8B,MAAAyX,GAAAF,GAAAlZ,KAAAH,KAAMF,qDAEDkB,QAAUc,EAAKd,QAAQ+B,KAAbyW,MAAA1X,KAHjBA,yPAH8B1B,IAAMC,iDAS5B6E,GAEWlF,KAAKF,MAAMsM,SACnBqN,UAAU,EAAG,oCAMtB,IAAMrN,EAAWpM,KAAKF,MAAMsM,SAE5B,OACE7L,EAAAC,EAAAC,cAACsG,EAAD,CAAYrG,GAAIV,KAAKF,MAAMY,GACzBC,UAAWC,KAAM8Y,oBACf,IAAM1Z,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAO,mBACPS,SAAU2E,KAAKC,IAAIyG,EAASE,cA5Bb,IA6Bb5G,KAAKC,IAAIyG,EAASI,cA7BL,GA6BqCxL,QAAShB,KAAKgB,SAClET,EAAAC,EAAAC,cAACkZ,GAAD,k2BCHOC,eAxBb,SAAAA,EAAY9Z,GACZ,mGAAA+Z,CAAA7Z,KAAA4Z,GAAAE,GAAA9Z,KAAA+Z,GAAAH,GAAAzZ,KAAAH,KACQF,2PAJiBM,IAAMC,kDAU7B,IAAMsU,EAAM3U,KAAKF,MAAM6U,IACjBvI,EAAWuI,EAAIwB,kBAAkB6D,cAEvC,OACEzZ,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMqZ,iBACf,IAAMja,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAACyZ,GAAD,CAAkBvZ,UAAWC,KAAMuZ,cAAexF,IAAKA,IACvDpU,EAAAC,EAAAC,cAAC2Z,GAAD,CAAYzZ,UAAWC,KAAMyZ,wBAAyBjO,SAAUA,IAChE7L,EAAAC,EAAAC,cAAC6Z,GAAD,CAAmB3Z,UAAWC,KAAMuZ,cAAe/N,SAAUA,g2BCuBtDmO,eAzCb,SAAAA,EAAYza,GACZ,mGAAA0a,CAAAxa,KAAAua,GAAAE,GAAAza,KAAA0a,GAAAH,GAAApa,KAAAH,KACQF,2PAJaM,IAAMC,kDAUzB,IAAMsU,EAAM3U,KAAKF,MAAM6U,IACjBxD,EAASnR,KAAKF,MAAMqR,OAEpB2E,GADW9V,KAAKF,MAAMsM,SACJ+E,EAAOwJ,sBACzB1E,EAAkB9E,EAAO2D,qBACzB8F,EAAoBzJ,EAAOH,uBAC3B6J,EAAkB/E,EAAgBgF,aAAa7E,GAC/C8E,EAAc5J,EAAO6J,iBAE3B,OACEza,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMqa,UACf,IAAMjb,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAChBia,GACAxa,EAAAC,EAAAC,cAACsa,EAAD,CAAa9Y,IAAK,SAAAA,GAAG,OAAEgU,EAAgBiF,mBAAmBjZ,GAC1D6T,gBAAiBA,EACjBG,gBAAiBA,EACjB2E,kBAAmBA,EACnBO,OAAQxG,EAAIyG,WAAazG,EAAIyG,WAAWnZ,IAAM,OAChD1B,EAAAC,EAAAC,cAAC4a,GAAD,CAAc1a,UAAWC,KAAM0a,YAAaxa,MAAO,CAACya,MAAO,GACzD5G,IAAKA,IACPpU,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM0a,YAAaxa,MAAO,CAAC0a,OAAQ,EAAGC,KAAM,IAC1Dlb,EAAAC,EAAAC,cAACib,GAAD,CAAgB7N,KAAMgN,EAAkB,EAAI,EAAG1G,SAAU,SAAAwH,GAAS,OAAI7F,EAAgB8F,eAA6B,IAAdD,OAEvGpb,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM0a,YAAaxa,MAAO,CAAC0a,OAAQ,EAAGD,MAAO,IAC3Dhb,EAAAC,EAAAC,cAACob,GAAD,CAAgBlH,IAAKA,EAAKmB,gBAAiBA,EAAiBG,gBAAiBA,s3BCzBxE/U,eAdb,SAAAA,EAAYpB,GAAO,mGAAAgc,CAAA9b,KAAAkB,GAAA6a,GAAA/b,KAAAgc,GAAA9a,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,s1BCRhB,IAqJeua,eAhJb,SAAAA,EAAYnc,GACZ,IAAAgC,MAAA,mGAAAoa,CAAAlc,KAAAic,KACEjc,MAAA8B,MAAAqa,GAAAF,GAAA9b,KAAAH,KAAMF,qDAEDsc,mBAAqBta,EAAKsa,mBAAmBrZ,KAAxBsZ,MAAAva,KAC1BA,EAAKwa,kBAAoBxa,EAAKwa,kBAAkBvZ,KAAvBsZ,MAAAva,KACzBA,EAAKya,aAAeza,EAAKya,aAAaxZ,KAAlBsZ,MAAAva,KACpBA,EAAK0a,YAAc1a,EAAK0a,YAAYzZ,KAAjBsZ,MAAAva,KACnBA,EAAK2a,kBAAoB3a,EAAK2a,kBAAkB1Z,KAAvBsZ,MAAAva,KACzBA,EAAK4a,mBAAqB5a,EAAK4a,mBAAmB3Z,KAAxBsZ,MAAAva,KAC1BA,EAAK6a,WAAa7a,EAAK6a,WAAW5Z,KAAhBsZ,MAAAva,KATpBA,yPAHuB1B,IAAMC,4DAeV6E,GAEGlF,KAAKF,MAAMmE,MACnB2Y,yDAGI1X,GAEIlF,KAAKF,MAAMmE,MACnB4Y,wDAGI3X,+CAICA,wCAIPA,GAEUlF,KAAKF,MAAMmE,MACnB6Y,6CAGD5X,GAESlF,KAAKF,MAAMmE,MACnB8Y,4CAGH7X,GAEWlF,KAAKF,MAAMmE,MACnB+Y,wCAMZ,IACMC,EAAcjd,KAAKF,MAAMmE,MACzBiZ,EAAYD,EAAkD,EAApCA,EAAYE,uBAA6B,EAEzE,OAAKF,EAGH1c,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMwc,eACjB,IAAMpd,KAAKF,MAAMa,UACjBG,MAAOd,KAAKF,MAAMgB,OAElBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMyc,mBACpB9c,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAKoc,oBAAtB,QACA7b,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAKsc,mBAAtB,QACA/b,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAKwc,aAAtB,SACAjc,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAKuc,cAAtB,WAGFhc,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMyc,mBACpB9c,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAKyc,mBAAtB,gBACAlc,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAK0c,oBAAtB,gBACAnc,EAAAC,EAAAC,cAAA,UAAQO,QAAShB,KAAK2c,YAAtB,SAGFpc,EAAAC,EAAAC,cAAA,OAAKE,UAAW,YAESsc,EAAYK,sBACjC/c,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2BACbJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,oBAChBJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,mBAAmB,QAGxCJ,EAAAC,EAAAC,cAAC8c,GAAD,CACE5c,UAAU,eACVG,MAAO,CAAC2a,KAAM/V,KAAKsI,OAAOkP,EAAY,GAAK,GAAK,QAEjDD,EAAYO,eAAetW,IAAI,SAAChC,EAAGiC,GAClC,IAAIiP,EACAqH,EACiB/X,KAAKsI,MAAMkP,EAAY,GAC5C9G,EAAS8G,IAAc/V,EACvBsW,EAAaP,IAAc/V,EAAI,EAgB/B,IAAMuW,EAAeT,EAAYU,2BAA2BxW,GAC5D,OACE5G,EAAAC,EAAAC,cAAA,OAAK2G,IAAKlC,EAAI,IAAMiC,EAAGxG,UAAW,kBAC/ByV,EAAS,WAAa,KACtBqH,EAAa,gBAAkB,KAE9BC,GACAnd,EAAAC,EAAAC,cAAA,QAAME,UAAU,mBACb+c,EAAaxW,IAAI,SAAA0W,GAChB,OACErd,EAAAC,EAAAC,cAAA,aAAQmd,MAIhBrd,EAAAC,EAAAC,cAAA,SAAOE,UAAU,mBACduE,MAMe+X,EAAYY,uBAClCtd,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2BACbJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,oBAChBJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,mBAAmB,UA9ErB,g2BC7Bdmd,eA/Bb,SAAAA,EAAYhe,GACZ,mGAAAie,CAAA/d,KAAA8d,GAAAE,GAAAhe,KAAAie,GAAAH,GAAA3d,KAAAH,KACQF,2PAJaM,IAAMC,kDAUzB,IAAMsU,EAAM3U,KAAKF,MAAM6U,IACjBxD,EAASnR,KAAKF,MAAMqR,OAEpB+M,GADWle,KAAKF,MAAMsM,SACbpM,KAAKF,MAAMoe,QACF/M,EAAOwJ,qBACPxJ,EAAO2D,qBACL3D,EAAOH,uBAEjC,OACEzQ,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMqa,UACf,IAAMjb,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAC4a,GAAD,CAAc1a,UAAWC,KAAM0a,YAAaxa,MAAO,CAACya,MAAO,GACzD5G,IAAKA,IACPpU,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM0a,YAAaxa,MAAO,CAAC0a,OAAQ,IACjDjb,EAAAC,EAAAC,cAAC0d,GAAD,CAAYla,MAAOia,EAASA,EAAOE,iBAAmB,s2BCgBjDC,eAzCb,SAAAA,EAAYve,GACZ,IAAAgC,MAAA,mGAAAwc,CAAAte,KAAAqe,KACEre,MAAA8B,MAAAyc,GAAAF,GAAAle,KAAAH,KAAMF,qDAED0e,aAAe1c,EAAK0c,aAAazb,KAAlB0b,MAAA3c,KAHtBA,yPAH6B1B,IAAMC,sDAStB6E,GAEX,IAAM0K,EAAQ1K,EAAE8Q,OAAOpG,MACnBA,EAAMlM,OAAS,IAEb1D,KAAKF,MAAM4e,UAAU1e,KAAKF,MAAM4e,SAAS9O,EAAM,IAGnD1K,EAAE8Q,OAAO/R,MAAQ,qCAOnB,IAAM0a,EAAS3e,KAAKF,MAAM6e,OAE1B,OACEpe,EAAAC,EAAAC,cAACsG,EAAD,CAAYrG,GAAIV,KAAKF,MAAMY,GACzBC,UAAWC,KAAMge,cACf,IAAM5e,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAON,KAAKF,MAAMQ,MAClBS,SAAUf,KAAKF,MAAMiB,UACrBR,EAAAC,EAAAC,cAAA,SAAOoe,KAAK,OAAOC,KAAK,SACtBne,UAAWC,KAAMme,aACjBJ,OAAQA,EACRxK,SAAUnU,KAAKwe,eAChBxe,KAAKF,MAAMmB,q2BCxBLC,eAdb,SAAAA,EAAYpB,GAAO,mGAAAkf,CAAAhf,KAAAkB,GAAA+d,GAAAjf,KAAAkf,GAAAhe,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,+9BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAqf,CAAAnf,KAAAkB,GAAAke,GAAApf,KAAAqf,GAAAne,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,m9BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAwf,CAAAtf,KAAAkB,GAAAqe,GAAAvf,KAAAwf,GAAAte,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,s8BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA2f,CAAAzf,KAAAkB,GAAAwe,GAAA1f,KAAA2f,GAAAze,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,09BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA8f,CAAA5f,KAAAkB,GAAA2e,GAAA7f,KAAA8f,GAAA5e,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,m7BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAigB,CAAA/f,KAAAkB,GAAA8e,GAAAhgB,KAAAigB,GAAA/e,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,0gCCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAogB,CAAAlgB,KAAAkB,GAAAif,GAAAngB,KAAAogB,GAAAlf,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,0kCCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAugB,CAAArgB,KAAAkB,GAAAof,GAAAtgB,KAAAugB,GAAArf,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,mkCCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA0gB,CAAAxgB,KAAAkB,GAAAuf,GAAAzgB,KAAA0gB,GAAAxf,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,sgCCHT,IAAMif,GAAe,UA2HbC,eApHb,SAAAA,EAAY9gB,GACZ,IAAAgC,MAAA,mGAAA+e,CAAA7gB,KAAA4gB,KACE5gB,MAAA8B,MAAAgf,GAAAF,GAAAzgB,KAAAH,KAAMF,qDAEDihB,aAAe,KAEpBjf,EAAKK,MAAQ,CACX8B,MAAO,GACP+c,OAAQL,IAGV7e,EAAKqS,SAAWrS,EAAKqS,SAASpR,KAAdke,MAAAnf,KAVlBA,yPAHqB1B,IAAMC,iDAkBrBL,KAAK+gB,cAEP/gB,KAAK+gB,aAAaG,yCAIbjd,GACT,IADgBL,EAChBH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADyB,KAEnBzD,KAAKmC,MAAM8B,QAAUA,EAEvBjE,KAAK8D,SAAS,CAACG,MAAOA,GAAQL,GAEvBA,GAEPA,sCAIMod,GACV,IADkBpd,EAClBH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAD2B,KAErBzD,KAAKmC,MAAM6e,SAAWA,EAExBhhB,KAAK8D,SAAS,CAACkd,OAAQA,GAASpd,GAEzBA,GAEPA,uCAMF,OAAO5D,KAAKmC,MAAM8B,0CAKlB,OAAOjE,KAAKmC,MAAM6e,wCAGX9b,GAEP,IAAMic,EAAYjc,EAAE8Q,OAAO/R,MAC3BjE,KAAK8D,SAAS,CAACG,MAAOkd,qCAKxB,IAAAhc,EAAAnF,KACQohB,EAAWphB,KAAKF,MAAMshB,SAGtBC,EAASrhB,KAAKF,MAAMuhB,OAIpBjL,GADOpW,KAAKF,MAAMgf,KACT9e,KAAKF,MAAMsW,QAEpBkL,GADWthB,KAAKF,MAAMyhB,SACRvhB,KAAKF,MAAMwhB,aACzBN,EAAShhB,KAAKmC,MAAM6e,OAE1B,OACEzgB,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAM4gB,qBACdpL,EAAS,WAAa,IACvB,IAAM4K,EACN,IAAMhhB,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAEhBP,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAM6gB,YAC3BnhB,MAAO,OACPS,UAAWsgB,EACXrgB,QAAS,SAACkE,GAAD,OAAOmc,EAAOnc,EAAGC,KA9FV,YA+Ff6b,EACCzgB,EAAAC,EAAAC,cAACihB,GAAD,MA/Fc,YAgGdV,EACAzgB,EAAAC,EAAAC,cAACkhB,GAAD,MAhGc,YAiGdX,EACAzgB,EAAAC,EAAAC,cAACmhB,GAAD,MACArhB,EAAAC,EAAAC,cAACohB,GAAD,OAENthB,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMkhB,YACpBvhB,EAAAC,EAAAC,cAAA,SAAOwB,IAAK,SAAAA,GAAG,OAAEkD,EAAK4b,aAAa9e,GAAK4c,KAAK,OAC3CyC,YAAaA,EACbrd,MAAOjE,KAAKmC,MAAM8B,MAClBkQ,SAAUnU,KAAKmU,WACjB5T,EAAAC,EAAAC,cAAA,aAAQT,KAAKF,MAAMyhB,WAGnBhhB,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMmhB,cAC3BzhB,MAAO,SACPS,UAAWqgB,EACXpgB,QAAS,SAACkE,GAAD,OAAOkc,EAASlc,EAAGC,KAC5B5E,EAAAC,EAAAC,cAACuhB,GAAD,0xBC9GZ,IAAMC,GAAoB,CAAC,QAoJZC,eAhJb,SAAAA,EAAYpiB,GACZ,IAAAgC,MAAA,mGAAAqgB,CAAAniB,KAAAkiB,KACEliB,MAAA8B,MAAAsgB,GAAAF,GAAA/hB,KAAAH,KAAMF,qDAEDuiB,UAAY,GAEjBvgB,EAAKwgB,UAAYxgB,EAAKwgB,UAAUvf,KAAfwf,MAAAzgB,KACjBA,EAAK0gB,aAAe1gB,EAAK0gB,aAAazf,KAAlBwf,MAAAzgB,KACpBA,EAAK2gB,eAAiB3gB,EAAK2gB,eAAe1f,KAApBwf,MAAAzgB,KACtBA,EAAK4gB,YAAc5gB,EAAK4gB,YAAY3f,KAAjBwf,MAAAzgB,KACnBA,EAAK6gB,UAAY7gB,EAAK6gB,UAAU5f,KAAfwf,MAAAzgB,KACjBA,EAAK8gB,aAAe9gB,EAAK8gB,aAAa7f,KAAlBwf,MAAAzgB,KACpBA,EAAK+gB,WAAa/gB,EAAK+gB,WAAW9f,KAAhBwf,MAAAzgB,KAXpBA,yPAHyB1B,IAAMC,mDAiBrB6E,GAEHlF,KAAKsW,WAERtW,KAAK0iB,YAAYxd,GAGnBlF,KAAK2iB,UAAUzd,wCAGJmK,2CAKEnK,wCAKHA,GAEVlF,KAAKqiB,UAAU3e,OAAS,oCAGhBwB,GAERlF,KAAKqiB,UAAUS,KAAKC,qDAGT7d,EAAG8d,GAEd,IAAM7b,EAAInH,KAAKqiB,UAAUY,QAAQD,EAAKljB,MAAMgf,MACxC3X,GAAK,GAEPnH,KAAKqiB,UAAUa,OAAO/b,EAAG,sCAIlBjC,EAAG8d,GAEZ,IAAMG,EAAYnjB,KAAKF,MAAMqjB,UACvBjF,EAASle,KAAKF,MAAMoe,OACpBkF,EAAYJ,EAAKK,WAEvBL,EAAKlf,SAAS,CAACkd,ODnES,YCqExB,IAAM/K,EAAkBjW,KAAKF,MAAMmW,gBAC7B2E,EAAoB5a,KAAKF,MAAM8a,kBACrCsD,EAAOoF,UAAUF,EAAWnN,EAAiB2E,GAAmB2I,KAAK,SAAChe,GACpEyd,EAAKlf,SAAS,CAACkd,OAAQzb,ED1ED,UACA,aC0ErB,SAACie,GAEFR,EAAKlf,SAAS,CAACkd,OAAQL,OAGrBwC,GAEFjF,EAAOuF,QAAQxN,EAAiB2E,GAAmB,qCAMrD,OAAO5a,KAAKqiB,UAAU3e,QAAU,mCAKlC,IAAAyB,EAAAnF,KAEQke,GADYle,KAAKF,MAAMqjB,UACdnjB,KAAKF,MAAMoe,QACpBwF,EAAQ1jB,KAAKsW,UACbvV,EAAWmd,GAAUA,EAAOyF,YAElC,OACEpjB,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMgjB,eACf,IAAM5jB,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMijB,mBACpBtjB,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMkjB,oBAC3BxjB,MAAOoR,KAAKC,SAAS,sBACrB3Q,QAAShB,KAAKsiB,WACd/hB,EAAAC,EAAAC,cAACsjB,GAAD,OAEFxjB,EAAAC,EAAAC,cAACujB,GAAD,CAAkBrjB,UAAWC,KAAMkjB,oBACjCxjB,MAAOoR,KAAKC,SAAS,yBACrBgN,OAAQsD,GAAkBgC,KAAK,KAC/BvF,SAAU1e,KAAKwiB,cACfjiB,EAAAC,EAAAC,cAACwP,GAAD,OAEF1P,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMkjB,oBAC3BxjB,MAAOoR,KAAKC,SAAS,uBACrB5Q,SAAU2iB,EACV1iB,QAAShB,KAAKyiB,gBACdliB,EAAAC,EAAAC,cAACyjB,GAAD,OAEF3jB,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMkjB,oBAC3BxjB,MAAOoR,KAAKC,SAAS,wBACrB5Q,SAAU2iB,EACV1iB,QAAShB,KAAK0iB,aACdniB,EAAAC,EAAAC,cAAC0jB,GAAD,QAGJ5jB,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMwjB,qBACnBV,EAAQ,UAAY,KACpB3iB,EAAW,aAAc,KAC1BR,EAAAC,EAAAC,cAACsG,EAAD,CAAYpG,UAAWC,KAAMyjB,cAC3B/jB,MAAO,MAAOU,QAAShB,KAAK2iB,WAC5BpiB,EAAAC,EAAAC,cAAC6jB,GAAD,MACA/jB,EAAAC,EAAAC,cAAA,QAAME,UAAWC,KAAM2jB,iBACnBb,EAAqC,GAA7B,GAAK1jB,KAAKqiB,UAAU3e,SAGlCnD,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM4jB,4BACpBjkB,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM6jB,WACnBzkB,KAAKqiB,UAAUnb,IAAI,SAAChC,EAAGiC,GAAJ,OAClB5G,EAAAC,EAAAC,cAACikB,GAAD,CAAUtd,IAAKlC,EAAG4Z,KAAM5Z,EACtBmc,OAAQnD,EAAS/Y,EAAK0d,WAAa,KACnCzB,SAAUjc,EAAKyd,g0BCrGlB+B,eAjDb,SAAAA,EAAY7kB,GACZ,IAAAgC,MAAA,mGAAA8iB,CAAA5kB,KAAA2kB,KACE3kB,MAAA8B,MAAA+iB,GAAAF,GAAAxkB,KAAAH,KAAMF,qDAEDqC,MAAQ,CACX2iB,QAAShlB,EAAM8N,UAAW,GAG5B9L,EAAKqS,SAAWrS,EAAKqS,SAASpR,KAAdgiB,MAAAjjB,KAPlBA,yPAH0B1B,IAAMC,oDAarB4D,GAETjE,KAAK8D,SAAS,CAACghB,QAAS7gB,wCAKxB,OAAOjE,KAAKmC,MAAM2iB,yCAGX5f,GAEP,IAAM4f,EAAU5f,EAAE8Q,OAAO8O,QACrB9kB,KAAKmC,MAAM2iB,UAAYA,GAEzB9kB,KAAK8D,SAAS,CAACghB,QAASA,qCAO1B,OACEvkB,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMokB,mBACf,IAAMhlB,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,SAAOoe,KAAK,WAAWne,GAAIV,KAAKF,MAAMY,GAAK,YACzCoe,KAAM9e,KAAKF,MAAMY,GAAK,YAAauD,MAAOjE,KAAKF,MAAMmE,MACrD6gB,QAAS9kB,KAAKmC,MAAM2iB,QACpB/jB,SAAUf,KAAKF,MAAMiB,SACrBoT,SAAUnU,KAAKmU,WACjB5T,EAAAC,EAAAC,cAAA,SAAOwkB,QAASjlB,KAAKF,MAAMY,GAAK,aAAcV,KAAKF,MAAMQ,m2BCzC3D4kB,eAEJ,SAAAA,EAAYplB,GACZ,mGAAAqlB,CAAAnlB,KAAAklB,GAAAE,GAAAplB,KAAAqlB,GAAAH,GAAA/kB,KAAAH,KACQF,2PAJiBM,IAAMC,6DAW7B,IAAMsU,EAAM3U,KAAKF,MAAM6U,IACjBuJ,EAASvJ,EAAI2Q,QACnBpH,EAAOqH,GAAG,YAAa,SAACrH,GACtBvJ,EAAI6Q,UAAUC,aAAa,KAE7BvH,EAAOqH,GAAG,WAAY,SAACrH,GACrBvJ,EAAI6Q,UAAUC,aAAa,sCAO7B,IAAM1U,EAAgB/Q,KAAKF,MAAMiR,cAC3BkF,EAAkBlF,EAAc+D,qBAChC8F,EAAoB7J,EAAcC,uBAIlCkN,EADMle,KAAKF,MAAM6U,IACJ2Q,QAEnB,OACE/kB,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAM4Q,gBACf,IAAMxR,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OAClBP,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAM6Q,aACpBlR,EAAAC,EAAAC,cAAA,UAAKykB,EAAavd,QAEpBpH,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,KAAMgR,eACpBrR,EAAAC,EAAAC,cAACilB,GAAD,CAAcxH,OAAQA,EAAQjI,gBAAiBA,EAAiB2E,kBAAmBA,IACnFra,EAAAC,EAAAC,cAACklB,GAAD,CAAerlB,MAAO,0DAMhCslB,OAAOC,eAAeX,GAAc,QAAS,CAC3CY,IAAK,WAAa,OAAOpU,KAAKC,SAAS,8BAG1BuT,m1BCrCAa,eAjBb,SAAAA,EAAYjmB,GACZ,mGAAAkmB,CAAAhmB,KAAA+lB,GAAAE,GAAAjmB,KAAAkmB,GAAAH,GAAA5lB,KAAAH,KACQF,2PAJmBM,IAAMC,kDAU/B,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMulB,QAAU,IAAMnmB,KAAKF,MAAMa,UAC5CG,MAAOd,KAAKF,MAAMgB,m2BCeXslB,eAxBb,SAAAA,EAAYtmB,GACZ,mGAAAumB,CAAArmB,KAAAomB,GAAAE,GAAAtmB,KAAAumB,GAAAH,GAAAjmB,KAAAH,KACQF,2PAJwBM,IAAMC,kDAUpC,IAAMqI,EAAY1I,KAAKF,MAAM6I,KAC7B,OACEpI,EAAAC,EAAAC,cAACujB,GAAD,CAAkBtjB,GAAIV,KAAKF,MAAMY,GAC/BC,UAAW6lB,IAAmB5d,eAC5B,IAAM5I,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,MAClBR,MAAON,KAAKF,MAAMQ,MAClBS,SAAUf,KAAKF,MAAMiB,SACrB4d,OAAQ3e,KAAKF,MAAM6e,OACnBD,SAAU1e,KAAKF,MAAM4e,UACrBne,EAAAC,EAAAC,cAACiI,EAAD,k2BCPOxH,eAdb,SAAAA,EAAYpB,GAAO,mGAAA2mB,CAAAzmB,KAAAkB,GAAAwlB,GAAA1mB,KAAA2mB,GAAAzlB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,u8BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA8mB,CAAA5mB,KAAAkB,GAAA2lB,GAAA7mB,KAAA8mB,GAAA5lB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,++BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAinB,CAAA/mB,KAAAkB,GAAA8lB,GAAAhnB,KAAAinB,GAAA/lB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,g/BCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAonB,CAAAlnB,KAAAkB,GAAAimB,GAAAnnB,KAAAonB,GAAAlmB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,4/CCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAAunB,CAAArnB,KAAAkB,GAAAomB,GAAAtnB,KAAAunB,GAAArmB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAG,0oDCKFR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA0nB,CAAAxnB,KAAAkB,GAAAumB,GAAAznB,KAAA0nB,GAAAxmB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,6mCCKDR,eAdb,SAAAA,EAAYpB,GAAO,mGAAA6nB,CAAA3nB,KAAAkB,GAAA0mB,GAAA5nB,KAAA6nB,GAAA3mB,GAAAf,KAAAH,KAAQF,2PAFVM,IAAMC,kDAOrB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAAIC,UAAWX,KAAKF,MAAMa,UAAWG,MAAOd,KAAKF,MAAMgB,MAC3EQ,MAAM,6BACNC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAC7BlB,EAAAC,EAAAC,cAAA,QAAMiB,EAAE,80BCbT,IAAMomB,GAAW,UAGXC,GAAY,QA4MVC,cAvMb,SAAAA,iGACAC,CAAAjoB,KAAAgoB,GACEhoB,KAAKkoB,SAAW,GAChBloB,KAAKmoB,aAAe,CAClBC,SAAS,EACTC,SAAS,EACTC,QAAQ,EACRC,UAAU,EACVC,KAAM,MAERxoB,KAAKyoB,YAAc,KACnBzoB,KAAK0oB,aAAe,EACpB1oB,KAAK2oB,UAAW,EAEhB3oB,KAAK4oB,UAAY5oB,KAAK4oB,UAAU7lB,KAAK/C,MACrCA,KAAK6oB,QAAU7oB,KAAK6oB,QAAQ9lB,KAAK/C,kEAKjCqD,OAAOC,iBAAiB,UAAWtD,KAAK4oB,WACxCvlB,OAAOC,iBAAiB,QAAStD,KAAK6oB,SAEtC7oB,KAAK2oB,UAAW,oCAKhB3oB,KAAK2oB,UAAW,EAEhBtlB,OAAOE,oBAAoB,UAAWvD,KAAK4oB,WAC3CvlB,OAAOE,oBAAoB,QAASvD,KAAK6oB,gDAG5B/J,EAAMgK,EAAMllB,GAEzB,IAAKmlB,MAAMC,QAAQF,GAAO,MAAM,IAAI9jB,MAAM,iCAC1C,IAAMikB,EAAYH,EAAK7F,QAAQ6E,IAC3BmB,GAAa,GAAGH,EAAK5F,OAAO+F,EAAW,GAC3C,IAAMC,EAAYJ,EAAK7F,QA9CH,QA+ChBiG,GAAa,GAAGJ,EAAK5F,OAAOgG,EAAW,GAC3C,IAAMC,EAAWL,EAAK7F,QA/CH,OAgDfkG,GAAY,GAAGL,EAAK5F,OAAOiG,EAAU,GACzC,IAAMC,EAAaN,EAAK7F,QAAQ8E,IAEhC,GADIqB,GAAc,GAAGN,EAAK5F,OAAOkG,EAAY,GAC1B,GAAfN,EAAKplB,OAAa,MAAM,IAAIsB,MAAM,yCACtC,IAAMqkB,EAAUP,EAAK,GAEfQ,EAAOL,GAAa,GAAKC,GAAa,EACtCK,EAAMJ,GAAY,EAClBK,EAAQJ,GAAc,EAEtB7jB,EAAS,CACbuZ,KAAMA,EACN2K,eAAgBH,EAAO,UAAY,KAChCC,EAAM,SAAW,KACjBC,EAAQ,WAAa,IACtBH,EACFA,QAASA,EACTjB,QAASkB,EACThB,OAAQiB,EACRhB,SAAUiB,EACV5lB,SAAUA,GAGZ5D,KAAKkoB,SAASpF,KAAKvd,sCAGVmkB,GAET1pB,KAAK2oB,SAAWe,sCAKhB,OAAO1pB,KAAK2oB,oDAGKzjB,GACnB,IAAAykB,GAAA,EAAAC,GAAA,EAAAC,OAAAlmB,EAAA,IACE,QAAAmmB,EAAAC,EAAoB/pB,KAAKkoB,SAAzB8B,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EACA,KADUS,EACVN,EAAA7lB,MACE,GAAImmB,EAAOhC,WAAaljB,EAAEkjB,SAAWljB,EAAEmjB,WACnC+B,EAAO9B,SAAWpjB,EAAEojB,QACpB8B,EAAO7B,WAAarjB,EAAEqjB,UACtB6B,EAAOf,UAAYnkB,EAAEsjB,MACzB,OAAO4B,GAPX,MAAA5G,GAAAoG,GAAA,EAAAC,EAAArG,EAAA,YAAAmG,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GASE,OAAO,gDAKP,OAAO7pB,KAAKyoB,kEAKZ,OAAOzoB,KAAK0oB,mEAId,IAD4B4B,EAC5B7mB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADgC,GAExB8mB,EAAQvqB,KAAKmoB,aACbqC,EAAYD,EAAMnC,SAAWmC,EAAMlC,QACnCoC,EAAWF,EAAMjC,OACjBoC,EAAaH,EAAMhC,SACzB,IAAKiC,IAAcC,IAAaC,EAAY,OAAOJ,EACnD,IAAMK,EAAWJ,EAAM/B,KAEnBjjB,EAAS,KARfqlB,GAAA,EAAAC,GAAA,EAAAC,OAAAnnB,EAAA,IASE,QAAAonB,EAAAC,EAAoBhrB,KAAKkoB,SAAzB8B,OAAAC,cAAAW,GAAAG,EAAAC,EAAAd,QAAAC,MAAAS,GAAA,EACA,KADUR,EACVW,EAAA9mB,MACMgnB,GAAO,EACX,GAAIT,EAAYJ,EAAOhC,QACvB,CAEE,GAAKoC,EAEA,SAFWS,GAAO,EAIzB,GAAIR,EAAWL,EAAO9B,OACtB,CAEE,GAAKmC,EAEA,SAFUQ,GAAO,EAIxB,GAAIP,EAAaN,EAAO7B,SACxB,CAEE,GAAKmC,EAEA,SAFYO,GAAO,EAKrBA,GAAQN,IAAaP,EAAOf,UAE/B9jB,EAAS6kB,GAGXE,EAAIxH,KAAKsH,IAvCb,MAAA5G,GAAAqH,GAAA,EAAAC,EAAAtH,EAAA,YAAAoH,GAAA,MAAAI,EAAAX,QAAAW,EAAAX,SAAA,WAAAQ,EAAA,MAAAC,GA0CE,OAAIvlB,GACQ+kB,oCAGJplB,GAER,GAAKlF,KAAK2oB,WAELzjB,EAAEgmB,OACP,CACElrB,KAAKmrB,gBAAgBjmB,GAAG,GAExB,IAAMK,EAASvF,KAAKorB,mBAAmBprB,KAAKmoB,cACxC5iB,IAEEvF,KAAKyoB,cAAgBljB,IAErBvF,KAAK0oB,cAIP1oB,KAAKyoB,YAAcljB,EACnBvF,KAAK0oB,aAAe,GAGtBnjB,EAAO3B,WAEPsB,EAAEgK,iBACFhK,EAAEiK,oDAKAjK,GAEDlF,KAAK2oB,UAEN3oB,KAAKmrB,gBAAgBjmB,GAAG,KAE1BlF,KAAKyoB,YAAc,KACnBzoB,KAAK0oB,aAAe,2CAIRxjB,GAChB,IADmBmmB,EACnB5nB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAME,OALAzD,KAAKmoB,aAAaC,QAAUljB,EAAEkjB,QAC9BpoB,KAAKmoB,aAAaE,QAAUnjB,EAAEmjB,QAC9BroB,KAAKmoB,aAAaG,OAASpjB,EAAEojB,OAC7BtoB,KAAKmoB,aAAaI,SAAWrjB,EAAEqjB,SAC/BvoB,KAAKmoB,aAAaK,KAAO6C,EAAU,KAAQnmB,EAAEsjB,MAAQ,KAC9C6C,KAAarrB,KAAKmoB,aAAaC,SAAWpoB,KAAKmoB,aAAaE,SAAWroB,KAAKmoB,aAAaG,QAAUtoB,KAAKmoB,aAAaI,s3BCxMhI,IAuDe+C,eAnDb,SAAAA,EAAYxrB,GACZ,IAAAgC,EAAA,mGAAAypB,CAAAvrB,KAAAsrB,IACExpB,EAAA0pB,GAAAxrB,KAAAyrB,GAAAH,GAAAnrB,KAAAH,KAAMF,KAED4rB,eAAiB,GACtB5pB,EAAK6pB,cAAgB,KAJvB7pB,yPAHuB1B,IAAMC,kDAY7B,IAAA8E,EAAAnF,KACQ4rB,EAAgB5rB,KAAKF,MAAM8rB,cAC3BC,GAAe7rB,KAAKF,MAAMiB,UAAY6qB,EAAcE,aAErD9rB,KAAK2rB,eAAiBE,IAEzB7rB,KAAK2rB,cAAgBvmB,WAAW,WAC9BD,EAAKwmB,cAAgB,KACrBxmB,EAAKumB,eAAehoB,OAAS,EAC7BkoB,EAAcG,4BAA4B5mB,EAAKumB,iBAvBjB,MA2BlC,IAAMM,EAAWJ,EAAcK,8BACzBC,EAAgBN,EAAcO,mBAEpC,OACE5rB,EAAAC,EAAAC,cAAA,OAAKC,GAAIV,KAAKF,MAAMY,GAClBC,UAAWC,KAAMwrB,iBACf,IAAMpsB,KAAKF,MAAMa,UACnBG,MAAOd,KAAKF,MAAMgB,OACjB+qB,GAAe7rB,KAAK0rB,eAAexkB,IAAI,SAAChC,EAAGiC,GAC1C,IAAMklB,EAAWH,IAAkBhnB,EACnC,OACE3E,EAAAC,EAAAC,cAAA,OAAK2G,IAAKlC,EAAEukB,cAAgB,IAAMtiB,EAAI,KAAOklB,EAAWL,EAAW,GACjErrB,UAAWC,KAAMwpB,QACdiC,EAAW,WAAa,KAC3B9rB,EAAAC,EAAAC,cAAA,SAAOE,UAAWC,KAAM0rB,cACrBpnB,EAAEukB,eAELlpB,EAAAC,EAAAC,cAAA,SAAOE,UAAWC,KAAM2rB,aACrBrnB,EAAE4Z,MAAQuN,GAAYL,EAAW,EAAI,KAAOA,EAAW,yRC+BzDQ,cA7Eb,SAAAA,EAAYC,GACZ,IADyBC,EACzBjpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAD6CkpB,EAC7ClpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,gGAAAmpB,CAAA5sB,KAAAwsB,GACExsB,KAAK6sB,WAAaJ,EAAcA,EAAYK,MAAM,IAAM,GACxD9sB,KAAK+sB,MAAQL,EACb1sB,KAAKgtB,OAASL,EAEd3sB,KAAKitB,OAAS,iEAKZjtB,KAAKitB,gDAKLjtB,KAAKitB,wCAKPjtB,KAAKitB,OAAmC,EAAzBjtB,KAAK6sB,WAAWnpB,uCAK/B1D,KAAKitB,QAAU,iCAKfjtB,KAAK+c,SACL/c,KAAK8c,iDAGU1P,GACjB,IADwB8f,EACxBzpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAD+B,GAE7BzD,KAAK6sB,WAAWzf,GAAS8f,qDAGA9f,GAEzB,MAAO,gDAGYA,GAEnB,OAAIA,EAAQ,GAAKA,GAASpN,KAAK6sB,WAAWnpB,OAAe,GAClD1D,KAAK6sB,WAAWzf,IAAU,gDAKjC,OAAOpN,KAAK+sB,oDAKZ,OAAO/sB,KAAKgtB,mDAGM5f,GAElBpN,KAAKitB,OAAS7f,gDAKd,OAAOpN,KAAKitB,8CAKZ,OAAOjtB,KAAK6sB,igCCtEVM,eAEJ,SAAAA,EAAYjP,EAAQjI,EAAiB2E,GACrC,IAAA9Y,EAAA,OAAAsrB,GAAAptB,KAAAmtB,IACErrB,EAAAurB,GAAArtB,KAAAstB,GAAAH,GAAAhtB,KAAAH,KAAMke,EAAOqP,iBAAiB,GAAO,KAEhCjI,QAAUpH,EACfpc,EAAK0rB,iBAAmBvX,EACxBnU,EAAK2rB,mBAAqB7S,EAL5B9Y,+OAH4B0qB,8CAc1B,IAAMvW,EAAkBjW,KAAKwtB,iBACvB5S,EAAoB5a,KAAKytB,mBAC/BztB,KAAKslB,QAAQzI,YAAY5G,EAAiB2E,0CAM1C,IAAM3E,EAAkBjW,KAAKwtB,iBACvB5S,EAAoB5a,KAAKytB,mBAC/BztB,KAAKslB,QAAQ1I,aAAa3G,EAAiB2E,mCAM3C5a,KAAKslB,QAAQoI,iDAMb,IAAMzX,EAAkBjW,KAAKwtB,iBACvB5S,EAAoB5a,KAAKytB,mBAC/BztB,KAAKslB,QAAQ7B,QAAQxN,EAAiB2E,GAAmB,kCAMzD5a,KAAKslB,QAAQqI,oDAIEvgB,GACjB3J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACE,MAAM,IAAIuB,MAAM,kFAISoI,GAEzB,OAAIA,EAAQ,GAAKA,GAASpN,KAAK6sB,WAAWnpB,OAAe,GAClD1D,KAAKslB,QAAQsI,mBAAmBxgB,gDAIpBA,GAEnB,OAAIA,EAAQ,GAAKA,GAASpN,KAAK6sB,WAAWnpB,OAAe,GAClD1D,KAAK6sB,WAAWzf,IAAU,+CAIfA,GAElBpN,KAAKslB,QAAQuI,eAAezgB,iDAM5B,OAAOpN,KAAKslB,QAAQwI,uBAIlBC,cAEJ,SAAAA,IACAX,GAAAptB,KAAA+tB,GACE/tB,KAAKguB,YAAc,KACnBhuB,KAAKiuB,YAAc,EAEnBjuB,KAAKkuB,aAAe,KAGpBluB,KAAKmuB,WAAa,GAClBnuB,KAAKouB,eAAgB,EACrBpuB,KAAKquB,SAAW,KAChBruB,KAAKsuB,QAAU,KAEftuB,KAAKuuB,cAAc,aACnBvuB,KAAKuuB,cAAc,YACnBvuB,KAAKuuB,cAAc,yDAGXC,EAAYvY,EAAiB2E,GACvC,IAAAzV,EAAAnF,KAEE,GADKwuB,IAAYA,EAAa,IAC1BxuB,KAAKkuB,aAAc,MAAM,IAAIlpB,MAAM,2CAUvC,OARAhF,KAAKguB,YAAcQ,EACnBxuB,KAAKiuB,YAAc,EACnBjuB,KAAKmuB,WAAWzqB,OAAS,EACzB1D,KAAKouB,eAAgB,EACrBpuB,KAAKkuB,aAAe,IAAIf,GAAgBntB,KAAMiW,EAAiB2E,GAE/D5a,KAAKyuB,KAAK,YAAazuB,MAEhB,IAAI0uB,QAAQ,SAACC,EAASC,GAC3BzpB,EAAKkpB,SAAWM,EAChBxpB,EAAKmpB,QAAUM,uCAMjB,IAAK5uB,KAAKkuB,aAAc,MAAM,IAAIlpB,MAAM,4BAIxC,GAFAhF,KAAKyuB,KAAK,WAAYzuB,OAEjBA,KAAKquB,SAAU,MAAM,IAAIrpB,MAAM,8CACpC,IAAKhF,KAAKsuB,QAAS,MAAM,IAAItpB,MAAM,8CAEnC,IAAI6pB,EAAa,KAkBjB,OAjBI7uB,KAAKmuB,WAAWzqB,QAAU1D,KAAKguB,YAAYtqB,QAE7CmrB,EAAa7uB,KAAKouB,cAClBpuB,KAAKquB,SAASQ,KAIdA,EAAa,KACb7uB,KAAKsuB,WAGPtuB,KAAKguB,YAAc,KACnBhuB,KAAKiuB,YAAc,EACnBjuB,KAAKmuB,WAAWzqB,OAAS,EACzB1D,KAAKouB,eAAgB,EACrBpuB,KAAKkuB,aAAe,KAEbQ,QAAQC,QAAQE,mCAGjB5Y,EAAiB2E,GACzB,IAAAhV,EAAA5F,KAD4C8uB,EAC5CrrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACE,IAAKzD,KAAKkuB,aAAc,MAAM,IAAIlpB,MAAM,2BAExC,OAAO,IAAI0pB,QAAQ,SAACC,EAASC,GAC3B,IAAIrpB,GAAS,EACb,GAEEA,EAASK,EAAKiX,YAAY5G,EAAiB2E,GAAoBkU,SAE1DvpB,GAEPopB,EAAQ/oB,EAAKwoB,iBACZ7K,KAAK,SAAChe,GACP,OAAIupB,EAAiBlpB,EAAK+nB,WACdpoB,wCAIJ0Q,EAAiB2E,KAC7BnX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GACE,IAAKzD,KAAKguB,aAAehuB,KAAKguB,YAAYtqB,QAAU,EAAG,OAAO,EAC9D,GAAI1D,KAAKiuB,YAAcjuB,KAAKguB,YAAYtqB,OAAS,EAAG,OAAO,EAG3D,KAFE1D,KAAKiuB,WAEHjuB,KAAKmuB,WAAWzqB,QAAU1D,KAAKiuB,WACnC,CAEE,IAEIc,EAAcC,EAFZC,EAAajvB,KAAKguB,YAAYhuB,KAAKiuB,YACnCiB,EAAU,IAAIC,IACaC,EAAgB,KAEjD,GAAIpvB,KAAKiuB,WAAa,GAAKjuB,KAAKiuB,YAAcjuB,KAAKmuB,WAAWzqB,OAC9D,CACE,IAAM2rB,EAAYrvB,KAAKmuB,WAAWnuB,KAAKiuB,WAAa,GACpDc,EAAeM,EAAUC,OAAOC,QAChCP,EAAgBK,EAAUG,QAAQD,QAClCH,EAAgBC,EAAUvK,QAAQyK,aAIlCR,EAAe,GACfC,EAAgB,GAChBI,EAAgB,GAGlB,IAAMK,EAAM7U,EAAkB8U,oBAAoBC,aAC5CC,EAAQ3Z,EAAgBlB,WAC9B/U,KAAKouB,cAAgByB,aAAeJ,EAAKR,EAAYF,EAAcC,EAAeI,GAtBpF,IAAAzF,GAAA,EAAAC,GAAA,EAAAC,OAAAlmB,EAAA,IAwBE,QAAAmmB,EAAAC,EAAmBgF,EAAnB/E,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EACA,KADUxnB,EACV2nB,EAAA7lB,MACM6rB,EAAOlV,EAAkBmV,yBAAyBH,EAAOztB,EAAMA,OAGnE,IAAK2tB,EAAM,MAAM,IAAI9qB,MAAM,iCAAoC7C,EAAMA,MAAQ,KAE7E+sB,EAAQc,IAAIF,IA/BhB,MAAAtM,GAAAoG,GAAA,EAAAC,EAAArG,EAAA,YAAAmG,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GAmCE,IAAMoG,EAAY,CAChBf,QAASnG,MAAMmH,KAAKhB,GACpBI,OAAQP,EACRS,QAASR,EACTlK,QAASsK,GAGXpvB,KAAKmuB,WAAWrL,KAAKmN,GAQvB,OADAjwB,KAAKyuB,KAAK,aACH,uCAGIxY,EAAiB2E,GAE5B,QAAI5a,KAAKiuB,YAAc,OACrBjuB,KAAKiuB,WAGPjuB,KAAKyuB,KAAK,aACH,uCAKP,OAA4B,OAArBzuB,KAAKguB,mDAGCmC,GAETA,GAAYnwB,KAAKmuB,WAAWzqB,OAE9B1D,KAAKiuB,WAAajuB,KAAKmuB,WAAWzqB,OAAS,EAIvCysB,EAAW,EAEbnwB,KAAKiuB,WAAa,EAEXkC,GAAYnwB,KAAKguB,YAAYtqB,OAEpC1D,KAAKiuB,WAAajuB,KAAKguB,YAAYtqB,OAAS,EAI5C1D,KAAKiuB,WAAakC,0CAOtBnwB,KAAKiuB,YAAc,wCAKnB,OAAOjuB,KAAKiuB,qDAKZ,OAAIjuB,KAAKiuB,YAAc,GAAKjuB,KAAKiuB,WAAajuB,KAAKmuB,WAAWzqB,OAErD1D,KAAKmuB,WAAWnuB,KAAKiuB,YAIrB,gDAIQkC,GAEjB,OAAIA,GAAY,GAAKA,EAAWnwB,KAAKmuB,WAAWzqB,OAEvC1D,KAAKmuB,WAAWgC,GAAUjB,QAI1B,6CAMT,OAAOlvB,KAAKguB,qDAKZ,OAAOhuB,KAAKkuB,sBAGhBkC,KAAUC,MAAMtC,IAEDA,qvBC/Qf,IAEMuC,eAEJ,SAAAA,EAAYxwB,GACZ,IAAAgC,MAAA,mGAAAyuB,CAAAvwB,KAAAswB,KACEtwB,MAAA8B,MAAA0uB,GAAAF,GAAAnwB,KAAAH,KAAMF,qDAEDsb,WAAa,KAClBtZ,EAAK2uB,SAAW,KAChB3uB,EAAK4uB,QAAU,KACf5uB,EAAK0jB,UAAY,KAGjB1jB,EAAK6uB,cAAgB,IAAIC,KACzB9uB,EAAK6uB,cAAc3W,cAChB6W,YAAY,IACZC,YAAY,IACZC,iBAAiB,IACpBjvB,EAAKkvB,aAAe,IAAIC,KAExBnvB,EAAKovB,eAAiB,IAAIlJ,GAC1BlmB,EAAKovB,eAAeC,eAAe,gBAAiB,CAACrJ,GAAU,QAAS,WAAOsJ,QAAQC,IAAI,aAC3FvvB,EAAKovB,eAAeC,eAAe,eAAgB,CAACrJ,GAAU,QAAS,WAAOsJ,QAAQC,IAAI,WAC1FvvB,EAAKovB,eAAeC,eAAe,MAAO,CAACrJ,GAAU,QAAS,WAAOsJ,QAAQC,IAAI,UACjFvvB,EAAKovB,eAAeC,eAAe,OAAQ,CAACrJ,GAAU,QAAS,WAAOsJ,QAAQC,IAAI,WAClFvvB,EAAKovB,eAAeC,eAAe,OAAQ,CAACrJ,GAAUC,GAAW,QAAS,WAAOqJ,QAAQC,IAAI,WAE7FvvB,EAAKwvB,QAAU,IAAIC,KAAJC,MAAA1vB,KACfA,EAAKwjB,QAAU,IAAIyI,GAEnBjsB,EAAK2vB,OAAQ,EAEb3vB,EAAKK,MAAQ,CACX8D,MAAM,GAGRnE,EAAK4vB,0BAA4BruB,OAAOsuB,WAAW,sCACnD7vB,EAAK8vB,2BAA6BvuB,OAAOsuB,WAAW,uCAjCtD7vB,yPAHgB1B,IAAMC,6DA4CpB,IAAMwxB,EAAe7xB,KAAKob,WAAWnZ,IACrCjC,KAAK2wB,cAAcmB,WAAWD,GAC9B7xB,KAAKsxB,QAAQQ,WAAW9xB,MACxBA,KAAKkxB,eAAeY,aAEpB9xB,KAAKyxB,OAAQ,iDAMbzxB,KAAKyxB,OAAQ,EAEbzxB,KAAKkxB,eAAea,UACpB/xB,KAAKsxB,QAAQS,QAAQ/xB,MACrBA,KAAK2wB,cAAcoB,qDAKA,OAAO/xB,KAAKsxB,kDACb,OAAOtxB,KAAK2wB,uDACb,OAAO3wB,KAAKgxB,wDACV,OAAOhxB,KAAKkxB,gDAIjC,IAAA/rB,EAAAnF,KACMA,KAAKyxB,QAEPzxB,KAAK2wB,cAAcqB,SACnBhyB,KAAKsxB,QAAQU,OAAOhyB,MAGpBA,KAAKkxB,eAAee,aAChBjyB,KAAKywB,UAAYzwB,KAAKywB,SAAS3lB,aAC/B9K,KAAK0wB,SAAW1wB,KAAK0wB,QAAQxqB,gBAC7BlG,KAAK0wB,QAAQwB,wBAInB,IAAMC,EAAgBnyB,KAAK0xB,0BAA0BU,QAC/CC,EAAiBryB,KAAK4xB,2BAA2BQ,QACjDE,EAAetyB,KAAKmC,MAAM8D,KAE1BssB,EAAcvyB,KAAKgxB,aACnB5kB,EAAWpM,KAAK2wB,cAAc3W,cAC9BlE,EAAkB9V,KAAKsxB,QAAQ3W,qBAC/B1E,EAAkBjW,KAAKsxB,QAAQxc,qBAE/B0d,GADoBxyB,KAAKsxB,QAAQtgB,uBACjBhR,KAAKsxB,QAAQmB,oBAM7BC,GALkB5c,EAAgBgF,aAAa7E,GAK/BjW,KAAKsxB,QAAQqB,YAHR,UAIrBC,EAAuB5yB,KAAKsxB,QAAQqB,YAHP,gBAIV3yB,KAAKsxB,QAAQqB,YAHR,YAK9B,OACEpyB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBAEbJ,EAAAC,EAAAC,cAACoyB,GAAD,CAAa5wB,IAAK,SAAAA,GAAG,OAAEkD,EAAKsrB,SAASxuB,GAAKtB,UAAU,UAClDuJ,MAAO,CAACkG,GAAa4C,IACrB3H,UAAW,CAAC0F,cAAe/Q,KAAKsxB,SAChCrrB,KAAMqsB,GAEN/xB,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,MAAMqI,KAAMoqB,GAC/B/xB,QAAS,kBAAMgyB,GAAwB7tB,GAAM,EAAO,kBAAMA,EAAKsrB,SAASwC,gBAC1E1yB,EAAAC,EAAAC,cAACyyB,GAAD,CAAqB5yB,MAAM,SAASqI,KAAMsH,GAAY0O,OAAQ6T,EAAcW,qBAAqBlP,KAAK,KACpGvF,SAAU,SAAAlP,GACRgjB,EAAcY,WAAW5jB,EAAMrK,EAAKmsB,SACjC+B,MAAM,SAACnuB,GACNouB,KAAcC,gBAAgB,2CAA4C,eAC1EnC,QAAQoC,MAAMtuB,KAEfuuB,QAAQ,WACPtuB,EAAKsrB,SAASwC,gBAGtB1yB,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,OAAOqI,KAAM+qB,GAAUnpB,c7DvKb,U6DwK7BxJ,UAAWwxB,EAAYoB,UACvB3yB,QAAS,kBAAIuxB,EAAYqB,UAC3BrzB,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,OAAOqI,KAAMkrB,GAAUtpB,c7D1Kb,U6D2K7BxJ,UAAWwxB,EAAYuB,UACvB9yB,QAAS,kBAAIuxB,EAAYwB,UAC3BxzB,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAOoR,KAAKC,SAAS,6BAA8BhJ,KAAMub,GACtEljB,QAAS,kBAAImE,EAAKsrB,SAAStmB,eAAe,IAC1CpJ,SAAUkV,EAAgBlB,WAAWuB,YACvC/V,EAAAC,EAAAC,cAACuzB,GAAD,MACAzzB,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,eAAeqI,KAAMsrB,GAAS1pB,c7DlLvB,S6DmL5BhK,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,WAAWqI,KAAMurB,GAAW3pB,c7DnLrB,S6DoL5BhK,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAM,OAAOqI,KAAMwrB,GAChCnzB,QAAS,kBAAIqC,OAAOjB,KA5If,mEA4I8B,aACrC7B,EAAAC,EAAAC,cAACqyB,EAAD,CAAexyB,MAAOoR,KAAKC,SAAS,2BAA4BhJ,KAAMyrB,GAAc7pB,c7DtLxD,O6DuL1BvJ,QAAS,kBAAImE,EAAKsrB,SAAStmB,eAAe,OAI9C5J,EAAAC,EAAAC,cAAC4zB,EAAD,CAAYpyB,IAAK,SAAAA,GAAG,OAAEkD,EAAKurB,QAAQzuB,GAAKtB,UAAU,cAChDqD,OAAQhE,KAAKsxB,QAAQgD,kBAAkBC,OAAO,CAACrP,KAC/Cld,WAAY,CAAC+I,cAAe/Q,KAAKsxB,QAAS3c,IAAK3U,MAC/CoE,KAAM+tB,E9DhLkB,SACD,Q8DgLvBpsB,UAAWssB,E9D/KwB,WACE,a8D+KrCpsB,KAAMqsB,GACN/xB,EAAAC,EAAAC,cAAC+zB,GAAD,KACEj0B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YAEbJ,EAAAC,EAAAC,cAACg0B,GAAD,CAAa5mB,KvDlMC,UuDkMmBC,QAAgD9N,KAAKyxB,OAASxb,EAAgBlB,WAAWuB,WACxH/V,EAAAC,EAAAC,cAAA,aAAQiR,KAAKC,SAAS,4BACtBpR,EAAAC,EAAAC,cAAA,aAAQ,6CACRF,EAAAC,EAAAC,cAAA,aAAQ,oCACRF,EAAAC,EAAAC,cAAA,aAAQ,mCACRF,EAAAC,EAAAC,cAAA,aAAQ,kFACRF,EAAAC,EAAAC,cAAA,aAAQ,oCACRF,EAAAC,EAAAC,cAAA,aAAQ,eACRF,EAAAC,EAAAC,cAAA,aAAQ,wBACRF,EAAAC,EAAAC,cAAA,aAAQ,kBACRF,EAAAC,EAAAC,cAAA,aAAQiR,KAAKC,SAAS,6BAGxBpR,EAAAC,EAAAC,cAACi0B,GAAD,CAAezyB,IAAK,SAAAA,GAAG,OAAEkD,EAAKiW,WAAWnZ,GAAKmK,SAAUA,IAEnD6J,EAAgBlB,WAAWuB,WAC5B/V,EAAAC,EAAAC,cAACF,EAAAC,EAAM6M,SAAP,KACE9M,EAAAC,EAAAC,cAAA,QAAME,UAAU,WAAWg0B,GAAG,IAAIC,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,OAAO,sCAC/Dx0B,EAAAC,EAAAC,cAAA,QAAME,UAAU,WAAWg0B,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,OAAO,uCAGjErC,GACAnyB,EAAAC,EAAAC,cAACiyB,EAAD,CAAe3hB,cAAe/Q,KAAKsxB,QAAS0D,OAAQh1B,KAAKob,aAEzDwX,GACAryB,EAAAC,EAAAC,cAACmyB,EAAD,CAAsB7hB,cAAe/Q,KAAKsxB,QAAS0D,OAAQh1B,KAAKob,cAGpE7a,EAAAC,EAAAC,cAACw0B,GAAA,EAAD,CAAkBC,oBAAqB5B,OAGvC/yB,EAAAC,EAAAC,cAAC00B,GAAD,CAAYvJ,cAAe5rB,KAAKkxB,iBAEhC3wB,EAAAC,EAAAC,cAAC20B,GAAD,CAAcnzB,IAAK,SAAAA,GAAG,OAAEkD,EAAKqgB,UAAUvjB,IACpC1B,EAAAC,EAAAC,cAAC40B,GAAD,CAAU1gB,IAAK3U,KAAMmR,OAAQnR,KAAKsxB,QAASllB,SAAUA,IACrD7L,EAAAC,EAAAC,cAAC60B,GAAD,CAAU3gB,IAAK3U,KAAMmR,OAAQnR,KAAKsxB,QAASllB,SAAUA,EAAU8R,OAAQle,KAAKslB,iDA9HzE,OAAOtlB,KAAKob,4CACb,OAAOpb,KAAK2wB,cAAc3W,qDA0I9Bub,wBAAIjF","file":"experimental.bundle.a8d27223af97179b4391.js","sourcesContent":["import React from 'react';\nimport Style from './IconButton.css';\n\nconst ICON_BUTTON_SHOW_LABEL = false;\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n\n    const showButtonLabel = ICON_BUTTON_SHOW_LABEL && title;\n\n    return (\n      <button id={this.props.id}\n        className={Style.icon_button +\n          (showButtonLabel ? \" icon-button-show-label \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        {this.props.children}\n        <label>{title}</label>\n      </button>\n    );\n  }\n}\nexport default IconButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './DrawerView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ExpandDownIcon from 'experimental/iconset/ExpandDownIcon.js';\n\nconst DRAWER_WIDTH_CSSVAR = \"--drawer-width\";\nconst DRAWER_HANDLE_DRAG_OFFSET = 6;\nconst DRAWER_HANDLE_MIN_SIZE_BUFFER = 32;\nconst DRAWER_HANDLE_MAX_SIZE_BUFFER = 128;\nconst DRAWER_MIN_WIDTH = 200;\nconst DRAWER_RESIZE_REFRESH_RATE = 200;\nconst DRAWER_HANDLE_CUSTOM_SNAP_WIDTH = 300;\n\nconst DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE = true;\nconst DRAWER_SHOULD_HIDE_TAB_LIST = false;\n\nexport const DRAWER_WIDTH_TYPE_FULL = \"full\";\nexport const DRAWER_WIDTH_TYPE_MIN = \"min\";\nexport const DRAWER_SIDE_BOTTOM = \"bottom\";\nexport const DRAWER_SIDE_RIGHT = \"right\";\nexport const DRAWER_BAR_DIRECTION_VERTICAL = \"vertical\";\nexport const DRAWER_BAR_DIRECTION_HORIZONTAL = \"horizontal\";\n\nclass DrawerView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.drawerElement = null;\n\n    this.state = {\n      open: false,\n      tabIndex: 0\n    };\n\n    //When drawer is currently changing size intentfully\n    this._handlingGrab = false;\n    this._handlingResize = false;\n    //Whether the drawer should fullscreen\n    this._isfull = false;\n    //Whether to restore drawer width after fullscreen\n    this._hasintent = false;\n    //Save intentful drawer width for restore after fullscreen\n    this._prevWidth = DRAWER_MIN_WIDTH;\n    //Used to manage resize updates\n    this._resizeTimeout = null;\n    this._resizeEndTimeout = null;\n    //Changed in render() to reflect current render state.\n    this._sideways = false;\n\n    this.onDrawerHandleGrab = this.onDrawerHandleGrab.bind(this);\n    this.onDrawerHandleRelease = this.onDrawerHandleRelease.bind(this);\n    this.onDrawerHandleMove = this.onDrawerHandleMove.bind(this);\n    this.onDrawerExpand = this.onDrawerExpand.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    window.addEventListener('resize', this.onWindowResize, false);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  openDrawer(fullscreen=false, callback=null)\n  {\n    if (fullscreen)\n    {\n      this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n    }\n\n    if (!this.state.open)\n    {\n      this.setState({ open: true }, callback);\n    }\n  }\n\n  closeDrawer(callback=null)\n  {\n    if (this.state.open)\n    {\n      this.setState({ open: false }, callback);\n    }\n  }\n\n  toggleDrawer(callback=null)\n  {\n    this.setState((prev, props) => {\n      return { open: !prev.open };\n    }, callback);\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.open;\n  }\n\n  isDrawerFullscreen()\n  {\n    return this._isfull;\n  }\n\n  setCurrentTab(tabIndex)\n  {\n    if (!this.props.panels) return;\n    if (tabIndex >= this.props.panels.length) tabIndex = 0;\n    if (this.state.open && this.state.tabIndex === tabIndex)\n    {\n      //Toggle fullscreen\n      if (this._isfull)\n      {\n        this.setDrawerWidth(this._prevWidth);\n      }\n      else\n      {\n        this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n      }\n    }\n    else\n    {\n      //Open and set tab index\n      this.setState({open: true, tabIndex: tabIndex});\n    }\n  }\n\n  getCurrentTabIndex()\n  {\n    return this.state.tabIndex;\n  }\n\n  isCurrentTab(tabIndex)\n  {\n    return this.state.tabIndex === tabIndex;\n  }\n\n  setDrawerWidth(value, hasIntent=true)\n  {\n    if (!this.drawerElement || !this.ref) return;\n\n    this._hasintent = hasIntent;\n\n    const drawerSide = this.props.side;\n    const drawerOffsetY = this.ref.getBoundingClientRect().top;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight - drawerOffsetY:\n      document.documentElement.clientWidth;\n    const minSize = DRAWER_MIN_WIDTH;\n\n    if (typeof value === 'string')\n    {\n      switch(value)\n      {\n        case DRAWER_WIDTH_TYPE_FULL:\n          this._isfull = true;\n          this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n          break;\n        case DRAWER_WIDTH_TYPE_MIN:\n          this._isfull = false;\n          this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, minSize + \"px\");\n          break;\n        default:\n          throw new Error(\"Trying to set drawer width to invalid string\");\n      }\n    }\n    else if (typeof value === 'number')\n    {\n      if (value < minSize + DRAWER_HANDLE_MIN_SIZE_BUFFER) value = minSize;\n      if (value > documentSize - DRAWER_HANDLE_MAX_SIZE_BUFFER)\n      {\n        value = documentSize;\n        this._isfull = true;\n      }\n      else\n      {\n        this._isfull = false;\n      }\n      this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, value + \"px\");\n    }\n    else\n    {\n      throw new Error(\"Trying to set drawer width to unknown value\");\n    }\n  }\n\n  onDrawerExpand()\n  {\n    //Don't close, just small-ify.\n    if (this.state.open && this._isfull)\n    {\n      this.setDrawerWidth(this._prevWidth);\n\n      //If did not make any changes...\n      if (this._isfull)\n      {\n        //Make it do normal stuff.\n        this.toggleDrawer();\n      }\n    }\n    else\n    {\n      this.toggleDrawer();\n    }\n  }\n\n  onWindowResize(e)\n  {\n    if (!this._resizeTimeout)\n    {\n      this._resizeTimeout = setTimeout(() => {\n        this._resizeTimeout = null;\n\n        //Handle resize ends (more like debouncing)\n        if (this._resizeEndTimeout) clearTimeout(this._resizeEndTimeout);\n        else this._handlingResize = true;\n        this._resizeEndTimeout = setTimeout(() => {\n          this._resizeEndTimeout = null;\n          this._handlingResize = false;\n        }, 500);\n\n        if (!this.drawerElement || !this.ref) return;\n\n        const drawerSide = this.props.side;\n        const drawerOffsetY = this.ref.getBoundingClientRect().top;\n        const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n        const documentSize = isDrawerSideBottom ?\n          document.documentElement.clientHeight - drawerOffsetY:\n          document.documentElement.clientWidth;\n\n        if (this._isfull)\n        {\n          if (this._hasintent) return;\n          if (this._prevWidth + DRAWER_HANDLE_MAX_SIZE_BUFFER < documentSize)\n          {\n            this._isfull = false;\n            this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, this._prevWidth + \"px\");\n          }\n        }\n        else\n        {\n          const drawerSize = getCSSDrawerWidth(this.drawerElement);\n          if (drawerSize + DRAWER_HANDLE_MAX_SIZE_BUFFER > documentSize)\n          {\n            this._isfull = true;\n            this._hasintent = false;\n          }\n        }\n      }, DRAWER_RESIZE_REFRESH_RATE);\n    }\n  }\n\n  onDrawerHandleGrab(e)\n  {\n    if (!this._handlingGrab)\n    {\n      this._handlingGrab = true;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n      document.addEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.addEventListener(\"mousemove\", this.onDrawerHandleMove);\n    }\n    else\n    {\n      this.onDrawerHandleRelease(e);\n    }\n  }\n\n  onDrawerHandleRelease(e)\n  {\n    if (this._handlingGrab)\n    {\n      document.removeEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.removeEventListener(\"mousemove\", this.onDrawerHandleMove);\n      this._handlingGrab = false;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n    }\n  }\n\n  onDrawerHandleMove(e)\n  {\n    const drawerSide = this.props.side;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight :\n      document.documentElement.clientWidth;\n    const pointerValue = isDrawerSideBottom ? e.clientY : e.clientX;\n\n    let result = documentSize - pointerValue + DRAWER_HANDLE_DRAG_OFFSET;\n    //Try snapping to some widths...\n    if (!isDrawerSideBottom && Math.abs(result - DRAWER_HANDLE_CUSTOM_SNAP_WIDTH) < DRAWER_HANDLE_MIN_SIZE_BUFFER)\n    {\n      result = DRAWER_HANDLE_CUSTOM_SNAP_WIDTH;\n    }\n    this.setDrawerWidth(result);\n  }\n\n  //Override\n  render()\n  {\n    const drawerPanels = this.props.panels;\n    const drawerSide = this.props.side || DRAWER_SIDE_RIGHT;\n    const drawerDirection = this.props.direction || DRAWER_BAR_DIRECTION_HORIZONTAL;\n    const shouldDrawerHide = this.props.hide || false;\n\n    const isDrawerOpen = this.state.open;\n    //Assumes that parent container has flex and flex-direction: column for bottom, row for right.\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const shouldDrawerBarSideways = !isDrawerSideBottom && (!isDrawerOpen || drawerDirection === DRAWER_BAR_DIRECTION_VERTICAL);\n    const showDrawerHandle = isDrawerOpen || this._handlingGrab;\n    const shouldDrawerOpenFull = this._isfull;\n    const shouldHideDrawerContent = (DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE && (this._handlingGrab || this._handlingResize)) || !isDrawerOpen;\n    const showDrawerTabs = isDrawerOpen || !DRAWER_SHOULD_HIDE_TAB_LIST;\n\n    //Used to handle sideways logic\n    this._sideways = shouldDrawerBarSideways;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_content +\n        (isDrawerSideBottom ? \" column \" : \"\") +\n        (\" \" + this.props.className)}\n      style={this.props.style}>\n        <div className={Style.app_viewport}>\n          {this.props.children}\n        </div>\n        <div ref={ref=>this.drawerElement=ref}\n        className={\n          Style.app_drawer +\n          (isDrawerOpen ? \" open \" : \"\") +\n          (shouldDrawerBarSideways ? \" drawer-bar-sideways \" : \"\") +\n          (isDrawerSideBottom ? \" drawer-side-bottom \" : \"\") +\n          (shouldDrawerOpenFull ? \" full \" : \"\") +\n          (shouldHideDrawerContent ? \" hide-content \" : \"\") +\n          (this._handlingResize ? \" no-animation \" : \"\") +\n          (shouldDrawerHide ? \" hide \" : \"\")}>\n          <div className={Style.drawer_handle + (showDrawerHandle ? \" show \" : \"\")} onMouseDown={this.onDrawerHandleGrab}>\n            <span>{\"||\"}</span>\n          </div>\n          <div className={Style.drawer_content}>\n            <nav className={Style.drawer_content_bar}>\n              <IconButton className={Style.drawer_tab_expander} onClick={this.onDrawerExpand}>\n                <ExpandDownIcon/>\n              </IconButton>\n              {showDrawerTabs && drawerPanels && drawerPanels.map((e, i) => {\n                if (!e) return null;\n                if (!e['TITLE']) return null;\n                const title = e['TITLE'];\n                return (\n                  <a key={title + \":\" + i}\n                  className={Style.drawer_tab +\n                    (this.isCurrentTab(i) ? \" active \" : \"\")}\n                  onClick={() => this.setCurrentTab(i)}>\n                    <label>{title}</label>\n                  </a>\n                );\n              })}\n            </nav>\n            <div className={Style.drawer_content_panel_container}>\n              <div className={Style.drawer_content_panel}>\n                {drawerPanels && drawerPanels.map((e, i) => {\n                  if (!e) return null;\n                  const ComponentClass = e;\n                  const title = e.TITLE || \"\";\n                  const current = this.isCurrentTab(i);\n                  return (\n                    <div key={title + \":\" + i} className={Style.drawer_panel_container +\n                      (!current ? \" hide \" : \"\")}>\n                      <ComponentClass className={Style.drawer_panel}\n                        {...this.props.panelProps}\n                        drawer={this.ref}/>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default DrawerView;\n\nfunction getCSSDrawerWidth(drawerElement)\n{\n  return parseInt(window.getComputedStyle(drawerElement).getPropertyValue(DRAWER_WIDTH_CSSVAR).replace(/\\D/g, ''));\n}\n","import React from 'react';\nimport Style from './ToolbarButton.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nexport const TOOLBAR_CONTAINER_MENU = \"menu\";\nexport const TOOLBAR_CONTAINER_TOOLBAR = \"toolbar\";\nexport const TOOLBAR_CONTAINER_ALL = \"all\";\n\nclass ToolbarButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconButton id={this.props.id}\n        className={Style.toolbar_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n}\n\nexport default ToolbarButton;\n","import React from 'react';\nimport Style from './ToolbarTitle.css';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\nconst DEFAULT_TITLE = \"Untitled\";\n\nclass ToolbarTitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  setTitle(title)\n  {\n    this.ref.resetValue(title);\n  }\n\n  getTitle()\n  {\n    return this.ref.value;\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.title_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <span className={Style.title_input_container}>\n          <FormattedInput ref={ref=>this.ref=ref}\n            defaultValue={DEFAULT_TITLE}/>\n        </span>\n        <div className={Style.title_subtitle}>\n          ModuleName\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarTitle;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarView.css';\n\nimport {TOOLBAR_CONTAINER_MENU, TOOLBAR_CONTAINER_TOOLBAR} from './ToolbarButton.js';\nimport ToolbarTitle from './ToolbarTitle.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport MenuIcon from 'experimental/iconset/MenuIcon.js';\n\nconst TOOLBAR_BUTTON_BUFFER = 150;\nconst TOOLBAR_ALLOW_MENU_BAR = true;\nconst TOOLBAR_DEFAULT_MENU_INDEX = -1;\n\nclass ToolbarView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.toolbarElement = null;\n\n    this.state = {\n      open: false,\n      menuIndex: TOOLBAR_DEFAULT_MENU_INDEX\n    };\n\n    this.onBarExpand = this.onBarExpand.bind(this);\n  }\n\n  openBar(callback=null)\n  {\n    if (!this.state.open)\n    {\n      //Open it, but also reset menu...\n      this.setState({ open: true, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  closeBar(callback=null)\n  {\n    if (this.state.open)\n    {\n      //Close it, but also reset menu...\n      this.setState({ open: false, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  toggleBar(callback=null)\n  {\n    //Toggle it, but also reset menu...\n    this.setState((prev, props) => {\n      return { open: !prev.open, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX };\n    }, callback);\n  }\n\n  isBarOpen()\n  {\n    return this.state.open;\n  }\n\n  setCurrentMenu(menuIndex)\n  {\n    if (!this.props.menus) return;\n    if (menuIndex >= this.props.menus.length) menuIndex = TOOLBAR_DEFAULT_MENU_INDEX;\n\n    //Open and set tab index\n    this.setState({open: true, menuIndex: menuIndex});\n  }\n\n  getCurrentMenuIndex()\n  {\n    return this.state.menuIndex;\n  }\n\n  isCurrentMenu(menuIndex)\n  {\n    return this.state.menuIndex === menuIndex;\n  }\n\n  onBarExpand(e)\n  {\n    if (this.state.open && this.state.menuIndex  >= 0)\n    {\n      this.setCurrentMenu(TOOLBAR_DEFAULT_MENU_INDEX);\n    }\n    else\n    {\n      this.toggleBar();\n    }\n  }\n\n  renderMenuButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_TOOLBAR) return child;\n    });\n  }\n\n  renderToolbarButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_MENU) return child;\n    });\n  }\n\n  //Override\n  render()\n  {\n    const toolbarMenus = this.props.menus;\n    const toolbarMenuIndex = this.state.menuIndex;\n    const ToolbarMenu = toolbarMenuIndex >= 0 ? toolbarMenus[toolbarMenuIndex] : null;\n    const showCustomToolbarMenu = ToolbarMenu != null;\n\n    const hasButtons = React.Children.count(this.props.children) > 0;\n    const isBarOpen = this.state.open;\n    const shouldBarHide = this.props.hide || false;\n    const showBarExpander = isBarOpen || (hasButtons && TOOLBAR_ALLOW_MENU_BAR);\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_bar +\n        (isBarOpen ? \" open \" : \"\") +\n        (shouldBarHide ? \" hide \" : \"\") +\n        \" \" + this.props.className}\n      style={this.props.style}>\n        <div className={Style.bar_menu}>\n          {showCustomToolbarMenu ?\n            <div className={Style.menu_container}>\n              <ToolbarMenu {...this.props.menuProps} toolbar={this.ref}/>\n            </div> :\n            <div className={Style.menu_button_container}>\n              {this.renderMenuButtons(this.props.children)}\n            </div>}\n        </div>\n        <div ref={ref=>this.toolbarElement=ref} className={Style.bar_toolbar}>\n          <ToolbarTitle className={Style.toolbar_title}/>\n          \n          <div className={Style.toolbar_button_container}>\n            {this.renderToolbarButtons(this.props.children)}\n          </div>\n\n          {showBarExpander &&\n          <IconButton className={Style.toolbar_expander} onClick={this.onBarExpand}>\n            <MenuIcon/>\n          </IconButton>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ToolbarView;\n","import React from 'react';\nimport Style from './WorkspaceView.css';\n\nconst DEFAULT_WORKSPACE_SIZE = 300;\n\nclass WorkspaceView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const viewSize = DEFAULT_WORKSPACE_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfViewSize = viewSize / 2;\n    return (\n      <svg ref={ref=>this.ref=ref} id={this.props.id}\n        className={\"workspace-container\" +\n          \" \" + this.props.className}\n        style={this.props.style}\n        viewBox={(-halfViewSize) +\n          \" \" + (-halfViewSize) +\n          \" \" + viewSize +\n          \" \" + viewSize}\n        xmlns=\"http://www.w3.org/2000/svg\">\n        <g className=\"workspace-content\" transform={\"translate(\" + offsetX + \" \" + offsetY + \")\"}>\n          {this.props.children}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default WorkspaceView;\n","import React from 'react';\nimport Style from './ViewportView.css';\n\nclass ViewportView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: 0\n    };\n  }\n\n  setViewIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getViewIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <React.Fragment>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <div id={this.props.id}\n              className={Style.view_container +\n                (this.state.index === i ? \" active \" : \"\") +\n                \" \" + this.props.className}\n              style={this.props.style}>\n              {child}\n            </div>\n          );\n        })}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ViewportView;\n","import React from 'react';\nimport Style from './TooltipView.css';\n\nconst TOOLTIP_WAIT_TIME = 30000;\n\nexport const RANDOM_MODE = \"random\";\nexport const SEQUENTIAL_MODE = \"sequential\";\nexport const ONESHOT_MODE = \"oneshot\";\n\nclass TooltipView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._tooltipTimeout = null;\n\n    this.state = {\n      index: props.initial || 0\n    };\n  }\n\n  setTooltipIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getTooltipIndex()\n  {\n    return this.state.index;\n  }\n\n  updateTooltip()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    this._tooltipTimeout = null;\n\n    if (visible)\n    {\n      const count = React.Children.count(this.props.children);\n      let nextIndex = this.state.index + 1;\n      if (mode === RANDOM_MODE)\n      {\n        nextIndex = Math.floor(Math.random() * count);\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        if (nextIndex >= count) nextIndex = count - 1;\n      }\n      else\n      {\n        if (nextIndex >= count) nextIndex = 0;\n      }\n      this.setTooltipIndex(nextIndex);\n    }\n    else\n    {\n      if (mode === RANDOM_MODE)\n      {\n        //Pick a random index to start at.\n        this.setTooltipIndex(Math.floor(Math.random() * React.Children.count(this.props.children)));\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        //Skip to the end.\n        this.setTooltipIndex(React.Children.count(this.props.children) - 1);\n      }\n      else\n      {\n        //Go back to the beginning.\n        this.setTooltipIndex(0);\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    const tooltipIndex = this.state.index;\n\n    if (visible && !this._tooltipTimeout)\n    {\n      this._tooltipTimeout = setTimeout(() => {\n        this.updateTooltip();\n      }, TOOLTIP_WAIT_TIME);\n    }\n\n    return (\n      <div id={this.props.id}\n        className={Style.tooltip_container +\n          (visible ? \" visible \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <label style={{opacity: tooltipIndex === i ? 1 : 0}}>\n              {child}\n            </label>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TooltipView;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './UploadDropZone.css';\n\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\n\nclass UploadDropZone extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this._waiting = false;\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Upload drop zone\n    this.ref.addEventListener(\"drop\", this.onFileDrop);\n    this.ref.addEventListener(\"dragover\", this.onDragEnter);\n    this.ref.addEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.addEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.addEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.ref.removeEventListener(\"drop\", this.onFileDrop);\n    this.ref.removeEventListener(\"dragover\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.removeEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  onDragEnter(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Change state\n    this._waiting = true;\n  }\n\n  onDragLeave(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n  }\n\n  onFileDrop(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n\n    const dataTransfer = e.dataTransfer;\n    let fileBlob = null;\n    if (dataTransfer.items)\n    {\n      const dataItems = dataTransfer.items;\n      const length = dataItems.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = dataItems[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const dataFiles = dataTransfer.files;\n      const length = dataFiles.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = dataFiles[0];\n      }\n    }\n\n    if (this.props.onFileDrop)\n    {\n      //NOTE: fileBlob could be null\n      this.props.onFileDrop(fileBlob);\n    }\n\n    if (dataTransfer.items)\n    {\n      dataTransfer.items.clear();\n    }\n    else\n    {\n      dataTransfer.clearData();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isWaitingForFile = this._waiting;\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.upload_container +\n          (isWaitingForFile ? \" waiting \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <UploadIcon className={Style.upload_icon}/>\n        {React.Children.only(this.props.children)}\n      </div>\n    );\n  }\n}\n\nexport default UploadDropZone;\n","import React from 'react';\nimport Style from './ExportPanel.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass ExportPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n    const IconClass = exporter.getIconClass();\n    return (\n      <IconButton key={exporter.getFileType()}\n        className={Style.panel_button}\n        title={exporter.getLabel()}\n        onClick={() => {\n          const machineController = this.props.currentModule.getMachineController();\n          const filename = machineController.getMachineName();\n          exporter.exportToFile(filename, currentModule);\n        }}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphExporters = module.getGraphExporters();\n    const imageExporters = module.getImageExporters();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {graphExporters.map(e => this.renderExporterButton(e))}\n          {imageExporters.map(e => this.renderExporterButton(e))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExportPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 10l5 5 5-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14l5-5 5 5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './PanelSection.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport TinyDownIcon from 'experimental/iconset/TinyDownIcon.js';\nimport TinyUpIcon from 'experimental/iconset/TinyUpIcon.js';\n\nclass PanelSection extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: props.initial || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    })\n  }\n\n  //Override\n  render()\n  {\n    const isOpen = this.state.open;\n    const isDisabled = this.props.disabled || React.Children.count(this.props.children) <= 0;\n    const title = this.props.title;\n    return (\n      <section id={this.props.id}\n        className={Style.section_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.section_header}\n          title={title}\n          disabled={isDisabled}\n          onClick={this.onClick}>\n          {!isOpen ? <TinyDownIcon/> : <TinyUpIcon/>}\n        </IconButton>\n        <div className={Style.section_content_container +\n          (isOpen ? \" open \" : \"\")}>\n          <div className={Style.section_content}>\n            {this.props.children}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PanelSection;\n","import React from 'react';\nimport Style from './OptionPanel.css';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nclass OptionPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.options.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n\n          <PanelSection title={\"Customize stuff\"}>\n            <p>If only there was cool stuff here...</p>\n          </PanelSection>\n\n          <PanelSection title={\"What?\"}>\n          </PanelSection>\n\n          <button onClick={() => {\n            if (window.confirm(\"This will clear any cached or saved data. Are you sure you want to continue?\"))\n            {\n              try { LocalSave.terminate(); }\n              catch(e){/* Ignore if it fails. */}\n              LocalSave.clearStorage();\n              \n              window.alert(\"It's done! Restart to apply changes!\");\n            }\n          }}>\n            {\"Get out of Experimental Mode\"}\n          </button>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OptionPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ModeSelectTray.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport EditPencilIcon from 'experimental/iconset/EditPencilIcon.js';\nimport MoveIcon from 'experimental/iconset/MoveIcon.js';\n\nclass ModeSelectTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(newValue)\n  {\n    if (this.props.onChange)\n    {\n      this.props.onChange(newValue);\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode || 0;\n    const onChange = this.props.onChange;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tray_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.tray_button +\n          (mode === 0 ? \" active \" : \"\")}\n          onClick={() => this.onChange(0)}\n          title={I18N.toString(\"cursor.actionmode\")}>\n          <EditPencilIcon/>\n        </IconButton>\n        <IconButton className={Style.tray_button +\n          (mode === 1 ? \" active \" : \"\")}\n          onClick={() => this.onChange(1)}\n          title={I18N.toString(\"cursor.movemode\")}>\n          <MoveIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\nexport default ModeSelectTray;\n","export function userClearGraph(app, graphOnly=false, callback=null)\n{\n  if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n  {\n    const module = app.getCurrentModule();\n    module.getGraphController().getGraph().clear();\n    if (!graphOnly)\n    {\n      app.getUndoManager().clear();\n      module.getMachineController().setMachineName(null);\n    }\n    if (callback) callback();\n  }\n}\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 26 26\">\n        <path d=\"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z \"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TrashCanWidget.css';\n\nimport { userClearGraph } from 'experimental/UserUtil.js';\n\nimport TrashCanDetailedIcon from 'experimental/iconset/TrashCanDetailedIcon.js';\n\nconst DOUBLE_TAP_TIME = 250;\n\nclass TrashCanWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      forceActive: false\n    };\n\n    this._doubleTapTimeout = null;\n\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onClick = this.onClick.bind(this);\n\n    //HACK: This is kinda a hack to lose trash mode focus...\n    this.onAnyMouseDownNotConsumed = this.onAnyMouseDownNotConsumed.bind(this);\n  }\n\n  onMouseEnter(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(true);\n  }\n\n  onMouseLeave(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(false);\n  }\n\n  onClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._doubleTapTimeout)\n    {\n      //This is a double tap!\n      clearTimeout(this._doubleTapTimeout);\n      this._doubleTapTimeout = null;\n      this.setState({forceActive: false});\n\n      userClearGraph(this.props.app, true);\n      this.props.inputController.setTrashMode(false);\n    }\n    else\n    {\n      //This is a single tap!\n      this.setState((prev, props) => {\n        const result = !prev.forceActive;\n        props.inputController.setTrashMode(result);\n        this._doubleTapTimeout = setTimeout(() => {\n          this._doubleTapTimeout = null;\n        }, DOUBLE_TAP_TIME);\n\n        if (result)\n        {\n          document.documentElement.addEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n        }\n\n        return {\n          forceActive: result\n        };\n      });\n    }\n  }\n\n  onAnyMouseDownNotConsumed(e)\n  {\n    if (this.state.forceActive && this.ref !== e.target)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      document.documentElement.removeEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n\n      this.props.inputController.setTrashMode(false);\n      this.setState({forceActive: false});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    const active = inputController.isTrashMode();\n    const hide = graphController.getGraph().isEmpty() || (inputAdapter.isUsingTouch() && inputAdapter.isDragging());\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.trash_container +\n          (active ? \" active \" : \"\") +\n          (hide ? \" hide \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onClick={this.onClick}>\n        <TrashCanDetailedIcon/>\n      </div>\n    );\n  }\n}\n\nexport default TrashCanWidget;\n","import React from 'react';\nimport IconButton from './IconButton.js';\n\nclass IconStateButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: props.initial || 0\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const prevIndex = this.state.index;\n    this.setState((prev, props) => {\n      const count = React.Children.count(props.children);\n      let nextIndex = prev.index + 1;\n      if (nextIndex >= count)\n      {\n        nextIndex = 0;\n      }\n      return {index: nextIndex};\n    }, () => {\n      if (this.props.onClick)\n      {\n        this.props.onClick(e, prevIndex);\n      }\n    });\n  }\n\n  setStateIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getStateIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    const child = React.Children.map(this.props.children, (child, i) => {\n      if (i === this.state.index) return child;\n    })[0];\n\n    return (\n      <IconButton id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.onClick}>\n        {child}\n      </IconButton>\n    );\n  }\n}\nexport default IconStateButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FullscreenWidget.css';\n\nimport IconStateButton from 'experimental/components/IconStateButton.js';\nimport FullscreenIcon from 'experimental/iconset/FullscreenIcon.js';\nimport FullscreenExitIcon from 'experimental/iconset/FullscreenExitIcon.js';\n\nclass FullscreenWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n\n    return (\n      <IconStateButton id={this.props.id}\n        className={Style.fullscreen_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Fullscreen Mode\"}\n        onClick={(e, i) => app.setState({hide: (i === 0)})}>\n        <FullscreenIcon/>\n        <FullscreenExitIcon/>\n      </IconStateButton>\n    );\n  }\n}\n\nexport default FullscreenWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ZoomWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ZoomInIcon from 'experimental/iconset/ZoomInIcon.js';\nimport ZoomOutIcon from 'experimental/iconset/ZoomOutIcon.js';\n\nclass ZoomWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onZoomIn = this.onZoomIn.bind(this);\n    this.onZoomOut = this.onZoomOut.bind(this);\n  }\n\n  onZoomIn(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = -viewport.getScale() * 0.4;\n    viewport.addScale(viewScale);\n  }\n\n  onZoomOut(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = viewport.getScale() * 0.75;\n    viewport.addScale(viewScale);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const viewScale = \"x\" + (1 / (viewport.getScale() || 1)).toFixed(2);\n\n    return (\n      <div id={this.props.id}\n        className={Style.zoom_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.zoom_button} title=\"Zoom In\" onClick={this.onZoomIn}>\n          <ZoomInIcon/>\n        </IconButton>\n        <IconButton className={Style.zoom_button} title=\"Zoom Out\" onClick={this.onZoomOut}>\n          <ZoomOutIcon/>\n        </IconButton>\n        <label className={Style.zoom_label}>{viewScale}</label>\n      </div>\n    );\n  }\n}\n\nexport default ZoomWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FocusCenterWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport PinpointIcon from 'experimental/iconset/PinpointIcon.js';\n\nconst OFFSET_EPSILON = 0.1;\n\nclass FocusCenterWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const viewport = this.props.viewport;\n    viewport.setOffset(0, 0);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.center_focus_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Center Workspace\"}\n        disabled={Math.abs(viewport.getOffsetX()) < OFFSET_EPSILON &&\n          Math.abs(viewport.getOffsetY()) < OFFSET_EPSILON} onClick={this.onClick}>\n        <PinpointIcon/>\n      </IconButton>\n    );\n  }\n}\n\nexport default FocusCenterWidget;\n","import React from 'react';\nimport Style from './NavbarWidget.css';\n\nimport FullscreenWidget from 'experimental/widgets/FullscreenWidget.js';\nimport ZoomWidget from 'experimental/widgets/ZoomWidget.js';\nimport FocusCenterWidget from 'experimental/widgets/FocusCenterWidget.js';\n\nclass NavbarWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const viewport = app.getInputAdapter().getViewport();\n\n    return (\n      <div id={this.props.id}\n        className={Style.navbar_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <FullscreenWidget className={Style.navbar_widget} app={app}/>\n        <ZoomWidget className={Style.navbar_widget_container} viewport={viewport}/>\n        <FocusCenterWidget className={Style.navbar_widget} viewport={viewport}/>\n      </div>\n    );\n  }\n}\n\nexport default NavbarWidget;\n","import React from 'react';\nimport Style from './viewport/ViewportView.css';\n\nimport ModeSelectTray from './widgets/ModeSelectTray.js';\nimport TrashCanWidget from './widgets/TrashCanWidget.js';\nimport NavbarWidget from './widgets/NavbarWidget.js';\n\nclass EditPane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const module = this.props.module;\n    const viewport = this.props.viewport;\n    const inputController = module.getInputController();\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n    const inputActionMode = inputController.isActionMode(graphController);\n    const LabelEditor = module.getLabelEditor();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        { LabelEditor &&\n          <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n          inputController={inputController}\n          graphController={graphController}\n          machineController={machineController}\n          screen={app._workspace ? app._workspace.ref : null}/> }\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0, left: 0}}>\n          <ModeSelectTray mode={inputActionMode ? 0 : 1} onChange={modeIndex => inputController.setInputScheme(modeIndex === 0)}/>\n        </div>\n        <div className={Style.view_widget} style={{bottom: 0, right: 0}}>\n          <TrashCanWidget app={app} inputController={inputController} graphController={graphController}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditPane;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TapeWidget.css';\n\nimport DownArrowIcon from 'experimental/iconset/DownArrowIcon.js';\n\nconst TAPE_INFINITE_LEFT = true;\nconst TAPE_INFINITE_RIGHT = true;\n\nclass TapeWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onTapeStepBackward = this.onTapeStepBackward.bind(this);\n    this.onTapeStepForward = this.onTapeStepForward.bind(this);\n    this.onTapeFinish = this.onTapeFinish.bind(this);\n    this.onTapeReset = this.onTapeReset.bind(this);\n    this.onTapeSkipForward = this.onTapeSkipForward.bind(this);\n    this.onTapeSkipBackward = this.onTapeSkipBackward.bind(this);\n    this.onTapeStop = this.onTapeStop.bind(this);\n  }\n\n  onTapeStepBackward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepBackward();\n  }\n\n  onTapeStepForward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepForward();\n  }\n\n  onTapeSkipForward(e)\n  {\n  }\n\n  onTapeSkipBackward(e)\n  {\n  }\n\n  onTapeReset(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.reset();\n  }\n\n  onTapeFinish(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.finish();\n  }\n\n  onTapeStop(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stop();\n  }\n\n  //Override\n  render()\n  {\n    const showTransitionStates = true;\n    const tapeContext = this.props.value;\n    const tapeIndex = tapeContext ? tapeContext.getCurrentTapeIndex() * 2 : -1;\n\n    if (!tapeContext) return null;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tape_container +\n        \" \" + this.props.className}\n        style={this.props.style}>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeStepBackward}>BACK</button>\n          <button onClick={this.onTapeStepForward}>STEP</button>\n          <button onClick={this.onTapeReset}>RESET</button>\n          <button onClick={this.onTapeFinish}>TO END</button>\n        </div>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeSkipForward}>SKIP TO NEXT</button>\n          <button onClick={this.onTapeSkipBackward}>SKIP TO PREV</button>\n          <button onClick={this.onTapeStop}>STOP</button>\n        </div>\n\n        <div className={\"tape-row\"}>\n\n          {TAPE_INFINITE_LEFT && tapeContext.isTapeLeftInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n\n          <DownArrowIcon\n            className=\"tape-pointer\"\n            style={{left: Math.floor((tapeIndex - 1) / 2) + \"em\"}}/>\n\n          {tapeContext.getTapeInput().map((e, i) => {\n            let active = false;\n            let activeRead = false;\n            const currentIndex = Math.floor(tapeIndex / 2);\n            active = tapeIndex === i;\n            activeRead = tapeIndex === i + 1;\n            /*\n            const currentIndex = Math.floor(tapeIndex / 2);\n            if (currentIndex === i)\n            {\n              //It's the current index...\n              active = tapeIndex % 2 === 1;\n              activeRead = tapeIndex % 2 === 0;\n            }\n            else if (currentIndex === i + 1)\n            {\n              //It's the previous index...\n              active = tapeIndex % 2 === 0;\n            }\n            */\n\n            const sourceStates = tapeContext.getTapeSourceStatesByIndex(i);\n            return (\n              <div key={e + \":\" + i} className={\"tape-row-entry\" +\n                (active ? \" active \" : \"\") +\n                (activeRead ? \" active-read \" : \"\")}>\n                {showTransitionStates &&\n                  sourceStates &&\n                  <span className=\"tape-row-states\">\n                    {sourceStates.map(sourceState => {\n                      return (\n                        <label>{sourceState}</label>\n                      );\n                    })}\n                  </span>}\n                <label className=\"tape-row-symbol\">\n                  {e}\n                </label>\n              </div>\n            );\n          })}\n\n          {TAPE_INFINITE_RIGHT && tapeContext.isTapeRightInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapeWidget;\n","import React from 'react';\nimport Style from 'experimental/viewport/ViewportView.css';\n\nimport TapeWidget from 'experimental/widgets/TapeWidget.js';\nimport NavbarWidget from 'experimental/widgets/NavbarWidget.js';\n\nclass TapePane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const module = this.props.module;\n    const viewport = this.props.viewport;\n    const tester = this.props.tester;\n    const inputController = module.getInputController();\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0}}>\n          <TapeWidget value={tester ? tester.getTapeContext() : null}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapePane;\n","import React from 'react';\nimport Style from './IconUploadButton.css';\n\nimport IconButton from './IconButton.js';\n\nclass IconUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onFileUpload = this.onFileUpload.bind(this);\n  }\n\n  onFileUpload(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      if (this.props.onUpload) this.props.onUpload(files[0]);\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  //Override\n  render()\n  {\n    const accept = this.props.accept;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.upload_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}>\n        <input type=\"file\" name=\"import\"\n          className={Style.upload_input}\n          accept={accept}\n          onChange={this.onFileUpload}/>\n        {this.props.children}\n      </IconButton>\n    );\n  }\n}\n\nexport default IconUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TestItem.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport SubtractIcon from 'experimental/iconset/SubtractIcon.js';\nimport CheckCircleIcon from 'experimental/iconset/CheckCircleIcon.js';\nimport CrossCircleIcon from 'experimental/iconset/CrossCircleIcon.js';\nimport PendingIcon from 'experimental/iconset/PendingIcon.js';\nimport RunningManIcon from 'experimental/iconset/RunningManIcon.js';\n\nexport const DEFAULT_MODE = \"default\";\nexport const SUCCESS_MODE = \"success\";\nexport const FAILURE_MODE = \"failure\";\nexport const WORKING_MODE = \"working\";\n\nclass TestItem extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.inputElement = null;\n\n    this.state = {\n      value: \"\",\n      status: DEFAULT_MODE\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  focus()\n  {\n    if (this.inputElement)\n    {\n      this.inputElement.focus();\n    }\n  }\n\n  setValue(value, callback=null)\n  {\n    if (this.state.value !== value)\n    {\n      this.setState({value: value}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  setStatus(status, callback=null)\n  {\n    if (this.state.status !== status)\n    {\n      this.setState({status: status}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  getValue()\n  {\n    return this.state.value;\n  }\n\n  getStatus()\n  {\n    return this.state.status;\n  }\n\n  onChange(e)\n  {\n    const nextValue = e.target.value;\n    this.setState({value: nextValue});\n  }\n\n  //Override\n  render()\n  {\n    const onDelete = this.props.onDelete;\n    const showDelete = true;\n\n    const onTest = this.props.onTest;\n    const showTest = true;\n\n    const name = this.props.name;\n    const active = this.props.active;\n    const subtitle = this.props.subtitle;\n    const placeholder = this.props.placeholder;\n    const status = this.state.status;\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_item_container +\n          (active ? \" active \" : \"\") +\n          \" \" + status +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showTest &&\n          <IconButton className={Style.test_button}\n            title={\"Test\"}\n            disabled={!onTest}\n            onClick={(e) => onTest(e, this)}>\n            {status === SUCCESS_MODE ?\n              <CheckCircleIcon/> :\n              status === FAILURE_MODE ?\n              <CrossCircleIcon/> :\n              status === WORKING_MODE ?\n              <PendingIcon/> :\n              <RunningManIcon/>}\n          </IconButton>}\n        <div className={Style.test_input}>\n          <input ref={ref=>this.inputElement=ref} type=\"text\"\n            placeholder={placeholder}\n            value={this.state.value}\n            onChange={this.onChange}/>\n          <label>{this.props.subtitle}</label>\n        </div>\n        {showDelete &&\n          <IconButton className={Style.delete_button}\n            title={\"Delete\"}\n            disabled={!onDelete}\n            onClick={(e) => onDelete(e, this)}>\n            <SubtractIcon/>\n          </IconButton>}\n      </div>\n    );\n  }\n}\n\nexport default TestItem;\n","import React from 'react';\nimport Style from './TestListView.css';\n\nimport { guid } from 'util/MathHelper.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nimport PageContentIcon from 'experimental/iconset/PageContentIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport CrossIcon from 'experimental/iconset/CrossIcon.js';\nimport AddIcon from 'experimental/iconset/AddIcon.js';\n\nimport TestItem, {SUCCESS_MODE, FAILURE_MODE, WORKING_MODE, DEFAULT_MODE} from './TestItem.js';\n\nconst ACCEPT_FILE_TYPES = ['.txt'];\n\nclass TestListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._testList = [];\n\n    this.onTestNew = this.onTestNew.bind(this);\n    this.onTestUpload = this.onTestUpload.bind(this);\n    this.onTestDownload = this.onTestDownload.bind(this);\n    this.onTestClose = this.onTestClose.bind(this);\n    this.onTestAdd = this.onTestAdd.bind(this);\n    this.onTestDelete = this.onTestDelete.bind(this);\n    this.onTestTest = this.onTestTest.bind(this);\n  }\n\n  onTestNew(e)\n  {\n    if (!this.isEmpty())\n    {\n      this.onTestClose(e);\n    }\n\n    this.onTestAdd(e);\n  }\n\n  onTestUpload(fileBlob)\n  {\n\n  }\n\n  onTestDownload(e)\n  {\n\n  }\n\n  onTestClose(e)\n  {\n    this._testList.length = 0;\n  }\n\n  onTestAdd(e)\n  {\n    this._testList.push(guid());\n  }\n\n  onTestDelete(e, item)\n  {\n    const i = this._testList.indexOf(item.props.name);\n    if (i >= 0)\n    {\n      this._testList.splice(i, 1);\n    }\n  }\n\n  onTestTest(e, item)\n  {\n    const immediate = this.props.immediate;\n    const tester = this.props.tester;\n    const itemValue = item.getValue();\n\n    item.setState({status: WORKING_MODE});\n\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    tester.startTest(itemValue, graphController, machineController).then((result) => {\n      item.setState({status: result ? SUCCESS_MODE : FAILURE_MODE});\n    }, (err) => {\n      //It didn't work out :(\n      item.setState({status: DEFAULT_MODE});\n    });\n\n    if (immediate)\n    {\n      tester.runTest(graphController, machineController, true);\n    }\n  }\n\n  isEmpty()\n  {\n    return this._testList.length <= 0;\n  }\n\n  //Override\n  render()\n  {\n    const immediate = this.props.immediate;\n    const tester = this.props.tester;\n    const empty = this.isEmpty();\n    const disabled = tester && tester.isTesting();\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.test_control_tray}>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.new\")}\n            onClick={this.onTestNew}>\n            <PageContentIcon/>\n          </IconButton>\n          <IconUploadButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.import\")}\n            accept={ACCEPT_FILE_TYPES.join(\",\")}\n            onUpload={this.onTestUpload}>\n            <UploadIcon/>\n          </IconUploadButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.save\")}\n            disabled={empty}\n            onClick={this.onTestDownload}>\n            <DownloadIcon/>\n          </IconButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.clear\")}\n            disabled={empty}\n            onClick={this.onTestClose}>\n            <CrossIcon/>\n          </IconButton>\n        </div>\n        <div className={Style.test_list_container +\n          (empty ? \" empty \" : \"\") +\n          (disabled ? \" disabled \": \"\")}>\n          <IconButton className={Style.test_list_add}\n            title={\"Add\"} onClick={this.onTestAdd}>\n            <AddIcon/>\n            <span className={Style.test_list_count}>\n              {!empty ? \"\" + this._testList.length : \"\"}\n            </span>\n          </IconButton>\n          <div className={Style.test_list_scroll_container}>\n            <div className={Style.test_list}>\n              {this._testList.map((e, i) =>\n                <TestItem key={e} name={e}\n                  onTest={tester ? this.onTestTest : null}\n                  onDelete={this.onTestDelete}/>)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TestListView;\n","import React from 'react';\nimport Style from './PanelCheckbox.css';\n\nclass PanelCheckbox extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      checked: props.initial || false\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  setChecked(value)\n  {\n    this.setState({checked: value});\n  }\n\n  isChecked()\n  {\n    return this.state.checked;\n  }\n\n  onChange(e)\n  {\n    const checked = e.target.checked;\n    if (this.state.checked !== checked)\n    {\n      this.setState({checked: checked});\n    }\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.checkbox_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input type=\"checkbox\" id={this.props.id + \"-checkbox\"}\n          name={this.props.id + \"-checkbox\"} value={this.props.value}\n          checked={this.state.checked}\n          disabled={this.props.disabled}\n          onChange={this.onChange}/>\n        <label htmlFor={this.props.id + \"-checkbox\"}>{this.props.title}</label>\n      </div>\n    );\n  }\n}\n\nexport default PanelCheckbox;\n","import React from 'react';\nimport Style from './TestingPanel.css';\n\nimport TestListView from './TestListView.js';\n\nimport PanelCheckbox from 'experimental/panels/PanelCheckbox.js';\n\nclass TestingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //TODO: This should be in modules...\n    const app = this.props.app;\n    const tester = app._tester;\n    tester.on(\"startTest\", (tester) => {\n      app._viewport.setViewIndex(1);\n    });\n    tester.on(\"stopTest\", (tester) => {\n      app._viewport.setViewIndex(0);\n    });\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    //TODO: This should be in modules...\n    const app = this.props.app;\n    const tester = app._tester;\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{TestingPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <TestListView tester={tester} graphController={graphController} machineController={machineController}/>\n          <PanelCheckbox title={\"Step Testing\"}/>\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(TestingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.testing.title\"); }\n});\n\nexport default TestingPanel;\n","import React from 'react';\nimport Style from './ToolbarDivider.css';\n\nclass ToolbarDivider extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.divider + \" \" + this.props.className}\n        style={this.props.style}>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarDivider;\n","import React from 'react';\n\nimport ToolbarButtonStyle from './ToolbarButton.css';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nclass ToolbarUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconUploadButton id={this.props.id}\n        className={ToolbarButtonStyle.toolbar_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        accept={this.props.accept}\n        onUpload={this.props.onUpload}>\n        <IconClass/>\n      </IconUploadButton>\n    );\n  }\n}\n\nexport default ToolbarUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"}/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 20 20\">\n        <path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","export const CTRL_KEY = 'Control';\nexport const META_KEY = 'Meta';\nexport const ALT_KEY = 'Alt';\nexport const SHIFT_KEY = 'Shift';\n//NOTE: For more keys, refer to http://keycode.info/\n\nclass HotKeyManager\n{\n  constructor()\n  {\n    this._hotkeys = [];\n    this._cachedEvent = {\n      ctrlKey: false,\n      metaKey: false,\n      altKey: false,\n      shiftKey: false,\n      code: null\n    };\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._enabled = false;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  initialize()\n  {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n\n    this._enabled = true;\n  }\n\n  destroy()\n  {\n    this._enabled = false;\n\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  registerHotKey(name, keys, callback)\n  {\n    if (!Array.isArray(keys)) throw new Error(\"Must be an array of key codes\");\n    const ctrlIndex = keys.indexOf(CTRL_KEY);\n    if (ctrlIndex >= 0) keys.splice(ctrlIndex, 1);\n    const metaIndex = keys.indexOf(META_KEY);\n    if (metaIndex >= 0) keys.splice(metaIndex, 1);\n    const altIndex = keys.indexOf(ALT_KEY);\n    if (altIndex >= 0) keys.splice(altIndex, 1);\n    const shiftIndex = keys.indexOf(SHIFT_KEY);\n    if (shiftIndex >= 0) keys.splice(shiftIndex, 1);\n    if (keys.length != 1) throw new Error(\"Multiple key operations not supported\");\n    const charKey = keys[0];\n\n    const ctrl = ctrlIndex >= 0 || metaIndex >= 0;\n    const alt = altIndex >= 0;\n    const shift = shiftIndex >= 0;\n\n    const result = {\n      name: name,\n      localizedKeys: (ctrl ? \"Ctrl + \" : \"\") +\n        (alt ? \"Alt + \" : \"\") +\n        (shift ? \"Shift + \" : \"\") +\n        charKey,\n      charKey: charKey,\n      ctrlKey: ctrl,\n      altKey: alt,\n      shiftKey: shift,\n      callback: callback\n    };\n\n    this._hotkeys.push(result);\n  }\n\n  setEnabled(enabled)\n  {\n    this._enabled = enabled;\n  }\n\n  isEnabled()\n  {\n    return this._enabled;\n  }\n\n  findMatchingHotKey(e)\n  {\n    for(const hotkey of this._hotkeys)\n    {\n      if (hotkey.ctrlKey !== (e.ctrlKey || e.metaKey)) continue;\n      if (hotkey.altKey !== e.altKey) continue;\n      if (hotkey.shiftKey !== e.shiftKey) continue;\n      if (hotkey.charKey !== e.code) continue;\n      return hotkey;\n    }\n    return null;\n  }\n\n  getCurrentHotKey()\n  {\n    return this._prevHotKey;\n  }\n\n  getCurrentHotKeyRepeatCount()\n  {\n    return this._repeatCount;\n  }\n\n  getCurrentlyPossibleHotKeys(dst=[])\n  {\n    const event = this._cachedEvent;\n    const eventCtrl = event.ctrlKey || event.metaKey;\n    const eventAlt = event.altKey;\n    const eventShift = event.shiftKey;\n    if (!eventCtrl && !eventAlt && !eventShift) return dst;\n    const eventKey = event.code;\n\n    let result = null;\n    for(const hotkey of this._hotkeys)\n    {\n      let flag = false;\n      if (eventCtrl ^ hotkey.ctrlKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventCtrl) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventAlt ^ hotkey.altKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventAlt) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventShift ^ hotkey.shiftKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventShift) flag = true;\n        //Nope.\n        else continue;\n      }\n\n      if (!flag && eventKey === hotkey.charKey)\n      {\n        result = hotkey;\n      }\n\n      dst.push(hotkey);\n    }\n\n    if (result) return result;\n    else return dst;\n  }\n\n  onKeyDown(e)\n  {\n    if (!this._enabled) return;\n\n    if (!e.repeat)\n    {\n      this.captureKeyEvent(e, false);\n\n      const result = this.findMatchingHotKey(this._cachedEvent);\n      if (result)\n      {\n        if (this._prevHotKey === result)\n        {\n          ++this._repeatCount;\n        }\n        else\n        {\n          this._prevHotKey = result;\n          this._repeatCount = 0;\n        }\n\n        result.callback();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (!this._enabled) return;\n\n    if (this.captureKeyEvent(e, true))\n    {\n      this._prevHotKey = null;\n      this._repeatCount = 0;\n    }\n  }\n\n  captureKeyEvent(e, isKeyUp=false)\n  {\n    this._cachedEvent.ctrlKey = e.ctrlKey;\n    this._cachedEvent.metaKey = e.metaKey;\n    this._cachedEvent.altKey = e.altKey;\n    this._cachedEvent.shiftKey = e.shiftKey;\n    this._cachedEvent.code = isKeyUp ? null : (e.code || null);\n    return isKeyUp && !(this._cachedEvent.ctrlKey || this._cachedEvent.metaKey || this._cachedEvent.altKey || this._cachedEvent.shiftKey);\n  }\n}\n\nexport default HotKeyManager;\n","import React from 'react';\nimport Style from './HotKeyView.css';\n\nconst AVAILABLE_HOTKEY_REFRESH_RATE = 100;\n\nclass HotKeyView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._cachedHotKeys = [];\n    this._cacheTimeout = null;\n  }\n\n  //Override\n  render()\n  {\n    const hotKeyManager = this.props.hotKeyManager;\n    const showHotKeys = !this.props.disabled && hotKeyManager.isEnabled();\n\n    if (!this._cacheTimeout && showHotKeys)\n    {\n      this._cacheTimeout = setTimeout(() => {\n        this._cacheTimeout = null;\n        this._cachedHotKeys.length = 0;\n        hotKeyManager.getCurrentlyPossibleHotKeys(this._cachedHotKeys);\n      }, AVAILABLE_HOTKEY_REFRESH_RATE);\n    }\n\n    const useCount = hotKeyManager.getCurrentHotKeyRepeatCount();\n    const currentHotKey = hotKeyManager.getCurrentHotKey();\n\n    return (\n      <div id={this.props.id}\n        className={Style.hotkey_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showHotKeys && this._cachedHotKeys.map((e, i) => {\n          const isActive = currentHotKey === e;\n          return (\n            <div key={e.localizedKeys + \":\" + i + \":\" + (isActive ? useCount : 0)}\n              className={Style.hotkey +\n                (isActive ? \" active \" : \"\")}>\n              <label className={Style.hotkey_label}>\n                {e.localizedKeys}\n              </label>\n              <label className={Style.hotkey_name}>\n                {e.name + (isActive && useCount > 1 ? \" x\" + useCount : \"\")}\n              </label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default HotKeyView;\n","class TapeContext\n{\n  constructor(inputString, infiniteLeft=false, infiniteRight=false)\n  {\n    this._tapeInput = inputString ? inputString.split('') : [];\n    this._left = infiniteLeft;\n    this._right = infiniteRight;\n\n    this._index = 0;\n  }\n\n  stepForward()\n  {\n    ++this._index;\n  }\n\n  stepBackward()\n  {\n    --this._index;\n  }\n\n  finish()\n  {\n    this._index = (this._tapeInput.length * 2);\n  }\n\n  reset()\n  {\n    this._index = -1;\n  }\n\n  stop()\n  {\n    this.finish();\n    this.reset();\n  }\n\n  changeTapeSymbol(index, symbol=\"\")\n  {\n    this._tapeInput[index] = symbol;\n  }\n\n  getTapeSourceStatesByIndex(index)\n  {\n    return [];\n  }\n\n  getTapeSymbolByIndex(index)\n  {\n    if (index < 0 || index >= this._tapeInput.length) return \"\";\n    return this._tapeInput[index] || \"\";\n  }\n\n  isTapeLeftInfinite()\n  {\n    return this._left;\n  }\n\n  isTapeRightInfinite()\n  {\n    return this._right;\n  }\n\n  setCurrentTapeIndex(index)\n  {\n    this._index = index;\n  }\n\n  getCurrentTapeIndex()\n  {\n    return this._index;\n  }\n\n  getTapeInput()\n  {\n    return this._tapeInput;\n  }\n}\n\nexport default TapeContext;\n","import Eventable from 'util/Eventable.js';\nimport { solveNFAbyStep } from 'machine/util/solveNFA.js';\n\nimport TapeContext from './TapeContext.js';\n\nclass TestTapeContext extends TapeContext\n{\n  constructor(tester, graphController, machineController)\n  {\n    super(tester.getTestString(), false, true);\n\n    this._tester = tester;\n    this._graphController = graphController;\n    this._machineController = machineController;\n  }\n\n  //Override\n  stepForward()\n  {\n    const graphController = this._graphController;\n    const machineController = this._machineController;\n    this._tester.stepForward(graphController, machineController);\n  }\n\n  //Override\n  stepBackward()\n  {\n    const graphController = this._graphController;\n    const machineController = this._machineController;\n    this._tester.stepBackward(graphController, machineController);\n  }\n\n  //Override\n  reset()\n  {\n    this._tester.resetPosition();\n  }\n\n  //Override\n  finish()\n  {\n    const graphController = this._graphController;\n    const machineController = this._machineController;\n    this._tester.runTest(graphController, machineController, false);\n  }\n\n  //Override\n  stop()\n  {\n    this._tester.stopTest();\n  }\n\n  //Override\n  changeTapeSymbol(index, symbol=\"\")\n  {\n    throw new Error(\"Operation not yet supported\");\n  }\n\n  //Override\n  getTapeSourceStatesByIndex(index)\n  {\n    if (index < 0 || index >= this._tapeInput.length) return [];\n    return this._tester.getNodesAtPosition(index);\n  }\n\n  //Override\n  getTapeSymbolByIndex(index)\n  {\n    if (index < 0 || index >= this._tapeInput.length) return [];\n    return this._tapeInput[index] || \"\";\n  }\n\n  //Override\n  setCurrentTapeIndex(index)\n  {\n    this._tester.changePosition(index);\n  }\n\n  //Override\n  getCurrentTapeIndex()\n  {\n    return this._tester.getPosition();\n  }\n}\n\nclass StringTester\n{\n  constructor()\n  {\n    this._testString = null;\n    this._testIndex = -1;\n\n    this._tapeContext = null;\n\n    //For nfa solver use\n    this._cachePath = [];\n    this._cachedResult = false;\n    this._resolve = null;\n    this._reject = null;\n\n    this.registerEvent(\"startTest\");\n    this.registerEvent(\"stepTest\");\n    this.registerEvent(\"stopTest\");\n  }\n\n  startTest(testString, graphController, machineController)\n  {\n    if (!testString) testString = \"\";\n    if (this._tapeContext) throw new Error(\"Unable to start an already running test\");\n\n    this._testString = testString;\n    this._testIndex = -1;\n    this._cachePath.length = 0;\n    this._cachedResult = false;\n    this._tapeContext = new TestTapeContext(this, graphController, machineController);\n\n    this.emit(\"startTest\", this);\n\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  stopTest()\n  {\n    if (!this._tapeContext) throw new Error(\"Unable to stop null test\");\n\n    this.emit(\"stopTest\", this);\n\n    if (!this._resolve) throw new Error(\"Must call startTest() before anything else\");\n    if (!this._reject) throw new Error(\"Must call startTest() before anything else\");\n\n    let testResult = null;\n    if (this._cachePath.length >= this._testString.length)\n    {\n      testResult = this._cachedResult;\n      this._resolve(testResult);\n    }\n    else\n    {\n      testResult = null;\n      this._reject();\n    }\n\n    this._testString = null;\n    this._testIndex = -1;\n    this._cachePath.length = 0;\n    this._cachedResult = false;\n    this._tapeContext = null;\n\n    return Promise.resolve(testResult);\n  }\n\n  runTest(graphController, machineController, thenStop=false)\n  {\n    if (!this._tapeContext) throw new Error(\"Unable to run null test\");\n\n    return new Promise((resolve, reject) => {\n      let result = false;\n      do\n      {\n        result = this.stepForward(graphController, machineController, !thenStop);\n      }\n      while (result);\n\n      resolve(this._cachedResult);\n    }).then((result) => {\n      if (thenStop) return this.stopTest();\n      else return result;\n    });\n  }\n\n  stepForward(graphController, machineController, cacheStep=true)\n  {\n    if (!this._testString || this._testString.length <= 0) return false;\n    if (this._testIndex >= this._testString.length - 1) return false;\n    ++this._testIndex;\n\n    if (this._cachePath.length <= this._testIndex)\n    {\n      //Calculate current step...\n      const nextSymbol = this._testString[this._testIndex];\n      const targets = new Set();\n      let cachedStates, cachedSymbols, checkedStates = null;\n\n      if (this._testIndex > 0 && this._testIndex >= this._cachePath.length)\n      {\n        const prevCache = this._cachePath[this._testIndex - 1];\n        cachedStates = prevCache.states.slice();\n        cachedSymbols = prevCache.symbols.slice();\n        checkedStates = prevCache.checked.slice();\n      }\n      else\n      {\n        cachedStates = [];\n        cachedSymbols = [];\n        checkedStates = [];\n      }\n\n      const fsa = machineController.getMachineBuilder().getMachine();\n      const graph = graphController.getGraph();\n      this._cachedResult = solveNFAbyStep(fsa, nextSymbol, cachedStates, cachedSymbols, checkedStates);\n\n      for(const state of cachedStates)\n      {\n        let node = machineController.getFirstGraphNodeByLabel(graph, state.state);\n\n        //Couldn't find the node that was solved for this step...\n        if (!node) throw new Error(\"Could not find node by label \\'\" + state.state + \"\\'\");\n\n        targets.add(node);\n      }\n\n      //Store current step...\n      const nextCache = {\n        targets: Array.from(targets),\n        states: cachedStates,\n        symbols: cachedSymbols,\n        checked: checkedStates\n      };\n\n      this._cachePath.push(nextCache);\n    }\n    else\n    {\n      //Go forward a previously calculated step...by doing nothing...\n    }\n\n    this.emit(\"stepTest\");\n    return true;\n  }\n\n  stepBackward(graphController, machineController)\n  {\n    if (this._testIndex <= 0) return false;\n    --this._testIndex;\n\n    //Go back a step...by doing nothing...\n    this.emit(\"stepTest\");\n    return true;\n  }\n\n  isTesting()\n  {\n    return this._testString !== null;\n  }\n\n  changePosition(position)\n  {\n    if (position >= this._cachePath.length)\n    {\n      this._testIndex = this._cachePath.length - 1;\n    }\n    else\n    {\n      if (position < 0)\n      {\n        this._testIndex = 0;\n      }\n      else if (position >= this._testString.length)\n      {\n        this._testIndex = this._testString.length - 1;\n      }\n      else\n      {\n        this._testIndex = position;\n      }\n    }\n  }\n\n  resetPosition()\n  {\n    this._testIndex = -1;\n  }\n\n  getPosition()\n  {\n    return this._testIndex;\n  }\n\n  getCurrentNodes()\n  {\n    if (this._testIndex >= 0 && this._testIndex < this._cachePath.length)\n    {\n      return this._cachePath[this._testIndex];\n    }\n    else\n    {\n      return null;\n    }\n  }\n\n  getNodesAtPosition(position)\n  {\n    if (position >= 0 && position < this._cachePath.length)\n    {\n      return this._cachePath[position].targets;\n    }\n    else\n    {\n      return null;\n    }\n  }\n\n  getTestString()\n  {\n    return this._testString;\n  }\n\n  getTapeContext()\n  {\n    return this._tapeContext;\n  }\n}\nEventable.mixin(StringTester);\n\nexport default StringTester;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport DrawerView, { DRAWER_SIDE_RIGHT, DRAWER_SIDE_BOTTOM, DRAWER_BAR_DIRECTION_VERTICAL, DRAWER_BAR_DIRECTION_HORIZONTAL } from 'experimental/drawer/DrawerView.js';\nimport ToolbarView from 'experimental/toolbar/ToolbarView.js';\nimport WorkspaceView from 'experimental/workspace/WorkspaceView.js';\nimport ViewportView from 'experimental/viewport/ViewportView.js';\nimport TooltipView, { ONESHOT_MODE } from 'experimental/tooltip/TooltipView.js';\nimport UploadDropZone from 'experimental/components/UploadDropZone.js';\n\nimport ExportPanel from 'experimental/menus/export/ExportPanel.js';\nimport OptionPanel from 'experimental/menus/option/OptionPanel.js';\n\nimport EditPane from 'experimental/EditPane.js';\nimport TapePane from 'experimental/TapePane.js';\n\nimport TestingPanel from 'experimental/panels/test/TestingPanel.js';\n\nimport ToolbarButton, {TOOLBAR_CONTAINER_TOOLBAR, TOOLBAR_CONTAINER_MENU } from 'experimental/toolbar/ToolbarButton.js';\nimport ToolbarDivider from 'experimental/toolbar/ToolbarDivider.js';\nimport ToolbarUploadButton from 'experimental/toolbar/ToolbarUploadButton.js';\nimport PageEmptyIcon from 'experimental/iconset/PageEmptyIcon.js';\nimport UndoIcon from 'experimental/iconset/UndoIcon.js';\nimport RedoIcon from 'experimental/iconset/RedoIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport BugIcon from 'experimental/iconset/BugIcon.js';\nimport WorldIcon from 'experimental/iconset/WorldIcon.js';\nimport HelpIcon from 'experimental/iconset/HelpIcon.js';\nimport SettingsIcon from 'experimental/iconset/SettingsIcon.js';\n\nimport * as UserUtil from 'experimental/UserUtil.js';\n\nimport HotKeyManager, {CTRL_KEY, ALT_KEY, SHIFT_KEY} from 'experimental/hotkey/HotKeyManager.js';\nimport HotKeyView from 'experimental/hotkey/HotKeyView.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NotificationView from 'system/notification/components/NotificationView.js';\n\nimport InputAdapter from 'system/inputadapter/InputAdapter.js';\nimport UndoManager from 'system/undomanager/UndoManager.js';\n\nimport FSAModule from 'modules/fsa/FSAModule.js';\nimport StringTester from 'experimental/panels/test/StringTester.js';\n\nconst HELP_URL = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._workspace = null;\n    this._toolbar = null;\n    this._drawer = null;\n    this._viewport = null;\n\n    //These need to be initialized before module\n    this._inputAdapter = new InputAdapter();\n    this._inputAdapter.getViewport()\n      .setMinScale(0.1)\n      .setMaxScale(10)\n      .setOffsetDamping(0.4);\n    this._undoManager = new UndoManager();\n\n    this._hotKeyManager = new HotKeyManager();\n    this._hotKeyManager.registerHotKey(\"Export to PNG\", [CTRL_KEY, 'KeyP'], () => {console.log(\"Export!\")});\n    this._hotKeyManager.registerHotKey(\"Save as JSON\", [CTRL_KEY, 'KeyS'], () => {console.log(\"Save!\")});\n    this._hotKeyManager.registerHotKey(\"New\", [CTRL_KEY, 'KeyN'], () => {console.log(\"New!\")});\n    this._hotKeyManager.registerHotKey(\"Undo\", [CTRL_KEY, 'KeyZ'], () => {console.log(\"Undo!\")});\n    this._hotKeyManager.registerHotKey(\"Redo\", [CTRL_KEY, SHIFT_KEY, 'KeyZ'], () => {console.log(\"Redo!\")});\n\n    this._module = new FSAModule(this);\n    this._tester = new StringTester();\n\n    this._init = false;\n\n    this.state = {\n      hide: false\n    };\n\n    this._mediaQuerySmallWidthList = window.matchMedia(\"only screen and (max-width: 400px)\");\n    this._mediaQuerySmallHeightList = window.matchMedia(\"only screen and (min-height: 400px)\");\n\n    //Notifications.addMessage(\"Welcome to Flap.js\");\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const workspaceDOM = this._workspace.ref;\n    this._inputAdapter.initialize(workspaceDOM);\n    this._module.initialize(this);\n    this._hotKeyManager.initialize();\n\n    this._init = true;\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._init = false;\n\n    this._hotKeyManager.destroy();\n    this._module.destroy(this);\n    this._inputAdapter.destroy();\n  }\n\n  get workspace() { return this._workspace; }\n  get viewport() { return this._inputAdapter.getViewport(); }\n  getCurrentModule() { return this._module; }\n  getInputAdapter() { return this._inputAdapter; }\n  getUndoManager() { return this._undoManager; }\n  getHotKeyManager() { return this._hotKeyManager; }\n\n  //Override\n  render()\n  {\n    if (this._init)\n    {\n      this._inputAdapter.update();\n      this._module.update(this);\n\n      //Disable hotkeys when graph is not in view\n      this._hotKeyManager.setEnabled(\n        !(this._toolbar && this._toolbar.isBarOpen()) &&\n        !(this._drawer && this._drawer.isDrawerOpen() &&\n          this._drawer.isDrawerFullscreen())\n        );\n    }\n\n    const hasSmallWidth = this._mediaQuerySmallWidthList.matches;\n    const hasSmallHeight = this._mediaQuerySmallHeightList.matches;\n    const isFullscreen = this.state.hide;\n\n    const undoManager = this._undoManager;\n    const viewport = this._inputAdapter.getViewport();\n    const inputController = this._module.getInputController();\n    const graphController = this._module.getGraphController();\n    const machineController = this._module.getMachineController();\n    const graphImporter = this._module.getGraphImporter();\n    const inputActionMode = inputController.isActionMode(graphController);\n\n    const GRAPH_RENDER_LAYER = \"graph\";\n    const GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n    const VIEWPORT_RENDER_LAYER = \"viewport\";\n    const GraphRenderer = this._module.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = this._module.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n    const ViewportRenderer = this._module.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return (\n      <div className=\"app-container\">\n\n        <ToolbarView ref={ref=>this._toolbar=ref} className=\"app-bar\"\n          menus={[ExportPanel, OptionPanel]}\n          menuProps={{currentModule: this._module}}\n          hide={isFullscreen}>\n\n          <ToolbarButton title=\"New\" icon={PageEmptyIcon}\n            onClick={() => UserUtil.userClearGraph(this, false, () => this._toolbar.closeBar())}/>\n          <ToolbarUploadButton title=\"Upload\" icon={UploadIcon} accept={graphImporter.getImportFileTypes().join(\",\")}\n            onUpload={file => {\n              graphImporter.importFile(file, this._module)\n                .catch((e) => {\n                  Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n                  console.error(e);\n                })\n                .finally(() => {\n                  this._toolbar.closeBar();\n                });\n            }}/>\n          <ToolbarButton title=\"Undo\" icon={UndoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canUndo()}\n            onClick={()=>undoManager.undo()}/>\n          <ToolbarButton title=\"Redo\" icon={RedoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canRedo()}\n            onClick={()=>undoManager.redo()}/>\n          <ToolbarButton title={I18N.toString(\"component.exporting.title\")} icon={DownloadIcon}\n            onClick={()=>this._toolbar.setCurrentMenu(0)}\n            disabled={graphController.getGraph().isEmpty()}/>\n          <ToolbarDivider/>\n          <ToolbarButton title=\"Report a Bug\" icon={BugIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Language\" icon={WorldIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Help\" icon={HelpIcon}\n            onClick={()=>window.open(HELP_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"component.options.title\")} icon={SettingsIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(1)}/>\n\n        </ToolbarView>\n\n        <DrawerView ref={ref=>this._drawer=ref} className=\"app-content\"\n          panels={this._module.getModulePanels().concat([TestingPanel])}\n          panelProps={{currentModule: this._module, app: this}}\n          side={hasSmallWidth ? DRAWER_SIDE_BOTTOM : DRAWER_SIDE_RIGHT}\n          direction={hasSmallHeight ? DRAWER_BAR_DIRECTION_VERTICAL : DRAWER_BAR_DIRECTION_HORIZONTAL}\n          hide={isFullscreen}>\n          <UploadDropZone>\n            <div className=\"viewport\">\n\n              <TooltipView mode={ONESHOT_MODE} visible={/* For the initial fade-in animation */this._init && graphController.getGraph().isEmpty()}>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n                <label>{\"If you need help, try the \\'?\\' at the top.\"}</label>\n                <label>{\"Or you can choose to do nothing.\"}</label>\n                <label>{\"I can't do anything about that.\"}</label>\n                <label>{\"You really should consider doing something though, for the sake of both of us.\"}</label>\n                <label>{\"Of course, it is your free will.\"}</label>\n                <label>{\"You do you.\"}</label>\n                <label>{\"Please do something.\"}</label>\n                <label>{\"I need my job.\"}</label>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n              </TooltipView>\n\n              <WorkspaceView ref={ref=>this._workspace=ref} viewport={viewport}>\n                {/* Graph origin crosshair */\n                  !graphController.getGraph().isEmpty() &&\n                  <React.Fragment>\n                    <line className=\"graph-ui\" x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"var(--color-viewport-back-detail)\"/>\n                    <line className=\"graph-ui\" x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"var(--color-viewport-back-detail)\"/>\n                  </React.Fragment>}\n                {/* Graph objects */\n                  GraphRenderer &&\n                  <GraphRenderer currentModule={this._module} parent={this._workspace}/>}\n                {/* Graph overlays */\n                  GraphOverlayRenderer &&\n                  <GraphOverlayRenderer currentModule={this._module} parent={this._workspace}/>}\n              </WorkspaceView>\n\n              <NotificationView notificationManager={Notifications}>\n              </NotificationView>\n\n              <HotKeyView hotKeyManager={this._hotKeyManager}/>\n\n              <ViewportView ref={ref=>this._viewport=ref}>\n                {<EditPane app={this} module={this._module} viewport={viewport}/>}\n                {<TapePane app={this} module={this._module} viewport={viewport} tester={this._tester}/>}\n              </ViewportView>\n\n            </div>\n          </UploadDropZone>\n        </DrawerView>\n\n      </div>\n    );\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n"],"sourceRoot":""}