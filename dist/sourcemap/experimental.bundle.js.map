{"version":3,"sources":["webpack:///./src/app/experimental/components/IconButton.js","webpack:///./src/app/experimental/iconset/ExpandDownIcon.js","webpack:///./src/app/experimental/drawer/DrawerView.js","webpack:///./src/app/experimental/toolbar/ToolbarButton.js","webpack:///./src/app/experimental/iconset/MenuIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarView.js","webpack:///./src/app/experimental/workspace/WorkspaceView.js","webpack:///./src/app/experimental/viewport/ViewportView.js","webpack:///./src/app/experimental/tooltip/TooltipView.js","webpack:///./src/app/experimental/iconset/UploadIcon.js","webpack:///./src/app/experimental/components/UploadDropZone.js","webpack:///./src/app/experimental/menus/export/ExportPanel.js","webpack:///./src/app/experimental/iconset/TinyDownIcon.js","webpack:///./src/app/experimental/iconset/TinyUpIcon.js","webpack:///./src/app/experimental/panels/PanelSection.js","webpack:///./src/app/experimental/menus/option/OptionPanel.js","webpack:///./src/app/experimental/iconset/EditPencilIcon.js","webpack:///./src/app/experimental/iconset/MoveIcon.js","webpack:///./src/app/experimental/widgets/ModeSelectTray.js","webpack:///./src/app/experimental/UserUtil.js","webpack:///./src/app/experimental/iconset/TrashCanDetailedIcon.js","webpack:///./src/app/experimental/widgets/TrashCanWidget.js","webpack:///./src/app/experimental/components/IconStateButton.js","webpack:///./src/app/experimental/iconset/FullscreenIcon.js","webpack:///./src/app/experimental/iconset/FullscreenExitIcon.js","webpack:///./src/app/experimental/widgets/FullscreenWidget.js","webpack:///./src/app/experimental/iconset/ZoomInIcon.js","webpack:///./src/app/experimental/iconset/ZoomOutIcon.js","webpack:///./src/app/experimental/widgets/ZoomWidget.js","webpack:///./src/app/experimental/iconset/PinpointIcon.js","webpack:///./src/app/experimental/widgets/FocusCenterWidget.js","webpack:///./src/app/experimental/widgets/NavbarWidget.js","webpack:///./src/app/experimental/EditPane.js","webpack:///./src/app/experimental/iconset/DownArrowIcon.js","webpack:///./src/app/experimental/widgets/TapeContext.js","webpack:///./src/app/experimental/widgets/TapeWidget.js","webpack:///./src/app/experimental/TapePane.js","webpack:///./src/app/experimental/toolbar/ToolbarDivider.js","webpack:///./src/app/experimental/components/IconUploadButton.js","webpack:///./src/app/experimental/toolbar/ToolbarUploadButton.js","webpack:///./src/app/experimental/iconset/PageEmptyIcon.js","webpack:///./src/app/experimental/iconset/UndoIcon.js","webpack:///./src/app/experimental/iconset/RedoIcon.js","webpack:///./src/app/experimental/iconset/DownloadIcon.js","webpack:///./src/app/experimental/iconset/BugIcon.js","webpack:///./src/app/experimental/iconset/WorldIcon.js","webpack:///./src/app/experimental/iconset/HelpIcon.js","webpack:///./src/app/experimental/iconset/SettingsIcon.js","webpack:///./src/app/experimental/hotkey/HotKeyManager.js","webpack:///./src/app/experimental/hotkey/HotKeyView.js","webpack:///./src/app/experimental/App.js"],"names":["IconButton","props","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","React","Component","title","react_default","a","createElement","id","className","Style","icon_button","style","disabled","onClick","children","Icon","ExpandDownIcon_classCallCheck","ExpandDownIcon_possibleConstructorReturn","ExpandDownIcon_getPrototypeOf","xmlns","width","height","viewBox","d","DRAWER_WIDTH_CSSVAR","DRAWER_MIN_WIDTH","DrawerView","_this","DrawerView_classCallCheck","DrawerView_getPrototypeOf","ref","drawerElement","state","open","tabIndex","_handlingGrab","_handlingResize","_isfull","_hasintent","_prevWidth","_resizeTimeout","_resizeEndTimeout","_sideways","onDrawerHandleGrab","bind","DrawerView_assertThisInitialized","onDrawerHandleRelease","onDrawerHandleMove","onDrawerExpand","onWindowResize","window","addEventListener","removeEventListener","fullscreen","arguments","length","undefined","callback","setDrawerWidth","setState","prev","panels","value","hasIntent","drawerSide","side","drawerOffsetY","getBoundingClientRect","top","documentSize","document","documentElement","clientHeight","clientWidth","minSize","getCSSDrawerWidth","setProperty","Error","toggleDrawer","e","_this2","setTimeout","clearTimeout","isDrawerSideBottom","result","clientY","clientX","Math","abs","_this3","drawerPanels","drawerDirection","direction","shouldDrawerHide","hide","isDrawerOpen","shouldDrawerBarSideways","showDrawerHandle","shouldDrawerOpenFull","shouldHideDrawerContent","showDrawerTabs","app_content","app_viewport","app_drawer","drawer_handle","onMouseDown","drawer_content","drawer_content_bar","experimental_components_IconButton","drawer_tab_expander","ExpandDownIcon","map","i","key","drawer_tab","isCurrentTab","setCurrentTab","drawer_content_panel_container","drawer_content_panel","ComponentClass","TITLE","current","drawer_panel_container","_extends","drawer_panel","panelProps","drawer","parseInt","getComputedStyle","getPropertyValue","replace","ToolbarButton","ToolbarButton_classCallCheck","ToolbarButton_possibleConstructorReturn","ToolbarButton_getPrototypeOf","IconClass","icon","toolbar_button","MenuIcon_classCallCheck","MenuIcon_possibleConstructorReturn","MenuIcon_getPrototypeOf","TOOLBAR_DEFAULT_MENU_INDEX","ToolbarView","ToolbarView_classCallCheck","ToolbarView_getPrototypeOf","toolbarElement","menuIndex","onBarExpand","ToolbarView_assertThisInitialized","menus","setCurrentMenu","toggleBar","Children","child","containerOnly","toolbarMenus","toolbarMenuIndex","ToolbarMenu","showCustomToolbarMenu","hasButtons","count","isBarOpen","shouldBarHide","showBarExpander","app_bar","bar_menu","menu_container","ToolbarView_extends","menuProps","toolbar","menu_button_container","renderMenuButtons","bar_toolbar","toolbar_title","toolbar_button_container","renderToolbarButtons","toolbar_expander","MenuIcon","WorkspaceView","WorkspaceView_classCallCheck","WorkspaceView_possibleConstructorReturn","WorkspaceView_getPrototypeOf","viewport","offsetX","getOffsetX","offsetY","getOffsetY","viewSize","max","Number","MIN_VALUE","getScale","halfViewSize","transform","ViewportView","ViewportView_classCallCheck","ViewportView_possibleConstructorReturn","ViewportView_getPrototypeOf","index","Fragment","view_container","TooltipView","TooltipView_classCallCheck","TooltipView_possibleConstructorReturn","TooltipView_getPrototypeOf","_tooltipTimeout","initial","mode","visible","nextIndex","floor","random","setTooltipIndex","tooltipIndex","updateTooltip","tooltip_container","opacity","UploadIcon_classCallCheck","UploadIcon_possibleConstructorReturn","UploadIcon_getPrototypeOf","UploadDropZone","UploadDropZone_classCallCheck","UploadDropZone_getPrototypeOf","_waiting","onDragEnter","UploadDropZone_assertThisInitialized","onDragLeave","onFileDrop","preventDefault","stopPropagation","dataTransfer","fileBlob","items","dataItems","file","kind","getAsFile","dataFiles","files","clear","clearData","isWaitingForFile","upload_container","UploadIcon","upload_icon","only","ExportPanel","ExportPanel_classCallCheck","ExportPanel_possibleConstructorReturn","ExportPanel_getPrototypeOf","exporter","doesSupportFile","getIconClass","getFileType","panel_button","getLabel","filename","currentModule","getMachineController","getMachineName","exportToFile","module","graphExporters","getGraphExporters","imageExporters","getImageExporters","panel_container","panel_title","I18N","toString","panel_content","renderExporterButton","TinyDownIcon_classCallCheck","TinyDownIcon_possibleConstructorReturn","TinyDownIcon_getPrototypeOf","TinyUpIcon_classCallCheck","TinyUpIcon_possibleConstructorReturn","TinyUpIcon_getPrototypeOf","PanelSection","PanelSection_classCallCheck","PanelSection_getPrototypeOf","PanelSection_assertThisInitialized","isOpen","isDisabled","section_container","section_header","TinyUpIcon","TinyDownIcon","section_content_container","section_content","OptionPanel","OptionPanel_classCallCheck","OptionPanel_possibleConstructorReturn","OptionPanel_getPrototypeOf","experimental_panels_PanelSection","confirm","LocalSave","terminate","clearStorage","alert","EditPencilIcon_classCallCheck","EditPencilIcon_possibleConstructorReturn","EditPencilIcon_getPrototypeOf","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","ModeSelectTray","ModeSelectTray_classCallCheck","ModeSelectTray_getPrototypeOf","onChange","ModeSelectTray_assertThisInitialized","newValue","tray_container","tray_button","EditPencilIcon","MoveIcon","userClearGraph","app","graphOnly","getCurrentModule","getGraphController","getGraph","getUndoManager","setMachineName","TrashCanDetailedIcon_classCallCheck","TrashCanDetailedIcon_possibleConstructorReturn","TrashCanDetailedIcon_getPrototypeOf","TrashCanWidget","TrashCanWidget_classCallCheck","TrashCanWidget_getPrototypeOf","forceActive","_doubleTapTimeout","onMouseEnter","TrashCanWidget_assertThisInitialized","onMouseLeave","onAnyMouseDownNotConsumed","inputController","setTrashMode","target","graphController","inputAdapter","getInputAdapter","active","isTrashMode","isEmpty","isUsingTouch","isDragging","trash_container","TrashCanDetailedIcon","IconStateButton","IconStateButton_classCallCheck","IconStateButton_getPrototypeOf","IconStateButton_assertThisInitialized","prevIndex","FullscreenIcon_classCallCheck","FullscreenIcon_possibleConstructorReturn","FullscreenIcon_getPrototypeOf","FullscreenExitIcon_classCallCheck","FullscreenExitIcon_possibleConstructorReturn","FullscreenExitIcon_getPrototypeOf","FullscreenWidget","FullscreenWidget_classCallCheck","FullscreenWidget_possibleConstructorReturn","FullscreenWidget_getPrototypeOf","components_IconStateButton","fullscreen_button","FullscreenIcon","FullscreenExitIcon","ZoomInIcon_classCallCheck","ZoomInIcon_possibleConstructorReturn","ZoomInIcon_getPrototypeOf","ZoomOutIcon_classCallCheck","ZoomOutIcon_possibleConstructorReturn","ZoomOutIcon_getPrototypeOf","ZoomWidget","ZoomWidget_classCallCheck","ZoomWidget_getPrototypeOf","onZoomIn","ZoomWidget_assertThisInitialized","onZoomOut","viewScale","addScale","toFixed","zoom_container","zoom_button","ZoomInIcon","ZoomOutIcon","zoom_label","PinpointIcon_classCallCheck","PinpointIcon_possibleConstructorReturn","PinpointIcon_getPrototypeOf","FocusCenterWidget","FocusCenterWidget_classCallCheck","FocusCenterWidget_getPrototypeOf","FocusCenterWidget_assertThisInitialized","setOffset","center_focus_button","PinpointIcon","NavbarWidget","NavbarWidget_classCallCheck","NavbarWidget_possibleConstructorReturn","NavbarWidget_getPrototypeOf","getViewport","navbar_container","experimental_widgets_FullscreenWidget","navbar_widget","experimental_widgets_ZoomWidget","navbar_widget_container","experimental_widgets_FocusCenterWidget","EditPane","EditPane_classCallCheck","EditPane_possibleConstructorReturn","EditPane_getPrototypeOf","getInputController","machineController","inputActionMode","isActionMode","LabelEditor","getLabelEditor","labelEditorElement","screen","_workspace","experimental_widgets_NavbarWidget","view_widget","right","bottom","left","experimental_widgets_ModeSelectTray","modeIndex","setInputScheme","experimental_widgets_TrashCanWidget","DownArrowIcon_classCallCheck","DownArrowIcon_possibleConstructorReturn","DownArrowIcon_getPrototypeOf","TapeContext","inputString","infiniteLeft","infiniteRight","TapeContext_classCallCheck","_tapeInput","split","_tapeFroms","Array","_left","_right","_currentIndex","symbol","sourceStates","TapeWidget","TapeWidget_classCallCheck","TapeWidget_possibleConstructorReturn","TapeWidget_getPrototypeOf","counter","_tapeContext","isTapeLeftInfinite","DownArrowIcon","getTapeInput","activeRead","currentIndex","getTapeSourceStatesByIndex","sourceState","isTapeRightInfinite","TapePane","TapePane_classCallCheck","TapePane_possibleConstructorReturn","TapePane_getPrototypeOf","experimental_widgets_TapeWidget","ToolbarDivider","ToolbarDivider_classCallCheck","ToolbarDivider_possibleConstructorReturn","ToolbarDivider_getPrototypeOf","divider","IconUploadButton","IconUploadButton_classCallCheck","IconUploadButton_getPrototypeOf","onFileUpload","IconUploadButton_assertThisInitialized","onUpload","upload_button","type","name","upload_input","accept","ToolbarUploadButton","ToolbarUploadButton_classCallCheck","ToolbarUploadButton_possibleConstructorReturn","ToolbarUploadButton_getPrototypeOf","experimental_components_IconUploadButton","ToolbarButtonStyle","PageEmptyIcon_classCallCheck","PageEmptyIcon_possibleConstructorReturn","PageEmptyIcon_getPrototypeOf","UndoIcon_classCallCheck","UndoIcon_possibleConstructorReturn","UndoIcon_getPrototypeOf","RedoIcon_classCallCheck","RedoIcon_possibleConstructorReturn","RedoIcon_getPrototypeOf","DownloadIcon_classCallCheck","DownloadIcon_possibleConstructorReturn","DownloadIcon_getPrototypeOf","BugIcon_classCallCheck","BugIcon_possibleConstructorReturn","BugIcon_getPrototypeOf","WorldIcon_classCallCheck","WorldIcon_possibleConstructorReturn","WorldIcon_getPrototypeOf","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","SettingsIcon_classCallCheck","SettingsIcon_possibleConstructorReturn","SettingsIcon_getPrototypeOf","CTRL_KEY","SHIFT_KEY","HotKeyManager","HotKeyManager_classCallCheck","_hotkeys","_cachedEvent","ctrlKey","metaKey","altKey","shiftKey","code","_prevHotKey","_repeatCount","_enabled","onKeyDown","onKeyUp","keys","isArray","ctrlIndex","indexOf","splice","metaIndex","altIndex","shiftIndex","charKey","ctrl","alt","shift","localizedKeys","push","enabled","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","hotkey","err","return","dst","event","eventCtrl","eventAlt","eventShift","eventKey","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","flag","repeat","captureKeyEvent","findMatchingHotKey","isKeyUp","HotKeyView","HotKeyView_classCallCheck","HotKeyView_possibleConstructorReturn","HotKeyView_getPrototypeOf","_cachedHotKeys","_cacheTimeout","hotKeyManager","showHotKeys","isEnabled","getCurrentlyPossibleHotKeys","useCount","getCurrentHotKeyRepeatCount","currentHotKey","getCurrentHotKey","hotkey_container","isActive","hotkey_label","hotkey_name","App","App_classCallCheck","App_getPrototypeOf","_toolbar","_drawer","_viewport","_inputAdapter","InputAdapter","setMinScale","setMaxScale","setOffsetDamping","_undoManager","UndoManager","_hotKeyManager","registerHotKey","console","log","_module","FSAModule","App_assertThisInitialized","_init","_mediaQuerySmallWidthList","matchMedia","_mediaQuerySmallHeightList","workspaceDOM","initialize","destroy","update","setEnabled","isDrawerFullscreen","hasSmallWidth","matches","hasSmallHeight","isFullscreen","undoManager","graphImporter","getGraphImporter","GraphRenderer","getRenderer","GraphOverlayRenderer","experimental_toolbar_ToolbarView","experimental_toolbar_ToolbarButton","PageEmptyIcon","UserUtil","closeBar","UndoIcon","canUndo","undo","RedoIcon","canRedo","redo","toolbar_ToolbarUploadButton","getImportFileTypes","join","importFile","catch","Notifications","addErrorMessage","error","finally","DownloadIcon","experimental_toolbar_ToolbarDivider","BugIcon","WorldIcon","HelpIcon","SettingsIcon","experimental_drawer_DrawerView","getModulePanels","experimental_components_UploadDropZone","experimental_tooltip_TooltipView","experimental_workspace_WorkspaceView","x1","y1","x2","y2","stroke","parent","NotificationView","notificationManager","experimental_hotkey_HotKeyView","experimental_viewport_ViewportView","experimental_EditPane","experimental_TapePane","hot"],"mappings":"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","file":"experimental.bundle.cb931bd1e463214a7cfb.js","sourcesContent":["import React from 'react';\nimport Style from './IconButton.css';\n\nconst ICON_BUTTON_SHOW_LABEL = false;\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n\n    const showButtonLabel = ICON_BUTTON_SHOW_LABEL && title;\n\n    return (\n      <button id={this.props.id}\n        className={Style.icon_button +\n          (showButtonLabel ? \" icon-button-show-label \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        {this.props.children}\n        <label>{title}</label>\n      </button>\n    );\n  }\n}\nexport default IconButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './DrawerView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ExpandDownIcon from 'experimental/iconset/ExpandDownIcon.js';\n\nconst DRAWER_WIDTH_CSSVAR = \"--drawer-width\";\nconst DRAWER_HANDLE_DRAG_OFFSET = 6;\nconst DRAWER_HANDLE_MIN_SIZE_BUFFER = 32;\nconst DRAWER_HANDLE_MAX_SIZE_BUFFER = 128;\nconst DRAWER_MIN_WIDTH = 200;\nconst DRAWER_RESIZE_REFRESH_RATE = 200;\nconst DRAWER_HANDLE_CUSTOM_SNAP_WIDTH = 300;\n\nconst DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE = true;\nconst DRAWER_SHOULD_HIDE_TAB_LIST = false;\n\nexport const DRAWER_WIDTH_TYPE_FULL = \"full\";\nexport const DRAWER_WIDTH_TYPE_MIN = \"min\";\nexport const DRAWER_SIDE_BOTTOM = \"bottom\";\nexport const DRAWER_SIDE_RIGHT = \"right\";\nexport const DRAWER_BAR_DIRECTION_VERTICAL = \"vertical\";\nexport const DRAWER_BAR_DIRECTION_HORIZONTAL = \"horizontal\";\n\nclass DrawerView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.drawerElement = null;\n\n    this.state = {\n      open: false,\n      tabIndex: 0\n    };\n\n    //When drawer is currently changing size intentfully\n    this._handlingGrab = false;\n    this._handlingResize = false;\n    //Whether the drawer should fullscreen\n    this._isfull = false;\n    //Whether to restore drawer width after fullscreen\n    this._hasintent = false;\n    //Save intentful drawer width for restore after fullscreen\n    this._prevWidth = DRAWER_MIN_WIDTH;\n    //Used to manage resize updates\n    this._resizeTimeout = null;\n    this._resizeEndTimeout = null;\n    //Changed in render() to reflect current render state.\n    this._sideways = false;\n\n    this.onDrawerHandleGrab = this.onDrawerHandleGrab.bind(this);\n    this.onDrawerHandleRelease = this.onDrawerHandleRelease.bind(this);\n    this.onDrawerHandleMove = this.onDrawerHandleMove.bind(this);\n    this.onDrawerExpand = this.onDrawerExpand.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    window.addEventListener('resize', this.onWindowResize, false);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  openDrawer(fullscreen=false, callback=null)\n  {\n    if (fullscreen)\n    {\n      this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n    }\n\n    if (!this.state.open)\n    {\n      this.setState({ open: true }, callback);\n    }\n  }\n\n  closeDrawer(callback=null)\n  {\n    if (this.state.open)\n    {\n      this.setState({ open: false }, callback);\n    }\n  }\n\n  toggleDrawer(callback=null)\n  {\n    this.setState((prev, props) => {\n      return { open: !prev.open };\n    }, callback);\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.open;\n  }\n\n  isDrawerFullscreen()\n  {\n    return this._isfull;\n  }\n\n  setCurrentTab(tabIndex)\n  {\n    if (!this.props.panels) return;\n    if (tabIndex >= this.props.panels.length) tabIndex = 0;\n    if (this.state.open && this.state.tabIndex === tabIndex)\n    {\n      //Toggle fullscreen\n      if (this._isfull)\n      {\n        this.setDrawerWidth(this._prevWidth);\n      }\n      else\n      {\n        this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n      }\n    }\n    else\n    {\n      //Open and set tab index\n      this.setState({open: true, tabIndex: tabIndex});\n    }\n  }\n\n  getCurrentTabIndex()\n  {\n    return this.state.tabIndex;\n  }\n\n  isCurrentTab(tabIndex)\n  {\n    return this.state.tabIndex === tabIndex;\n  }\n\n  setDrawerWidth(value, hasIntent=true)\n  {\n    if (!this.drawerElement || !this.ref) return;\n\n    this._hasintent = hasIntent;\n\n    const drawerSide = this.props.side;\n    const drawerOffsetY = this.ref.getBoundingClientRect().top;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight - drawerOffsetY:\n      document.documentElement.clientWidth;\n    const minSize = DRAWER_MIN_WIDTH;\n\n    if (typeof value === 'string')\n    {\n      switch(value)\n      {\n        case DRAWER_WIDTH_TYPE_FULL:\n          this._isfull = true;\n          this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n          break;\n        case DRAWER_WIDTH_TYPE_MIN:\n          this._isfull = false;\n          this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, minSize + \"px\");\n          break;\n        default:\n          throw new Error(\"Trying to set drawer width to invalid string\");\n      }\n    }\n    else if (typeof value === 'number')\n    {\n      if (value < minSize + DRAWER_HANDLE_MIN_SIZE_BUFFER) value = minSize;\n      if (value > documentSize - DRAWER_HANDLE_MAX_SIZE_BUFFER)\n      {\n        value = documentSize;\n        this._isfull = true;\n      }\n      else\n      {\n        this._isfull = false;\n      }\n      this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, value + \"px\");\n    }\n    else\n    {\n      throw new Error(\"Trying to set drawer width to unknown value\");\n    }\n  }\n\n  onDrawerExpand()\n  {\n    //Don't close, just small-ify.\n    if (this.state.open && this._isfull)\n    {\n      this.setDrawerWidth(this._prevWidth);\n\n      //If did not make any changes...\n      if (this._isfull)\n      {\n        //Make it do normal stuff.\n        this.toggleDrawer();\n      }\n    }\n    else\n    {\n      this.toggleDrawer();\n    }\n  }\n\n  onWindowResize(e)\n  {\n    if (!this._resizeTimeout)\n    {\n      this._resizeTimeout = setTimeout(() => {\n        this._resizeTimeout = null;\n\n        //Handle resize ends (more like debouncing)\n        if (this._resizeEndTimeout) clearTimeout(this._resizeEndTimeout);\n        else this._handlingResize = true;\n        this._resizeEndTimeout = setTimeout(() => {\n          this._resizeEndTimeout = null;\n          this._handlingResize = false;\n        }, 500);\n\n        if (!this.drawerElement || !this.ref) return;\n\n        const drawerSide = this.props.side;\n        const drawerOffsetY = this.ref.getBoundingClientRect().top;\n        const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n        const documentSize = isDrawerSideBottom ?\n          document.documentElement.clientHeight - drawerOffsetY:\n          document.documentElement.clientWidth;\n\n        if (this._isfull)\n        {\n          if (this._hasintent) return;\n          if (this._prevWidth + DRAWER_HANDLE_MAX_SIZE_BUFFER < documentSize)\n          {\n            this._isfull = false;\n            this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, this._prevWidth + \"px\");\n          }\n        }\n        else\n        {\n          const drawerSize = getCSSDrawerWidth(this.drawerElement);\n          if (drawerSize + DRAWER_HANDLE_MAX_SIZE_BUFFER > documentSize)\n          {\n            this._isfull = true;\n            this._hasintent = false;\n          }\n        }\n      }, DRAWER_RESIZE_REFRESH_RATE);\n    }\n  }\n\n  onDrawerHandleGrab(e)\n  {\n    if (!this._handlingGrab)\n    {\n      this._handlingGrab = true;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n      document.addEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.addEventListener(\"mousemove\", this.onDrawerHandleMove);\n    }\n    else\n    {\n      this.onDrawerHandleRelease(e);\n    }\n  }\n\n  onDrawerHandleRelease(e)\n  {\n    if (this._handlingGrab)\n    {\n      document.removeEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.removeEventListener(\"mousemove\", this.onDrawerHandleMove);\n      this._handlingGrab = false;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n    }\n  }\n\n  onDrawerHandleMove(e)\n  {\n    const drawerSide = this.props.side;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight :\n      document.documentElement.clientWidth;\n    const pointerValue = isDrawerSideBottom ? e.clientY : e.clientX;\n\n    let result = documentSize - pointerValue + DRAWER_HANDLE_DRAG_OFFSET;\n    //Try snapping to some widths...\n    if (!isDrawerSideBottom && Math.abs(result - DRAWER_HANDLE_CUSTOM_SNAP_WIDTH) < DRAWER_HANDLE_MIN_SIZE_BUFFER)\n    {\n      result = DRAWER_HANDLE_CUSTOM_SNAP_WIDTH;\n    }\n    this.setDrawerWidth(result);\n  }\n\n  //Override\n  render()\n  {\n    const drawerPanels = this.props.panels;\n    const drawerSide = this.props.side || DRAWER_SIDE_RIGHT;\n    const drawerDirection = this.props.direction || DRAWER_BAR_DIRECTION_HORIZONTAL;\n    const shouldDrawerHide = this.props.hide || false;\n\n    const isDrawerOpen = this.state.open;\n    //Assumes that parent container has flex and flex-direction: column for bottom, row for right.\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const shouldDrawerBarSideways = !isDrawerSideBottom && (!isDrawerOpen || drawerDirection === DRAWER_BAR_DIRECTION_VERTICAL);\n    const showDrawerHandle = isDrawerOpen || this._handlingGrab;\n    const shouldDrawerOpenFull = this._isfull;\n    const shouldHideDrawerContent = (DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE && (this._handlingGrab || this._handlingResize)) || !isDrawerOpen;\n    const showDrawerTabs = isDrawerOpen || !DRAWER_SHOULD_HIDE_TAB_LIST;\n\n    //Used to handle sideways logic\n    this._sideways = shouldDrawerBarSideways;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_content +\n        (isDrawerSideBottom ? \" column \" : \"\") +\n        (\" \" + this.props.className)}\n      style={this.props.style}>\n        <div className={Style.app_viewport}>\n          {this.props.children}\n        </div>\n        <div ref={ref=>this.drawerElement=ref}\n        className={\n          Style.app_drawer +\n          (isDrawerOpen ? \" open \" : \"\") +\n          (shouldDrawerBarSideways ? \" drawer-bar-sideways \" : \"\") +\n          (isDrawerSideBottom ? \" drawer-side-bottom \" : \"\") +\n          (shouldDrawerOpenFull ? \" full \" : \"\") +\n          (shouldHideDrawerContent ? \" hide-content \" : \"\") +\n          (shouldDrawerHide ? \" hide \" : \"\")}>\n          <div className={Style.drawer_handle + (showDrawerHandle ? \" show \" : \"\")} onMouseDown={this.onDrawerHandleGrab}>\n            <span>{\"||\"}</span>\n          </div>\n          <div className={Style.drawer_content}>\n            <nav className={Style.drawer_content_bar}>\n              <IconButton className={Style.drawer_tab_expander} onClick={this.onDrawerExpand}>\n                <ExpandDownIcon/>\n              </IconButton>\n              {showDrawerTabs && drawerPanels && drawerPanels.map((e, i) => {\n                if (!e) return null;\n                if (!e['TITLE']) return null;\n                const title = e['TITLE'];\n                return (\n                  <a key={title + \":\" + i}\n                  className={Style.drawer_tab +\n                    (this.isCurrentTab(i) ? \" active \" : \"\")}\n                  onClick={() => this.setCurrentTab(i)}>\n                    <label>{title}</label>\n                  </a>\n                );\n              })}\n            </nav>\n            <div className={Style.drawer_content_panel_container}>\n              <div className={Style.drawer_content_panel}>\n                {drawerPanels && drawerPanels.map((e, i) => {\n                  if (!e) return null;\n                  const ComponentClass = e;\n                  const title = e.TITLE || \"\";\n                  const current = this.isCurrentTab(i);\n                  return (\n                    <div key={title + \":\" + i} className={Style.drawer_panel_container +\n                      (!current ? \" hide \" : \"\")}>\n                      <ComponentClass className={Style.drawer_panel}\n                        {...this.props.panelProps}\n                        drawer={this.ref}/>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default DrawerView;\n\nfunction getCSSDrawerWidth(drawerElement)\n{\n  return parseInt(window.getComputedStyle(drawerElement).getPropertyValue(DRAWER_WIDTH_CSSVAR).replace(/\\D/g, ''));\n}\n","import React from 'react';\nimport Style from './ToolbarButton.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nexport const TOOLBAR_CONTAINER_MENU = \"menu\";\nexport const TOOLBAR_CONTAINER_TOOLBAR = \"toolbar\";\nexport const TOOLBAR_CONTAINER_ALL = \"all\";\n\nclass ToolbarButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconButton id={this.props.id}\n        className={Style.toolbar_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n}\n\nexport default ToolbarButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarView.css';\n\nimport {TOOLBAR_CONTAINER_MENU, TOOLBAR_CONTAINER_TOOLBAR} from './ToolbarButton.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport MenuIcon from 'experimental/iconset/MenuIcon.js';\n\nconst TOOLBAR_BUTTON_BUFFER = 150;\nconst TOOLBAR_ALLOW_MENU_BAR = true;\nconst TOOLBAR_DEFAULT_MENU_INDEX = -1;\n\nclass ToolbarView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.toolbarElement = null;\n\n    this.state = {\n      open: false,\n      menuIndex: TOOLBAR_DEFAULT_MENU_INDEX\n    };\n\n    this.onBarExpand = this.onBarExpand.bind(this);\n  }\n\n  openBar(callback=null)\n  {\n    if (!this.state.open)\n    {\n      //Open it, but also reset menu...\n      this.setState({ open: true, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  closeBar(callback=null)\n  {\n    if (this.state.open)\n    {\n      //Close it, but also reset menu...\n      this.setState({ open: false, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  toggleBar(callback=null)\n  {\n    //Toggle it, but also reset menu...\n    this.setState((prev, props) => {\n      return { open: !prev.open, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX };\n    }, callback);\n  }\n\n  isBarOpen()\n  {\n    return this.state.open;\n  }\n\n  setCurrentMenu(menuIndex)\n  {\n    if (!this.props.menus) return;\n    if (menuIndex >= this.props.menus.length) menuIndex = TOOLBAR_DEFAULT_MENU_INDEX;\n\n    //Open and set tab index\n    this.setState({open: true, menuIndex: menuIndex});\n  }\n\n  getCurrentMenuIndex()\n  {\n    return this.state.menuIndex;\n  }\n\n  isCurrentMenu(menuIndex)\n  {\n    return this.state.menuIndex === menuIndex;\n  }\n\n  onBarExpand(e)\n  {\n    if (this.state.open && this.state.menuIndex  >= 0)\n    {\n      this.setCurrentMenu(TOOLBAR_DEFAULT_MENU_INDEX);\n    }\n    else\n    {\n      this.toggleBar();\n    }\n  }\n\n  renderMenuButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_TOOLBAR) return child;\n    });\n  }\n\n  renderToolbarButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_MENU) return child;\n    });\n  }\n\n  //Override\n  render()\n  {\n    const toolbarMenus = this.props.menus;\n    const toolbarMenuIndex = this.state.menuIndex;\n    const ToolbarMenu = toolbarMenuIndex >= 0 ? toolbarMenus[toolbarMenuIndex] : null;\n    const showCustomToolbarMenu = ToolbarMenu != null;\n\n    const hasButtons = React.Children.count(this.props.children) > 0;\n    const isBarOpen = this.state.open;\n    const shouldBarHide = this.props.hide || false;\n    const showBarExpander = isBarOpen || (hasButtons && TOOLBAR_ALLOW_MENU_BAR);\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_bar +\n        (isBarOpen ? \" open \" : \"\") +\n        (shouldBarHide ? \" hide \" : \"\") +\n        \" \" + this.props.className}\n      style={this.props.style}>\n        <div className={Style.bar_menu}>\n          {showCustomToolbarMenu ?\n            <div className={Style.menu_container}>\n              <ToolbarMenu {...this.props.menuProps} toolbar={this.ref}/>\n            </div> :\n            <div className={Style.menu_button_container}>\n              {this.renderMenuButtons(this.props.children)}\n            </div>}\n        </div>\n        <div ref={ref=>this.toolbarElement=ref} className={Style.bar_toolbar}>\n          <div className={Style.toolbar_title}>\n            <h1>Untitled</h1>\n          </div>\n          <div className={Style.toolbar_button_container}>\n            {this.renderToolbarButtons(this.props.children)}\n          </div>\n          {showBarExpander &&\n          <IconButton className={Style.toolbar_expander} onClick={this.onBarExpand}>\n            <MenuIcon/>\n          </IconButton>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ToolbarView;\n","import React from 'react';\nimport Style from './WorkspaceView.css';\n\nconst DEFAULT_WORKSPACE_SIZE = 300;\n\nclass WorkspaceView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const viewSize = DEFAULT_WORKSPACE_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfViewSize = viewSize / 2;\n    return (\n      <svg ref={ref=>this.ref=ref} id={this.props.id}\n        className={\"workspace-container\" +\n          \" \" + this.props.className}\n        style={this.props.style}\n        viewBox={(-halfViewSize) +\n          \" \" + (-halfViewSize) +\n          \" \" + viewSize +\n          \" \" + viewSize}\n        xmlns=\"http://www.w3.org/2000/svg\">\n        <g className=\"workspace-content\" transform={\"translate(\" + offsetX + \" \" + offsetY + \")\"}>\n          {this.props.children}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default WorkspaceView;\n","import React from 'react';\nimport Style from './ViewportView.css';\n\nclass ViewportView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: 0\n    };\n  }\n\n  setViewIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getViewIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <React.Fragment>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <div id={this.props.id}\n              className={Style.view_container +\n                (this.state.index === i ? \" active \" : \"\") +\n                \" \" + this.props.className}\n              style={this.props.style}>\n              {child}\n            </div>\n          );\n        })}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ViewportView;\n","import React from 'react';\nimport Style from './TooltipView.css';\n\nconst TOOLTIP_WAIT_TIME = 30000;\n\nexport const RANDOM_MODE = \"random\";\nexport const SEQUENTIAL_MODE = \"sequential\";\nexport const ONESHOT_MODE = \"oneshot\";\n\nclass TooltipView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._tooltipTimeout = null;\n\n    this.state = {\n      index: props.initial || 0\n    };\n  }\n\n  setTooltipIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getTooltipIndex()\n  {\n    return this.state.index;\n  }\n\n  updateTooltip()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    this._tooltipTimeout = null;\n\n    if (visible)\n    {\n      const count = React.Children.count(this.props.children);\n      let nextIndex = this.state.index + 1;\n      if (mode === RANDOM_MODE)\n      {\n        nextIndex = Math.floor(Math.random() * count);\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        if (nextIndex >= count) nextIndex = count - 1;\n      }\n      else\n      {\n        if (nextIndex >= count) nextIndex = 0;\n      }\n      this.setTooltipIndex(nextIndex);\n    }\n    else\n    {\n      if (mode === RANDOM_MODE)\n      {\n        //Pick a random index to start at.\n        this.setTooltipIndex(Math.floor(Math.random() * React.Children.count(this.props.children)));\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        //Skip to the end.\n        this.setTooltipIndex(React.Children.count(this.props.children) - 1);\n      }\n      else\n      {\n        //Go back to the beginning.\n        this.setTooltipIndex(0);\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    const tooltipIndex = this.state.index;\n\n    if (visible && !this._tooltipTimeout)\n    {\n      this._tooltipTimeout = setTimeout(() => {\n        this.updateTooltip();\n      }, TOOLTIP_WAIT_TIME);\n    }\n\n    return (\n      <div id={this.props.id}\n        className={Style.tooltip_container +\n          (visible ? \" visible \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <label style={{opacity: tooltipIndex === i ? 1 : 0}}>\n              {child}\n            </label>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TooltipView;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './UploadDropZone.css';\n\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\n\nclass UploadDropZone extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this._waiting = false;\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Upload drop zone\n    this.ref.addEventListener(\"drop\", this.onFileDrop);\n    this.ref.addEventListener(\"dragover\", this.onDragEnter);\n    this.ref.addEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.addEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.addEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.ref.removeEventListener(\"drop\", this.onFileDrop);\n    this.ref.removeEventListener(\"dragover\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.removeEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  onDragEnter(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Change state\n    this._waiting = true;\n  }\n\n  onDragLeave(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n  }\n\n  onFileDrop(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n\n    const dataTransfer = e.dataTransfer;\n    let fileBlob = null;\n    if (dataTransfer.items)\n    {\n      const dataItems = dataTransfer.items;\n      const length = dataItems.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = dataItems[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const dataFiles = dataTransfer.files;\n      const length = dataFiles.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = dataFiles[0];\n      }\n    }\n\n    if (this.props.onFileDrop)\n    {\n      //NOTE: fileBlob could be null\n      this.props.onFileDrop(fileBlob);\n    }\n\n    if (dataTransfer.items)\n    {\n      dataTransfer.items.clear();\n    }\n    else\n    {\n      dataTransfer.clearData();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isWaitingForFile = this._waiting;\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.upload_container +\n          (isWaitingForFile ? \" waiting \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <UploadIcon className={Style.upload_icon}/>\n        {React.Children.only(this.props.children)}\n      </div>\n    );\n  }\n}\n\nexport default UploadDropZone;\n","import React from 'react';\nimport Style from './ExportPanel.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass ExportPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n    const IconClass = exporter.getIconClass();\n    return (\n      <IconButton key={exporter.getFileType()}\n        className={Style.panel_button}\n        title={exporter.getLabel()}\n        onClick={() => {\n          const machineController = this.props.currentModule.getMachineController();\n          const filename = machineController.getMachineName();\n          exporter.exportToFile(filename, currentModule);\n        }}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphExporters = module.getGraphExporters();\n    const imageExporters = module.getImageExporters();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {graphExporters.map(e => this.renderExporterButton(e))}\n          {imageExporters.map(e => this.renderExporterButton(e))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExportPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 10l5 5 5-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14l5-5 5 5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './PanelSection.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport TinyDownIcon from 'experimental/iconset/TinyDownIcon.js';\nimport TinyUpIcon from 'experimental/iconset/TinyUpIcon.js';\n\nclass PanelSection extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: props.initial || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    })\n  }\n\n  //Override\n  render()\n  {\n    const isOpen = this.state.open;\n    const isDisabled = this.props.disabled || React.Children.count(this.props.children) <= 0;\n    const title = this.props.title;\n    return (\n      <section id={this.props.id}\n        className={Style.section_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.section_header}\n          title={title}\n          disabled={isDisabled}\n          onClick={this.onClick}>\n          {!isOpen ? <TinyDownIcon/> : <TinyUpIcon/>}\n        </IconButton>\n        <div className={Style.section_content_container +\n          (isOpen ? \" open \" : \"\")}>\n          <div className={Style.section_content}>\n            {this.props.children}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PanelSection;\n","import React from 'react';\nimport Style from './OptionPanel.css';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nclass OptionPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.options.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n\n          <PanelSection title={\"Customize stuff\"}>\n            <p>If only there was cool stuff here...</p>\n          </PanelSection>\n\n          <PanelSection title={\"What?\"}>\n          </PanelSection>\n\n          <button onClick={() => {\n            if (window.confirm(\"This will clear any cached or saved data. Are you sure you want to continue?\"))\n            {\n              try { LocalSave.terminate(); }\n              catch(e){/* Ignore if it fails. */}\n              LocalSave.clearStorage();\n              \n              window.alert(\"It's done! Restart to apply changes!\");\n            }\n          }}>\n            {\"Get out of Experimental Mode\"}\n          </button>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OptionPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ModeSelectTray.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport EditPencilIcon from 'experimental/iconset/EditPencilIcon.js';\nimport MoveIcon from 'experimental/iconset/MoveIcon.js';\n\nclass ModeSelectTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(newValue)\n  {\n    if (this.props.onChange)\n    {\n      this.props.onChange(newValue);\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode || 0;\n    const onChange = this.props.onChange;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tray_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.tray_button +\n          (mode === 0 ? \" active \" : \"\")}\n          onClick={() => this.onChange(0)}\n          title={I18N.toString(\"cursor.actionmode\")}>\n          <EditPencilIcon/>\n        </IconButton>\n        <IconButton className={Style.tray_button +\n          (mode === 1 ? \" active \" : \"\")}\n          onClick={() => this.onChange(1)}\n          title={I18N.toString(\"cursor.movemode\")}>\n          <MoveIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\nexport default ModeSelectTray;\n","export function userClearGraph(app, graphOnly=false, callback=null)\n{\n  if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n  {\n    const module = app.getCurrentModule();\n    module.getGraphController().getGraph().clear();\n    if (!graphOnly)\n    {\n      app.getUndoManager().clear();\n      module.getMachineController().setMachineName(null);\n    }\n    if (callback) callback();\n  }\n}\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 26 26\">\n        <path d=\"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z \"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TrashCanWidget.css';\n\nimport { userClearGraph } from 'experimental/UserUtil.js';\n\nimport TrashCanDetailedIcon from 'experimental/iconset/TrashCanDetailedIcon.js';\n\nconst DOUBLE_TAP_TIME = 250;\n\nclass TrashCanWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      forceActive: false\n    };\n\n    this._doubleTapTimeout = null;\n\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onClick = this.onClick.bind(this);\n\n    //HACK: This is kinda a hack to lose trash mode focus...\n    this.onAnyMouseDownNotConsumed = this.onAnyMouseDownNotConsumed.bind(this);\n  }\n\n  onMouseEnter(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(true);\n  }\n\n  onMouseLeave(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(false);\n  }\n\n  onClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._doubleTapTimeout)\n    {\n      //This is a double tap!\n      clearTimeout(this._doubleTapTimeout);\n      this._doubleTapTimeout = null;\n      this.setState({forceActive: false});\n\n      userClearGraph(this.props.app, true);\n      this.props.inputController.setTrashMode(false);\n    }\n    else\n    {\n      //This is a single tap!\n      this.setState((prev, props) => {\n        const result = !prev.forceActive;\n        props.inputController.setTrashMode(result);\n        this._doubleTapTimeout = setTimeout(() => {\n          this._doubleTapTimeout = null;\n        }, DOUBLE_TAP_TIME);\n\n        if (result)\n        {\n          document.documentElement.addEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n        }\n\n        return {\n          forceActive: result\n        };\n      });\n    }\n  }\n\n  onAnyMouseDownNotConsumed(e)\n  {\n    if (this.state.forceActive && this.ref !== e.target)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      document.documentElement.removeEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n\n      this.props.inputController.setTrashMode(false);\n      this.setState({forceActive: false});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    const active = inputController.isTrashMode();\n    const hide = graphController.getGraph().isEmpty() || (inputAdapter.isUsingTouch() && inputAdapter.isDragging());\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.trash_container +\n          (active ? \" active \" : \"\") +\n          (hide ? \" hide \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onClick={this.onClick}>\n        <TrashCanDetailedIcon/>\n      </div>\n    );\n  }\n}\n\nexport default TrashCanWidget;\n","import React from 'react';\nimport IconButton from './IconButton.js';\n\nclass IconStateButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: props.initial || 0\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const prevIndex = this.state.index;\n    this.setState((prev, props) => {\n      const count = React.Children.count(props.children);\n      let nextIndex = prev.index + 1;\n      if (nextIndex >= count)\n      {\n        nextIndex = 0;\n      }\n      return {index: nextIndex};\n    }, () => {\n      if (this.props.onClick)\n      {\n        this.props.onClick(e, prevIndex);\n      }\n    });\n  }\n\n  setStateIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getStateIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    const child = React.Children.map(this.props.children, (child, i) => {\n      if (i === this.state.index) return child;\n    })[0];\n\n    return (\n      <IconButton id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.onClick}>\n        {child}\n      </IconButton>\n    );\n  }\n}\nexport default IconStateButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FullscreenWidget.css';\n\nimport IconStateButton from 'experimental/components/IconStateButton.js';\nimport FullscreenIcon from 'experimental/iconset/FullscreenIcon.js';\nimport FullscreenExitIcon from 'experimental/iconset/FullscreenExitIcon.js';\n\nclass FullscreenWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n\n    return (\n      <IconStateButton id={this.props.id}\n        className={Style.fullscreen_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Fullscreen Mode\"}\n        onClick={(e, i) => app.setState({hide: (i === 0)})}>\n        <FullscreenIcon/>\n        <FullscreenExitIcon/>\n      </IconStateButton>\n    );\n  }\n}\n\nexport default FullscreenWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ZoomWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ZoomInIcon from 'experimental/iconset/ZoomInIcon.js';\nimport ZoomOutIcon from 'experimental/iconset/ZoomOutIcon.js';\n\nclass ZoomWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onZoomIn = this.onZoomIn.bind(this);\n    this.onZoomOut = this.onZoomOut.bind(this);\n  }\n\n  onZoomIn(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = -viewport.getScale() * 0.4;\n    viewport.addScale(viewScale);\n  }\n\n  onZoomOut(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = viewport.getScale() * 0.75;\n    viewport.addScale(viewScale);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const viewScale = \"x\" + (1 / (viewport.getScale() || 1)).toFixed(2);\n\n    return (\n      <div id={this.props.id}\n        className={Style.zoom_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.zoom_button} title=\"Zoom In\" onClick={this.onZoomIn}>\n          <ZoomInIcon/>\n        </IconButton>\n        <IconButton className={Style.zoom_button} title=\"Zoom Out\" onClick={this.onZoomOut}>\n          <ZoomOutIcon/>\n        </IconButton>\n        <label className={Style.zoom_label}>{viewScale}</label>\n      </div>\n    );\n  }\n}\n\nexport default ZoomWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FocusCenterWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport PinpointIcon from 'experimental/iconset/PinpointIcon.js';\n\nconst OFFSET_EPSILON = 0.1;\n\nclass FocusCenterWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const viewport = this.props.viewport;\n    viewport.setOffset(0, 0);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.center_focus_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Center Workspace\"}\n        disabled={Math.abs(viewport.getOffsetX()) < OFFSET_EPSILON &&\n          Math.abs(viewport.getOffsetY()) < OFFSET_EPSILON} onClick={this.onClick}>\n        <PinpointIcon/>\n      </IconButton>\n    );\n  }\n}\n\nexport default FocusCenterWidget;\n","import React from 'react';\nimport Style from './NavbarWidget.css';\n\nimport FullscreenWidget from 'experimental/widgets/FullscreenWidget.js';\nimport ZoomWidget from 'experimental/widgets/ZoomWidget.js';\nimport FocusCenterWidget from 'experimental/widgets/FocusCenterWidget.js';\n\nclass NavbarWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const viewport = app.getInputAdapter().getViewport();\n\n    return (\n      <div id={this.props.id}\n        className={Style.navbar_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <FullscreenWidget className={Style.navbar_widget} app={app}/>\n        <ZoomWidget className={Style.navbar_widget_container} viewport={viewport}/>\n        <FocusCenterWidget className={Style.navbar_widget} viewport={viewport}/>\n      </div>\n    );\n  }\n}\n\nexport default NavbarWidget;\n","import React from 'react';\nimport Style from './viewport/ViewportView.css';\n\nimport ModeSelectTray from './widgets/ModeSelectTray.js';\nimport TrashCanWidget from './widgets/TrashCanWidget.js';\nimport NavbarWidget from './widgets/NavbarWidget.js';\n\nclass EditPane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const module = this.props.module;\n    const viewport = this.props.viewport;\n    const inputController = module.getInputController();\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n    const inputActionMode = inputController.isActionMode(graphController);\n    const LabelEditor = module.getLabelEditor();\n\n    return (\n      <div id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}>\n        { LabelEditor &&\n          <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n          inputController={inputController}\n          graphController={graphController}\n          machineController={machineController}\n          screen={app._workspace ? app._workspace.ref : null}/> }\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0, left: 0}}>\n          <ModeSelectTray mode={inputActionMode ? 0 : 1} onChange={modeIndex => inputController.setInputScheme(modeIndex === 0)}/>\n        </div>\n        <div className={Style.view_widget} style={{bottom: 0, right: 0}}>\n          <TrashCanWidget app={app} inputController={inputController} graphController={graphController}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditPane;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","class TapeContext\n{\n  constructor(inputString, infiniteLeft=false, infiniteRight=false)\n  {\n    this._tapeInput = inputString.split('');\n    this._tapeFroms = new Array(this._tapeInput.length);\n    this._left = infiniteLeft;\n    this._right = infiniteRight;\n\n    this._currentIndex = 0;\n  }\n\n  setTapeSymbol(index, symbol=\"\")\n  {\n    this._tapeInput[index] = symbol;\n  }\n\n  setTapeSourceStates(index, sourceStates=[])\n  {\n    this._tapeFroms[index] = sourceStates;\n  }\n\n  getTapeSourceStatesByIndex(index)\n  {\n    if (index < 0 || index >= this._tapeFroms.length) return [];\n    return this._tapeFroms[index] || [];\n  }\n\n  getTapeSymbolByIndex(index)\n  {\n    if (index < 0 || index >= this._tapeInput.length) return \"\";\n    return this._tapeInput[index] || \"\";\n  }\n\n  isTapeLeftInfinite()\n  {\n    return this._left;\n  }\n\n  isTapeRightInfinite()\n  {\n    return this._right;\n  }\n\n  setCurrentTapeIndex(index)\n  {\n    this._currentIndex = index;\n  }\n\n  getCurrentTapeIndex()\n  {\n    return this._currentIndex;\n  }\n\n  getTapeInput()\n  {\n    return this._tapeInput;\n  }\n}\n\nexport default TapeContext;\n","import React from 'react';\nimport Style from './TapeWidget.css';\n\nimport DownArrowIcon from 'experimental/iconset/DownArrowIcon.js';\n\nimport TapeContext from './TapeContext.js';\n\nconst TAPE_INFINITE_LEFT = true;\nconst TAPE_INFINITE_RIGHT = true;\n\nclass TapeWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.counter = 0;\n    this.index = 0;\n\n    this._tapeContext = new TapeContext(\"01001_\");\n  }\n\n  //Override\n  render()\n  {\n    if (++this.counter >= 100)\n    {\n      this.counter = 0;\n      this.index += 1;\n    }\n\n    const showTransitionStates = true;\n\n    return (\n      <div id={this.props.id}\n        className={\"tape-row\" +\n        \" \" + this.props.className}\n        style={this.props.style}>\n\n        {TAPE_INFINITE_LEFT && this._tapeContext.isTapeLeftInfinite() &&\n          <div className=\"tape-row-entry infinite\">\n            <span className=\"tape-row-states\"></span>\n            <label className=\"tape-row-symbol\">{\"...\"}</label>\n          </div>}\n\n        <DownArrowIcon\n          className=\"tape-pointer\"\n          style={{left: Math.floor((this.index - 1) / 2) + \"em\"}}/>\n\n        {this._tapeContext.getTapeInput().map((e, i) => {\n          let active = false;\n          let activeRead = false;\n          const currentIndex = Math.floor(this.index / 2);\n          if (currentIndex === i)\n          {\n            //It's the current index...\n            active = this.index % 2 === 1;\n            activeRead = this.index % 2 === 0;\n          }\n          else if (currentIndex === i + 1)\n          {\n            //It's the previous index...\n            active = this.index % 2 === 0;\n          }\n\n          const sourceStates = this._tapeContext.getTapeSourceStatesByIndex(i);\n          return (\n            <div key={e + \":\" + i} className={\"tape-row-entry\" +\n              (active ? \" active \" : \"\") +\n              (activeRead ? \" active-read \" : \"\")}>\n              {showTransitionStates &&\n                <span className=\"tape-row-states\">\n                  {sourceStates.map(sourceState => {\n                    return (\n                      <label>{sourceState}</label>\n                    );\n                  })}\n                </span>}\n              <label className=\"tape-row-symbol\">\n                {e}\n              </label>\n            </div>\n          );\n        })}\n\n        {TAPE_INFINITE_RIGHT && this._tapeContext.isTapeRightInfinite() &&\n          <div className=\"tape-row-entry infinite\">\n            <span className=\"tape-row-states\"></span>\n            <label className=\"tape-row-symbol\">{\"...\"}</label>\n          </div>}\n      </div>\n    );\n  }\n}\n\nexport default TapeWidget;\n","import React from 'react';\nimport Style from 'experimental/viewport/ViewportView.css';\n\nimport TapeWidget from 'experimental/widgets/TapeWidget.js';\nimport NavbarWidget from 'experimental/widgets/NavbarWidget.js';\n\nclass TapePane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const module = this.props.module;\n    const viewport = this.props.viewport;\n    const inputController = module.getInputController();\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}>\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0}}>\n          <TapeWidget/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapePane;\n","import React from 'react';\nimport Style from './ToolbarDivider.css';\n\nclass ToolbarDivider extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.divider + \" \" + this.props.className}\n        style={this.props.style}>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarDivider;\n","import React from 'react';\nimport Style from './IconUploadButton.css';\n\nimport IconButton from './IconButton.js';\n\nclass IconUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onFileUpload = this.onFileUpload.bind(this);\n  }\n\n  onFileUpload(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      if (this.props.onUpload) this.props.onUpload(files[0]);\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <IconButton id={this.props.id}\n        className={Style.upload_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}>\n        <input type=\"file\" name=\"import\"\n          className={Style.upload_input}\n          accept={this.props.accept}\n          onChange={this.onFileUpload}/>\n        {this.props.children}\n      </IconButton>\n    );\n  }\n}\n\nexport default IconUploadButton;\n","import React from 'react';\n\nimport ToolbarButtonStyle from './ToolbarButton.css';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nclass ToolbarUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconUploadButton id={this.props.id}\n        className={ToolbarButtonStyle.toolbar_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        accept={this.props.accept}\n        onUpload={this.props.onUpload}>\n        <IconClass/>\n      </IconUploadButton>\n    );\n  }\n}\n\nexport default ToolbarUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"}/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 20 20\">\n        <path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","export const CTRL_KEY = 'Control';\nexport const META_KEY = 'Meta';\nexport const ALT_KEY = 'Alt';\nexport const SHIFT_KEY = 'Shift';\n//NOTE: For more keys, refer to http://keycode.info/\n\nclass HotKeyManager\n{\n  constructor()\n  {\n    this._hotkeys = [];\n    this._cachedEvent = {\n      ctrlKey: false,\n      metaKey: false,\n      altKey: false,\n      shiftKey: false,\n      code: null\n    };\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._enabled = false;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  initialize()\n  {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n\n    this._enabled = true;\n  }\n\n  destroy()\n  {\n    this._enabled = false;\n\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  registerHotKey(name, keys, callback)\n  {\n    if (!Array.isArray(keys)) throw new Error(\"Must be an array of key codes\");\n    const ctrlIndex = keys.indexOf(CTRL_KEY);\n    if (ctrlIndex >= 0) keys.splice(ctrlIndex, 1);\n    const metaIndex = keys.indexOf(META_KEY);\n    if (metaIndex >= 0) keys.splice(metaIndex, 1);\n    const altIndex = keys.indexOf(ALT_KEY);\n    if (altIndex >= 0) keys.splice(altIndex, 1);\n    const shiftIndex = keys.indexOf(SHIFT_KEY);\n    if (shiftIndex >= 0) keys.splice(shiftIndex, 1);\n    if (keys.length != 1) throw new Error(\"Multiple key operations not supported\");\n    const charKey = keys[0];\n\n    const ctrl = ctrlIndex >= 0 || metaIndex >= 0;\n    const alt = altIndex >= 0;\n    const shift = shiftIndex >= 0;\n\n    const result = {\n      name: name,\n      localizedKeys: (ctrl ? \"Ctrl + \" : \"\") +\n        (alt ? \"Alt + \" : \"\") +\n        (shift ? \"Shift + \" : \"\") +\n        charKey,\n      charKey: charKey,\n      ctrlKey: ctrl,\n      altKey: alt,\n      shiftKey: shift,\n      callback: callback\n    };\n\n    this._hotkeys.push(result);\n  }\n\n  setEnabled(enabled)\n  {\n    this._enabled = enabled;\n  }\n\n  isEnabled()\n  {\n    return this._enabled;\n  }\n\n  findMatchingHotKey(e)\n  {\n    for(const hotkey of this._hotkeys)\n    {\n      if (hotkey.ctrlKey !== (e.ctrlKey || e.metaKey)) continue;\n      if (hotkey.altKey !== e.altKey) continue;\n      if (hotkey.shiftKey !== e.shiftKey) continue;\n      if (hotkey.charKey !== e.code) continue;\n      return hotkey;\n    }\n    return null;\n  }\n\n  getCurrentHotKey()\n  {\n    return this._prevHotKey;\n  }\n\n  getCurrentHotKeyRepeatCount()\n  {\n    return this._repeatCount;\n  }\n\n  getCurrentlyPossibleHotKeys(dst=[])\n  {\n    const event = this._cachedEvent;\n    const eventCtrl = event.ctrlKey || event.metaKey;\n    const eventAlt = event.altKey;\n    const eventShift = event.shiftKey;\n    if (!eventCtrl && !eventAlt && !eventShift) return dst;\n    const eventKey = event.code;\n\n    let result = null;\n    for(const hotkey of this._hotkeys)\n    {\n      let flag = false;\n      if (eventCtrl ^ hotkey.ctrlKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventCtrl) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventAlt ^ hotkey.altKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventAlt) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventShift ^ hotkey.shiftKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventShift) flag = true;\n        //Nope.\n        else continue;\n      }\n\n      if (!flag && eventKey === hotkey.charKey)\n      {\n        result = hotkey;\n      }\n\n      dst.push(hotkey);\n    }\n\n    if (result) return result;\n    else return dst;\n  }\n\n  onKeyDown(e)\n  {\n    if (!this._enabled) return;\n\n    if (!e.repeat)\n    {\n      this.captureKeyEvent(e, false);\n\n      const result = this.findMatchingHotKey(this._cachedEvent);\n      if (result)\n      {\n        if (this._prevHotKey === result)\n        {\n          ++this._repeatCount;\n        }\n        else\n        {\n          this._prevHotKey = result;\n          this._repeatCount = 0;\n        }\n\n        result.callback();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (!this._enabled) return;\n\n    if (this.captureKeyEvent(e, true))\n    {\n      this._prevHotKey = null;\n      this._repeatCount = 0;\n    }\n  }\n\n  captureKeyEvent(e, isKeyUp=false)\n  {\n    this._cachedEvent.ctrlKey = e.ctrlKey;\n    this._cachedEvent.metaKey = e.metaKey;\n    this._cachedEvent.altKey = e.altKey;\n    this._cachedEvent.shiftKey = e.shiftKey;\n    this._cachedEvent.code = isKeyUp ? null : (e.code || null);\n    return isKeyUp && !(this._cachedEvent.ctrlKey || this._cachedEvent.metaKey || this._cachedEvent.altKey || this._cachedEvent.shiftKey);\n  }\n}\n\nexport default HotKeyManager;\n","import React from 'react';\nimport Style from './HotKeyView.css';\n\nconst AVAILABLE_HOTKEY_REFRESH_RATE = 100;\n\nclass HotKeyView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._cachedHotKeys = [];\n    this._cacheTimeout = null;\n  }\n\n  //Override\n  render()\n  {\n    const hotKeyManager = this.props.hotKeyManager;\n    const showHotKeys = !this.props.disabled && hotKeyManager.isEnabled();\n\n    if (!this._cacheTimeout && showHotKeys)\n    {\n      this._cacheTimeout = setTimeout(() => {\n        this._cacheTimeout = null;\n        this._cachedHotKeys.length = 0;\n        hotKeyManager.getCurrentlyPossibleHotKeys(this._cachedHotKeys);\n      }, AVAILABLE_HOTKEY_REFRESH_RATE);\n    }\n\n    const useCount = hotKeyManager.getCurrentHotKeyRepeatCount();\n    const currentHotKey = hotKeyManager.getCurrentHotKey();\n\n    return (\n      <div id={this.props.id}\n        className={Style.hotkey_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showHotKeys && this._cachedHotKeys.map((e, i) => {\n          const isActive = currentHotKey === e;\n          return (\n            <div key={e.localizedKeys + \":\" + i + \":\" + (isActive ? useCount : 0)}\n              className={Style.hotkey +\n                (isActive ? \" active \" : \"\")}>\n              <label className={Style.hotkey_label}>\n                {e.localizedKeys}\n              </label>\n              <label className={Style.hotkey_name}>\n                {e.name + (isActive && useCount > 1 ? \" x\" + useCount : \"\")}\n              </label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default HotKeyView;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport DrawerView, { DRAWER_SIDE_RIGHT, DRAWER_SIDE_BOTTOM, DRAWER_BAR_DIRECTION_VERTICAL, DRAWER_BAR_DIRECTION_HORIZONTAL } from 'experimental/drawer/DrawerView.js';\nimport ToolbarView from 'experimental/toolbar/ToolbarView.js';\nimport WorkspaceView from 'experimental/workspace/WorkspaceView.js';\nimport ViewportView from 'experimental/viewport/ViewportView.js';\nimport TooltipView, { ONESHOT_MODE } from 'experimental/tooltip/TooltipView.js';\nimport UploadDropZone from 'experimental/components/UploadDropZone.js';\n\nimport ExportPanel from 'experimental/menus/export/ExportPanel.js';\nimport OptionPanel from 'experimental/menus/option/OptionPanel.js';\n\nimport EditPane from 'experimental/EditPane.js';\nimport TapePane from 'experimental/TapePane.js';\n\nimport ToolbarButton, {TOOLBAR_CONTAINER_TOOLBAR, TOOLBAR_CONTAINER_MENU } from 'experimental/toolbar/ToolbarButton.js';\nimport ToolbarDivider from 'experimental/toolbar/ToolbarDivider.js';\nimport ToolbarUploadButton from 'experimental/toolbar/ToolbarUploadButton.js';\nimport PageEmptyIcon from 'experimental/iconset/PageEmptyIcon.js';\nimport UndoIcon from 'experimental/iconset/UndoIcon.js';\nimport RedoIcon from 'experimental/iconset/RedoIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport BugIcon from 'experimental/iconset/BugIcon.js';\nimport WorldIcon from 'experimental/iconset/WorldIcon.js';\nimport HelpIcon from 'experimental/iconset/HelpIcon.js';\nimport SettingsIcon from 'experimental/iconset/SettingsIcon.js';\n\nimport * as UserUtil from 'experimental/UserUtil.js';\n\nimport HotKeyManager, {CTRL_KEY, ALT_KEY, SHIFT_KEY} from 'experimental/hotkey/HotKeyManager.js';\nimport HotKeyView from 'experimental/hotkey/HotKeyView.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NotificationView from 'system/notification/components/NotificationView.js';\n\nimport InputAdapter from 'system/inputadapter/InputAdapter.js';\nimport UndoManager from 'system/undomanager/UndoManager.js';\n\nimport FSAModule from 'modules/fsa/FSAModule.js';\n\nconst HELP_URL = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._workspace = null;\n    this._toolbar = null;\n    this._drawer = null;\n    this._viewport = null;\n\n    //These need to be initialized before module\n    this._inputAdapter = new InputAdapter();\n    this._inputAdapter.getViewport()\n      .setMinScale(0.1)\n      .setMaxScale(10)\n      .setOffsetDamping(0.4);\n    this._undoManager = new UndoManager();\n\n    this._hotKeyManager = new HotKeyManager();\n    this._hotKeyManager.registerHotKey(\"Export to PNG\", [CTRL_KEY, 'KeyP'], () => {console.log(\"Export!\")});\n    this._hotKeyManager.registerHotKey(\"Save as JSON\", [CTRL_KEY, 'KeyS'], () => {console.log(\"Save!\")});\n    this._hotKeyManager.registerHotKey(\"New\", [CTRL_KEY, 'KeyN'], () => {console.log(\"New!\")});\n    this._hotKeyManager.registerHotKey(\"Undo\", [CTRL_KEY, 'KeyZ'], () => {console.log(\"Undo!\")});\n    this._hotKeyManager.registerHotKey(\"Redo\", [CTRL_KEY, SHIFT_KEY, 'KeyZ'], () => {console.log(\"Redo!\")});\n\n    this._module = new FSAModule(this);\n\n    this._init = false;\n\n    this.state = {\n      hide: false\n    };\n\n    this._mediaQuerySmallWidthList = window.matchMedia(\"only screen and (max-width: 400px)\");\n    this._mediaQuerySmallHeightList = window.matchMedia(\"only screen and (min-height: 400px)\");\n\n    //Notifications.addMessage(\"Welcome to Flap.js\");\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const workspaceDOM = this._workspace.ref;\n    this._inputAdapter.initialize(workspaceDOM);\n    this._module.initialize(this);\n    this._hotKeyManager.initialize();\n\n    this._init = true;\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._init = false;\n\n    this._hotKeyManager.destroy();\n    this._module.destroy(this);\n    this._inputAdapter.destroy();\n  }\n\n  get workspace() { return this._workspace; }\n  get viewport() { return this._inputAdapter.getViewport(); }\n  getCurrentModule() { return this._module; }\n  getInputAdapter() { return this._inputAdapter; }\n  getUndoManager() { return this._undoManager; }\n  getHotKeyManager() { return this._hotKeyManager; }\n\n  //Override\n  render()\n  {\n    if (this._init)\n    {\n      this._inputAdapter.update();\n      this._module.update(this);\n\n      //Disable hotkeys when graph is not in view\n      this._hotKeyManager.setEnabled(\n        !(this._toolbar && this._toolbar.isBarOpen()) &&\n        !(this._drawer && this._drawer.isDrawerOpen() &&\n          this._drawer.isDrawerFullscreen())\n        );\n    }\n\n    const hasSmallWidth = this._mediaQuerySmallWidthList.matches;\n    const hasSmallHeight = this._mediaQuerySmallHeightList.matches;\n    const isFullscreen = this.state.hide;\n\n    const undoManager = this._undoManager;\n    const viewport = this._inputAdapter.getViewport();\n    const inputController = this._module.getInputController();\n    const graphController = this._module.getGraphController();\n    const machineController = this._module.getMachineController();\n    const graphImporter = this._module.getGraphImporter();\n    const inputActionMode = inputController.isActionMode(graphController);\n\n    const GRAPH_RENDER_LAYER = \"graph\";\n    const GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n    const VIEWPORT_RENDER_LAYER = \"viewport\";\n    const GraphRenderer = this._module.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = this._module.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n    const ViewportRenderer = this._module.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return (\n      <div className=\"app-container\">\n\n        <ToolbarView ref={ref=>this._toolbar=ref} className=\"app-bar\"\n          menus={[ExportPanel, OptionPanel]}\n          menuProps={{currentModule: this._module}}\n          hide={isFullscreen}>\n\n          <ToolbarButton title=\"New\" icon={PageEmptyIcon}\n            onClick={() => UserUtil.userClearGraph(this, false, () => this._toolbar.closeBar())}/>\n          <ToolbarButton title=\"Undo\" icon={UndoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canUndo()}\n            onClick={()=>undoManager.undo()}/>\n          <ToolbarButton title=\"Redo\" icon={RedoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canRedo()}\n            onClick={()=>undoManager.redo()}/>\n          <ToolbarUploadButton title=\"Upload\" icon={UploadIcon} accept={graphImporter.getImportFileTypes().join(\",\")}\n            onUpload={file => {\n              graphImporter.importFile(file, this._module)\n                .catch((e) => {\n                  Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n                  console.error(e);\n                })\n                .finally(() => {\n                  this._toolbar.closeBar();\n                });\n            }}/>\n          <ToolbarButton title={I18N.toString(\"component.exporting.title\")} icon={DownloadIcon}\n            onClick={()=>this._toolbar.setCurrentMenu(0)}\n            disabled={graphController.getGraph().isEmpty()}/>\n          <ToolbarDivider/>\n          <ToolbarButton title=\"Report a Bug\" icon={BugIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Language\" icon={WorldIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Help\" icon={HelpIcon}\n            onClick={()=>window.open(HELP_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"component.options.title\")} icon={SettingsIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(1)}/>\n\n        </ToolbarView>\n\n        <DrawerView ref={ref=>this._drawer=ref} className=\"app-content\"\n          panels={this._module.getModulePanels()}\n          panelProps={{currentModule: this._module}}\n          side={hasSmallWidth ? DRAWER_SIDE_BOTTOM : DRAWER_SIDE_RIGHT}\n          direction={hasSmallHeight ? DRAWER_BAR_DIRECTION_VERTICAL : DRAWER_BAR_DIRECTION_HORIZONTAL}\n          hide={isFullscreen}>\n          <UploadDropZone>\n            <div className=\"viewport\">\n\n              <TooltipView mode={ONESHOT_MODE} visible={/* For the initial fade-in animation */this._init && graphController.getGraph().isEmpty()}>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n                <label>{\"If you need help, try the \\'?\\' at the top.\"}</label>\n                <label>{\"Or you can choose to do nothing.\"}</label>\n                <label>{\"I can't do anything about that.\"}</label>\n                <label>{\"You really should consider doing something though, for the sake of both of us.\"}</label>\n                <label>{\"Of course, it is your free will.\"}</label>\n                <label>{\"You do you.\"}</label>\n                <label>{\"Please do something.\"}</label>\n                <label>{\"I need my job.\"}</label>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n              </TooltipView>\n\n              <WorkspaceView ref={ref=>this._workspace=ref} viewport={viewport}>\n                {/* Graph origin crosshair */\n                  !graphController.getGraph().isEmpty() &&\n                  <React.Fragment>\n                    <line className=\"graph-ui\" x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"var(--color-viewport-back-detail)\"/>\n                    <line className=\"graph-ui\" x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"var(--color-viewport-back-detail)\"/>\n                  </React.Fragment>}\n                {/* Graph objects */\n                  GraphRenderer &&\n                  <GraphRenderer currentModule={this._module} parent={this._workspace}/>}\n                {/* Graph overlays */\n                  GraphOverlayRenderer &&\n                  <GraphOverlayRenderer currentModule={this._module} parent={this._workspace}/>}\n              </WorkspaceView>\n\n              <NotificationView notificationManager={Notifications}>\n              </NotificationView>\n\n              <HotKeyView hotKeyManager={this._hotKeyManager}/>\n\n              <ViewportView ref={ref=>this._viewport=ref}>\n                <EditPane app={this} module={this._module} viewport={viewport}/>\n                <TapePane app={this} module={this._module} viewport={viewport}/>\n              </ViewportView>\n\n            </div>\n          </UploadDropZone>\n        </DrawerView>\n\n      </div>\n    );\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n"],"sourceRoot":""}