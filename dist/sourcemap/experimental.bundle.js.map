{"version":3,"sources":["webpack:///./src/app/graph/parser/NodalGraphParser.js","webpack:///./src/app/modules/default/DefaultGraphExporter.js","webpack:///./src/app/modules/default/GraphPicker.js","webpack:///./src/app/modules/default/DefaultInputController.js","webpack:///./src/app/modules/default/DefaultGraphLabeler.js","webpack:///./src/app/modules/default/DefaultGraphController.js","webpack:///./src/app/modules/default/DefaultMachineController.js","webpack:///./src/app/modules/default/DefaultPanel.js","webpack:///./src/app/graph/renderer/GraphNodeRenderer.js","webpack:///./src/app/graph/renderer/QuadraticEdgeRenderer.js","webpack:///./src/app/modules/default/DefaultGraphRenderer.js","webpack:///./src/app/modules/default/DefaultGraphOverlayRenderer.js","webpack:///./src/app/modules/default/DefaultViewportRenderer.js","webpack:///./src/app/modules/default/DefaultLabelEditor.js","webpack:///./src/app/modules/default/DefaultModule.js","webpack:///./src/app/experimental/components/IconButton.js","webpack:///./src/app/experimental/iconset/ExpandDownIcon.js","webpack:///./src/app/experimental/drawer/DrawerView.js","webpack:///./src/app/experimental/toolbar/ToolbarButton.js","webpack:///./src/app/experimental/toolbar/ToolbarTitle.js","webpack:///./src/app/experimental/iconset/MenuIcon.js","webpack:///./src/app/experimental/toolbar/ToolbarView.js","webpack:///./src/app/experimental/workspace/WorkspaceView.js","webpack:///./src/app/experimental/viewport/ViewportView.js","webpack:///./src/app/experimental/tooltip/TooltipView.js","webpack:///./src/app/experimental/iconset/UploadIcon.js","webpack:///./src/app/experimental/components/UploadDropZone.js","webpack:///./src/app/experimental/menus/export/ExportPanel.js","webpack:///./src/app/experimental/iconset/TinyDownIcon.js","webpack:///./src/app/experimental/iconset/TinyUpIcon.js","webpack:///./src/app/experimental/panels/PanelSection.js","webpack:///./src/app/experimental/menus/option/OptionPanel.js","webpack:///./src/app/experimental/iconset/EditPencilIcon.js","webpack:///./src/app/experimental/iconset/MoveIcon.js","webpack:///./src/app/experimental/widgets/ModeSelectTray.js","webpack:///./src/app/experimental/UserUtil.js","webpack:///./src/app/experimental/iconset/TrashCanDetailedIcon.js","webpack:///./src/app/experimental/widgets/TrashCanWidget.js","webpack:///./src/app/experimental/components/IconStateButton.js","webpack:///./src/app/experimental/iconset/FullscreenIcon.js","webpack:///./src/app/experimental/iconset/FullscreenExitIcon.js","webpack:///./src/app/experimental/widgets/FullscreenWidget.js","webpack:///./src/app/experimental/iconset/ZoomInIcon.js","webpack:///./src/app/experimental/iconset/ZoomOutIcon.js","webpack:///./src/app/experimental/widgets/ZoomWidget.js","webpack:///./src/app/experimental/iconset/PinpointIcon.js","webpack:///./src/app/experimental/widgets/FocusCenterWidget.js","webpack:///./src/app/experimental/widgets/NavbarWidget.js","webpack:///./src/app/experimental/EditPane.js","webpack:///./src/app/experimental/iconset/DownArrowIcon.js","webpack:///./src/app/experimental/widgets/TapeWidget.js","webpack:///./src/app/experimental/TapePane.js","webpack:///./src/app/experimental/panels/overview/StateListElement.js","webpack:///./src/app/experimental/iconset/BoxAddIcon.js","webpack:///./src/app/experimental/iconset/TriangleIcon.js","webpack:///./src/app/experimental/panels/overview/StateListView.js","webpack:///./src/app/experimental/panels/overview/OverviewPanel.js","webpack:///./src/app/experimental/panels/PanelCheckbox.js","webpack:///./src/app/experimental/panels/analysis/AnalysisPanel.js","webpack:///./src/app/experimental/components/IconUploadButton.js","webpack:///./src/app/experimental/iconset/PageContentIcon.js","webpack:///./src/app/experimental/iconset/DownloadIcon.js","webpack:///./src/app/experimental/iconset/CrossIcon.js","webpack:///./src/app/experimental/iconset/AddIcon.js","webpack:///./src/app/experimental/iconset/RunningManIcon.js","webpack:///./src/app/experimental/iconset/SubtractIcon.js","webpack:///./src/app/experimental/iconset/CheckCircleIcon.js","webpack:///./src/app/experimental/iconset/CrossCircleIcon.js","webpack:///./src/app/experimental/iconset/PendingIcon.js","webpack:///./src/app/experimental/panels/test/TestItem.js","webpack:///./src/app/experimental/panels/test/TestListView.js","webpack:///./src/app/experimental/panels/test/TestingPanel.js","webpack:///./src/app/experimental/toolbar/ToolbarDivider.js","webpack:///./src/app/experimental/toolbar/ToolbarUploadButton.js","webpack:///./src/app/experimental/iconset/PageEmptyIcon.js","webpack:///./src/app/experimental/iconset/UndoIcon.js","webpack:///./src/app/experimental/iconset/RedoIcon.js","webpack:///./src/app/experimental/iconset/BugIcon.js","webpack:///./src/app/experimental/iconset/WorldIcon.js","webpack:///./src/app/experimental/iconset/HelpIcon.js","webpack:///./src/app/experimental/iconset/SettingsIcon.js","webpack:///./src/app/system/localsave/AbstractLocalSaver.js","webpack:///./src/app/experimental/AppSaver.js","webpack:///./src/app/experimental/hotkey/HotKeyManager.js","webpack:///./src/app/experimental/hotkey/HotKeyView.js","webpack:///./src/app/experimental/App.js"],"names":["JSON","data","dst","arguments","length","undefined","nodeDatas","nodeCount","Math","min","edgeDatas","edgeCount","hasQuad","clear","NodalGraph","GraphNode","QuadraticEdge","GraphEdge","nodeIndices","Map","i","nodeData","node","createNode","setNodeLabel","set","edgeData","sourceNode","get","destinationNode","edge","createEdge","setEdgeLabel","quadData","setQuadratic","graph","graphNodes","getNodes","graphEdges","getEdges","Array","elementID","getGraphElementID","id","x","y","label","getNodeLabel","flag","quad","getQuadratic","edgeSource","getSourceNode","edgeDestination","getDestinationNode","sourceIndex","has","destinationIndex","from","to","getEdgeLabel","radians","nodes","edges","_version","DefaultGraphExporter","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","AbstractGraphExporter","module","getGraphController","getGraph","JSONGraphParser","graphData","getModuleName","version","process","getModuleVersion","timestamp","Date","toString","fromJSON","toJSON","fileBlob","_this","Promise","resolve","reject","filename","name","endsWith","getFileType","Error","reader","FileReader","onload","e","graphController","target","result","substring","emit","jsonData","parse","abort","onerror","error","code","readAsText","jsonString","stringify","downloadText","JSONFileIcon","GraphPicker","GraphPicker_classCallCheck","selectionBox","fromX","fromY","toX","toY","visible","targets","targetType","initialTarget","initialTargetType","type","getEdgeByEndPointAt","getNodeAt","getEdgeAt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","dx","dy","Config","NODE_RADIUS_SQU","err","return","center","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getCenterPoint","EDGE_RADIUS_SQU","end","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getEndPoint","ENDPOINT_RADIUS_SQU","box","mx","max","my","lx","ly","clearSelection","x1","y1","x2","y2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","push","getNodesWithin","includes","getSelection","DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE","DefaultInputController","inputAdapter","DefaultInputController_classCallCheck","DefaultInputController_possibleConstructorReturn","DefaultInputController_getPrototypeOf","_picker","_graphController","prevPointerX","prevPointerY","isNewEdge","shouldDestroyPointlessEdges","_swapMouseScheme","_trashMode","AbstractModuleInputController","_get","prototype","picker","_inputAdapter","getPointerX","getPointerY","updateTarget","hasTarget","document","body","style","cursor","pointer","getPicker","setInitialTarget","hasSelection","isTargetInSelection","isTrashMode","prevX","prevY","deleteSelectedNodes","deleteTargetNode","deleteTargetEdge","openLabelEditor","getInputAdapter","getViewport","isMoveMode","isPlaceholder","Node","Edge","targetQuad","prevQuad","ghostInitialMarker","getGraphLabeler","getDefaultEdgeLabel","edgeQuad","beginSelection","prevEdgeTo","moveMultipleNodesTo","moveNodeTo","moveEdgeTo","moveEndpointTo","isSelecting","updateSelection","deleteEdge","changeDestinationNode","endSelection","clearTarget","zoomValue","prevValue","enabled","shouldInputFirst","isAltInput","isDragging","isPointerActive","labelFormatter","string","DefaultGraphLabeler","DefaultGraphLabeler_classCallCheck","DefaultGraphLabeler_possibleConstructorReturn","DefaultGraphLabeler_getPrototypeOf","AbstractGraphLabeler","DefaultGraphController","DefaultGraphController_classCallCheck","DefaultGraphController_possibleConstructorReturn","DefaultGraphController_getPrototypeOf","inputController","machineController","labelEditorElement","registerEvent","AbstractModuleGraphController","DefaultGraphController_get","getInputController","getMachineController","prev","isPrevCustom","getNodeCustom","setNodeCustom","newNodeLabel","getDefaultNodeLabel","random","SPAWN_RADIUS","selectedNode","selection","slice","deleteNode","other","nodeSize","getNodeSize","angle","atan2","diameter","nextDX","cos","nextDY","sin","pos","getInputEventPosition","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","changeInputEventPosition","setQuadraticByCoords","isSelfLoop","PI","_this2","placeholder","replace","callback","prevLabel","openEditor","setOffset","ax","ay","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","Eventable","mixin","DefaultMachineController","DefaultMachineController_classCallCheck","DefaultMachineController_possibleConstructorReturn","DefaultMachineController_getPrototypeOf","_machineName","AbstractModuleMachineController","DefaultPanel","props","DefaultPanel_classCallCheck","DefaultPanel_possibleConstructorReturn","DefaultPanel_getPrototypeOf","container","React","Component","react_default","a","createElement","className","ref","GraphNodeRenderer","GraphNodeRenderer_classCallCheck","GraphNodeRenderer_possibleConstructorReturn","GraphNodeRenderer_getPrototypeOf","fill","stroke","cx","cy","r","pointerEvents","userSelect","fontSize","textAnchor","SIXTH_PI","QuadraticEdgeRenderer","QuadraticEdgeRenderer_classCallCheck","QuadraticEdgeRenderer_possibleConstructorReturn","QuadraticEdgeRenderer_getPrototypeOf","start","getStartPoint","quadCoords","getQuadraticAsCoords","edgeDir","getEdgeDirection","flipLabel","quadLine","arrowAngle","isQuadratic","labels","split","d","transform","map","str","yy","key","alignmentBaseline","HLSMGraphRenderer","DefaultGraphRenderer_classCallCheck","DefaultGraphRenderer_possibleConstructorReturn","DefaultGraphRenderer_getPrototypeOf","currentModule","renderer_GraphNodeRenderer","renderer_QuadraticEdgeRenderer","DefaultGraphOverlayRenderer","DefaultGraphOverlayRenderer_classCallCheck","DefaultGraphOverlayRenderer_possibleConstructorReturn","DefaultGraphOverlayRenderer_getPrototypeOf","parent","getSelectionBox","HighlightRenderer","SelectionBoxRenderer","DefaultViewportRenderer","DefaultViewportRenderer_classCallCheck","DefaultViewportRenderer_possibleConstructorReturn","DefaultViewportRenderer_getPrototypeOf","screen","LabelEditor","getLabelEditor","width","CursorMode","TrashCan","viewport","EMPTY_CHAR","DefaultLabelEditor","DefaultLabelEditor_classCallCheck","DefaultLabelEditor_getPrototypeOf","parentElement","inputElement","_timer","_prevValue","state","onContextMenu","bind","DefaultLabelEditor_assertThisInitialized","onFormat","onSubmit","targetElement","defaultText","setState","targetLabel","resetValue","setValue","focus","saveOnExit","blur","hasFocus","preventDefault","stopPropagation","symbol","appendValue","SYMBOL_SEPARATOR","newValue","closeEditor","getEdgeLabelFormatter","_this3","targetStyle","visibility","screenPos","svg","ctm","getScreenCTM","f","transformViewToScreen","getOffsetX","getOffsetY","offsetX","offsetWidth","offsetY","offsetHeight","top","left","tabIndex","onFocus","clearTimeout","onBlur","setTimeout","FormattedInput","formatter","captureOnExit","multiline","PANELS","EXPORTERS","DefaultModule","app","DefaultModule_classCallCheck","DefaultModule_getPrototypeOf","_inputController","DefaultModule_assertThisInitialized","_machineController","AbstractModule","DefaultModule_get","renderLayer","DefaultGraphRenderer","IconButton","title","showButtonLabel","SHOW_LABEL","Style","icon_button","disabled","onClick","children","Icon","ExpandDownIcon_classCallCheck","ExpandDownIcon_possibleConstructorReturn","ExpandDownIcon_getPrototypeOf","xmlns","height","viewBox","DRAWER_WIDTH_CSSVAR","DRAWER_MIN_WIDTH","DrawerView","DrawerView_classCallCheck","DrawerView_getPrototypeOf","drawerElement","open","soloClass","_handlingGrab","_handlingResize","_isfull","_hasintent","_prevWidth","_resizeTimeout","_resizeEndTimeout","_sideways","onDrawerHandleGrab","DrawerView_assertThisInitialized","onDrawerHandleRelease","onDrawerHandleMove","onDrawerExpand","onWindowResize","window","addEventListener","removeEventListener","fullscreen","setDrawerWidth","panels","hasIntent","drawerSide","side","drawerOffsetY","getBoundingClientRect","documentSize","documentElement","clientHeight","clientWidth","minSize","getCSSDrawerWidth","setProperty","toggleDrawer","isDrawerSideBottom","clientY","clientX","abs","drawerPanels","drawerDirection","direction","shouldDrawerHide","hide","drawerSoloClass","isDrawerOpen","shouldDrawerBarSideways","showDrawerHandle","shouldDrawerOpenFull","shouldHideDrawerContent","showDrawerTabs","app_content","app_viewport","app_drawer","drawer_handle","onMouseDown","drawer_content","drawer_content_bar","experimental_components_IconButton","drawer_tab_expander","ExpandDownIcon","current","isCurrentTab","drawer_tab","setCurrentTab","drawer_content_panel_container","drawer_content_panel","ComponentClass","drawer_panel_container","_extends","drawer_panel","panelProps","drawer","parseInt","getComputedStyle","getPropertyValue","ToolbarButton","ToolbarButton_classCallCheck","ToolbarButton_possibleConstructorReturn","ToolbarButton_getPrototypeOf","IconClass","icon","toolbar_button","ToolbarTitle","ToolbarTitle_classCallCheck","ToolbarTitle_possibleConstructorReturn","ToolbarTitle_getPrototypeOf","title_container","title_input_container","defaultValue","title_subtitle","MenuIcon_classCallCheck","MenuIcon_possibleConstructorReturn","MenuIcon_getPrototypeOf","TOOLBAR_DEFAULT_MENU_INDEX","ToolbarView","ToolbarView_classCallCheck","ToolbarView_getPrototypeOf","toolbarElement","menuIndex","onBarExpand","ToolbarView_assertThisInitialized","menus","setCurrentMenu","toggleBar","Children","child","containerOnly","toolbarMenus","toolbarMenuIndex","ToolbarMenu","showCustomToolbarMenu","hasButtons","count","isBarOpen","shouldBarHide","showBarExpander","app_bar","bar_menu","menu_container","ToolbarView_extends","menuProps","toolbar","menu_button_container","renderMenuButtons","bar_toolbar","experimental_toolbar_ToolbarTitle","toolbar_title","toolbar_button_container","renderToolbarButtons","toolbar_expander","MenuIcon","WorkspaceView","WorkspaceView_classCallCheck","WorkspaceView_possibleConstructorReturn","WorkspaceView_getPrototypeOf","viewSize","Number","MIN_VALUE","getScale","halfViewSize","VIEWPORT_DEFAULT_VIEW_INDEX","ViewportView","ViewportView_classCallCheck","ViewportView_possibleConstructorReturn","ViewportView_getPrototypeOf","viewIndex","views","viewportViews","viewportViewIndex","ViewportViewPane","view_container","ViewportView_extends","viewProps","TooltipView","TooltipView_classCallCheck","TooltipView_possibleConstructorReturn","TooltipView_getPrototypeOf","_tooltipTimeout","index","initial","mode","nextIndex","floor","setTooltipIndex","tooltipIndex","updateTooltip","tooltip_container","opacity","UploadIcon_classCallCheck","UploadIcon_possibleConstructorReturn","UploadIcon_getPrototypeOf","UploadDropZone","UploadDropZone_classCallCheck","UploadDropZone_getPrototypeOf","_waiting","onDragEnter","UploadDropZone_assertThisInitialized","onDragLeave","onFileDrop","dataTransfer","items","dataItems","file","kind","getAsFile","dataFiles","files","clearData","isWaitingForFile","upload_container","UploadIcon","upload_icon","only","ExportPanel","ExportPanel_classCallCheck","ExportPanel_possibleConstructorReturn","ExportPanel_getPrototypeOf","exporter","doesSupportFile","getIconClass","panel_button","getLabel","getMachineName","exportToFile","graphExporters","getGraphExporters","imageExporters","getImageExporters","panel_container","panel_title","I18N","panel_content","renderExporterButton","TinyDownIcon_classCallCheck","TinyDownIcon_possibleConstructorReturn","TinyDownIcon_getPrototypeOf","TinyUpIcon_classCallCheck","TinyUpIcon_possibleConstructorReturn","TinyUpIcon_getPrototypeOf","PanelSection","PanelSection_classCallCheck","PanelSection_getPrototypeOf","PanelSection_assertThisInitialized","isOpen","isDisabled","section_container","section_header","TinyUpIcon","TinyDownIcon","section_content_container","section_content","OptionPanel","OptionPanel_classCallCheck","OptionPanel_possibleConstructorReturn","OptionPanel_getPrototypeOf","experimental_panels_PanelSection","confirm","LocalSave","terminate","clearStorage","alert","EditPencilIcon_classCallCheck","EditPencilIcon_possibleConstructorReturn","EditPencilIcon_getPrototypeOf","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","ModeSelectTray","ModeSelectTray_classCallCheck","ModeSelectTray_getPrototypeOf","onChange","ModeSelectTray_assertThisInitialized","tray_container","tray_button","EditPencilIcon","MoveIcon","userClearGraph","graphOnly","getCurrentModule","getUndoManager","setMachineName","TrashCanDetailedIcon_classCallCheck","TrashCanDetailedIcon_possibleConstructorReturn","TrashCanDetailedIcon_getPrototypeOf","TrashCanWidget","TrashCanWidget_classCallCheck","TrashCanWidget_getPrototypeOf","forceActive","_doubleTapTimeout","onMouseEnter","TrashCanWidget_assertThisInitialized","onMouseLeave","onAnyMouseDownNotConsumed","setTrashMode","active","isEmpty","isUsingTouch","trash_container","TrashCanDetailedIcon","IconStateButton","IconStateButton_classCallCheck","IconStateButton_getPrototypeOf","IconStateButton_assertThisInitialized","prevIndex","FullscreenIcon_classCallCheck","FullscreenIcon_possibleConstructorReturn","FullscreenIcon_getPrototypeOf","FullscreenExitIcon_classCallCheck","FullscreenExitIcon_possibleConstructorReturn","FullscreenExitIcon_getPrototypeOf","FullscreenWidget","FullscreenWidget_classCallCheck","FullscreenWidget_possibleConstructorReturn","FullscreenWidget_getPrototypeOf","components_IconStateButton","fullscreen_button","FullscreenIcon","FullscreenExitIcon","ZoomInIcon_classCallCheck","ZoomInIcon_possibleConstructorReturn","ZoomInIcon_getPrototypeOf","ZoomOutIcon_classCallCheck","ZoomOutIcon_possibleConstructorReturn","ZoomOutIcon_getPrototypeOf","ZoomWidget","ZoomWidget_classCallCheck","ZoomWidget_getPrototypeOf","onZoomIn","ZoomWidget_assertThisInitialized","onZoomOut","viewScale","addScale","toFixed","zoom_container","zoom_button","ZoomInIcon","ZoomOutIcon","zoom_label","PinpointIcon_classCallCheck","PinpointIcon_possibleConstructorReturn","PinpointIcon_getPrototypeOf","FocusCenterWidget","FocusCenterWidget_classCallCheck","FocusCenterWidget_getPrototypeOf","FocusCenterWidget_assertThisInitialized","center_focus_button","PinpointIcon","NavbarWidget","NavbarWidget_classCallCheck","NavbarWidget_possibleConstructorReturn","NavbarWidget_getPrototypeOf","navbar_container","experimental_widgets_FullscreenWidget","navbar_widget","experimental_widgets_ZoomWidget","navbar_widget_container","experimental_widgets_FocusCenterWidget","EditPane","EditPane_classCallCheck","EditPane_possibleConstructorReturn","EditPane_getPrototypeOf","inputActionMode","isActionMode","view_pane","_workspace","experimental_widgets_NavbarWidget","view_widget","right","bottom","experimental_widgets_ModeSelectTray","modeIndex","setInputScheme","experimental_widgets_TrashCanWidget","DownArrowIcon_classCallCheck","DownArrowIcon_possibleConstructorReturn","DownArrowIcon_getPrototypeOf","TapeWidget","TapeWidget_classCallCheck","TapeWidget_getPrototypeOf","onTapeStepBackward","TapeWidget_assertThisInitialized","onTapeStepForward","onTapeFinish","onTapeReset","onTapeSkipForward","onTapeSkipBackward","onTapeStop","stepBackward","stepForward","reset","finish","stop","tapeContext","tapeIndex","getCurrentTapeIndex","tape_container","tape_control_tray","isTapeLeftInfinite","DownArrowIcon","getTapeInput","activeRead","sourceStates","getTapeSourceStatesByIndex","setCurrentTapeIndex","sourceState","isTapeRightInfinite","TapePane","TapePane_classCallCheck","TapePane_possibleConstructorReturn","TapePane_getPrototypeOf","setDisabled","tester","_tester","experimental_widgets_TapeWidget","getTapeContext","StateListElement","StateListElement_classCallCheck","StateListElement_getPrototypeOf","onValueChange","StateListElement_assertThisInitialized","onKeyDown","onKeyUp","nodeLabel","select","nextLabel","keyCode","trim","inputValue","nodeCustom","nodeAccept","getNodeAccept","displayValue","element_container","spellCheck","BoxAddIcon_classCallCheck","BoxAddIcon_possibleConstructorReturn","BoxAddIcon_getPrototypeOf","TriangleIcon_classCallCheck","TriangleIcon_possibleConstructorReturn","TriangleIcon_getPrototypeOf","StateListView","StateListView_classCallCheck","StateListView_getPrototypeOf","_prevX","_prevY","onElementAdd","StateListView_assertThisInitialized","onElementFocus","onElementBlur","onElementChange","element","focusOnNode","getNodesByLabel","renameNode","applyAutoRename","otherNodes","list_container","element_list","TriangleIcon","first_marker","panels_overview_StateListElement","add_button","BoxAddIcon","OverviewPanel","OverviewPanel_classCallCheck","OverviewPanel_possibleConstructorReturn","OverviewPanel_getPrototypeOf","TITLE","panels_overview_StateListView","Object","defineProperty","PanelCheckbox","PanelCheckbox_classCallCheck","PanelCheckbox_getPrototypeOf","checked","PanelCheckbox_assertThisInitialized","checkbox_container","htmlFor","AnalysisPanel","AnalysisPanel_classCallCheck","AnalysisPanel_getPrototypeOf","optimizeUnreachOption","optimizeRedundOption","onConvertToDFA","AnalysisPanel_assertThisInitialized","onConvertToNFA","onOptimizeMachine","unreachableArray","getUnreachableNodes","deleteTargetNodes","Notifications","addMessage","NFAToDFAConversionWarningMessage","convertMachineTo","isChecked","onDeleteAllUnreachable","experimental_panels_PanelCheckbox","panel_checkbox","canOptimize","getMachineType","IconUploadButton","IconUploadButton_classCallCheck","IconUploadButton_getPrototypeOf","onFileUpload","IconUploadButton_assertThisInitialized","onUpload","accept","upload_button","upload_input","PageContentIcon_classCallCheck","PageContentIcon_possibleConstructorReturn","PageContentIcon_getPrototypeOf","DownloadIcon_classCallCheck","DownloadIcon_possibleConstructorReturn","DownloadIcon_getPrototypeOf","CrossIcon_classCallCheck","CrossIcon_possibleConstructorReturn","CrossIcon_getPrototypeOf","AddIcon_classCallCheck","AddIcon_possibleConstructorReturn","AddIcon_getPrototypeOf","RunningManIcon_classCallCheck","RunningManIcon_possibleConstructorReturn","RunningManIcon_getPrototypeOf","SubtractIcon_classCallCheck","SubtractIcon_possibleConstructorReturn","SubtractIcon_getPrototypeOf","CheckCircleIcon_classCallCheck","CheckCircleIcon_possibleConstructorReturn","CheckCircleIcon_getPrototypeOf","CrossCircleIcon_classCallCheck","CrossCircleIcon_possibleConstructorReturn","CrossCircleIcon_getPrototypeOf","PendingIcon_classCallCheck","PendingIcon_possibleConstructorReturn","PendingIcon_getPrototypeOf","DEFAULT_MODE","TestItem","TestItem_classCallCheck","TestItem_getPrototypeOf","status","TestItem_assertThisInitialized","nextValue","onDelete","onTest","subtitle","test_item_container","test_button","CheckCircleIcon","CrossCircleIcon","PendingIcon","RunningManIcon","test_input","delete_button","SubtractIcon","ACCEPT_FILE_TYPES","TEST_FILENAME","TestListView","TestListView_classCallCheck","TestListView_getPrototypeOf","_testList","_testName","onTestNew","TestListView_assertThisInitialized","onTestUpload","onTestDownload","onTestClose","onTestAdd","onTestDelete","onTestTest","onTestRunAll","event","tests","test","guid","testStrings","getValue","join","isTesting","stopTest","item","immediate","itemValue","startTest","then","runTest","empty","test_container","test_control_tray","test_control_button","PageContentIcon","experimental_components_IconUploadButton","DownloadIcon","CrossIcon","test_list_container","test_list_add","AddIcon","test_list_count","test_list_scroll_container","test_list","testCallback","panels_test_TestItem","splice","test_list_runall","TestingPanel","TestingPanel_classCallCheck","TestingPanel_possibleConstructorReturn","TestingPanel_getPrototypeOf","on","_viewport","setCurrentView","_drawer","setDrawerSoloClass","closeDrawer","openDrawer","panels_test_TestListView","ToolbarDivider","ToolbarDivider_classCallCheck","ToolbarDivider_possibleConstructorReturn","ToolbarDivider_getPrototypeOf","divider","ToolbarUploadButton","ToolbarUploadButton_classCallCheck","ToolbarUploadButton_possibleConstructorReturn","ToolbarUploadButton_getPrototypeOf","ToolbarButtonStyle","PageEmptyIcon_classCallCheck","PageEmptyIcon_possibleConstructorReturn","PageEmptyIcon_getPrototypeOf","UndoIcon_classCallCheck","UndoIcon_possibleConstructorReturn","UndoIcon_getPrototypeOf","RedoIcon_classCallCheck","RedoIcon_possibleConstructorReturn","RedoIcon_getPrototypeOf","BugIcon_classCallCheck","BugIcon_possibleConstructorReturn","BugIcon_getPrototypeOf","WorldIcon_classCallCheck","WorldIcon_possibleConstructorReturn","WorldIcon_getPrototypeOf","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","SettingsIcon_classCallCheck","SettingsIcon_possibleConstructorReturn","SettingsIcon_getPrototypeOf","AbstractLocalSaver","AppSaver","AppSaver_classCallCheck","AppSaver_possibleConstructorReturn","AppSaver_getPrototypeOf","_app","moduleName","loadFromStorage","getDefaultGraphExporter","importFromData","exportToData","saveToStorage","CTRL_KEY","SHIFT_KEY","HotKeyManager","HotKeyManager_classCallCheck","_hotkeys","_cachedEvent","ctrlKey","metaKey","altKey","shiftKey","_prevHotKey","_repeatCount","_enabled","_altHotkey","keys","isArray","ctrlIndex","indexOf","metaIndex","altIndex","shiftIndex","charKey","ctrl","alt","shift","localizedKeys","hotkey","matchesHotKeyEvent","eventCtrl","eventAlt","eventShift","eventKey","repeat","captureKeyEvent","findMatchingHotKey","isKeyUp","HotKeyView","HotKeyView_classCallCheck","HotKeyView_possibleConstructorReturn","HotKeyView_getPrototypeOf","_cachedHotKeys","_cacheTimeout","hotKeyManager","showHotKeys","isEnabled","getCurrentlyPossibleHotKeys","useCount","getCurrentHotKeyRepeatCount","currentHotKey","getCurrentHotKey","hotkey_container","isActive","hotkey_label","hotkey_name","App","App_classCallCheck","App_getPrototypeOf","_toolbar","InputAdapter","setMinScale","setMaxScale","setOffsetDamping","_undoManager","UndoManager","_hotKeyManager","registerHotKey","console","log","registerAltHotKey","_saver","App_assertThisInitialized","_init","Module","_mediaQuerySmallWidthList","matchMedia","_mediaQuerySmallHeightList","workspaceDOM","initialize","registerHandler","unregisterHandler","destroy","ModuleClass","update","setEnabled","isDrawerFullscreen","hasSmallWidth","matches","hasSmallHeight","isFullscreen","undoManager","graphImporter","getGraphImporter","modulePanels","getModulePanels","concat","modulePanelProps","moduleMenus","getModuleMenus","moduleMenuProps","moduleViews","getModuleViews","moduleViewProps","GraphRenderer","getRenderer","GraphOverlayRenderer","experimental_toolbar_ToolbarView","experimental_toolbar_ToolbarButton","PageEmptyIcon","UserUtil","closeBar","toolbar_ToolbarUploadButton","getImportFileTypes","importFile","catch","addErrorMessage","finally","UndoIcon","canUndo","undo","RedoIcon","canRedo","redo","experimental_toolbar_ToolbarDivider","BugIcon","WorldIcon","HelpIcon","SettingsIcon","nextModuleClass","setCurrentModuleClass","experimental_drawer_DrawerView","experimental_components_UploadDropZone","experimental_tooltip_TooltipView","experimental_workspace_WorkspaceView","Fragment","NotificationView","notificationManager","experimental_hotkey_HotKeyView","experimental_viewport_ViewportView","hot"],"mappings":"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","file":"experimental.bundle.7f5a2ffaf42758e7ac8d.js","sourcesContent":["import NodalGraph from '../NodalGraph.js';\n\nimport GraphNode from '../GraphNode.js';\nimport GraphEdge from '../GraphEdge.js';\nimport QuadraticEdge from '../QuadraticEdge.js';\n\nconst GRAPH_PARSER_VERSION = \"1.0.0\";\n\nexport const JSON = {\n  parse(data, dst=null)\n  {\n    const nodeDatas = data['nodes'] || [];\n    const nodeCount = Math.min(nodeDatas.length || 0, data['nodeCount'] || 0);\n    const edgeDatas = data['edges'] || [];\n    const edgeCount = Math.min(edgeDatas.length || 0, data['edgeCount'] || 0);\n    const hasQuad = data['quad'] || false;\n\n    if (!dst) dst = new NodalGraph(GraphNode, hasQuad ? QuadraticEdge : GraphEdge);\n    else dst.clear();\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeData = nodeDatas[i];\n      if (!nodeData) continue;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(nodeData['x'] || 0, nodeData['y'] || 0, nodeData['id']);\n      node.setNodeLabel(nodeData['label'] || \"\");\n\n      nodeIndices.set(i, node);\n    }\n\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeData = edgeDatas[i];\n      if (!edgeData) continue;\n      const sourceNode = nodeIndices.get(edgeData['from']) || null;\n      //Cannot create source-less edges\n      if (!sourceNode) continue;\n      const destinationNode = nodeIndices.get(edgeData['to']) || null;\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode, edgeData['id']);\n      edge.setEdgeLabel(edgeData['label'] || \"\");\n\n      if (edge instanceof QuadraticEdge)\n      {\n        const quadData = edgeData['quad'] || {};\n        edge.setQuadratic(quadData['radians'] || 0, quadData['length'] || 0);\n      }\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n\n    const nodeDatas = new Array(nodeCount);\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      if (node)\n      {\n        //NOTE: Assumes node must have an id\n        const elementID = node.getGraphElementID();\n\n        nodeIndices.set(node, i);\n        nodeDatas[i] = {\n          id: elementID,\n          x: node.x || 0, y: node.y || 0,\n          label: node.getNodeLabel() || \"\"\n        };\n      }\n    }\n\n    let flag = false;\n    const edgeDatas = new Array(edgeCount);\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edge = graphEdges[i];\n      if (edge)\n      {\n        //NOTE: Assumes edge must have an id\n        const elementID = edge.getGraphElementID();\n\n        const quad = edge.getQuadratic() || {};\n        const edgeSource = edge.getSourceNode();\n        const edgeDestination = edge.getDestinationNode();\n        const sourceIndex = nodeIndices.has(edgeSource) ? nodeIndices.get(edgeSource) : -1;\n        const destinationIndex = nodeIndices.has(edgeDestination) ? nodeIndices.get(edgeDestination) : -1;\n        edgeDatas[i] = {\n          id: elementID,\n          from: sourceIndex,\n          to: destinationIndex,\n          label: edge.getEdgeLabel() || \"\"\n        };\n\n        if (edge instanceof QuadraticEdge)\n        {\n          flag = true;\n          edgeDatas[i]['quad'] = {\n            radians: quad['radians'] || 0,\n            length: quad['length'] || 0\n          };\n        }\n      }\n    }\n\n    return {\n      nodeCount: nodeCount,\n      nodes: nodeDatas,\n      edgeCount: edgeCount,\n      edges: edgeDatas,\n      hasQuad: flag,\n      _version: GRAPH_PARSER_VERSION\n    };\n  }\n};\n","import AbstractGraphExporter from 'modules/abstract/exporter/AbstractGraphExporter.js';\n\nimport JSONFileIcon from 'icons/flat/JSONIcon.js';\nimport { JSON as JSONGraphParser } from 'graph/parser/NodalGraphParser.js';\nimport { downloadText } from 'util/Downloader.js';\n\nclass DefaultGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  fromJSON(data, module)\n  {\n    const graphController = module.getGraphController();\n    const graph = graphController.getGraph();\n\n    const metadata = '_metadata' in data ? data['_metadata'] : {};\n    const newGraph = JSONGraphParser.parse(data.graphData, graph);\n    return newGraph;\n  }\n\n  toJSON(graphData, module)\n  {\n    const graphController = module.getGraphController();\n\n    const dst = {};\n    dst[\"_metadata\"] = {\n      module: module.getModuleName(),\n      version: process.env.VERSION + \":\" + module.getModuleVersion(),\n      timestamp: new Date().toString()\n    };\n    dst[\"graphData\"] = graphData;\n    return dst;\n  }\n\n  //Override\n  importFromData(data, module)\n  {\n    this.fromJSON(data, module);\n  }\n\n  //Override\n  exportToData(module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const result = this.toJSON(graphData, module);\n    return result;\n  }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        graphController.emit(\"userPreImportGraph\", graph);\n\n        try\n        {\n          const jsonData = JSON.parse(data);\n\n          this.fromJSON(jsonData, module);\n\n          graphController.emit(\"userImportGraph\", graph);\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          graphController.emit(\"userPostImportGraph\", graph);\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const dst = this.toJSON(graphData, module);\n    const jsonString = JSON.stringify(dst);\n    downloadText(filename + '.' + this.getFileType(), jsonString);\n  }\n\n  //Override\n  doesSupportData() { return true; }\n  //Override\n  doesSupportFile() { return true; }\n  //Override\n  canImport() { return true; }\n  //Override\n  getTitle() { return \"Save machine to JSON\"; }\n  //Override\n  getLabel() { return \"Save machine to JSON\"; }\n  //Override\n  getFileType() { return \"json\"; }\n  //Override\n  getIconClass() { return JSONFileIcon; }\n}\n\nexport default DefaultGraphExporter;\n","import Config from 'config.js';\n\nclass GraphPicker\n{\n  constructor()\n  {\n    this.selectionBox = {\n      fromX: 0, fromY: 0,\n      toX: 0, toY: 0,\n      visible: false\n    };\n    this.targets = [];\n\n    this.target = null;\n    this.targetType = \"\";\n\n    this.initialTarget = null;\n    this.initialTargetType = \"\";\n  }\n\n  setInitialTarget(target, type)\n  {\n    this.initialTarget = target;\n    this.initialTargetType = type;\n  }\n\n  updateTarget(graph, x, y)\n  {\n    if (this.target = this.getEdgeByEndPointAt(graph, x, y))\n    {\n      //Clicked on endpoint\n      this.targetType = \"endpoint\";\n    }\n    else if (this.target = this.getNodeAt(graph, x, y))\n    {\n      //Clicked on node\n      this.targetType = \"node\";\n    }\n    else if (this.target = this.getEdgeAt(graph, x, y))\n    {\n      //Clicked on edge\n      this.targetType = \"edge\";\n    }\n    else\n    {\n      //Clicked on graph\n      this.target = null;\n      this.targetType = \"none\";\n    }\n\n    return this.target;\n  }\n\n  clearTarget()\n  {\n    this.target = null;\n    this.targetType = \"none\";\n  }\n\n  hasTarget()\n  {\n    return this.target != null;\n  }\n\n  getNodeAt(graph, x, y)\n  {\n    //Search graph\n    for(const node of graph.getNodes())\n    {\n      const dx = x - node.x;\n      const dy = y - node.y;\n      if (dx * dx + dy * dy < Config.NODE_RADIUS_SQU)\n      {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  getEdgeAt(graph, x, y)\n  {\n    const center = {x: 0, y: 0};\n\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getCenterPoint(center);\n      const dx = x - center.x;\n      const dy = y - center.y;\n      if (dx * dx + dy * dy < Config.EDGE_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getEdgeByEndPointAt(graph, x, y)\n  {\n    const end = {x: 0, y: 0};\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getEndPoint(end);\n      const dx = x - end.x;\n      const dy = y - end.y;\n      if (dx * dx + dy * dy < Config.ENDPOINT_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getSelectionBox()\n  {\n    return this.selectionBox;\n  }\n\n  getSelection(graph, forceUpdate=false)\n  {\n    if (forceUpdate)\n    {\n      const box = this.selectionBox;\n      const mx = Math.max(box.toX, box.fromX);\n      const my = Math.max(box.toY, box.fromY);\n      const lx = Math.min(box.toX, box.fromX);\n      const ly = Math.min(box.toY, box.fromY);\n      this.clearSelection();\n      getNodesWithin(graph, lx, ly, mx, my, this.targets);\n    }\n\n    return this.targets;\n  }\n\n  hasSelection()\n  {\n    return this.targets.length > 0;\n  }\n\n  clearSelection()\n  {\n    this.targets.length = 0;\n  }\n\n  isTargetInSelection(target)\n  {\n    return this.targets.includes(target || this.target);\n  }\n\n  isTarget(target)\n  {\n    return this.target == target;\n  }\n\n  beginSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.fromX = box.toX = x;\n    box.fromY = box.toY = y;\n    this.clearSelection();\n\n    box.visible = true;\n  }\n\n  updateSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n  }\n\n  endSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n\n    box.visible = false;\n  }\n\n  isSelecting()\n  {\n    return this.selectionBox.visible;\n  }\n}\n\nfunction getNodesWithin(graph, x1, y1, x2, y2, dst)\n{\n  const fromX = Math.min(x1, x2);\n  const fromY = Math.min(y1, y2);\n  const toX = Math.max(x1, x2);\n  const toY = Math.max(y1, y2);\n\n  for(const node of graph.getNodes())\n  {\n    if (node.x >= fromX && node.x < toX &&\n        node.y >= fromY && node.y < toY)\n    {\n      dst.push(node);\n    }\n  }\n  return dst;\n}\n\nexport default GraphPicker;\n","import AbstractModuleInputController from 'modules/abstract/AbstractModuleInputController.js';\n\nimport GraphPicker from './GraphPicker.js';\nimport Node from 'graph/GraphNode.js';\nimport Edge from 'graph/QuadraticEdge.js';\n\nconst DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE = true;\nconst STR_TRANSITION_DEFAULT_LABEL = \"\";\n\nclass DefaultInputController extends AbstractModuleInputController\n{\n  constructor(module, inputAdapter)\n  {\n    super(module, inputAdapter);\n\n    this._picker = new GraphPicker();\n\n    this._graphController = null;\n\n    //Used to check if target needs to be updated for the hover effect\n    this.prevPointerX = 0;\n    this.prevPointerY = 0;\n\n    //Make sure this is always false when moving endpoints\n    this.isNewEdge = false;\n\n    //Whether to destroy pointless edges\n    this.shouldDestroyPointlessEdges = DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE;\n\n    //Swap left to right clicks and vice versa on anything else but Macs\n    this._swapMouseScheme = true;//!navigator.platform.startsWith(\"Mac\");\n\n    //Used to determine whether the target should be destroyed because of trash mode\n    this._trashMode = false;\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this._graphController = module.getGraphController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    const graph = this._graphController.getGraph();\n    const picker = this._picker;\n    const x = this._inputAdapter.getPointerX();\n    const y = this._inputAdapter.getPointerY();\n\n    if (x != this.prevPointerX || y != this.prevPointerY)\n    {\n      this.prevPointerX = x;\n      this.prevPointerY = y;\n\n      //Update target\n      picker.updateTarget(graph, x, y);\n\n      //HACK: to make the cursor look like a pointer when targeting\n      if (picker.hasTarget())\n      {\n        document.body.style.cursor = \"pointer\";\n      }\n      else\n      {\n        document.body.style.cursor = \"auto\";\n      }\n    }\n  }\n\n  //Override\n  onPreInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n    picker.setInitialTarget(picker.target, picker.targetType);\n\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    if (picker.hasSelection())\n    {\n      //Unselect everything is clicked on something other than nodes...\n      if (targetType != \"node\" || !picker.isTargetInSelection(target))\n      {\n        picker.clearSelection();\n      }\n    }\n\n    return super.onPreInputEvent(pointer);\n  }\n\n  //Override\n  onInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const x = pointer.x;\n    const y = pointer.y;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in trash mode... capture all events!\n    if (inputController.isTrashMode())\n    {\n      //Click to delete node\n      if (targetType === 'node')\n      {\n        //So that the emitted 'delete' events can use this\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n\n        //If there exists selected states, delete them all!\n        if (picker.hasSelection())\n        {\n          //Delete all selected nodes\n          graphController.deleteSelectedNodes(target);\n        }\n        else\n        {\n          //Delete a single node\n          graphController.deleteTargetNode(target);\n        }\n\n        return true;\n      }\n      else if (targetType === 'edge' || targetType === 'endpoint')\n      {\n        //Delete a single edge\n        graphController.deleteTargetEdge(target);\n        return true;\n      }\n\n      //Clicked on something you cannot delete\n      //return true;\n      return false;\n    }\n\n    //If not in Trash Mode, then events should pass through to here...\n    //Otherwise, ALL events are captured to prevent ALL default behavior.\n\n    //Edit label for selected edge\n    if (targetType === 'node')\n    {\n      graphController.openLabelEditor(target, x, y);\n      return true;\n    }\n    //Edit label for selected edge\n    if (targetType === 'edge')\n    {\n      graphController.openLabelEditor(target, x, y);\n      return true;\n    }\n    if (targetType !== 'none')\n    {\n      //Do nothing\n      return true;\n    }\n\n    return super.onInputEvent(pointer);\n  }\n\n  //Override\n  onDblInputEvent(pointer)\n  {\n    const graphController = this._graphController;\n    const x = pointer.x;\n    const y = pointer.y;\n\n    if (!this.isTrashMode())\n    {\n      //Create state at position\n      graphController.createNode(x, y);\n      return true;\n    }\n    else\n    {\n      graphController.emit(\"tryCreateWhileTrash\");\n      return true;\n    }\n\n    return super.onDblInputEvent(pointer);\n  }\n\n  //Override\n  onDragStart(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    const viewport = inputController.getInputAdapter().getViewport();\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Make sure it is not in trash mode\n      if (inputController.isTrashMode())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        graphController.emit(\"tryCreateWhileTrash\");\n        return false;\n      }\n\n      //Make sure it is not in new edge mode\n      inputController.isNewEdge = false;\n\n      //Makes sure that placeholders are not quadratics!\n      if (targetType === 'edge' && target.isPlaceholder())\n      {\n        //inputController.setMoveMode(false, true);//Set to false\n\n        //Ignore drag event...\n        return false;\n      }\n      //Moving node (and selected nodes)\n      else if (targetType === 'node')\n      {\n        //target MUST be an instance of Node...\n        if (!(target instanceof Node))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Node.\");\n\n        //Ready to move node(s)...\n        graphController.prevX = target.x;\n        graphController.prevY = target.y;\n        return true;\n      }\n      //Moving edge center point\n      else if (targetType === 'edge')\n      {\n        //target MUST be an instance of Edge...\n        if (!(target instanceof Edge))\n          throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n        //Makes sure that placeholders are not quadratics!\n        if (target.isPlaceholder())\n        {\n          //inputController.setMoveMode(false, true);//Set to false\n          return false;\n        }\n\n        //Save previous quadratics\n        const targetQuad = target.getQuadratic();\n        graphController.prevQuad.radians = targetQuad.radians;\n        graphController.prevQuad.length = targetQuad.length;\n\n        //Ready to move the edge vertex to pointer...\n        return true;\n      }\n      //Moving initial marker\n      else if (targetType === 'initial')\n      {\n        inputController.ghostInitialMarker = pointer;\n\n        //Ready to move the initial marker to another state...\n        return true;\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If input dragged a node...\n      if (targetType === 'node')\n      {\n        if (!inputController.isTrashMode())\n        {\n          const edge = graph.createEdge(target, pointer);\n          edge.setEdgeLabel(graphController.getGraphLabeler().getDefaultEdgeLabel());\n\n          //Redirect pointer to refer to the edge as the new target\n          picker.setInitialTarget(edge, \"endpoint\");\n          inputController.isNewEdge = true;\n\n          //Reset previous quad values for new proxy edge\n          const edgeQuad = edge.getQuadratic();\n          graphController.prevQuad.radians = edgeQuad.radians;\n          graphController.prevQuad.length = edgeQuad.length;\n\n          //Ready to move proxy edge to pointer...\n          //inputController.setMoveMode(true, true);\n          return true;\n        }\n        else\n        {\n          graphController.emit(\"tryCreateWhileTrash\");\n          return false;\n        }\n      }\n      else if (targetType == 'edge')\n      {\n        //Do nothing.\n        return false;\n      }\n      //If input dragged nothing...\n      else if (targetType === 'none')\n      {\n        //Begin selection box...\n        picker.beginSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    //In either moving or not... moving endpoints\n    if (targetType === 'endpoint')\n    {\n      //target MUST be an instance of Edge...\n      if (!(target instanceof Edge))\n        throw new Error(\"Invalid target \" + target + \" for type \\'\" + targetType + \"\\'. Must be an instance of Edge.\");\n\n      const targetQuad = target.getQuadratic();\n      graphController.prevQuad.radians = targetQuad.radians;\n      graphController.prevQuad.length = targetQuad.length;\n\n      graphController.prevEdgeTo = target.getDestinationNode();\n      inputController.isNewEdge = inputController.isMoveMode() ? false : true;\n\n      //Ready to move the edge endpoint to pointer...\n      return true;\n    }\n\n    //All input should be handled\n    //throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n\n    return super.onDragStart(pointer);\n  }\n\n  //Override\n  onDragMove(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode())\n    {\n      //Continue to move node(s)\n      if (targetType === 'node')\n      {\n        if (picker.hasSelection())\n        {\n          graphController.moveMultipleNodesTo(pointer, picker.getSelection(graph), x, y);\n        }\n        else\n        {\n          graphController.moveNodeTo(pointer, target, x, y);\n        }\n        return true;\n      }\n      //Continue to move edge vertex\n      else if (targetType === 'edge')\n      {\n        graphController.moveEdgeTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move edge endpoint\n      else if (targetType === 'endpoint')\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n      //Continue to move initial\n      else if (targetType === 'initial')\n      {\n        //Move initial marker to node or pointer\n        const dst = picker.getNodeAt(graph, x, y) || pointer;\n        inputController.ghostInitialMarker = dst;\n        return true;\n      }\n      //Continue to move graph if on none\n      else if (targetType !== 'none')\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      if (inputController.isNewEdge)\n      {\n        graphController.moveEndpointTo(pointer, target, x, y);\n        return true;\n      }\n\n      //If the selection box is active...\n      if (picker.isSelecting())\n      {\n        //Update the selection box\n        picker.updateSelection(graph, x, y);\n        return true;\n      }\n\n      //Otherwise, don't do anything. Cause even input drags will become move drags.\n    }\n\n    return super.onDragMove(pointer);\n  }\n\n  //Override\n  onDragStop(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const x = pointer.x;\n    const y = pointer.y;\n    picker.updateTarget(graph, x, y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //If is in move mode...\n    if (inputController.isMoveMode() || inputController.isNewEdge)\n    {\n      //If stopped dragging a node...\n      if (targetType === 'node')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          //If there exists selected states, delete them all!\n          if (picker.hasSelection())\n          {\n            graphController.deleteSelectedNodes(target);\n          }\n          else\n          {\n            //Delete a single node\n            graphController.deleteTargetNode(target);\n          }\n\n          return true;\n        }\n        //If dragged to an empty space (not trash)\n        else\n        {\n          //Do nothing, since should have moved to position\n          if (picker.hasSelection())\n          {\n            const dx = x - graphController.prevX;\n            const dy = y - graphController.prevY;\n            graphController.emit(\"nodeMoveAll\", graph, picker.getSelection(graph), dx, dy);\n          }\n          else\n          {\n            graphController.emit(\"nodeMove\", graph, target, x, y, graphController.prevX, graphController.prevY);\n          }\n          return true;\n        }\n      }\n      //If stopped dragging a edge...\n      else if (targetType === 'edge')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n        }\n        else\n        {\n          //Do nothing, since should have moved to position\n          graphController.emit(\"edgeMove\", graph, target, target.getQuadratic(), graphController.prevQuad);\n        }\n        return true;\n      }\n      //If stopped dragging a endpoint...\n      else if (inputController.isNewEdge || targetType === 'endpoint')\n      {\n        //Delete it if withing trash area...\n        if (inputController.isTrashMode())\n        {\n          graphController.deleteTargetEdge(target);\n          return true;\n        }\n        //If hovering over a node...\n        else if (target.getDestinationNode() instanceof Node)\n        {\n          const result = target;//FIXME: graph.formatEdge(target);\n\n          //If a different edge is the result of the target...\n          if (result !== target)\n          {\n            //Allow the user to edit the merged labels\n            graphController.openLabelEditor(result, x, y, result.getEdgeLabel(), false);\n\n            //Delete the merged label\n            graph.deleteEdge(target);\n            return true;\n          }\n          //Open label editor if a new edge...\n          else\n          {\n            if (inputController.isNewEdge)\n            {\n              graphController.openLabelEditor(target, x, y, null, true, () => {\n                graphController.emit(\"userPostCreateEdge\", graph, target);\n              });\n            }\n            else\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n          }\n\n          if (inputController.isNewEdge)\n          {\n            //Must be after openLabelEditor() to allow the function to check it...\n            inputController.isNewEdge = false;\n\n            //Emit event\n            graphController.emit(\"userCreateEdge\", graph, target);\n          }\n          else if (graphController.prevEdgeTo !== null)\n          {\n            //Emit event\n            graphController.emit(\"edgeDestination\", graph, target, target.getDestinationNode(), graphController.prevEdgeTo, graphController.prevQuad);\n          }\n\n          return true;\n        }\n        //If hovering over anything else...\n        else\n        {\n          //Destroy any edge that no longer have a destination\n          if (inputController.shouldDestroyPointlessEdges)\n          {\n            if (!inputController.isNewEdge)\n            {\n              graphController.deleteTargetEdge(target);\n            }\n            else\n            {\n              graph.deleteEdge(target);\n            }\n            return true;\n          }\n          //Keep edges as placeholders (used in DFA's)\n          else\n          {\n            target.changeDestinationNode(null);\n\n            //Open label editor if default edge...\n            if (target.getEdgeLabel().length <= 0)\n            {\n              graphController.openLabelEditor(target, x, y);\n            }\n            return true;\n          }\n        }\n      }\n      else if (targetType !== 'none')\n      {\n        //All move drag should be handled\n        throw new Error(\"Unknown target type \\'\" + targetType + \"\\'.\");\n      }\n    }\n    //If is NOT in move mode...\n    else\n    {\n      //If was trying to select...\n      if (picker.isSelecting())\n      {\n        //Stop selecting stuff, fool.\n        picker.endSelection(graph, x, y);\n        return true;\n      }\n    }\n\n    return super.onDragStop(pointer);\n  }\n\n  //Override\n  onPostInputEvent(pointer)\n  {\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n\n    picker.clearTarget();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n\n    return super.onPostInputEvent(pointer);\n  }\n\n  //Override\n  onZoomChange(pointer, zoomValue, prevValue)\n  {\n    return super.onZoomChange(pointer, zoomValue, prevValue);\n  }\n\n  setTrashMode(enabled)\n  {\n    this._trashMode = enabled;\n  }\n\n  isTrashMode()\n  {\n    return this._trashMode;\n  }\n\n  setInputScheme(shouldInputFirst)\n  {\n    this._swapMouseScheme = !shouldInputFirst;\n  }\n\n  getInputScheme()\n  {\n    return this._swapMouseScheme;\n  }\n\n  isMoveMode()\n  {\n    const result = this._inputAdapter.isAltInput();\n    return this._swapMouseScheme ? !result : result;\n  }\n\n  isDragging()\n  {\n    return this._inputAdapter.isDragging();\n  }\n\n  isActionMode(graphController)\n  {\n    return this._inputAdapter.isPointerActive() ?\n      //Is considered an input when NOT moving or when creating a new edge...\n      graphController.isNewEdge || !this.isMoveMode() :\n      //If not active, just show default input...\n      !this._swapMouseScheme;\n  }\n\n  getPicker()\n  {\n    return this._picker;\n  }\n}\n\nexport default DefaultInputController;\n","import AbstractGraphLabeler from 'graph/AbstractGraphLabeler.js';\n\nclass DefaultGraphLabeler extends AbstractGraphLabeler\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  getNodeLabelFormatter()\n  {\n    return labelFormatter;\n  }\n\n  //Override\n  getEdgeLabelFormatter()\n  {\n    return labelFormatter;\n  }\n}\n\nfunction labelFormatter(string)\n{\n  return string || \"\";\n}\n\nexport default DefaultGraphLabeler;\n","import AbstractModuleGraphController from 'modules/abstract/AbstractModuleGraphController.js';\n\nimport Config from 'config.js';\nimport Eventable from 'util/Eventable.js';\n\nimport NodalGraph from 'graph/NodalGraph.js';\nimport GraphNode from 'graph/GraphNode.js';\nimport GraphEdge from 'graph/GraphEdge.js';\nimport QuadraticEdge from 'graph/QuadraticEdge.js';\n\nimport DefaultGraphLabeler from './DefaultGraphLabeler.js';\n\nclass DefaultGraphController extends AbstractModuleGraphController\n{\n  constructor(module)\n  {\n    super(module, new NodalGraph(GraphNode, QuadraticEdge), new DefaultGraphLabeler());\n\n    this.inputController = null;\n    this.machineController = null;\n\n    this.labelEditorElement = null;\n\n    this.prevQuad = {\n      radians: 0, length: 0,\n      x: 0, y: 0\n    };\n    this.prevEdgeTo = null;\n    this.prevX = 0;\n    this.prevY = 0;\n\n    //The difference between controller events vs graph events is: controller has user-intent\n\n    //userCreateNode(graph, node) - When user creates a node\n    this.registerEvent(\"userCreateNode\");\n    this.registerEvent(\"userPreCreateNode\");//(graph, nextNodeID, x, y)\n    this.registerEvent(\"userPostCreateNode\");//(graph, node)\n\n    //userDeleteNodes(graph, node, targetNodes, prevX, prevY) - When user deletes one or more nodes\n    this.registerEvent(\"userDeleteNodes\");\n    this.registerEvent(\"userPreDeleteNodes\");\n    this.registerEvent(\"userPostDeleteNodes\");\n\n    //userDeleteEdge(graph, edge, prevTo, prevQuad) - When user deletes an edge\n    this.registerEvent(\"userDeleteEdge\");\n    this.registerEvent(\"userPreDeleteEdge\");\n    this.registerEvent(\"userPostDeleteEdge\");\n\n    //userCreateEdge(graph, edge) - When user creates an edge, after naming it\n    this.registerEvent(\"userCreateEdge\");\n    //this.registerEvent(\"userPreCreateEdge\");\n    this.registerEvent(\"userPostCreateEdge\");\n\n    /*\n    //userMoveNodes(graph, nodes, dx, dy) - When user moves one or more nodes\n    this.registerEvent(\"userMoveNodes\");\n    //userMoveInitial(graph, node, prevNode) - When user moves the initial marker to another\n    this.registerEvent(\"userMoveInitial\");\n    //userPreCreateEdge(graph, edge) - When user is about to create an edge, before src\n    this.registerEvent(\"userPreCreateEdge\");\n    //userBeginEdge(graph, edge, src) - When user begins to create an edge, after src and before naming it\n    this.registerEvent(\"userBeginEdge\");\n    //userEndEdge(graph, edge, src, dst) - When user finishes creating an edge, after dst and before naming it (dst could be null for deletion)\n    this.registerEvent(\"userEndEdge\");\n    //userPostCreateEdge(graph, edge) - When user is finished creating an edge, after dst and after quad changes\n    this.registerEvent(\"userPostCreateEdge\");\n    //userMoveEdge(graph, edge, prevDest) - When user changes the dst of edge\n    this.registerEvent(\"userChangeEdge\");\n    //userBendEdge(graph, edge, prevQuad) - When user bends the edge\n    this.registerEvent(\"userBendEdge\");\n    //userLabelEdge(graph, edge, prevLabel) - When user re-labels the edge\n    this.registerEvent(\"userLabelEdge\");\n    */\n\n    //userRenameNode(graph, node, nextLabel, prevLabel, isPrevCustom) - When user sets the label of node\n    this.registerEvent(\"userRenameNode\");\n\n    //userChangeLayout(graph, prevLayout) - When user re-layouts the graph\n    this.registerEvent(\"userChangeLayout\");\n    this.registerEvent(\"userPreChangeLayout\");//before any changes\n    this.registerEvent(\"userPostChangeLayout\");//after all changes\n\n    //userImportGraph(graph) - When user imports a graph\n    this.registerEvent(\"userImportGraph\");\n    this.registerEvent(\"userPreImportGraph\");//before any changes\n    this.registerEvent(\"userPostImportGraph\");//after all changes\n\n    //nodeMove(targetNode, nextX, nextY, prevX, prevY)\n    this.registerEvent(\"nodeMove\");\n    //nodeMoveAll(targetNodes, dx, dy)\n    this.registerEvent(\"nodeMoveAll\");\n    //nodeInitial(nextInitial, prevInitial)\n    this.registerEvent(\"nodeInitial\");\n    //edgeDestination(targetEdge, nextDestination, prevDestination, prevQuad)\n    this.registerEvent(\"edgeDestination\");\n    //edgeMove(targetEdge, nextQuad, prevQuad)\n    this.registerEvent(\"edgeMove\");\n    //edgeLabel(targetEdge, nextLabel, prevLabel)\n    this.registerEvent(\"edgeLabel\");\n    //tryCreateWhileTrash()\n    this.registerEvent(\"tryCreateWhileTrash\");\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this.inputController = module.getInputController();\n    this.machineController = module.getMachineController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  renameNode(node, name)\n  {\n    const prev = node.getNodeLabel();\n    const isPrevCustom = node.getNodeCustom();\n\n    node.setNodeLabel(name);\n    node.setNodeCustom(true);\n\n    this.emit(\"userRenameNode\", this.getGraph(), node, name, prev, isPrevCustom);\n  }\n\n  createNode(x, y)\n  {\n    const newNodeLabel = this.getGraphLabeler().getDefaultNodeLabel();\n\n    if (typeof x === 'undefined') x = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n    if (typeof y === 'undefined') y = (Math.random() * Config.SPAWN_RADIUS * 2) - Config.SPAWN_RADIUS;\n\n    this.emit(\"userPreCreateNode\", this.getGraph(), newNodeLabel, x, y);\n\n    const node = this.getGraph().createNode(x, y);\n    node.setNodeLabel(newNodeLabel);\n\n    this.emit(\"userCreateNode\", this.getGraph(), node);\n\n    this.emit(\"userPostCreateNode\", this.getGraph(), node);\n    return node;\n  }\n\n  deleteSelectedNodes(selectedNode)\n  {\n    const picker = this.inputController.getPicker();\n    const selection = picker.getSelection(this.getGraph()).slice();\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n\n    //Remove from graph\n    for(const node of selection)\n    {\n      this.getGraph().deleteNode(node);\n    }\n\n    //Remove from selection\n    picker.clearSelection();\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n  }\n\n  deleteTargetNode(target)\n  {\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n\n    this.getGraph().deleteNode(target);\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n  }\n\n  deleteTargetNodes(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    this.emit(\"userPreDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n\n    const graph = this.getGraph();\n    for(const node of targets)\n    {\n      graph.deleteNode(node);\n    }\n\n    //Emit event\n    this.emit(\"userDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n    this.emit(\"userPostDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n  }\n\n  deleteTargetEdge(target)\n  {\n    this.emit(\"userPreDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.getGraph().deleteEdge(target);\n\n    //Emit event\n    this.emit(\"userDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.emit(\"userPostDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n  }\n\n  deleteTargetEdges(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    for(const target of targets)\n    {\n      this.deleteTargetEdge(target);\n    }\n  }\n\n  moveNodeTo(pointer, node, x, y)\n  {\n    for(const other of this.getGraph().getNodes())\n    {\n      //Update node collision\n      if (node === other) continue;\n      const nodeSize = node.getNodeSize();\n\n      const dx = x - other.x;\n      const dy = y - other.y;\n      const angle = Math.atan2(dy, dx);\n\n      const diameter = (nodeSize * 2);\n      const nextDX = other.x + (Math.cos(angle) * diameter) - x;\n      const nextDY = other.y + (Math.sin(angle) * diameter) - y;\n\n      if (dx * dx + dy * dy < nodeSize * nodeSize * 4)\n      {\n        x += nextDX;\n        y += nextDY;\n      }\n    }\n\n    node.x = x;\n    node.y = y;\n  }\n\n  moveMultipleNodesTo(pointer, nodes, x, y)\n  {\n    //Moves all nodes by difference between initial position with passed-in x and y\n    const pos = pointer.getInputEventPosition();\n    const dx = x - pos.x;\n    const dy = y - pos.y;\n    for(const node of nodes)\n    {\n      node.x += dx;\n      node.y += dy;\n    }\n\n    //Updates initial position to passed-in x and y to maintain relative position\n    pointer.changeInputEventPosition(x, y);\n  }\n\n  moveEdgeTo(pointer, edge, x, y)\n  {\n    edge.setQuadraticByCoords(x, y);\n  }\n\n  moveEndpointTo(pointer, edge, x, y)\n  {\n    //Get ONLY node at x and y (cannot use hover target, since it is not ONLY nodes)\n    const picker = this.inputController.getPicker();\n    const dst = picker.getNodeAt(this.getGraph(), x, y) || pointer;\n\n    edge.changeDestinationNode(dst);\n\n    //If the cursor returns to the state after leaving it...\n    if (edge.isSelfLoop())\n    {\n      //Make it a self loop\n      const sourceNode = edge.getSourceNode();\n      const dx = sourceNode.x - x;\n      const dy = sourceNode.y - y;\n      const radians = Math.atan2(dy, dx) + Math.PI;\n      edge.setQuadratic(radians);\n    }\n    //Otherwise, maintain original curve\n    else\n    {\n      //TODO: This also causes self-loops to act weird when no longer a self loop\n      edge.setQuadratic(this.prevQuad.radians, this.prevQuad.length);\n    }\n  }\n\n  openLabelEditor(target, x, y, placeholder=null, replace=true, callback=null)\n  {\n    if (!this.labelEditorElement)\n    {\n      if (callback) callback();\n      return;\n    }\n\n    const prevLabel = placeholder || target instanceof GraphEdge ? target.getEdgeLabel() : target.getNodeLabel();\n    this.labelEditorElement.openEditor(target, placeholder, replace, () => {\n      const label = target instanceof GraphEdge ? target.getEdgeLabel() : target.getNodeLabel();\n      if (prevLabel && prevLabel.length > 0 && label != prevLabel)\n      {\n        this.emit(target instanceof GraphEdge ? \"edgeLabel\" : \"nodeLabel\", this.getGraph(), target, label, prevLabel);\n      }\n\n      if (callback)\n      {\n        callback();\n      }\n    });\n  }\n\n  focusOnNode(node)\n  {\n    //Center workspace at focused node; inverted due to graph-to-screen space\n    this.inputController.getInputAdapter().getViewport().setOffset(-node.x, -node.y);\n  }\n\n  focusOnEdge(edge)\n  {\n    //Center workspace at focused edge; inverted due to graph-to-screen space\n    const center = edge.getCenterPoint();\n    this.inputController.getInputAdapter().getViewport().setOffset(-center.x, -center.y);\n  }\n\n  focusOnNodes(nodes)\n  {\n    //Center workspace at the average of focused nodes; inverted due to graph-to-screen space\n    const length = nodes.length;\n    let ax = 0;\n    let ay = 0;\n    for(const node of nodes)\n    {\n      ax += node.x;\n      ay += node.y;\n    }\n    this.inputController.getInputAdapter().getViewport().setOffset(-ax / length, -ay / length);\n  }\n}\n//Mixin Eventable\nEventable.mixin(DefaultGraphController);\n\nfunction moveNodesOutOfEdges(target, graph)\n{\n\n  const x1 = target.getSourceNode().x;\n  const y1 = target.getSourceNode().y;\n  const x2 = target.getDestinationNode().x;\n  const y2 = target.getDestinationNode().y;\n  const dist12sq = (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\n  let vertical = false;\n  let m = 0;\n  let b = 0;\n  if(x1 > x2) {\n    m = (y1-y2) / (x1-x2);\n    b = y2-m*x2;\n  } else if (x1 < x2) {\n    m = (y2-y1) / (x2-x1);\n    b = y1-m*x1;\n  } else {\n    vertical = true;\n  }\n\n  for(const node of graph.getNodes())\n  {\n    if(node === target.getSourceNode() || node === target.getDestinationNode()) continue;\n\n    const x0 = node.x;\n    const y0 = node.y;\n\n    const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n    const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n    if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n\n    let dist = 0;\n    let xint = 0;\n    let yint = 0;\n    let m0 = 0;\n    let horizontal = false;\n    if(vertical) {\n      dist = Math.abs(x1-x0);\n      xint = x1;\n      yint = y0;\n      m0 = 0;\n    } else {\n      dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n      xint = (x0 + m*y0 - m*b) / (m*m + 1);\n      yint = m * xint + b;\n      if(m !== 0) {\n        m0 = 1 / m;\n      } else {\n        horizontal = true;\n      }\n    }\n\n    if(dist < Config.NODE_RADIUS) {\n      const toMove = Config.NODE_RADIUS - dist + 10;\n      const distx = x0 - xint;\n      const disty = y0 - yint;\n      let signx = -1;\n      let signy = -1;\n      if(distx > 0) signx = 1;\n      if(disty > 0) signy = 1;\n\n      if(horizontal) {\n        node.y = y0 + signy * toMove;\n      } else {\n        let toMovex = toMove / Math.sqrt(m0*m0 + 1);\n        let toMovey = Math.abs(m0) * toMovex;\n        node.x = x0 + signx * toMovex;\n        node.y = y0 + signy * toMovey;\n      }\n    }\n  }\n}\n\nexport default DefaultGraphController;\n","import AbstractModuleMachineController from 'modules/abstract/AbstractModuleMachineController.js';\n\nclass DefaultMachineController extends AbstractModuleMachineController\n{\n  constructor(module)\n  {\n    super(module);\n\n    this._machineName = \"\";\n  }\n\n  setMachineName(name) { this._machineName = name; }\n  getMachineName() { return this._machineName; }\n}\nexport default DefaultMachineController;\n","import React from 'react';\n\nclass DefaultPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  //Override\n  render()\n  {\n    return <div className={\"panel-container \" + this.props.className} id=\"about\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>Default</h1>\n      </div>\n      <div className=\"panel-content\">\n        <p>{\"Brought to you with \\u2764 by the Flap.js team.\"}</p>\n        <p>{\"<- Tap on a tab to begin!\"}</p>\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\n\nexport default DefaultPanel;\n","import React from 'react';\n\nconst GRAPH_NODE_CONTAINER_STYLE_NAME = \"graph-node-container\";\nconst GRAPH_NODE_BODY_STYLE_NAME = \"graph-node\";\nconst GRAPH_NODE_LABEL_STYLE_NAME = \"graph-node-label\";\n\nclass GraphNodeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const node = this.props.node;\n    const fill = this.props.fill || \"#FFFFFF\";\n    const stroke = this.props.stroke || \"#000000\";\n\n    const label = node.getNodeLabel() || \"\";\n\n    return (\n      <g className={GRAPH_NODE_CONTAINER_STYLE_NAME}>\n        {/*Outer circle*/}\n        <circle className={GRAPH_NODE_BODY_STYLE_NAME}\n          cx={node.x} cy={node.y}\n          r={node.getNodeSize()}\n\n          fill={fill}\n          stroke={stroke}/>\n\n        //Label\n        <text className={GRAPH_NODE_LABEL_STYLE_NAME}\n          x={node.x} y={node.y + 4}\n          pointerEvents=\"none\"\n          style={{\n            userSelect: \"none\",\n            fontSize: (1 - Math.min(Math.max(label.length - 2, 0) / 6, 0.5)) + \"em\"\n          }}\n          textAnchor=\"middle\">\n          {label}\n        </text>\n      </g>\n    );\n  }\n}\n\nexport default GraphNodeRenderer;\n","import React from 'react';\n\nconst GRAPH_EDGE_CONTAINER_STYLE_NAME = \"graph-edge-container\";\nconst GRAPH_EDGE_BODY_STYLE_NAME = \"graph-edge\";\nconst GRAPH_EDGE_LABEL_STYLE_NAME = \"graph-edge-label\";\n\nconst ARROW_WIDTH = 10;\nconst SIXTH_PI = Math.PI / 6;\n\nclass QuadraticEdgeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const stroke = this.props.stroke || \"#000000\";\n\n    const edge = this.props.edge;\n    const start = edge.getStartPoint();\n    const end = edge.getEndPoint();\n    const center = edge.getCenterPoint();\n    const label = edge.getEdgeLabel();\n    const quad = edge.getQuadratic();\n    const quadCoords = edge.getQuadraticAsCoords();\n    const edgeDir = edge.getEdgeDirection();\n    const flipLabel = quadCoords.y > 0;\n\n    //Calculate curved lines...\n    let quadLine = null;\n    let arrowAngle = 0;\n    if (!edge.isQuadratic())\n    {\n      //Straight line\n      arrowAngle = Math.atan2(start.x - end.x, start.y - end.y) + Math.PI;\n      quadLine = \"L \" + end.x + \" \" + end.y;\n    }\n    else\n    {\n      //Quadratic curve\n      //center = (midpoint + the quadratic offset) + the quadratic offset\n      const cx = center.x + quadCoords.x;\n      const cy = center.y + quadCoords.y;\n      arrowAngle = Math.atan2(cx - end.x, cy - end.y) + Math.PI;\n      quadLine = \"Q \" + cx + \" \" + cy + \" \" + end.x + \" \" + end.y;\n    }\n\n    //Draw multiple labels\n    const labels = label ? label.split('\\n') : [];\n    let dy = 0;\n\n    const cx = (center && center.x || 0);\n    const cy = (center && center.y || 0);\n\n    return (\n      <g className={GRAPH_EDGE_CONTAINER_STYLE_NAME}>\n        //Draw lines\n        <path className={GRAPH_EDGE_BODY_STYLE_NAME} id={\"edge:\" + edge.getGraphElementID()}\n          d={\n            \"M \" + start.x + \" \" + start.y + \" \" +\n            quadLine + \" \" +\n            \"M \" +\n              (end.x - (ARROW_WIDTH * Math.sin(arrowAngle - SIXTH_PI))) + \" \" +\n              (end.y - (ARROW_WIDTH * Math.cos(arrowAngle - SIXTH_PI))) + \" \" +\n            \"L \" + end.x + \" \" + end.y + \" \" +\n            \"L \" +\n              (end.x - (ARROW_WIDTH * Math.sin(arrowAngle + SIXTH_PI))) + \" \" +\n              (end.y - (ARROW_WIDTH * Math.cos(arrowAngle + SIXTH_PI)))}\n          fill=\"none\"\n\n          stroke={stroke}/>\n\n        {/*Draw labels*/}\n        <g transform={\"translate(\" + (cx) + \",\" + (cy) + \") rotate(\" + (edgeDir * 180 / Math.PI) + \")\"}>\n        { labels.length > 0 && labels.map((str, i) => {\n            const yy = (i + 1) * -15;\n\n            //TODO: ctx.clearRect(xx - cx - 2, yy - 5, (cx * 2) + 4, 10);\n            return <text\n              key={str + \".\" + i}\n              className={GRAPH_EDGE_LABEL_STYLE_NAME}\n              transform={\"translate(0, \" + yy + \")\" + (flipLabel ? \" scale(-1, -1)\" : \"\")}\n              alignmentBaseline=\"central\"\n              pointerEvents=\"none\"\n              style={{userSelect: \"none\"}}\n              textAnchor=\"middle\">\n              {str}\n            </text>;\n        })}\n        </g>\n      </g>\n    );\n  }\n}\n\nexport default QuadraticEdgeRenderer;\n","import React from 'react';\nimport DefaultGraphRenderer from './DefaultGraphRenderer.css';\n\nimport GraphNodeRenderer from 'graph/renderer/GraphNodeRenderer.js';\nimport QuadraticEdgeRenderer from 'graph/renderer/QuadraticEdgeRenderer.js';\n\nclass HLSMGraphRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    return <g>\n      {graph.getNodes().map((e, i) => <GraphNodeRenderer key={e.getGraphElementID() || i} node={e}/>)}\n      {graph.getEdges().map((e, i) => <QuadraticEdgeRenderer key={e.getGraphElementID() || i} edge={e}/>)}\n    </g>;\n  }\n}\n\nexport default HLSMGraphRenderer;\n","import React from 'react';\n\nimport SelectionBoxRenderer from 'content/workspace/renderer/SelectionBoxRenderer.js';\nimport HighlightRenderer from 'content/workspace/renderer/HighlightRenderer.js';\n\nclass DefaultGraphOverlayRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    const selectionBox = picker.getSelectionBox();\n\n    return <g>\n      {/* Selected elements */}\n      { picker.hasSelection() &&\n        picker.getSelection(graph).map((e, i) =>\n          <HighlightRenderer key={e.getGraphElementID()} className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={e} type=\"node\"/>) }\n\n      {/* Selection box */}\n      <SelectionBoxRenderer visible={selectionBox.visible}\n        fromX={selectionBox.fromX} fromY={selectionBox.fromY}\n        toX={selectionBox.toX} toY={selectionBox.toY}/>\n\n      {/* Hover markers */}\n      { picker.hasTarget() &&\n        !picker.isTargetInSelection() &&\n        <HighlightRenderer className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={picker.target} type={picker.targetType}/> }\n    </g>;\n  }\n}\n\nexport default DefaultGraphOverlayRenderer;\n","import React from 'react';\n\nimport TrashCan from 'content/viewport/TrashCan.js';\nimport CursorMode from 'content/viewport/CursorMode.js';\n\nclass DefaultViewportRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n    const screen = this.props.screen;\n\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return <span>\n    { LabelEditor &&\n      <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n      inputController={inputController}\n      graphController={graphController}\n      machineController={machineController}\n      screen={screen}/> }\n      <span>\n        <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n          <CursorMode inputController={inputController} graphController={graphController}/>\n        </div>\n        <div className=\"anchor-bottom-right\">\n          <TrashCan inputController={inputController} viewport={parent}/>\n        </div>\n      </span>\n    </span>;\n  }\n}\nexport default DefaultViewportRenderer;\n","import React from 'react';\nimport './DefaultLabelEditor.css';\n\nimport GraphEdge from 'graph/GraphEdge.js';\n\nimport Config from 'config.js';\nimport { SYMBOL_SEPARATOR, EMPTY_CHAR } from 'modules/fsa/graph/FSAEdge.js';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\n//TODO: This is equivalent to 4em for toolbar height\nconst LABEL_OFFSET_Y = -64;\nconst EDITOR_OFFSET_Y = -36;\nconst DELETE_KEY = 8;\nconst DELETE_FORWARD_KEY = 46;\n\nconst RECOMMENDED_SYMBOLS = [\"0\", \"1\"];\nconst DEFAULT_SYMBOLS = [EMPTY_CHAR];\nconst DELETE_ON_EMPTY = true;\n\nclass DefaultLabelEditor extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.parentElement = null;\n    this.inputElement = null;\n\n    //HACK: this is so if the click is focused back to the label editor, then it will NOT close\n    this._timer = null;\n    this._prevValue = \"\";\n\n    this.state = {\n      target: null,\n      callback: null\n    };\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onFormat = this.onFormat.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  openEditor(targetElement, defaultText=null, replace=true, callback=null)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    this.setState((prev, props) => {\n      return {\n        target: targetElement,\n        callback: callback\n      };\n    });\n\n    const targetLabel = targetElement instanceof GraphEdge ?\n      targetElement.getEdgeLabel() :\n      targetElement.getNodeLabel();\n    this.inputElement.resetValue(targetLabel, () => {\n      if (defaultText) this.inputElement.setValue(defaultText);\n\n      this._prevValue = targetLabel;\n      this.parentElement.focus();\n      this.inputElement.focus(replace);\n    });\n  }\n\n  closeEditor(saveOnExit=false)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    //Save data\n    const targetElement = this.state.target;\n    if (targetElement !== null)\n    {\n      if (saveOnExit)\n      {\n        let value = this.inputElement.value;\n        if (targetElement instanceof GraphEdge)\n        {\n          targetElement.setEdgeLabel(value);\n        }\n        else\n        {\n          targetElement.setNodeLabel(value);\n        }\n      }\n      else\n      {\n        const targetLabel = targetElement instanceof GraphEdge ?\n          targetElement.getEdgeLabel() :\n          targetElement.getNodeLabel();\n        if (!targetLabel)\n        {\n          //Make sure its empty (and let edge handle default labels)\n          if (targetElement instanceof GraphEdge)\n          {\n            targetElement.setEdgeLabel(null);\n          }\n          else\n          {\n            targetElement.setNodeLabel(null);\n          }\n\n          //Delete it since it is not a valid element\n          if (DELETE_ON_EMPTY)\n          {\n            if (targetElement instanceof GraphEdge)\n            {\n              this.props.graphController.getGraph().deleteEdge(targetElement);\n            }\n            else\n            {\n              this.props.graphController.getGraph().deleteNode(targetElement)\n            }\n          }\n        }\n      }\n\n      this.setState({target: null});\n\n      if (this.state.callback) this.state.callback();\n    }\n\n    //Reset label editor\n    this.inputElement.blur();\n  }\n\n  hasFocus()\n  {\n    return this.inputElement.hasFocus();\n  }\n\n  isEditorOpen()\n  {\n    return this.state.target !== null;\n  }\n\n  onContextMenu(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  appendSymbol(symbol)\n  {\n    this.inputElement.appendValue(symbol, SYMBOL_SEPARATOR);\n    this.inputElement.focus(false);\n  }\n\n  onSubmit(newValue, prevValue)\n  {\n    //this._prevValue = newValue;\n    //If the value has changed or the value remained empty...\n    if (newValue != prevValue)\n    {\n      //this.closeEditor(true);\n    }\n    else\n    {\n      //TODO: This was commented out for some reason...\n      //Will close due to timer...\n      this.closeEditor(false);\n    }\n  }\n\n  onFormat(value)\n  {\n    return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null, value);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const viewport = inputController.getInputAdapter().getViewport();\n    const graphController = this.props.graphController;//This is used in closeEditor()\n    const machineController = this.props.machineController;//This is also used in callbacks\n    const screen = this.props.screen;\n\n    const targetStyle = {\n      visibility: \"hidden\"\n    };\n\n    const target = this.state.target;\n\n    if (target)\n    {\n      targetStyle.visibility = \"visible\";\n\n      //Assumes target is an instance of Edge\n      const center = target instanceof GraphEdge ?\n        target.getCenterPoint() :\n        target/* GraphNode themselves have x/y attribs */;\n      const screenPos = transformViewToScreen(screen,\n        center.x + viewport.getOffsetX(),\n        center.y + viewport.getOffsetY());\n      const x = screenPos.x;\n      const y = screenPos.y + LABEL_OFFSET_Y + EDITOR_OFFSET_Y;\n      const offsetX = -(this.parentElement.offsetWidth / 2);\n      const offsetY = -(this.parentElement.offsetHeight / 2);\n\n      targetStyle.top = (y + offsetY) + \"px\";\n      targetStyle.left = (x + offsetX) + \"px\";\n    }\n\n    return <div className=\"bubble\" id=\"label-editor\" ref={ref=>this.parentElement=ref}\n      tabIndex={\"0\"/*This is to allow div's to focus/blur*/}\n      style={targetStyle}\n      onContextMenu={this.onContextMenu}\n      onFocus={(e)=>{\n        //HACK: delete the timer that will exit labelEditor\n        clearTimeout(this._timer);\n      }}\n      onBlur={(e)=>{\n        //HACK: start the timer that will exit labelEditor if not return focus\n        this._timer = setTimeout(() => this.closeEditor(true), 10);\n      }}>\n      <FormattedInput className=\"label-editor-input\" ref={ref=>this.inputElement=ref}\n        formatter={this.onFormat}\n        onSubmit={this.onSubmit}\n        captureOnExit={\"none\"}\n        multiline={true}/>\n    </div>;\n  }\n}\n\nfunction transformViewToScreen(svg, x, y)\n{\n  const ctm = svg.getScreenCTM();\n  return {\n    x: (x * ctm.a) + ctm.e,\n    y: (y * ctm.d) + ctm.f\n  };\n}\n\nexport default DefaultLabelEditor;\n","import AbstractModule from 'modules/abstract/AbstractModule.js';\n\nimport DefaultGraphExporter from './DefaultGraphExporter.js';\n\nimport DefaultInputController from './DefaultInputController.js';\nimport DefaultGraphController from './DefaultGraphController.js';\nimport DefaultMachineController from './DefaultMachineController.js';\n\nimport DefaultPanel from './DefaultPanel.js';\nimport DefaultGraphRenderer from './DefaultGraphRenderer.js';\nimport DefaultGraphOverlayRenderer from './DefaultGraphOverlayRenderer.js';\nimport DefaultViewportRenderer from './DefaultViewportRenderer.js';\n\nimport DefaultLabelEditor from './DefaultLabelEditor.js';\n\nconst VERSION = \"0.0.1\";\nconst PANELS = [DefaultPanel];\nconst EXPORTERS = [new DefaultGraphExporter()];\n\nclass DefaultModule extends AbstractModule\n{\n  constructor(app)\n  {\n    super(app);\n\n    const inputAdapter = app.getInputAdapter();\n    this._inputController = new DefaultInputController(this, inputAdapter);\n    this._graphController = new DefaultGraphController(this);\n    this._machineController = new DefaultMachineController(this);\n  }\n\n  getLabelEditor()\n  {\n    return DefaultLabelEditor;\n  }\n\n  //Override\n  initialize(app)\n  {\n    super.initialize(app);\n  }\n\n  //Override\n  destroy(app)\n  {\n    super.destroy(app);\n  }\n\n  //Override\n  update(app)\n  {\n    super.update(app);\n  }\n\n  //Override\n  getRenderer(renderLayer)\n  {\n    switch(renderLayer)\n    {\n      case \"graph\":\n        return DefaultGraphRenderer;\n      case \"graphoverlay\":\n        return DefaultGraphOverlayRenderer;\n      case \"viewport\":\n        return DefaultViewportRenderer;\n    }\n    return null;\n  }\n  //Override\n  getInputController() { return this._inputController; }\n  //Override\n  getGraphController() { return this._graphController; }\n  //Override\n  getMachineController() { return this._machineController; }\n  //Override\n  getGraphExporters() { return EXPORTERS; }\n  //Override\n  getModuleVersion() { return VERSION; }\n  //Override\n  getModulePanels() { return PANELS; }\n  //Override\n  getModuleName() { return \"default\"; }\n  //Override\n  getLocalizedModuleName() { return \"Default\"; }\n}\n\nexport default DefaultModule;\n","import React from 'react';\nimport Style from './IconButton.css';\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const showButtonLabel = IconButton.SHOW_LABEL && title;\n\n    return (\n      <button id={this.props.id}\n        className={Style.icon_button +\n          (showButtonLabel ? \" icon-button-show-label \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        {this.props.children}\n        <label>{title}</label>\n      </button>\n    );\n  }\n}\nIconButton.SHOW_LABEL = false;\n\nexport default IconButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './DrawerView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ExpandDownIcon from 'experimental/iconset/ExpandDownIcon.js';\n\nconst DRAWER_WIDTH_CSSVAR = \"--drawer-width\";\nconst DRAWER_HANDLE_DRAG_OFFSET = 6;\nconst DRAWER_HANDLE_MIN_SIZE_BUFFER = 32;\nconst DRAWER_HANDLE_MAX_SIZE_BUFFER = 128;\nconst DRAWER_MIN_WIDTH = 200;\nconst DRAWER_RESIZE_REFRESH_RATE = 200;\nconst DRAWER_HANDLE_CUSTOM_SNAP_WIDTH = 300;\n\nconst DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE = true;\nconst DRAWER_SHOULD_HIDE_TAB_LIST = false;\n\nexport const DRAWER_WIDTH_TYPE_FULL = \"full\";\nexport const DRAWER_WIDTH_TYPE_MIN = \"min\";\nexport const DRAWER_SIDE_BOTTOM = \"bottom\";\nexport const DRAWER_SIDE_RIGHT = \"right\";\nexport const DRAWER_BAR_DIRECTION_VERTICAL = \"vertical\";\nexport const DRAWER_BAR_DIRECTION_HORIZONTAL = \"horizontal\";\n\nclass DrawerView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.drawerElement = null;\n\n    this.state = {\n      open: false,\n      tabIndex: 0,\n      soloClass: null\n    };\n\n    //When drawer is currently changing size intentfully\n    this._handlingGrab = false;\n    this._handlingResize = false;\n    //Whether the drawer should fullscreen\n    this._isfull = false;\n    //Whether to restore drawer width after fullscreen\n    this._hasintent = false;\n    //Save intentful drawer width for restore after fullscreen\n    this._prevWidth = DRAWER_MIN_WIDTH;\n    //Used to manage resize updates\n    this._resizeTimeout = null;\n    this._resizeEndTimeout = null;\n    //Changed in render() to reflect current render state.\n    this._sideways = false;\n\n    this.onDrawerHandleGrab = this.onDrawerHandleGrab.bind(this);\n    this.onDrawerHandleRelease = this.onDrawerHandleRelease.bind(this);\n    this.onDrawerHandleMove = this.onDrawerHandleMove.bind(this);\n    this.onDrawerExpand = this.onDrawerExpand.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    window.addEventListener('resize', this.onWindowResize, false);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  openDrawer(fullscreen=false, callback=null)\n  {\n    if (fullscreen)\n    {\n      this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n    }\n\n    if (!this.state.open)\n    {\n      this.setState({ open: true }, callback);\n    }\n  }\n\n  closeDrawer(callback=null)\n  {\n    if (this.state.open)\n    {\n      this.setState({ open: false }, callback);\n    }\n  }\n\n  toggleDrawer(callback=null)\n  {\n    this.setState((prev, props) => {\n      return { open: !prev.open };\n    }, callback);\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.open;\n  }\n\n  isDrawerFullscreen()\n  {\n    return this._isfull;\n  }\n\n  setCurrentTab(tabIndex)\n  {\n    if (!this.props.panels) return;\n    if (tabIndex >= this.props.panels.length) tabIndex = 0;\n    if (this.state.open && this.state.tabIndex === tabIndex)\n    {\n      //Toggle fullscreen\n      if (this._isfull)\n      {\n        this.setDrawerWidth(this._prevWidth);\n      }\n      else\n      {\n        this.setDrawerWidth(DRAWER_WIDTH_TYPE_FULL, true);\n      }\n    }\n    else\n    {\n      //Open and set tab index\n      this.setState({open: true, tabIndex: tabIndex});\n    }\n  }\n\n  getCurrentTabIndex()\n  {\n    return this.state.tabIndex;\n  }\n\n  isCurrentTab(tabIndex)\n  {\n    return this.state.tabIndex === tabIndex;\n  }\n\n  setDrawerSoloClass(soloClass, callback=null)\n  {\n    this.setState({soloClass: soloClass}, callback);\n  }\n\n  setDrawerWidth(value, hasIntent=true)\n  {\n    if (!this.drawerElement || !this.ref) return;\n\n    this._hasintent = hasIntent;\n\n    const drawerSide = this.props.side;\n    const drawerOffsetY = this.ref.getBoundingClientRect().top;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight - drawerOffsetY:\n      document.documentElement.clientWidth;\n    const minSize = DRAWER_MIN_WIDTH;\n\n    if (typeof value === 'string')\n    {\n      switch(value)\n      {\n        case DRAWER_WIDTH_TYPE_FULL:\n          this._isfull = true;\n          this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n          break;\n        case DRAWER_WIDTH_TYPE_MIN:\n          this._isfull = false;\n          this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, minSize + \"px\");\n          break;\n        default:\n          throw new Error(\"Trying to set drawer width to invalid string\");\n      }\n    }\n    else if (typeof value === 'number')\n    {\n      if (value < minSize + DRAWER_HANDLE_MIN_SIZE_BUFFER) value = minSize;\n      if (value > documentSize - DRAWER_HANDLE_MAX_SIZE_BUFFER)\n      {\n        value = documentSize;\n        this._isfull = true;\n      }\n      else\n      {\n        this._isfull = false;\n      }\n      this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, value + \"px\");\n    }\n    else\n    {\n      throw new Error(\"Trying to set drawer width to unknown value\");\n    }\n  }\n\n  onDrawerExpand()\n  {\n    //Don't close, just small-ify.\n    if (this.state.open && this._isfull)\n    {\n      this.setDrawerWidth(this._prevWidth);\n\n      //If did not make any changes...\n      if (this._isfull)\n      {\n        //Make it do normal stuff.\n        this.toggleDrawer();\n      }\n    }\n    else\n    {\n      this.toggleDrawer();\n    }\n  }\n\n  onWindowResize(e)\n  {\n    if (!this._resizeTimeout)\n    {\n      this._resizeTimeout = setTimeout(() => {\n        this._resizeTimeout = null;\n\n        //Handle resize ends (more like debouncing)\n        if (this._resizeEndTimeout) clearTimeout(this._resizeEndTimeout);\n        else this._handlingResize = true;\n        this._resizeEndTimeout = setTimeout(() => {\n          this._resizeEndTimeout = null;\n          this._handlingResize = false;\n        }, 500);\n\n        if (!this.drawerElement || !this.ref) return;\n\n        const drawerSide = this.props.side;\n        const drawerOffsetY = this.ref.getBoundingClientRect().top;\n        const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n        const documentSize = isDrawerSideBottom ?\n          document.documentElement.clientHeight - drawerOffsetY:\n          document.documentElement.clientWidth;\n\n        if (this._isfull)\n        {\n          if (this._hasintent) return;\n          if (this._prevWidth + DRAWER_HANDLE_MAX_SIZE_BUFFER < documentSize)\n          {\n            this._isfull = false;\n            this.drawerElement.style.setProperty(DRAWER_WIDTH_CSSVAR, this._prevWidth + \"px\");\n          }\n        }\n        else\n        {\n          const drawerSize = getCSSDrawerWidth(this.drawerElement);\n          if (drawerSize + DRAWER_HANDLE_MAX_SIZE_BUFFER > documentSize)\n          {\n            this._isfull = true;\n            this._hasintent = false;\n          }\n        }\n      }, DRAWER_RESIZE_REFRESH_RATE);\n    }\n  }\n\n  onDrawerHandleGrab(e)\n  {\n    if (!this._handlingGrab)\n    {\n      this._handlingGrab = true;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n      document.addEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.addEventListener(\"mousemove\", this.onDrawerHandleMove);\n    }\n    else\n    {\n      this.onDrawerHandleRelease(e);\n    }\n  }\n\n  onDrawerHandleRelease(e)\n  {\n    if (this._handlingGrab)\n    {\n      document.removeEventListener(\"mouseup\", this.onDrawerHandleRelease);\n      document.removeEventListener(\"mousemove\", this.onDrawerHandleMove);\n      this._handlingGrab = false;\n      this._prevWidth = getCSSDrawerWidth(this.drawerElement);\n    }\n  }\n\n  onDrawerHandleMove(e)\n  {\n    const drawerSide = this.props.side;\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const documentSize = isDrawerSideBottom ?\n      document.documentElement.clientHeight :\n      document.documentElement.clientWidth;\n    const pointerValue = isDrawerSideBottom ? e.clientY : e.clientX;\n\n    let result = documentSize - pointerValue + DRAWER_HANDLE_DRAG_OFFSET;\n    //Try snapping to some widths...\n    if (!isDrawerSideBottom && Math.abs(result - DRAWER_HANDLE_CUSTOM_SNAP_WIDTH) < DRAWER_HANDLE_MIN_SIZE_BUFFER)\n    {\n      result = DRAWER_HANDLE_CUSTOM_SNAP_WIDTH;\n    }\n    this.setDrawerWidth(result);\n  }\n\n  //Override\n  render()\n  {\n    const drawerPanels = this.props.panels;\n    const drawerSide = this.props.side || DRAWER_SIDE_RIGHT;\n    const drawerDirection = this.props.direction || DRAWER_BAR_DIRECTION_HORIZONTAL;\n    const shouldDrawerHide = this.props.hide || false;\n    const drawerSoloClass = this.state.soloClass;\n\n    const isDrawerOpen = this.state.open;\n    //Assumes that parent container has flex and flex-direction: column for bottom, row for right.\n    const isDrawerSideBottom = drawerSide === DRAWER_SIDE_BOTTOM;\n    const shouldDrawerBarSideways = !isDrawerSideBottom && (!isDrawerOpen || drawerDirection === DRAWER_BAR_DIRECTION_VERTICAL);\n    const showDrawerHandle = isDrawerOpen || this._handlingGrab;\n    const shouldDrawerOpenFull = this._isfull;\n    const shouldHideDrawerContent = (DRAWER_SHOULD_HIDE_CONTENT_ON_RESIZE && (this._handlingGrab || this._handlingResize)) || !isDrawerOpen;\n    const showDrawerTabs = isDrawerOpen || !DRAWER_SHOULD_HIDE_TAB_LIST;\n\n    //Used to handle sideways logic\n    this._sideways = shouldDrawerBarSideways;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_content +\n        (isDrawerSideBottom ? \" column \" : \"\") +\n        (\" \" + this.props.className)}\n      style={this.props.style}>\n        <div className={Style.app_viewport}>\n          {this.props.children}\n        </div>\n        <div ref={ref=>this.drawerElement=ref}\n        className={\n          Style.app_drawer +\n          (isDrawerOpen ? \" open \" : \"\") +\n          (shouldDrawerBarSideways ? \" drawer-bar-sideways \" : \"\") +\n          (isDrawerSideBottom ? \" drawer-side-bottom \" : \"\") +\n          (shouldDrawerOpenFull ? \" full \" : \"\") +\n          (shouldHideDrawerContent ? \" hide-content \" : \"\") +\n          (this._handlingResize ? \" no-animation \" : \"\") +\n          (shouldDrawerHide ? \" hide \" : \"\")}>\n          <div className={Style.drawer_handle + (showDrawerHandle ? \" show \" : \"\")} onMouseDown={this.onDrawerHandleGrab}>\n            <span>{\"||\"}</span>\n          </div>\n          <div className={Style.drawer_content}>\n            <nav className={Style.drawer_content_bar}>\n              <IconButton className={Style.drawer_tab_expander} onClick={this.onDrawerExpand}>\n                <ExpandDownIcon/>\n              </IconButton>\n              {showDrawerTabs && drawerPanels && drawerPanels.map((e, i) => {\n                if (!e) return null;\n                if (!e['TITLE']) return null;\n                const title = e['TITLE'];\n                const current = this.isCurrentTab(i);\n                const disabled = drawerSoloClass && drawerSoloClass !== e;\n                return (\n                  <a key={title + \":\" + i}\n                    className={Style.drawer_tab +\n                      (current ? \" active \" : \"\") +\n                      (disabled ? \" disabled \" : \"\")}\n                    onClick={() => this.setCurrentTab(i)}>\n                    <label>{title}</label>\n                  </a>\n                );\n              })}\n            </nav>\n            <div className={Style.drawer_content_panel_container}>\n              <div className={Style.drawer_content_panel}>\n                {drawerPanels && drawerPanels.map((e, i) => {\n                  if (!e) return null;\n                  const ComponentClass = e;\n                  const title = e['TITLE'] || \"\";\n                  const current = this.isCurrentTab(i);\n                  const disabled = drawerSoloClass && drawerSoloClass !== e;\n                  return (\n                    <div key={title + \":\" + i}\n                      className={Style.drawer_panel_container +\n                        (!current ? \" hide \" : \"\") +\n                        (disabled ? \" disabled \" : \"\")}>\n                      <ComponentClass className={Style.drawer_panel}\n                        {...this.props.panelProps}\n                        drawer={this}/>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default DrawerView;\n\nfunction getCSSDrawerWidth(drawerElement)\n{\n  return parseInt(window.getComputedStyle(drawerElement).getPropertyValue(DRAWER_WIDTH_CSSVAR).replace(/\\D/g, ''));\n}\n","import React from 'react';\nimport Style from './ToolbarButton.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nexport const TOOLBAR_CONTAINER_MENU = \"menu\";\nexport const TOOLBAR_CONTAINER_TOOLBAR = \"toolbar\";\nexport const TOOLBAR_CONTAINER_ALL = \"all\";\n\nclass ToolbarButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconButton id={this.props.id}\n        className={Style.toolbar_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.props.onClick}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n}\n\nexport default ToolbarButton;\n","import React from 'react';\nimport Style from './ToolbarTitle.css';\n\nimport FormattedInput from 'system/formattedinput/FormattedInput.js';\n\nconst DEFAULT_TITLE = \"Untitled\";\n\nclass ToolbarTitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  setTitle(title)\n  {\n    this.ref.resetValue(title);\n  }\n\n  getTitle()\n  {\n    return this.ref.value;\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.title_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <span className={Style.title_input_container}>\n          <FormattedInput ref={ref=>this.ref=ref}\n            defaultValue={DEFAULT_TITLE}/>\n        </span>\n        <div className={Style.title_subtitle}>\n          ModuleName\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarTitle;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ToolbarView.css';\n\nimport {TOOLBAR_CONTAINER_MENU, TOOLBAR_CONTAINER_TOOLBAR} from './ToolbarButton.js';\nimport ToolbarTitle from './ToolbarTitle.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport MenuIcon from 'experimental/iconset/MenuIcon.js';\n\nconst TOOLBAR_BUTTON_BUFFER = 150;\nconst TOOLBAR_ALLOW_MENU_BAR = true;\nconst TOOLBAR_DEFAULT_MENU_INDEX = -1;\n\nclass ToolbarView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.toolbarElement = null;\n\n    this.state = {\n      open: false,\n      menuIndex: TOOLBAR_DEFAULT_MENU_INDEX\n    };\n\n    this.onBarExpand = this.onBarExpand.bind(this);\n  }\n\n  openBar(callback=null)\n  {\n    if (!this.state.open)\n    {\n      //Open it, but also reset menu...\n      this.setState({ open: true, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  closeBar(callback=null)\n  {\n    if (this.state.open)\n    {\n      //Close it, but also reset menu...\n      this.setState({ open: false, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX }, callback);\n    }\n  }\n\n  toggleBar(callback=null)\n  {\n    //Toggle it, but also reset menu...\n    this.setState((prev, props) => {\n      return { open: !prev.open, menuIndex: TOOLBAR_DEFAULT_MENU_INDEX };\n    }, callback);\n  }\n\n  isBarOpen()\n  {\n    return this.state.open;\n  }\n\n  setCurrentMenu(menuIndex)\n  {\n    if (!this.props.menus) return;\n    if (menuIndex >= this.props.menus.length) menuIndex = TOOLBAR_DEFAULT_MENU_INDEX;\n\n    //Open and set tab index\n    this.setState({open: true, menuIndex: menuIndex});\n  }\n\n  getCurrentMenuIndex()\n  {\n    return this.state.menuIndex;\n  }\n\n  isCurrentMenu(menuIndex)\n  {\n    return this.state.menuIndex === menuIndex;\n  }\n\n  onBarExpand(e)\n  {\n    if (this.state.open && this.state.menuIndex  >= 0)\n    {\n      this.setCurrentMenu(TOOLBAR_DEFAULT_MENU_INDEX);\n    }\n    else\n    {\n      this.toggleBar();\n    }\n  }\n\n  renderMenuButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_TOOLBAR) return child;\n    });\n  }\n\n  renderToolbarButtons(children)\n  {\n    return React.Children.map(children, child => {\n      if (child.props.containerOnly !== TOOLBAR_CONTAINER_MENU) return child;\n    });\n  }\n\n  //Override\n  render()\n  {\n    const toolbarMenus = this.props.menus;\n    const toolbarMenuIndex = this.state.menuIndex;\n    const ToolbarMenu = toolbarMenuIndex >= 0 ? toolbarMenus[toolbarMenuIndex] : null;\n    const showCustomToolbarMenu = ToolbarMenu != null;\n\n    const hasButtons = React.Children.count(this.props.children) > 0;\n    const isBarOpen = this.state.open;\n    const shouldBarHide = this.props.hide || false;\n    const showBarExpander = isBarOpen || (hasButtons && TOOLBAR_ALLOW_MENU_BAR);\n\n    return (\n      <div ref={ref=>this.ref=ref}\n      id={this.props.id}\n      className={Style.app_bar +\n        (isBarOpen ? \" open \" : \"\") +\n        (shouldBarHide ? \" hide \" : \"\") +\n        \" \" + this.props.className}\n      style={this.props.style}>\n        <div className={Style.bar_menu}>\n          {showCustomToolbarMenu ?\n            <div className={Style.menu_container}>\n              <ToolbarMenu {...this.props.menuProps} toolbar={this}/>\n            </div> :\n            <div className={Style.menu_button_container}>\n              {this.renderMenuButtons(this.props.children)}\n            </div>}\n        </div>\n        <div ref={ref=>this.toolbarElement=ref} className={Style.bar_toolbar}>\n          <ToolbarTitle className={Style.toolbar_title}/>\n\n          <div className={Style.toolbar_button_container}>\n            {this.renderToolbarButtons(this.props.children)}\n          </div>\n\n          {showBarExpander &&\n          <IconButton className={Style.toolbar_expander} onClick={this.onBarExpand}>\n            <MenuIcon/>\n          </IconButton>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ToolbarView;\n","import React from 'react';\nimport Style from './WorkspaceView.css';\n\nconst DEFAULT_WORKSPACE_SIZE = 300;\n\nclass WorkspaceView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const viewSize = DEFAULT_WORKSPACE_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfViewSize = viewSize / 2;\n    return (\n      <svg ref={ref=>this.ref=ref} id={this.props.id}\n        className={\"workspace-container\" +\n          \" \" + this.props.className}\n        style={this.props.style}\n        viewBox={(-halfViewSize) +\n          \" \" + (-halfViewSize) +\n          \" \" + viewSize +\n          \" \" + viewSize}\n        xmlns=\"http://www.w3.org/2000/svg\">\n        <g className=\"workspace-content\" transform={\"translate(\" + offsetX + \" \" + offsetY + \")\"}>\n          {this.props.children}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default WorkspaceView;\n","import React from 'react';\nimport Style from './ViewportView.css';\n\nconst VIEWPORT_DEFAULT_VIEW_INDEX = 0;\n\nclass ViewportView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      viewIndex: VIEWPORT_DEFAULT_VIEW_INDEX\n    };\n  }\n\n  setCurrentView(viewIndex)\n  {\n    if (!this.props.views) return;\n    if (viewIndex >= this.props.views.length) viewIndex = VIEWPORT_DEFAULT_VIEW_INDEX;\n\n    //Open and set tab index\n    this.setState({viewIndex: viewIndex});\n  }\n\n  getCurrentViewIndex()\n  {\n    return this.state.viewIndex;\n  }\n\n  isCurrentView(viewIndex)\n  {\n    return this.state.viewIndex === viewIndex;\n  }\n\n  //Override\n  render()\n  {\n    const viewportViews = this.props.views;\n    const viewportViewIndex = this.state.viewIndex;\n    const ViewportViewPane = viewportViewIndex >= 0 ? viewportViews[viewportViewIndex] : null;\n\n    return (\n      <div ref={ref=>this.ref=ref}\n        id={this.props.id}\n        className={Style.view_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {ViewportViewPane &&\n          <ViewportViewPane {...this.props.viewProps} viewport={this}/>}\n      </div>\n    );\n  }\n}\n\nexport default ViewportView;\n","import React from 'react';\nimport Style from './TooltipView.css';\n\nconst TOOLTIP_WAIT_TIME = 30000;\n\nexport const RANDOM_MODE = \"random\";\nexport const SEQUENTIAL_MODE = \"sequential\";\nexport const ONESHOT_MODE = \"oneshot\";\n\nclass TooltipView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._tooltipTimeout = null;\n\n    this.state = {\n      index: props.initial || 0\n    };\n  }\n\n  setTooltipIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getTooltipIndex()\n  {\n    return this.state.index;\n  }\n\n  updateTooltip()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    this._tooltipTimeout = null;\n\n    if (visible)\n    {\n      const count = React.Children.count(this.props.children);\n      let nextIndex = this.state.index + 1;\n      if (mode === RANDOM_MODE)\n      {\n        nextIndex = Math.floor(Math.random() * count);\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        if (nextIndex >= count) nextIndex = count - 1;\n      }\n      else\n      {\n        if (nextIndex >= count) nextIndex = 0;\n      }\n      this.setTooltipIndex(nextIndex);\n    }\n    else\n    {\n      if (mode === RANDOM_MODE)\n      {\n        //Pick a random index to start at.\n        this.setTooltipIndex(Math.floor(Math.random() * React.Children.count(this.props.children)));\n      }\n      else if (mode === ONESHOT_MODE)\n      {\n        //Skip to the end.\n        this.setTooltipIndex(React.Children.count(this.props.children) - 1);\n      }\n      else\n      {\n        //Go back to the beginning.\n        this.setTooltipIndex(0);\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode;\n    const visible = this.props.visible;\n    const tooltipIndex = this.state.index;\n\n    if (visible && !this._tooltipTimeout)\n    {\n      this._tooltipTimeout = setTimeout(() => {\n        this.updateTooltip();\n      }, TOOLTIP_WAIT_TIME);\n    }\n\n    return (\n      <div id={this.props.id}\n        className={Style.tooltip_container +\n          (visible ? \" visible \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {React.Children.map(this.props.children, (child, i) => {\n          return (\n            <label style={{opacity: tooltipIndex === i ? 1 : 0}}>\n              {child}\n            </label>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TooltipView;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './UploadDropZone.css';\n\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\n\nclass UploadDropZone extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this._waiting = false;\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Upload drop zone\n    this.ref.addEventListener(\"drop\", this.onFileDrop);\n    this.ref.addEventListener(\"dragover\", this.onDragEnter);\n    this.ref.addEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.addEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.addEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.ref.removeEventListener(\"drop\", this.onFileDrop);\n    this.ref.removeEventListener(\"dragover\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragenter\", this.onDragEnter);\n    this.ref.removeEventListener(\"dragleave\", this.onDragLeave);\n    this.ref.removeEventListener(\"dragend\", this.onDragLeave);\n  }\n\n  onDragEnter(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Change state\n    this._waiting = true;\n  }\n\n  onDragLeave(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n  }\n\n  onFileDrop(e)\n  {\n    //Prevent file from being opened\n    e.preventDefault();\n    e.stopPropagation();\n\n    //Revert state\n    this._waiting = false;\n\n    const dataTransfer = e.dataTransfer;\n    let fileBlob = null;\n    if (dataTransfer.items)\n    {\n      const dataItems = dataTransfer.items;\n      const length = dataItems.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = dataItems[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const dataFiles = dataTransfer.files;\n      const length = dataFiles.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = dataFiles[0];\n      }\n    }\n\n    if (this.props.onFileDrop)\n    {\n      //NOTE: fileBlob could be null\n      this.props.onFileDrop(fileBlob);\n    }\n\n    if (dataTransfer.items)\n    {\n      dataTransfer.items.clear();\n    }\n    else\n    {\n      dataTransfer.clearData();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const isWaitingForFile = this._waiting;\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.upload_container +\n          (isWaitingForFile ? \" waiting \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <UploadIcon className={Style.upload_icon}/>\n        {React.Children.only(this.props.children)}\n      </div>\n    );\n  }\n}\n\nexport default UploadDropZone;\n","import React from 'react';\nimport Style from './ExportPanel.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\n\nclass ExportPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n    const IconClass = exporter.getIconClass();\n    return (\n      <IconButton key={exporter.getFileType()}\n        className={Style.panel_button}\n        title={exporter.getLabel()}\n        onClick={() => {\n          const currentModule = this.props.currentModule;\n          const machineController = currentModule.getMachineController();\n          const filename = machineController.getMachineName();\n          exporter.exportToFile(filename, currentModule);\n        }}>\n        <IconClass/>\n      </IconButton>\n    );\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphExporters = module.getGraphExporters();\n    const imageExporters = module.getImageExporters();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          {graphExporters.map(e => this.renderExporterButton(e))}\n          {imageExporters.map(e => this.renderExporterButton(e))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExportPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 10l5 5 5-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14l5-5 5 5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './PanelSection.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport TinyDownIcon from 'experimental/iconset/TinyDownIcon.js';\nimport TinyUpIcon from 'experimental/iconset/TinyUpIcon.js';\n\nclass PanelSection extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: props.initial || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    })\n  }\n\n  //Override\n  render()\n  {\n    const isOpen = this.state.open;\n    const isDisabled = this.props.disabled || React.Children.count(this.props.children) <= 0;\n    const title = this.props.title;\n    return (\n      <section id={this.props.id}\n        className={Style.section_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.section_header}\n          title={title}\n          disabled={isDisabled}\n          onClick={this.onClick}>\n          {!isOpen ? <TinyDownIcon/> : <TinyUpIcon/>}\n        </IconButton>\n        <div className={Style.section_content_container +\n          (isOpen ? \" open \" : \"\")}>\n          <div className={Style.section_content}>\n            {this.props.children}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PanelSection;\n","import React from 'react';\nimport Style from './OptionPanel.css';\n\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nclass OptionPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{I18N.toString(\"component.options.title\")}</h1>\n        </div>\n        <div className={Style.panel_content}>\n\n          <PanelSection title={\"Customize stuff\"}>\n            <p>If only there was cool stuff here...</p>\n          </PanelSection>\n\n          <PanelSection title={\"What?\"}>\n          </PanelSection>\n\n          <button onClick={() => {\n            if (window.confirm(\"This will clear any cached or saved data. Are you sure you want to continue?\"))\n            {\n              try { LocalSave.terminate(); }\n              catch(e){/* Ignore if it fails. */}\n              LocalSave.clearStorage();\n\n              window.alert(\"It's done! Restart to apply changes!\");\n            }\n          }}>\n            {\"Get out of Experimental Mode\"}\n          </button>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OptionPanel;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ModeSelectTray.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport EditPencilIcon from 'experimental/iconset/EditPencilIcon.js';\nimport MoveIcon from 'experimental/iconset/MoveIcon.js';\n\nclass ModeSelectTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(newValue)\n  {\n    if (this.props.onChange)\n    {\n      this.props.onChange(newValue);\n    }\n  }\n\n  //Override\n  render()\n  {\n    const mode = this.props.mode || 0;\n    const onChange = this.props.onChange;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tray_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.tray_button +\n          (mode === 0 ? \" active \" : \"\")}\n          onClick={() => this.onChange(0)}\n          title={I18N.toString(\"cursor.actionmode\")}>\n          <EditPencilIcon/>\n        </IconButton>\n        <IconButton className={Style.tray_button +\n          (mode === 1 ? \" active \" : \"\")}\n          onClick={() => this.onChange(1)}\n          title={I18N.toString(\"cursor.movemode\")}>\n          <MoveIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\nexport default ModeSelectTray;\n","export function userClearGraph(app, graphOnly=false, callback=null)\n{\n  if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n  {\n    const module = app.getCurrentModule();\n    module.getGraphController().getGraph().clear();\n    if (!graphOnly)\n    {\n      app.getUndoManager().clear();\n      module.getMachineController().setMachineName(null);\n    }\n    if (callback) callback();\n  }\n}\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 26 26\">\n        <path d=\"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z \"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TrashCanWidget.css';\n\nimport { userClearGraph } from 'experimental/UserUtil.js';\n\nimport TrashCanDetailedIcon from 'experimental/iconset/TrashCanDetailedIcon.js';\n\nconst DOUBLE_TAP_TIME = 250;\n\nclass TrashCanWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      forceActive: false\n    };\n\n    this._doubleTapTimeout = null;\n\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onClick = this.onClick.bind(this);\n\n    //HACK: This is kinda a hack to lose trash mode focus...\n    this.onAnyMouseDownNotConsumed = this.onAnyMouseDownNotConsumed.bind(this);\n  }\n\n  onMouseEnter(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(true);\n  }\n\n  onMouseLeave(e)\n  {\n    if (this.state.forceActive) return;\n\n    this.props.inputController.setTrashMode(false);\n  }\n\n  onClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._doubleTapTimeout)\n    {\n      //This is a double tap!\n      clearTimeout(this._doubleTapTimeout);\n      this._doubleTapTimeout = null;\n      this.setState({forceActive: false});\n\n      userClearGraph(this.props.app, true);\n      this.props.inputController.setTrashMode(false);\n    }\n    else\n    {\n      //This is a single tap!\n      this.setState((prev, props) => {\n        const result = !prev.forceActive;\n        props.inputController.setTrashMode(result);\n        this._doubleTapTimeout = setTimeout(() => {\n          this._doubleTapTimeout = null;\n        }, DOUBLE_TAP_TIME);\n\n        if (result)\n        {\n          document.documentElement.addEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n        }\n\n        return {\n          forceActive: result\n        };\n      });\n    }\n  }\n\n  onAnyMouseDownNotConsumed(e)\n  {\n    if (this.state.forceActive && this.ref !== e.target)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      document.documentElement.removeEventListener('mousedown', this.onAnyMouseDownNotConsumed);\n\n      this.props.inputController.setTrashMode(false);\n      this.setState({forceActive: false});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    const active = inputController.isTrashMode();\n    const hide = !active && (graphController.getGraph().isEmpty() || (inputAdapter.isUsingTouch() && inputAdapter.isDragging()));\n\n    return (\n      <div ref={ref=>this.ref=ref} id={this.props.id}\n        className={Style.trash_container +\n          (active ? \" active \" : \"\") +\n          (hide ? \" hide \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onClick={this.onClick}>\n        <TrashCanDetailedIcon/>\n      </div>\n    );\n  }\n}\n\nexport default TrashCanWidget;\n","import React from 'react';\nimport IconButton from './IconButton.js';\n\nclass IconStateButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      index: props.initial || 0\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const prevIndex = this.state.index;\n    this.setState((prev, props) => {\n      const count = React.Children.count(props.children);\n      let nextIndex = prev.index + 1;\n      if (nextIndex >= count)\n      {\n        nextIndex = 0;\n      }\n      return {index: nextIndex};\n    }, () => {\n      if (this.props.onClick)\n      {\n        this.props.onClick(e, prevIndex);\n      }\n    });\n  }\n\n  setStateIndex(index)\n  {\n    this.setState({index: index});\n  }\n\n  getStateIndex()\n  {\n    return this.state.index;\n  }\n\n  //Override\n  render()\n  {\n    const child = React.Children.map(this.props.children, (child, i) => {\n      if (i === this.state.index) return child;\n    })[0];\n\n    return (\n      <IconButton id={this.props.id}\n        className={this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        onClick={this.onClick}>\n        {child}\n      </IconButton>\n    );\n  }\n}\nexport default IconStateButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FullscreenWidget.css';\n\nimport IconStateButton from 'experimental/components/IconStateButton.js';\nimport FullscreenIcon from 'experimental/iconset/FullscreenIcon.js';\nimport FullscreenExitIcon from 'experimental/iconset/FullscreenExitIcon.js';\n\nclass FullscreenWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n\n    return (\n      <IconStateButton id={this.props.id}\n        className={Style.fullscreen_button + \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Fullscreen Mode\"}\n        onClick={(e, i) => app.setState({hide: (i === 0)})}>\n        <FullscreenIcon/>\n        <FullscreenExitIcon/>\n      </IconStateButton>\n    );\n  }\n}\n\nexport default FullscreenWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './ZoomWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport ZoomInIcon from 'experimental/iconset/ZoomInIcon.js';\nimport ZoomOutIcon from 'experimental/iconset/ZoomOutIcon.js';\n\nclass ZoomWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onZoomIn = this.onZoomIn.bind(this);\n    this.onZoomOut = this.onZoomOut.bind(this);\n  }\n\n  onZoomIn(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = -viewport.getScale() * 0.4;\n    viewport.addScale(viewScale);\n  }\n\n  onZoomOut(e)\n  {\n    const viewport = this.props.viewport;\n    const viewScale = viewport.getScale() * 0.75;\n    viewport.addScale(viewScale);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n    const viewScale = \"x\" + (1 / (viewport.getScale() || 1)).toFixed(2);\n\n    return (\n      <div id={this.props.id}\n        className={Style.zoom_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <IconButton className={Style.zoom_button} title=\"Zoom In\" onClick={this.onZoomIn}>\n          <ZoomInIcon/>\n        </IconButton>\n        <IconButton className={Style.zoom_button} title=\"Zoom Out\" onClick={this.onZoomOut}>\n          <ZoomOutIcon/>\n        </IconButton>\n        <label className={Style.zoom_label}>{viewScale}</label>\n      </div>\n    );\n  }\n}\n\nexport default ZoomWidget;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './FocusCenterWidget.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport PinpointIcon from 'experimental/iconset/PinpointIcon.js';\n\nconst OFFSET_EPSILON = 0.1;\n\nclass FocusCenterWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const viewport = this.props.viewport;\n    viewport.setOffset(0, 0);\n  }\n\n  //Override\n  render()\n  {\n    const viewport = this.props.viewport;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.center_focus_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={\"Center Workspace\"}\n        disabled={Math.abs(viewport.getOffsetX()) < OFFSET_EPSILON &&\n          Math.abs(viewport.getOffsetY()) < OFFSET_EPSILON} onClick={this.onClick}>\n        <PinpointIcon/>\n      </IconButton>\n    );\n  }\n}\n\nexport default FocusCenterWidget;\n","import React from 'react';\nimport Style from './NavbarWidget.css';\n\nimport FullscreenWidget from 'experimental/widgets/FullscreenWidget.js';\nimport ZoomWidget from 'experimental/widgets/ZoomWidget.js';\nimport FocusCenterWidget from 'experimental/widgets/FocusCenterWidget.js';\n\nclass NavbarWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const viewport = app.getInputAdapter().getViewport();\n\n    return (\n      <div id={this.props.id}\n        className={Style.navbar_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <FullscreenWidget className={Style.navbar_widget} app={app}/>\n        <ZoomWidget className={Style.navbar_widget_container} viewport={viewport}/>\n        <FocusCenterWidget className={Style.navbar_widget} viewport={viewport}/>\n      </div>\n    );\n  }\n}\n\nexport default NavbarWidget;\n","import React from 'react';\nimport Style from './viewport/ViewportView.css';\n\nimport ModeSelectTray from './widgets/ModeSelectTray.js';\nimport TrashCanWidget from './widgets/TrashCanWidget.js';\nimport NavbarWidget from './widgets/NavbarWidget.js';\n\nclass EditPane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const viewport = this.props.viewport;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const inputActionMode = inputController.isActionMode(graphController);\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        { LabelEditor &&\n          <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n          inputController={inputController}\n          graphController={graphController}\n          machineController={machineController}\n          screen={app._workspace ? app._workspace.ref : null}/> }\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0, left: 0}}>\n          <ModeSelectTray mode={inputActionMode ? 0 : 1} onChange={modeIndex => inputController.setInputScheme(modeIndex === 0)}/>\n        </div>\n        <div className={Style.view_widget} style={{bottom: 0, right: 0}}>\n          <TrashCanWidget app={app} inputController={inputController} graphController={graphController}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditPane;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TapeWidget.css';\n\nimport DownArrowIcon from 'experimental/iconset/DownArrowIcon.js';\n\nconst TAPE_INFINITE_LEFT = true;\nconst TAPE_INFINITE_RIGHT = true;\n\nclass TapeWidget extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onTapeStepBackward = this.onTapeStepBackward.bind(this);\n    this.onTapeStepForward = this.onTapeStepForward.bind(this);\n    this.onTapeFinish = this.onTapeFinish.bind(this);\n    this.onTapeReset = this.onTapeReset.bind(this);\n    this.onTapeSkipForward = this.onTapeSkipForward.bind(this);\n    this.onTapeSkipBackward = this.onTapeSkipBackward.bind(this);\n    this.onTapeStop = this.onTapeStop.bind(this);\n  }\n\n  onTapeStepBackward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepBackward();\n  }\n\n  onTapeStepForward(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stepForward();\n  }\n\n  onTapeSkipForward(e)\n  {\n  }\n\n  onTapeSkipBackward(e)\n  {\n  }\n\n  onTapeReset(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.reset();\n  }\n\n  onTapeFinish(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.finish();\n  }\n\n  onTapeStop(e)\n  {\n    const tapeContext = this.props.value;\n    tapeContext.stop();\n  }\n\n  //Override\n  render()\n  {\n    const showTransitionStates = true;\n    const tapeContext = this.props.value;\n    const tapeIndex = tapeContext ? tapeContext.getCurrentTapeIndex() : -1;\n\n    if (!tapeContext) return null;\n\n    return (\n      <div id={this.props.id}\n        className={Style.tape_container +\n        \" \" + this.props.className}\n        style={this.props.style}>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeStepBackward}>BACK</button>\n          <button onClick={this.onTapeStepForward}>STEP</button>\n          <button onClick={this.onTapeReset}>RESET</button>\n          <button onClick={this.onTapeFinish}>TO END</button>\n        </div>\n\n        <div className={Style.tape_control_tray}>\n          <button onClick={this.onTapeSkipForward}>SKIP TO NEXT</button>\n          <button onClick={this.onTapeSkipBackward}>SKIP TO PREV</button>\n          <button onClick={this.onTapeStop}>STOP</button>\n        </div>\n\n        <div className={\"tape-row\"}>\n\n          {TAPE_INFINITE_LEFT && tapeContext.isTapeLeftInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n\n          <DownArrowIcon\n            className=\"tape-pointer\"\n            style={{left: tapeIndex + \"em\"}}/>\n\n          {tapeContext.getTapeInput().map((e, i) => {\n            let active = false;\n            let activeRead = false;\n            active = tapeIndex === i;\n            activeRead = tapeIndex === i - 1;\n            /*\n            const currentIndex = Math.floor(tapeIndex / 2);\n            if (currentIndex === i)\n            {\n              //It's the current index...\n              active = tapeIndex % 2 === 1;\n              activeRead = tapeIndex % 2 === 0;\n            }\n            else if (currentIndex === i + 1)\n            {\n              //It's the previous index...\n              active = tapeIndex % 2 === 0;\n            }\n            */\n\n            const sourceStates = tapeContext.getTapeSourceStatesByIndex(i);\n            const disabled = sourceStates === null;\n            return (\n              <div key={e + \":\" + i} className={\"tape-row-entry\" +\n                (active ? \" active \" : \"\") +\n                (activeRead ? \" active-read \" : \"\") +\n                (disabled ? \" disabled \" : \"\")}\n                onClick={(e) => (!disabled ? tapeContext.setCurrentTapeIndex(i) : null)}>\n                {showTransitionStates &&\n                  sourceStates &&\n                  <span className=\"tape-row-states\">\n                    {sourceStates.map(sourceState => {\n                      return (\n                        <label key={sourceState.getGraphElementID()}>\n                          {sourceState.getNodeLabel()}\n                        </label>\n                      );\n                    })}\n                  </span>}\n                <label className=\"tape-row-symbol\">\n                  {e}\n                </label>\n              </div>\n            );\n          })}\n\n          {TAPE_INFINITE_RIGHT && tapeContext.isTapeRightInfinite() &&\n            <div className=\"tape-row-entry infinite\">\n              <span className=\"tape-row-states\"></span>\n              <label className=\"tape-row-symbol\">{\"...\"}</label>\n            </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapeWidget;\n","import React from 'react';\nimport Style from 'experimental/viewport/ViewportView.css';\n\nimport TapeWidget from 'experimental/widgets/TapeWidget.js';\nimport NavbarWidget from 'experimental/widgets/NavbarWidget.js';\n\nclass TapePane extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n\n    inputController.setDisabled(true);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n\n    inputController.setDisabled(false);\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const viewport = this.props.viewport;\n    const tester = currentModule._tester;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.view_pane +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <NavbarWidget className={Style.view_widget} style={{right: 0}}\n          app={app}/>\n        <div className={Style.view_widget} style={{bottom: 0}}>\n          <TapeWidget value={tester ? tester.getTapeContext() : null}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TapePane;\n","import React from 'react';\nimport Style from './StateListElement.css';\n\nconst SUBMIT_KEY_CODE = \"Enter\";\nconst CANCEL_KEY_CODE = \"Escape\";\n\nclass StateListElement extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    const node = this.props.node;\n    if (!node) return;\n\n    const nodeLabel = node.getNodeLabel();\n    this.setState({ value: nodeLabel, error: false }, () => {\n      target.select()\n    });\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e, this);\n  }\n\n  onBlur(e)\n  {\n    const node = this.props.node;\n    if (!node) return;\n\n    const nextLabel = this.state.value;\n\n    //Reset to nothing (will use node.getNodeLabel() instead)\n    this.setState({ value: null, error: false });\n\n    //Call any listening blurs\n    if (this.props.onBlur) this.props.onBlur(e, this, nextLabel);\n  }\n\n  onKeyDown(e)\n  {\n    const keyCode = e.key;\n    if (keyCode === SUBMIT_KEY_CODE || keyCode === CANCEL_KEY_CODE)\n    {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    const keyCode = e.key;\n    const target = e.target;\n\n    if (keyCode === SUBMIT_KEY_CODE)\n    {\n      target.blur();\n    }\n    else if (keyCode === CANCEL_KEY_CODE)\n    {\n      this.setState({ value: null, error: false}, () => {\n        target.blur();\n      });\n    }\n  }\n\n  onValueChange(e)\n  {\n    let value = e.target.value.trim();\n    let error = false;\n\n    if (this.props.onChange)\n    {\n      try\n      {\n        this.props.onChange(e, this, value);\n      }\n      catch(e)\n      {\n        error = true;\n      }\n    }\n\n    this.setState({\n      value: value,\n      error: error\n    });\n  }\n\n  //Override\n  render()\n  {\n    const node = this.props.node;\n    const inputValue = this.state.value;\n\n    const nodeLabel = node ? node.getNodeLabel() : \"\";\n    const nodeCustom = node ? (node.getNodeCustom() || inputValue !== null && inputValue !== nodeLabel) : false;\n    const nodeAccept = node ? node.getNodeAccept() : false;\n    //Must check for null, not ONLY truthy because value might be empty string.\n    const displayValue = inputValue === null ? nodeLabel : inputValue;\n\n    return (\n      <div id={this.props.id}\n        className={Style.element_container +\n          (nodeCustom ? \" custom \" : \"\") +\n          (displayValue.length <= 0 ? \" empty \" : \"\") +\n          (inputValue && this.state.error ? \" error \" : \"\") +\n          (nodeAccept ? \" accept \" : \"\") +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input\n          spellCheck={false}\n          style={{width: displayValue.length + \"ch\"}}\n          value={displayValue}\n          onChange={this.onValueChange}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onKeyDown={this.onKeyDown}\n          onKeyUp={this.onKeyUp}/>\n      </div>\n    );\n  }\n}\n\nexport default StateListElement;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './StateListView.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport BoxAddIcon from 'experimental/iconset/BoxAddIcon.js';\nimport TriangleIcon from 'experimental/iconset/TriangleIcon.js';\n\nimport StateListElement from './StateListElement.js';\n\nclass StateListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._prevX = 0;\n    this._prevY = 0;\n\n    this.onElementAdd = this.onElementAdd.bind(this);\n    this.onElementFocus = this.onElementFocus.bind(this);\n    this.onElementBlur = this.onElementBlur.bind(this);\n    this.onElementChange = this.onElementChange.bind(this);\n  }\n\n  onElementAdd(e)\n  {\n    const graphController = this.props.graphController;\n    this._prevX += 16;\n    this._prevY += 16;\n    graphController.createNode(this._prevX, this._prevY);\n  }\n\n  onElementFocus(e, element)\n  {\n    this._prevX = element.props.node.x;\n    this._prevY = element.props.node.y;\n    const graphController = this.props.graphController;\n    graphController.focusOnNode(element.props.node);\n  }\n\n  onElementBlur(e, element, nextLabel)\n  {\n    const node = element.props.node;\n    const graphController = this.props.graphController;\n\n    //The value is already processed, abort\n    if (nextLabel !== null)\n    {\n      const graph = graphController.getGraph();\n      if (nextLabel.length > 0)\n      {\n        const otherNodes = graph.getNodesByLabel(nextLabel);\n        if (otherNodes.length <= 0)\n        {\n          //None other have the same name. Rename it!\n          graphController.renameNode(node, nextLabel);\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else if (node.getNodeCustom())\n      {\n        //Remove custom naming instead of deleting.\n        node.setNodeCustom(false);\n        graphController.applyAutoRename();\n      }\n      else\n      {\n        //Delete!\n        graphController.deleteTargetNode(node);\n      }\n    }\n  }\n\n  onElementChange(e, element, value)\n  {\n    const graphController = this.props.graphController;\n    const graph = graphController.getGraph();\n\n    if (value.length > 0)\n    {\n      const otherNodes = graph.getNodesByLabel(value);\n\n      //If there are more than 1 nodes by the same name,\n      //OR if the duplicate node found is NOT the same node\n      if (otherNodes.length > 1 || (otherNodes.length === 1 && otherNodes[0] !== element.props.node))\n      {\n        throw new Error(\"Not a valid node label\");\n      }\n    }\n  }\n\n  //Override\n  render()\n  {\n    const graphController = this.props.graphController;\n    const graph = graphController.getGraph();\n    const nodes = graph.getNodes();\n\n    return (\n      <div id={this.props.id}\n        className={Style.list_container}\n        style={this.props.style}>\n        <div className={Style.element_list}>\n          <TriangleIcon className={Style.first_marker}/>\n          {nodes.map(e => <StateListElement key={e.getGraphElementID()}\n              node={e}\n              onFocus={this.onElementFocus}\n              onBlur={this.onElementBlur}\n              onChange={this.onElementChange}/>)}\n        </div>\n        <IconButton className={Style.add_button}\n          onClick={this.onElementAdd}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    );\n  }\n}\n\nexport default StateListView;\n","import React from 'react';\nimport Style from './OverviewPanel.css';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\n\nimport StateListElement from './StateListElement.js';\nimport StateListView from './StateListView.js';\n\nclass OverviewPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{OverviewPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <PanelSection title={\"States\"} initial={true}>\n            <StateListView graphController={graphController}/>\n          </PanelSection>\n          <PanelSection title={\"Alphabet\"} initial={true}>\n            <button>0</button>\n          </PanelSection>\n          <PanelSection title={\"Transitions\"} initial={true}>\n            <PanelSection title={\"Transition Chart\"}>\n            </PanelSection>\n            <PanelSection title={\"Transition Table\"}>\n            </PanelSection>\n          </PanelSection>\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(OverviewPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.overview.title\"); }\n});\n\nexport default OverviewPanel;\n","import React from 'react';\nimport Style from './PanelCheckbox.css';\n\nclass PanelCheckbox extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      checked: props.initial || false\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  setChecked(value)\n  {\n    this.setState({checked: value});\n  }\n\n  isChecked()\n  {\n    return this.state.checked;\n  }\n\n  onChange(e)\n  {\n    const checked = e.target.checked;\n    if (this.state.checked !== checked)\n    {\n      this.setState({checked: checked});\n    }\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.checkbox_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <input type=\"checkbox\" id={this.props.id + \"-checkbox\"}\n          name={this.props.id + \"-checkbox\"} value={this.props.value}\n          checked={this.state.checked}\n          disabled={this.props.disabled}\n          onChange={this.onChange}/>\n        <label htmlFor={this.props.id + \"-checkbox\"}>{this.props.title}</label>\n      </div>\n    );\n  }\n}\n\nexport default PanelCheckbox;\n","import React from 'react';\nimport Style from './AnalysisPanel.css';\n\nimport PanelSection from 'experimental/panels/PanelSection.js';\nimport PanelCheckbox from 'experimental/panels/PanelCheckbox.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NFAToDFAConversionWarningMessage from 'modules/fsa/notifications/NFAToDFAConversionWarningMessage.js';\n\nconst MACHINE_CONVERSION_MESSAGE_TAG = \"machine-convert\";\n\nclass AnalysisPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.optimizeUnreachOption = null;\n    this.optimizeRedundOption = null;\n\n    this.onConvertToDFA = this.onConvertToDFA.bind(this);\n    this.onConvertToNFA = this.onConvertToNFA.bind(this);\n\n    this.onOptimizeMachine = this.onOptimizeMachine.bind(this);\n  }\n\n  onDeleteAllUnreachable(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const unreachableArray = machineController.getUnreachableNodes();\n    graphController.deleteTargetNodes(unreachableArray);\n  }\n\n  onConvertToDFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const props = {graphController: graphController, machineController: machineController};\n\n    //Will do: machineController.convertMachineTo(\"DFA\");\n    Notifications.addMessage(I18N.toString(\"message.warning.convertNFAToDFA\"),\n      \"warning\", MACHINE_CONVERSION_MESSAGE_TAG, NFAToDFAConversionWarningMessage, props);\n  }\n\n  onConvertToNFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const machineController = currentModule.getMachineController();\n    machineController.convertMachineTo(\"NFA\");\n  }\n\n  onOptimizeMachine(e)\n  {\n    if (this.optimizeUnreachOption.isChecked())\n    {\n      this.onDeleteAllUnreachable(e);\n    }\n  }\n\n  canOptimize()\n  {\n    return (this.optimizeRedundOption && this.optimizeRedundOption.isChecked()) ||\n    (this.optimizeUnreachOption && this.optimizeUnreachOption.isChecked());\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{AnalysisPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <PanelSection title={\"Optimizations\"} initial={true}>\n            <PanelCheckbox ref={ref=>this.optimizeUnreachOption=ref} className={Style.panel_checkbox}\n              id=\"opt-unreach\" title=\"Unreachables\" value=\"unreach\"/>\n            <PanelCheckbox ref={ref=>this.optimizeRedundOption=ref} className={Style.panel_checkbox} disabled={true}\n              id=\"opt-redund\" title=\"Redundant States\" value=\"redund\"/>\n            <button className={Style.panel_button} onClick={this.onOptimizeMachine} disabled={!this.canOptimize()}>Optimize</button>\n          </PanelSection>\n          {\n            machineController.getMachineType() == \"DFA\" ?\n              <button className={Style.panel_button} onClick={this.onConvertToNFA}>\n                {I18N.toString(\"action.overview.convertnfa\")}\n              </button>\n            : machineController.getMachineType() == \"NFA\" ?\n              <button className={Style.panel_button} onClick={this.onConvertToDFA}>\n                {I18N.toString(\"action.overview.convertdfa\")}\n              </button>\n            : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(AnalysisPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.analysis.title\"); }\n});\n\nexport default AnalysisPanel;\n","import React from 'react';\nimport Style from './IconUploadButton.css';\n\nimport IconButton from './IconButton.js';\n\nclass IconUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onFileUpload = this.onFileUpload.bind(this);\n  }\n\n  onFileUpload(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      if (this.props.onUpload) this.props.onUpload(files[0]);\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  //Override\n  render()\n  {\n    const accept = this.props.accept;\n\n    return (\n      <IconButton id={this.props.id}\n        className={Style.upload_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}>\n        <input type=\"file\" name=\"import\"\n          className={Style.upload_input}\n          accept={accept}\n          onChange={this.onFileUpload}/>\n        {this.props.children}\n      </IconButton>\n    );\n  }\n}\n\nexport default IconUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\nimport Style from './TestItem.css';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport SubtractIcon from 'experimental/iconset/SubtractIcon.js';\nimport CheckCircleIcon from 'experimental/iconset/CheckCircleIcon.js';\nimport CrossCircleIcon from 'experimental/iconset/CrossCircleIcon.js';\nimport PendingIcon from 'experimental/iconset/PendingIcon.js';\nimport RunningManIcon from 'experimental/iconset/RunningManIcon.js';\n\nexport const DEFAULT_MODE = \"default\";\nexport const SUCCESS_MODE = \"success\";\nexport const FAILURE_MODE = \"failure\";\nexport const WORKING_MODE = \"working\";\n\nclass TestItem extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.inputElement = null;\n\n    this.state = {\n      value: this.props.defaultValue || \"\",\n      status: DEFAULT_MODE\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  focus()\n  {\n    if (this.inputElement)\n    {\n      this.inputElement.focus();\n    }\n  }\n\n  setValue(value, callback=null)\n  {\n    if (this.state.value !== value)\n    {\n      this.setState({value: value}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  setStatus(status, callback=null)\n  {\n    if (this.state.status !== status)\n    {\n      this.setState({status: status}, callback);\n    }\n    else if (callback)\n    {\n      callback();\n    }\n  }\n\n  getValue()\n  {\n    return this.state.value;\n  }\n\n  getStatus()\n  {\n    return this.state.status;\n  }\n\n  onChange(e)\n  {\n    const nextValue = e.target.value;\n    if (this.state.value !== nextValue)\n    {\n      this.setState({value: nextValue, status: DEFAULT_MODE});\n    }\n  }\n\n  //Override\n  render()\n  {\n    const onDelete = this.props.onDelete;\n    const showDelete = true;\n\n    const onTest = this.props.onTest;\n    const showTest = true;\n    \n    const active = this.props.active;\n    const subtitle = this.props.subtitle;\n    const placeholder = this.props.placeholder;\n    const status = this.state.status;\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_item_container +\n          (active ? \" active \" : \"\") +\n          \" \" + status +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showTest &&\n          <IconButton className={Style.test_button}\n            title={\"Test\"}\n            disabled={!onTest}\n            onClick={(e) => onTest(e, this)}>\n            {status === SUCCESS_MODE ?\n              <CheckCircleIcon/> :\n              status === FAILURE_MODE ?\n              <CrossCircleIcon/> :\n              status === WORKING_MODE ?\n              <PendingIcon/> :\n              <RunningManIcon/>}\n          </IconButton>}\n        <div className={Style.test_input}>\n          <input ref={ref=>this.inputElement=ref} type=\"text\"\n            placeholder={placeholder}\n            value={this.state.value}\n            onChange={this.onChange}/>\n          <label>{this.props.subtitle}</label>\n        </div>\n        {showDelete &&\n          <IconButton className={Style.delete_button}\n            title={\"Delete\"}\n            disabled={!onDelete}\n            onClick={(e) => onDelete(e, this)}>\n            <SubtractIcon/>\n          </IconButton>}\n      </div>\n    );\n  }\n}\n\nexport default TestItem;\n","import React from 'react';\nimport Style from './TestListView.css';\n\nimport { guid } from 'util/MathHelper.js';\nimport { downloadText } from 'util/Downloader.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nimport PageContentIcon from 'experimental/iconset/PageContentIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport CrossIcon from 'experimental/iconset/CrossIcon.js';\nimport AddIcon from 'experimental/iconset/AddIcon.js';\nimport RunningManIcon from 'experimental/iconset/RunningManIcon.js';\n\nimport TestItem, {SUCCESS_MODE, FAILURE_MODE, WORKING_MODE, DEFAULT_MODE} from './TestItem.js';\n\nconst ACCEPT_FILE_TYPES = ['.txt'];\nconst TEST_FILENAME = \"test.txt\";\n\nclass TestListView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._testList = [];\n    this._testName = TEST_FILENAME;\n\n    this.onTestNew = this.onTestNew.bind(this);\n    this.onTestUpload = this.onTestUpload.bind(this);\n    this.onTestDownload = this.onTestDownload.bind(this);\n    this.onTestClose = this.onTestClose.bind(this);\n    this.onTestAdd = this.onTestAdd.bind(this);\n    this.onTestDelete = this.onTestDelete.bind(this);\n    this.onTestTest = this.onTestTest.bind(this);\n    this.onTestRunAll = this.onTestRunAll.bind(this);\n  }\n\n  onTestNew(e)\n  {\n    if (!this.isEmpty())\n    {\n      this.onTestClose(e);\n    }\n\n    this.onTestAdd(e);\n  }\n\n  onTestUpload(fileBlob)\n  {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try\n      {\n        this._testName = fileBlob.name;\n        this._testList.length = 0;\n\n        const tests = event.target.result.split(\"\\n\");\n        for(let test of tests)\n        {\n          test = test.trim();\n          if (test.length > 0)\n          {\n            this._testList.push({\n              id: guid(),\n              defaultValue: test,\n              ref: null\n            });\n          }\n        }\n\n        //Make sure an element exists, at least\n        if (this._testList.length <= 0)\n        {\n          this.onTestAdd(null);\n        }\n      }\n      catch(e)\n      {\n        reader.abort();\n      }\n    };\n    reader.readAsText(fileBlob);\n  }\n\n  onTestDownload(e)\n  {\n    const testStrings = [];\n    for(const test of this._testList)\n    {\n      const ref = test.ref;\n      if (ref)\n      {\n        testStrings.push(ref.getValue());\n      }\n    }\n\n    downloadText(this._testName, testStrings.join('\\n'));\n  }\n\n  onTestClose(e)\n  {\n    const tester = this.props.tester;\n    if (tester.isTesting())\n    {\n      tester.stopTest();\n    }\n\n    this._testList.length = 0;\n  }\n\n  onTestAdd(e)\n  {\n    this._testList.push({\n      id: guid(),\n      defaultValue: \"\",\n      ref: null\n    });\n  }\n\n  onTestRunAll(e)\n  {\n    const tester = this.props.tester;\n    for(const test of this._testList)\n    {\n      //this.onTestTest(null, test.ref, true);\n    }\n  }\n\n  onTestDelete(e, item)\n  {\n    //Already handled in render()\n  }\n\n  onTestTest(e, item, forceImmediate=false)\n  {\n    const immediate = forceImmediate || this.props.immediate;\n    const tester = this.props.tester;\n    const itemValue = item.getValue();\n\n    item.setState({status: WORKING_MODE});\n\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    tester.startTest(itemValue, graphController, machineController).then((result) => {\n      item.setState({status: result ? SUCCESS_MODE : FAILURE_MODE});\n    }, (err) => {\n      //It didn't work out :(\n      item.setState({status: DEFAULT_MODE});\n    });\n\n    if (immediate)\n    {\n      tester.runTest(graphController, machineController, true);\n    }\n  }\n\n  isEmpty()\n  {\n    return this._testList.length <= 0;\n  }\n\n  //Override\n  render()\n  {\n    const immediate = this.props.immediate;\n    const tester = this.props.tester;\n\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n\n    const empty = this.isEmpty();\n    const disabled = tester && tester.isTesting();\n\n    return (\n      <div id={this.props.id}\n        className={Style.test_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.test_control_tray}>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.new\")}\n            onClick={this.onTestNew}>\n            <PageContentIcon/>\n          </IconButton>\n          <IconUploadButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.import\")}\n            accept={ACCEPT_FILE_TYPES.join(\",\")}\n            onUpload={this.onTestUpload}>\n            <UploadIcon/>\n          </IconUploadButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.save\")}\n            disabled={empty}\n            onClick={this.onTestDownload}>\n            <DownloadIcon/>\n          </IconButton>\n          <IconButton className={Style.test_control_button}\n            title={I18N.toString(\"action.testing.clear\")}\n            disabled={empty}\n            onClick={this.onTestClose}>\n            <CrossIcon/>\n          </IconButton>\n        </div>\n        <div className={Style.test_list_container +\n          (empty ? \" empty \" : \"\") +\n          (disabled ? \" disabled \": \"\")}>\n          <IconButton className={Style.test_list_add}\n            title={\"Add\"} onClick={this.onTestAdd}>\n            <AddIcon/>\n            <span className={Style.test_list_count}>\n              {!empty ? \"\" + this._testList.length : \"\"}\n            </span>\n          </IconButton>\n          <div className={Style.test_list_scroll_container}>\n            <div className={Style.test_list}>\n              {this._testList.map((e, i) => {\n                const id = e.id;\n                const defaultValue = e['defaultValue'] || \"\";\n                let testCallback = this.onTestTest;\n                if (!tester || graphController.getGraph().isEmpty())\n                {\n                  testCallback = null;\n                }\n                return <TestItem key={id} ref={ref=>e.ref=ref}\n                  defaultValue={defaultValue}\n                  onTest={testCallback}\n                  onDelete={(e, item) => {\n                    this._testList.splice(i, 1);\n                    this.onTestDelete(e, item);\n                  }}/>\n              })}\n            </div>\n          </div>\n          <IconButton className={Style.test_list_runall}\n            title={\"Run All\"} disabled={true} onClick={this.onTestRunAll}>\n            <RunningManIcon/>\n          </IconButton>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TestListView;\n","import React from 'react';\nimport Style from './TestingPanel.css';\n\nimport TestListView from './TestListView.js';\n\nimport PanelCheckbox from 'experimental/panels/PanelCheckbox.js';\n\nclass TestingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //TODO: This should be in modules...\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const tester = currentModule._tester;\n    tester.on(\"startTest\", (tester) => {\n      app._viewport.setCurrentView(1);\n      app._drawer.setDrawerSoloClass(TestingPanel);\n      app._drawer.closeDrawer();\n    });\n    tester.on(\"stopTest\", (tester) => {\n      app._viewport.setCurrentView(0);\n      app._drawer.setDrawerSoloClass(null);\n      app._drawer.openDrawer();\n    });\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule._tester;\n\n    return (\n      <div id={this.props.id}\n        className={Style.panel_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        <div className={Style.panel_title}>\n          <h1>{TestingPanel.TITLE}</h1>\n        </div>\n        <div className={Style.panel_content}>\n          <TestListView tester={tester} graphController={graphController} machineController={machineController}/>\n          <PanelCheckbox title={\"Step Testing\"}/>\n        </div>\n      </div>\n    );\n  }\n}\nObject.defineProperty(TestingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.testing.title\"); }\n});\n\nexport default TestingPanel;\n","import React from 'react';\nimport Style from './ToolbarDivider.css';\n\nclass ToolbarDivider extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return (\n      <div id={this.props.id}\n        className={Style.divider + \" \" + this.props.className}\n        style={this.props.style}>\n      </div>\n    );\n  }\n}\n\nexport default ToolbarDivider;\n","import React from 'react';\n\nimport ToolbarButtonStyle from './ToolbarButton.css';\nimport IconUploadButton from 'experimental/components/IconUploadButton.js';\n\nclass ToolbarUploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const IconClass = this.props.icon;\n    return (\n      <IconUploadButton id={this.props.id}\n        className={ToolbarButtonStyle.toolbar_button +\n          \" \" + this.props.className}\n        style={this.props.style}\n        title={this.props.title}\n        disabled={this.props.disabled}\n        accept={this.props.accept}\n        onUpload={this.props.onUpload}>\n        <IconClass/>\n      </IconUploadButton>\n    );\n  }\n}\n\nexport default ToolbarUploadButton;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"}/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","import React from 'react';\n\nclass Icon extends React.Component\n{\n  constructor(props) { super(props); }\n\n  //Override\n  render()\n  {\n    return (\n      <svg id={this.props.id} className={this.props.className} style={this.props.style}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\" height=\"24\" viewBox=\"0 0 20 20\">\n        <path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>\n      </svg>\n    );\n  }\n}\nexport default Icon;\n","class AbstractLocalSaver\n{\n  onLoadSave() {}\n  onUnloadSave() {}\n  onAutoSave() {}\n}\n\nexport default AbstractLocalSaver;\n","import AbstractLocalSaver from 'system/localsave/AbstractLocalSaver.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nclass AppSaver extends AbstractLocalSaver\n{\n  constructor(app)\n  {\n    super();\n\n    this._app = app;\n  }\n\n  //Override\n  onLoadSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const data = LocalSave.loadFromStorage(\"graph-\" + moduleName);\n    if (data)\n    {\n      const exporter = module.getDefaultGraphExporter();\n      exporter.importFromData(data, module);\n    }\n  }\n\n  //Override\n  onUnloadSave()\n  {\n    //Don't do anything...\n  }\n\n  //Override\n  onAutoSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const exporter = module.getDefaultGraphExporter();\n    const data = exporter.exportToData(module);\n    LocalSave.saveToStorage(\"graph-\" + moduleName, data);\n  }\n\n  getApp()\n  {\n    return this._app;\n  }\n}\n\nexport default AppSaver;\n","export const CTRL_KEY = 'Control';\nexport const META_KEY = 'Meta';\nexport const ALT_KEY = 'Alt';\nexport const SHIFT_KEY = 'Shift';\n//NOTE: For more keys, refer to http://keycode.info/\n\nclass HotKeyManager\n{\n  constructor()\n  {\n    this._hotkeys = [];\n    this._cachedEvent = {\n      ctrlKey: false,\n      metaKey: false,\n      altKey: false,\n      shiftKey: false,\n      code: null\n    };\n    this._prevHotKey = null;\n    this._repeatCount = 0;\n    this._enabled = false;\n\n    this._altHotkey = null;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  initialize()\n  {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n\n    this._enabled = true;\n  }\n\n  destroy()\n  {\n    this._enabled = false;\n\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  registerHotKey(name, keys, callback)\n  {\n    if (!Array.isArray(keys)) throw new Error(\"Must be an array of key codes\");\n    const ctrlIndex = keys.indexOf(CTRL_KEY);\n    if (ctrlIndex >= 0) keys.splice(ctrlIndex, 1);\n    const metaIndex = keys.indexOf(META_KEY);\n    if (metaIndex >= 0) keys.splice(metaIndex, 1);\n    const altIndex = keys.indexOf(ALT_KEY);\n    if (altIndex >= 0) keys.splice(altIndex, 1);\n    const shiftIndex = keys.indexOf(SHIFT_KEY);\n    if (shiftIndex >= 0) keys.splice(shiftIndex, 1);\n    if (keys.length != 1) throw new Error(\"Multiple key operations not supported\");\n    const charKey = keys[0];\n\n    const ctrl = ctrlIndex >= 0 || metaIndex >= 0;\n    const alt = altIndex >= 0;\n    const shift = shiftIndex >= 0;\n\n    const result = {\n      name: name,\n      localizedKeys: (ctrl ? \"Ctrl + \" : \"\") +\n        (alt ? \"Alt + \" : \"\") +\n        (shift ? \"Shift + \" : \"\") +\n        charKey,\n      charKey: charKey,\n      ctrlKey: ctrl,\n      altKey: alt,\n      shiftKey: shift,\n      callback: callback\n    };\n\n    this._hotkeys.push(result);\n  }\n\n  //HACK: Cause hotkey manager does not allow 'control' hotkeys. This is the exception.\n  registerAltHotKey(name, callback)\n  {\n    if (this._altHotkey) throw new Error(\"Only one hotkey can exist for \\'Alt\\'\");\n\n    this._altHotkey = {\n      name: name,\n      localizedKeys: \"Alt\",\n      charKey: null,\n      ctrlKey: false,\n      altKey: true,\n      shiftKey: false,\n      callback: callback\n    };\n  }\n\n  setEnabled(enabled)\n  {\n    this._enabled = enabled;\n  }\n\n  isEnabled()\n  {\n    return this._enabled;\n  }\n\n  findMatchingHotKey(e)\n  {\n    for(const hotkey of this._hotkeys)\n    {\n      if (matchesHotKeyEvent(e, hotkey)) return hotkey;\n    }\n    return null;\n  }\n\n  getCurrentHotKey()\n  {\n    return this._prevHotKey;\n  }\n\n  getCurrentHotKeyRepeatCount()\n  {\n    return this._repeatCount;\n  }\n\n  getCurrentlyPossibleHotKeys(dst=[])\n  {\n    const event = this._cachedEvent;\n    const eventCtrl = event.ctrlKey || event.metaKey;\n    const eventAlt = event.altKey;\n    const eventShift = event.shiftKey;\n    if (!eventCtrl && !eventAlt && !eventShift) return dst;\n    const eventKey = event.code;\n\n    let result = null;\n    for(const hotkey of this._hotkeys)\n    {\n      let flag = false;\n      if (eventCtrl ^ hotkey.ctrlKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventCtrl) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventAlt ^ hotkey.altKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventAlt) flag = true;\n        //Nope.\n        else continue;\n      }\n      if (eventShift ^ hotkey.shiftKey)\n      {\n        //It's ok, but it is not a complete match...\n        if (!eventShift) flag = true;\n        //Nope.\n        else continue;\n      }\n\n      if (!flag && eventKey === hotkey.charKey)\n      {\n        result = hotkey;\n      }\n\n      dst.push(hotkey);\n    }\n\n    if (result) return result;\n    else return dst;\n  }\n\n  onKeyDown(e)\n  {\n    if (!this._enabled) return;\n\n    if (!e.repeat)\n    {\n      this.captureKeyEvent(e, false);\n\n      let result = this.findMatchingHotKey(this._cachedEvent);\n      if (!result && matchesHotKeyEvent(e, this._altHotkey)) result = this._altHotkey;\n\n      if (result)\n      {\n        if (this._prevHotKey === result)\n        {\n          ++this._repeatCount;\n        }\n        else\n        {\n          this._prevHotKey = result;\n          this._repeatCount = 0;\n        }\n\n        result.callback();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (!this._enabled) return;\n\n    if (this.captureKeyEvent(e, true))\n    {\n      this._prevHotKey = null;\n      this._repeatCount = 0;\n    }\n  }\n\n  captureKeyEvent(e, isKeyUp=false)\n  {\n    this._cachedEvent.ctrlKey = e.ctrlKey;\n    this._cachedEvent.metaKey = e.metaKey;\n    this._cachedEvent.altKey = e.altKey;\n    this._cachedEvent.shiftKey = e.shiftKey;\n    this._cachedEvent.code = isKeyUp ? null : (e.code || null);\n    return isKeyUp && !(this._cachedEvent.ctrlKey || this._cachedEvent.metaKey || this._cachedEvent.altKey || this._cachedEvent.shiftKey);\n  }\n}\n\nexport default HotKeyManager;\n\nfunction matchesHotKeyEvent(e, hotkey)\n{\n  if (hotkey.ctrlKey !== (e.ctrlKey || e.metaKey)) return false;\n  if (hotkey.altKey !== e.altKey) return false;\n  if (hotkey.shiftKey !== e.shiftKey) return false;\n  if (hotkey.charKey && hotkey.charKey !== e.code) return false;\n  return true;\n}\n","import React from 'react';\nimport Style from './HotKeyView.css';\n\nconst AVAILABLE_HOTKEY_REFRESH_RATE = 100;\n\nclass HotKeyView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._cachedHotKeys = [];\n    this._cacheTimeout = null;\n  }\n\n  //Override\n  render()\n  {\n    const hotKeyManager = this.props.hotKeyManager;\n    const showHotKeys = !this.props.disabled && hotKeyManager.isEnabled();\n\n    if (!this._cacheTimeout && showHotKeys)\n    {\n      this._cacheTimeout = setTimeout(() => {\n        this._cacheTimeout = null;\n        this._cachedHotKeys.length = 0;\n        hotKeyManager.getCurrentlyPossibleHotKeys(this._cachedHotKeys);\n      }, AVAILABLE_HOTKEY_REFRESH_RATE);\n    }\n\n    const useCount = hotKeyManager.getCurrentHotKeyRepeatCount();\n    const currentHotKey = hotKeyManager.getCurrentHotKey();\n\n    return (\n      <div id={this.props.id}\n        className={Style.hotkey_container +\n          \" \" + this.props.className}\n        style={this.props.style}>\n        {showHotKeys && this._cachedHotKeys.map((e, i) => {\n          const isActive = currentHotKey === e;\n          return (\n            <div key={e.localizedKeys + \":\" + i + \":\" + (isActive ? useCount : 0)}\n              className={Style.hotkey +\n                (isActive ? \" active \" : \"\")}>\n              <label className={Style.hotkey_label}>\n                {e.localizedKeys}\n              </label>\n              <label className={Style.hotkey_name}>\n                {e.name + (isActive && useCount > 1 ? \" x\" + useCount : \"\")}\n              </label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default HotKeyView;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport DrawerView, { DRAWER_SIDE_RIGHT, DRAWER_SIDE_BOTTOM, DRAWER_BAR_DIRECTION_VERTICAL, DRAWER_BAR_DIRECTION_HORIZONTAL } from 'experimental/drawer/DrawerView.js';\nimport ToolbarView from 'experimental/toolbar/ToolbarView.js';\nimport WorkspaceView from 'experimental/workspace/WorkspaceView.js';\nimport ViewportView from 'experimental/viewport/ViewportView.js';\nimport TooltipView, { ONESHOT_MODE } from 'experimental/tooltip/TooltipView.js';\nimport UploadDropZone from 'experimental/components/UploadDropZone.js';\n\nimport ExportPanel from 'experimental/menus/export/ExportPanel.js';\nimport OptionPanel from 'experimental/menus/option/OptionPanel.js';\n\nimport EditPane from 'experimental/EditPane.js';\nimport TapePane from 'experimental/TapePane.js';\n\nimport OverviewPanel from 'experimental/panels/overview/OverviewPanel.js';\nimport AnalysisPanel from 'experimental/panels/analysis/AnalysisPanel.js';\nimport TestingPanel from 'experimental/panels/test/TestingPanel.js';\n\nimport ToolbarButton, {TOOLBAR_CONTAINER_TOOLBAR, TOOLBAR_CONTAINER_MENU } from 'experimental/toolbar/ToolbarButton.js';\nimport ToolbarDivider from 'experimental/toolbar/ToolbarDivider.js';\nimport ToolbarUploadButton from 'experimental/toolbar/ToolbarUploadButton.js';\nimport PageEmptyIcon from 'experimental/iconset/PageEmptyIcon.js';\nimport UndoIcon from 'experimental/iconset/UndoIcon.js';\nimport RedoIcon from 'experimental/iconset/RedoIcon.js';\nimport UploadIcon from 'experimental/iconset/UploadIcon.js';\nimport DownloadIcon from 'experimental/iconset/DownloadIcon.js';\nimport BugIcon from 'experimental/iconset/BugIcon.js';\nimport WorldIcon from 'experimental/iconset/WorldIcon.js';\nimport HelpIcon from 'experimental/iconset/HelpIcon.js';\nimport SettingsIcon from 'experimental/iconset/SettingsIcon.js';\n\nimport * as UserUtil from 'experimental/UserUtil.js';\nimport AppSaver from 'experimental/AppSaver.js';\n\nimport IconButton from 'experimental/components/IconButton.js';\nimport HotKeyManager, {CTRL_KEY, ALT_KEY, SHIFT_KEY} from 'experimental/hotkey/HotKeyManager.js';\nimport HotKeyView from 'experimental/hotkey/HotKeyView.js';\n\nimport Notifications from 'system/notification/Notifications.js';\nimport NotificationView from 'system/notification/components/NotificationView.js';\n\nimport InputAdapter from 'system/inputadapter/InputAdapter.js';\nimport UndoManager from 'system/undomanager/UndoManager.js';\nimport LocalSave from 'system/localsave/LocalSave.js';\n\nimport DefaultModule from 'modules/default/DefaultModule.js';\nimport Module from 'modules/fsa/FSAModule.js';\n\nconst HELP_URL = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._workspace = null;\n    this._toolbar = null;\n    this._drawer = null;\n    this._viewport = null;\n\n    //These need to be initialized before module\n    this._inputAdapter = new InputAdapter();\n    this._inputAdapter.getViewport()\n      .setMinScale(0.1)\n      .setMaxScale(10)\n      .setOffsetDamping(0.4);\n    this._undoManager = new UndoManager();\n\n    this._hotKeyManager = new HotKeyManager();\n    this._hotKeyManager.registerHotKey(\"Export to PNG\", [CTRL_KEY, 'KeyP'], () => {console.log(\"Export!\")});\n    this._hotKeyManager.registerHotKey(\"Save as JSON\", [CTRL_KEY, 'KeyS'], () => {console.log(\"Save!\")});\n    this._hotKeyManager.registerHotKey(\"New\", [CTRL_KEY, 'KeyN'], () => {console.log(\"New!\")});\n    this._hotKeyManager.registerHotKey(\"Undo\", [CTRL_KEY, 'KeyZ'], () => {console.log(\"Undo!\")});\n    this._hotKeyManager.registerHotKey(\"Redo\", [CTRL_KEY, SHIFT_KEY, 'KeyZ'], () => {console.log(\"Redo!\")});\n    this._hotKeyManager.registerAltHotKey(\"Show Hints\", () => { IconButton.SHOW_LABEL = !IconButton.SHOW_LABEL })\n\n    this._saver = new AppSaver(this);\n\n    this._init = false;\n\n    this.state = {\n      module: new Module(this),\n      hide: false\n    };\n\n    this._mediaQuerySmallWidthList = window.matchMedia(\"only screen and (max-width: 400px)\");\n    this._mediaQuerySmallHeightList = window.matchMedia(\"only screen and (min-height: 400px)\");\n\n    //Notifications.addMessage(\"Welcome to Flap.js\");\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const workspaceDOM = this._workspace.ref;\n    this._inputAdapter.initialize(workspaceDOM);\n\n    const currentModule = this.getCurrentModule();\n    currentModule.initialize(this);\n\n    this._hotKeyManager.initialize();\n\n    LocalSave.registerHandler(this._saver);\n\n    this._init = true;\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this._init = false;\n\n    LocalSave.unregisterHandler(this._saver);\n\n    this._hotKeyManager.destroy();\n\n    const currentModule = this.getCurrentModule();\n    currentModule.destroy(this);\n\n    this._inputAdapter.destroy();\n  }\n\n  get workspace() { return this._workspace; }\n  get viewport() { return this._inputAdapter.getViewport(); }\n\n  setCurrentModuleClass(ModuleClass)\n  {\n    const prevModule = this.getCurrentModule();\n    prevModule.destroy(this);\n\n    const currentModule = new ModuleClass(this);\n    this.setState({ module: currentModule }, () => {\n      currentModule.initialize(this);\n    });\n  }\n\n  getCurrentModule() { return this.state.module; }\n  getInputAdapter() { return this._inputAdapter; }\n  getUndoManager() { return this._undoManager; }\n  getHotKeyManager() { return this._hotKeyManager; }\n\n  //Override\n  render()\n  {\n    const currentModule = this.state.module;\n\n    if (this._init)\n    {\n      this._inputAdapter.update();\n      currentModule.update(this);\n\n      //Disable hotkeys when graph is not in view\n      this._hotKeyManager.setEnabled(\n        !(this._toolbar && this._toolbar.isBarOpen()) &&\n        !(this._drawer && this._drawer.isDrawerOpen() &&\n          this._drawer.isDrawerFullscreen())\n        );\n    }\n\n    const hasSmallWidth = this._mediaQuerySmallWidthList.matches;\n    const hasSmallHeight = this._mediaQuerySmallHeightList.matches;\n    const isFullscreen = this.state.hide;\n\n    const undoManager = this._undoManager;\n    const viewport = this._inputAdapter.getViewport();\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const graphImporter = currentModule.getGraphImporter();\n    const inputActionMode = inputController.isActionMode(graphController);\n\n    const modulePanels = currentModule.getModulePanels().concat([TestingPanel, OverviewPanel, AnalysisPanel]);\n    const modulePanelProps = {currentModule: currentModule, app: this};\n    const moduleMenus = currentModule.getModuleMenus().concat([ExportPanel, OptionPanel]);\n    const moduleMenuProps = {currentModule: currentModule, app: this};\n    const moduleViews = currentModule.getModuleViews().concat([EditPane, TapePane]);\n    const moduleViewProps = {currentModule: currentModule, app: this};\n\n    const GRAPH_RENDER_LAYER = \"graph\";\n    const GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n    const VIEWPORT_RENDER_LAYER = \"viewport\";\n    const GraphRenderer = currentModule.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = currentModule.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n    const ViewportRenderer = currentModule.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return (\n      <div className=\"app-container\">\n\n        <ToolbarView ref={ref=>this._toolbar=ref} className=\"app-bar\"\n          menus={moduleMenus}\n          menuProps={moduleMenuProps}\n          hide={isFullscreen}>\n\n          <ToolbarButton title=\"New\" icon={PageEmptyIcon}\n            onClick={() => UserUtil.userClearGraph(this, false, () => this._toolbar.closeBar())}/>\n          <ToolbarUploadButton title=\"Upload\" icon={UploadIcon} accept={graphImporter.getImportFileTypes().join(\",\")}\n            onUpload={file => {\n              graphImporter.importFile(file, currentModule)\n                .catch((e) => {\n                  Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n                  console.error(e);\n                })\n                .finally(() => {\n                  this._toolbar.closeBar();\n                });\n            }}/>\n          <ToolbarButton title=\"Undo\" icon={UndoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canUndo()}\n            onClick={()=>undoManager.undo()}/>\n          <ToolbarButton title=\"Redo\" icon={RedoIcon} containerOnly={TOOLBAR_CONTAINER_TOOLBAR}\n            disabled={!undoManager.canRedo()}\n            onClick={()=>undoManager.redo()}/>\n          <ToolbarButton title={I18N.toString(\"component.exporting.title\")} icon={DownloadIcon}\n            onClick={()=>this._toolbar.setCurrentMenu(0)}\n            disabled={graphController.getGraph().isEmpty()}/>\n          <ToolbarDivider/>\n          <ToolbarButton title=\"Report a Bug\" icon={BugIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Language\" icon={WorldIcon} containerOnly={TOOLBAR_CONTAINER_MENU}/>\n          <ToolbarButton title=\"Help\" icon={HelpIcon}\n            onClick={()=>window.open(HELP_URL, '_blank')}/>\n          <ToolbarButton title={I18N.toString(\"component.options.title\")} icon={SettingsIcon} containerOnly={TOOLBAR_CONTAINER_MENU}\n            onClick={()=>this._toolbar.setCurrentMenu(1)}/>\n\n          <button onClick={() => {\n            const nextModuleClass = this.getCurrentModule() instanceof Module ? DefaultModule : Module;\n            this.setCurrentModuleClass(nextModuleClass);\n          }}>\n            {\"Change to Module\"}\n          </button>\n\n        </ToolbarView>\n\n        <DrawerView ref={ref=>this._drawer=ref} className=\"app-content\"\n          panels={modulePanels}\n          panelProps={modulePanelProps}\n          side={hasSmallWidth ? DRAWER_SIDE_BOTTOM : DRAWER_SIDE_RIGHT}\n          direction={hasSmallHeight ? DRAWER_BAR_DIRECTION_VERTICAL : DRAWER_BAR_DIRECTION_HORIZONTAL}\n          hide={isFullscreen}>\n          <UploadDropZone>\n            <div className=\"viewport\">\n\n              <TooltipView mode={ONESHOT_MODE} visible={/* For the initial fade-in animation */this._init && graphController.getGraph().isEmpty()}>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n                <label>{\"If you need help, try the \\'?\\' at the top.\"}</label>\n                <label>{\"Or you can choose to do nothing.\"}</label>\n                <label>{\"I can't do anything about that.\"}</label>\n                <label>{\"You really should consider doing something though, for the sake of both of us.\"}</label>\n                <label>{\"Of course, it is your free will.\"}</label>\n                <label>{\"You do you.\"}</label>\n                <label>{\"Please do something.\"}</label>\n                <label>{\"I need my job.\"}</label>\n                <label>{I18N.toString(\"message.workspace.empty\")}</label>\n              </TooltipView>\n\n              <WorkspaceView ref={ref=>this._workspace=ref} viewport={viewport}>\n                {/* Graph origin crosshair */\n                  !graphController.getGraph().isEmpty() &&\n                  <React.Fragment>\n                    <line className=\"graph-ui\" x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"var(--color-viewport-back-detail)\"/>\n                    <line className=\"graph-ui\" x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"var(--color-viewport-back-detail)\"/>\n                  </React.Fragment>}\n                {/* Graph objects */\n                  GraphRenderer &&\n                  <GraphRenderer currentModule={currentModule} parent={this._workspace}/>}\n                {/* Graph overlays */\n                  GraphOverlayRenderer &&\n                  <GraphOverlayRenderer currentModule={currentModule} parent={this._workspace}/>}\n              </WorkspaceView>\n\n              <NotificationView notificationManager={Notifications}>\n              </NotificationView>\n\n              <HotKeyView hotKeyManager={this._hotKeyManager}/>\n\n              <ViewportView ref={ref=>this._viewport=ref}\n                views={moduleViews}\n                viewProps={moduleViewProps}>\n              </ViewportView>\n\n            </div>\n          </UploadDropZone>\n        </DrawerView>\n\n      </div>\n    );\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n"],"sourceRoot":""}