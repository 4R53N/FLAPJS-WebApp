{"version":3,"sources":["webpack:///./src/app/deprecated/content/viewport/Viewport.js","webpack:///./src/app/util/MathHelper.js","webpack:///./src/app/graph/GraphNode.js","webpack:///./src/app/modules/fsa/graph/FSAGraphParser.js","webpack:///./src/app/deprecated/system/styleopt/components/StyleInput.js","webpack:///./src/app/graph/GraphEdge.js","webpack:///./src/app/modules/fsa/graph/FSANode.js","webpack:///./src/app/modules/fsa/graph/GraphLayout.js","webpack:///./src/app/modules/fsa/graph/FSAGraph.js","webpack:///./src/app/modules/Modules.js","webpack:///./src/app/changelog.js","webpack:///./src/app/router.js","webpack:///./src/app/deprecated/system/localsave/LocalSave.js","webpack:///./src/app/deprecated/system/localsave/LocalSaveManager.js","webpack:///./src/app/deprecated/modules/ModuleLoader.js","webpack:///./src/app/deprecated/content/HotKeys.js","webpack:///./src/app/deprecated/content/toolbar/UploadButton.js","webpack:///./src/app/deprecated/content/toolbar/HelpButton.js","webpack:///./src/app/deprecated/content/toolbar/MachineName.js","webpack:///./src/app/deprecated/icons/PageNewIcon.js","webpack:///./src/app/deprecated/icons/HelpIcon.js","webpack:///./src/app/deprecated/icons/LanguageIcon.js","webpack:///./src/app/deprecated/icons/OfflineIcon.js","webpack:///./src/app/deprecated/icons/BugReportIcon.js","webpack:///./src/app/deprecated/content/drawer/DrawerExpander.js","webpack:///./src/app/deprecated/content/panels/exporting/ExportingPanel.js","webpack:///./src/app/deprecated/content/panels/options/OptionGroup.js","webpack:///./src/app/deprecated/content/panels/options/OptionHotkey.js","webpack:///./src/app/deprecated/content/panels/options/OptionsPanel.js","webpack:///./src/app/deprecated/content/drawer/Drawer.js","webpack:///./src/app/deprecated/content/toolbar/Toolbar.js","webpack:///./src/app/deprecated/content/workspace/Subtitle.js","webpack:///./src/app/deprecated/content/workspace/Workspace.js","webpack:///./src/app/deprecated/tutorial/Tutorial.js","webpack:///./src/app/deprecated/system/inputadapter/InputPointer.js","webpack:///./src/app/deprecated/system/inputadapter/ViewportAdapter.js","webpack:///./src/app/deprecated/system/inputadapter/InputAdapter.js","webpack:///./src/app/deprecated/system/notification/components/NotificationMessage.js","webpack:///./src/app/deprecated/system/notification/components/NotificationView.js","webpack:///./src/app/deprecated/system/undomanager/UndoManager.js","webpack:///./src/app/deprecated/system/localsave/AbstractLocalSaver.js","webpack:///./src/app/deprecated/content/AppSaver.js","webpack:///./src/app/deprecated/content/App.js","webpack:///./src/app/deprecated/landing/components/Logo.js","webpack:///./src/app/deprecated/landing/components/Quote.js","webpack:///./src/app/deprecated/landing/components/LandingPage.js","webpack:///./src/app/index.js","webpack:///./src/app/graph/GraphElement.js","webpack:///./src/app/util/Eventable.js","webpack:///./src/app/deprecated/system/formattedinput/FormattedInput.js","webpack:///./src/app/deprecated/icons/IconToggle.js","webpack:///./src/app/deprecated/icons/DropDownIcon.js","webpack:///./src/app/deprecated/icons/UploadIcon.js","webpack:///./src/app/deprecated/icons/SaveIcon.js","webpack:///./src/app/deprecated/system/inputadapter/AbstractInputHandler.js","webpack:///./src/app/deprecated/icons/UndoIcon.js","webpack:///./src/app/deprecated/config.js","webpack:///./src/app/deprecated/icons/RedoIcon.js","webpack:///./src/app/deprecated/icons/flat/XMLIcon.js","webpack:///./src/app/modules/abstract/AbstractModule.js","webpack:///./src/app/modules/fsa/panels/overview/infoblock/InfoBlock.js","webpack:///./src/app/deprecated/icons/BoxAddIcon.js","webpack:///./src/app/deprecated/icons/TriangleIcon.js","webpack:///./src/app/modules/fsa/panels/overview/stateslist/StateTag.js","webpack:///./src/app/modules/fsa/panels/overview/stateslist/StatesList.js","webpack:///./src/app/modules/fsa/panels/overview/alphabetlist/AlphabetTag.js","webpack:///./src/app/modules/fsa/panels/overview/alphabetlist/AlphabetList.js","webpack:///./src/app/modules/fsa/machine/FSA.js","webpack:///./src/app/modules/fsa/machine/NFA.js","webpack:///./src/app/modules/fsa/panels/overview/transitiontable/TransitionTable.js","webpack:///./src/app/modules/fsa/panels/overview/transitionfunction/TransitionFunction.js","webpack:///./src/app/modules/fsa/panels/overview/formaldefinition/FormalDefinition.js","webpack:///./src/app/modules/fsa/panels/overview/OverviewPanel.js","webpack:///./src/app/modules/fsa/machine/util/solveNFA.js","webpack:///./src/app/modules/fsa/machine/DFA.js","webpack:///./src/app/modules/fsa/testing/TestMode.js","webpack:///./src/app/modules/fsa/testing/TestingInputList.js","webpack:///./src/app/modules/fsa/testing/TestingManager.js","webpack:///./src/app/deprecated/icons/AddIcon.js","webpack:///./src/app/deprecated/icons/RemoveIcon.js","webpack:///./src/app/deprecated/icons/SuccessIcon.js","webpack:///./src/app/deprecated/icons/FailureIcon.js","webpack:///./src/app/deprecated/icons/RunningManIcon.js","webpack:///./src/app/modules/fsa/panels/testing/StatusButton.js","webpack:///./src/app/modules/fsa/panels/testing/TestingInput.js","webpack:///./src/app/modules/fsa/panels/testing/components/UploadTestButton.js","webpack:///./src/app/deprecated/icons/PageNewContentIcon.js","webpack:///./src/app/deprecated/icons/CloseIcon.js","webpack:///./src/app/modules/fsa/panels/testing/TestingPanel.js","webpack:///./src/app/modules/fsa/notifications/NFAToDFAConversionWarningMessage.js","webpack:///./src/app/modules/fsa/panels/analysis/AnalysisPanel.js","webpack:///./src/app/modules/fsa/panels/about/AboutPanel.js","webpack:///./src/app/modules/fsa/controller/ViewportInputHandler.js","webpack:///./src/app/modules/fsa/controller/GraphPicker.js","webpack:///./src/app/modules/fsa/controller/inputhandler/InputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphElementInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphNodeInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphEdgeInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphEndpointInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphInitialInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/SelectionBoxInputHandler.js","webpack:///./src/app/modules/fsa/controller/inputhandler/GraphNodeCreateInputHandler.js","webpack:///./src/app/modules/fsa/controller/InputController.js","webpack:///./src/app/modules/fsa/exporter/AbstractGraphExporter.js","webpack:///./src/app/modules/fsa/exporter/GraphImageExporter.js","webpack:///./src/app/modules/fsa/controller/GraphImporter.js","webpack:///./src/app/deprecated/icons/flat/JSONIcon.js","webpack:///./src/app/modules/fsa/exporter/FSAGraphExporter.js","webpack:///./src/app/modules/fsa/exporter/JFLAPGraphExporter.js","webpack:///./src/app/modules/fsa/controller/GraphController.js","webpack:///./src/app/modules/fsa/notifications/StateUnreachableWarningMessage.js","webpack:///./src/app/modules/fsa/notifications/TransitionErrorMessage.js","webpack:///./src/app/modules/fsa/notifications/StateMissingTransitionErrorMessage.js","webpack:///./src/app/modules/fsa/builder/FSAErrorChecker.js","webpack:///./src/app/modules/fsa/builder/FSABuilder.js","webpack:///./src/app/modules/fsa/machine/util/convertNFA.js","webpack:///./src/app/modules/fsa/controller/MachineController.js","webpack:///./src/app/modules/fsa/renderer/NodeRenderer.js","webpack:///./src/app/modules/fsa/renderer/EdgeRenderer.js","webpack:///./src/app/modules/fsa/renderer/InitialMarkerRenderer.js","webpack:///./src/app/modules/fsa/renderer/FSAGraphRenderer.js","webpack:///./src/app/deprecated/content/workspace/renderer/SelectionBoxRenderer.js","webpack:///./src/app/deprecated/content/workspace/renderer/HighlightRenderer.js","webpack:///./src/app/modules/fsa/renderer/FSAGraphOverlayRenderer.js","webpack:///./src/app/deprecated/content/viewport/TrashCan.js","webpack:///./src/app/deprecated/icons/PlayIcon.js","webpack:///./src/app/deprecated/icons/PauseIcon.js","webpack:///./src/app/deprecated/icons/StopIcon.js","webpack:///./src/app/modules/fsa/renderer/TestTray.js","webpack:///./src/app/deprecated/icons/CreateIcon.js","webpack:///./src/app/deprecated/icons/MoveIcon.js","webpack:///./src/app/deprecated/content/viewport/CursorMode.js","webpack:///./src/app/modules/fsa/renderer/ViewportRenderer.js","webpack:///./src/app/modules/fsa/editor/LabelEditor.js","webpack:///./src/app/deprecated/system/undomanager/AbstractEventHandler.js","webpack:///./src/app/deprecated/system/undomanager/SafeGraphEventHandler.js","webpack:///./src/app/modules/fsa/FSAModule.js","webpack:///./src/app/experimental/GraphChangeHandler.js","webpack:///./src/app/graph/QuadraticEdge.js","webpack:///./src/app/modules/abstract/AbstractInputController.js","webpack:///./src/app/modules/abstract/AbstractGraphController.js","webpack:///./src/app/deprecated/icons/flat/PNGIcon.js","webpack:///./src/app/deprecated/icons/flat/JPGIcon.js","webpack:///./src/app/deprecated/icons/flat/SVGIcon.js","webpack:///./src/app/deprecated/icons/IconButton.js","webpack:///./src/app/graph/NodalGraph.js","webpack:///./src/app/modules/abstract/AbstractMachineController.js","webpack:///./src/app/experimental/MachineChangeHandler.js","webpack:///./src/app/modules/abstract/AbstractMachineBuilder.js","webpack:///./src/app/graph/AbstractGraphLabeler.js","webpack:///./src/app/modules/fsa/graph/FSAGraphLabeler.js","webpack:///./src/app/deprecated/system/styleopt/StyleOptionRegistry.js","webpack:///./src/app/modules/fsa/machine/Symbols.js","webpack:///./src/app/deprecated/system/notification/NotificationManager.js","webpack:///./src/app/deprecated/system/notification/Notifications.js","webpack:///./src/app/util/Downloader.js","webpack:///./src/app/util/ColorHelper.js","webpack:///./src/app/modules/fsa/graph/FSAEdge.js"],"names":["Viewport","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","ref","labelEditor","state","prevMode","NORMAL","mode","React","Component","_this2","currentModule","ViewportRenderer","getInputController","getGraphController","getMachineController","getRenderer","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","_extends","parent","WAITING","TESTING","DANGEROUS","guid","s4","Math","floor","random","toString","substring","stringHash","value","arguments","length","undefined","hash","i","len","imul","charCodeAt","__webpack_require__","d","__webpack_exports__","GraphNode","id","x","y","_label","GraphElement","dst","label","usePosition","_get","prototype","r","JSON","XML","_FSAGraph_js__WEBPACK_IMPORTED_MODULE_0__","_FSAEdge_js__WEBPACK_IMPORTED_MODULE_1__","parse","data","clear","FSAGraph","nodeDatas","nodeCount","min","edgeDatas","edgeCount","initialIndex","nodeIndices","Map","nodeData","node","createNode","setNodeLabel","setNodeAccept","setNodeCustom","set","initialNode","get","setStartNode","edgeData","sourceNode","destinationNode","edge","createEdge","quadData","setEdgeLabel","setQuadratic","objectify","graph","graphNodes","getNodes","graphEdges","getEdges","graphInitial","getStartNode","Array","elementID","getGraphElementID","getNodeLabel","accept","getNodeAccept","custom","getNodeCustom","quad","getQuadratic","edgeSource","getSourceNode","edgeDestination","getDestinationNode","sourceIndex","has","destinationIndex","from","to","radians","getEdgeLabel","nodes","edges","initial","_version","NULL","nodeElements","getElementsByTagName","edgeElements","nodeElementIDs","nodeElement","nodeElementID","getAttribute","xElements","xElement","hasChildNodes","xValue","childNodes","parseFloat","nodeValue","e","yElements","yElement","yValue","final","boundingRect","getBoundingRect","minX","minY","width","height","transitionMapping","edgeElement","sourceID","fromElements","fromElement","fromValue","destinationID","toElements","toElement","toValue","symbol","readElements","readElement","readValue","transitionID","symbols","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","keys","Symbol","iterator","next","done","transitionKey","key","split","join","SYMBOL_SEPARATOR","err","return","doc","DOMParser","parseFromString","structure","type","innerHTML","appendChild","automaton","setAttribute","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getEdgeSymbolsFromLabel","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","transition","read","StyleInput","onChange","bind","_assertThisInitialized","newValue","target","setStyle","title","propName","prop","inputType","inputID","style","getStyle","disabled","htmlFor","GraphEdge","Error","_from","_to","HALFPI","PI","result","isPlaceholder","dy","dx","atan2","halfPlaceholderLength","getPlaceholderLength","placeholderLength","getNodeSize","src","getHashString","FSANode","_accept","_custom","Config","NODE_RADIUS","GraphLayout","reachableNode","reachable","startNode","includes","getReachableState","unreachableNode","filter","numOfReachable","numOfUnreachable","numOfNode","maxNum","max","radius","currentStep","degree","sin","cos","degree_re","degree_un","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","FSAEdge","NodalGraph","_nodes","indexOf","prev","edgeLabel","_edges","otherEdge","otherSymbols","concat","isSelfLoop","flag","isQuadratic","abs","parallelEdgeHeight","maxNodeSize","x1","y1","x2","y2","dist12sq","vertical","m","b","x0","y0","sqrt","Modules","name","version","experimental","fetch","callback","then","_ref","_","default","Promise","all","_ref2","resolve","_ref3","_ref4","_ref5","_ref6","changeLog","show","log","process","ROUTER","_componentClass","_componentProps","routeTo","componentClass","componentProps","getCurrentPage","getCurrentPageProps","INSTANCE","LocalSaveManager","_handlers","Set","_intervalID","_intervalMillis","_init","onIntervalUpdate","millis","handler","onLoadSave","add","onUnloadSave","delete","doesSupportLocalStorage","setInterval","clearInterval","onAutoSave","console","error","saveKey","stringData","localStorage","setItem","removeItem","getItem","jsonData","hidden","document","msHidden","webkitHidden","_typeof","hasOwnProperty","stringify","Storage","MODULE_TIMEOUT","IS_DEFAULT_MODULE","ModuleLoader","ModuleLoader_classCallCheck","_timeout","savedModuleID","LocalSave","getStringFromStorage","loadModule","moduleID","moduleInfo","window","alert","useExperimental","clearTimeout","setTimeout","moduleClass","setStringToStorage","Router","appClass","AppClass","App","react_default","HotKeys","HotKeys_classCallCheck","app","workspace","toolbar","undoManager","graphController","machineController","onKeyDown","getUndoManager","addEventListener","removeEventListener","event","which","metaKey","ctrlKey","exporter","getDefaultGraphExporter","machineName","getMachineName","exportToFile","getCurrentModule","preventDefault","stopPropagation","shiftKey","redo","undo","imageExporters","getImageExporters","imageExporter","getModuleName","UploadButton","UploadButton_classCallCheck","UploadButton_getPrototypeOf","onUploadFileChange","UploadButton_assertThisInitialized","files","getGraphImporter","importFile","catch","Notifications","addErrorMessage","onClick","display","getImportFileTypes","children","HelpButton","HelpButton_classCallCheck","HelpButton_getPrototypeOf","HelpButton_assertThisInitialized","hasMessages","addMessage","I18N","open","MachineName","MachineName_classCallCheck","MachineName_getPrototypeOf","MachineName_assertThisInitialized","onFocus","onBlur","setState","blur","onSubmit","PageNewIcon","PageNewIcon_classCallCheck","PageNewIcon_possibleConstructorReturn","PageNewIcon_getPrototypeOf","xmlns","viewBox","fill","HelpIcon","HelpIcon_classCallCheck","HelpIcon_possibleConstructorReturn","HelpIcon_getPrototypeOf","LanguageIcon","LanguageIcon_classCallCheck","LanguageIcon_possibleConstructorReturn","LanguageIcon_getPrototypeOf","OfflineIcon","OfflineIcon_classCallCheck","OfflineIcon_possibleConstructorReturn","OfflineIcon_getPrototypeOf","BugReportIcon","BugReportIcon_classCallCheck","BugReportIcon_possibleConstructorReturn","BugReportIcon_getPrototypeOf","DrawerExpander","DrawerExpander_classCallCheck","DrawerExpander_getPrototypeOf","DrawerExpander_assertThisInitialized","isFullscreen","isOpen","closeDrawer","openDrawer","ExportingPanel","ExportingPanel_classCallCheck","ExportingPanel_possibleConstructorReturn","ExportingPanel_getPrototypeOf","container","doesSupportFile","IconButton","getFileType","getTitle","module","filename","getIconClass","getLabel","_this3","graphExporters","getGraphExporters","map","renderExporterButton","Object","defineProperty","UNLOCALIZED_NAME","OptionGroup","OptionGroup_classCallCheck","OptionGroup_possibleConstructorReturn","OptionGroup_getPrototypeOf","dropdown","createRef","IconToggle","defaultValue","pointerEvents","DropDownIcon","OptionHotkey","OptionHotkey_classCallCheck","OptionHotkey_possibleConstructorReturn","OptionHotkey_getPrototypeOf","keyName","LOCAL_STORAGE_ID","OptionsPanel","OptionsPanel_classCallCheck","OptionsPanel_getPrototypeOf","styleOpts","StyleOptionRegistry","theme","customTheme","skipWelcome","disableExitWarning","onChangeTheme","OptionsPanel_assertThisInitialized","onChangeModule","root","getElementById","opts","invertFunc","opt","color","ColorHelper","getOptionByProp","darkFunc","inverted","registerStyleOption","apply","initialize","registerHandler","terminate","unregisterHandler","loadFromStorage","getOptions","isDefaultStyle","saveToStorage","prevTheme","resetStyle","moduleName","panels_options_OptionGroup","panels_options_OptionHotkey","marginTop","checked","getPropsByGroup","mod","confirm","DEFAULT_PANELS","DEFAULT_TAB_INDEX","MAX_PANEL_THRESHOLD","MIN_PANEL_SIZE","Drawer","Drawer_classCallCheck","Drawer_getPrototypeOf","tabIndex","dragging","onTouchStart","Drawer_assertThisInitialized","onMouseDown","onScroll","_ontouchmove","_ontouchend","index","updatePanelSize","touch","changedTouches","onStartDraggingDrawerBorder","clientX","clientY","ev","onStopDraggingDrawerBorder","onMouseMove","onMouseUp","InfoPanel","getModulePanels","onWheel","PanelClass","panelID","content_drawer_DrawerExpander","setTab","size","matchMedia","matches","viewport","getBoundingClientRect","offsetHeight","offsetWidth","setProperty","EXPORTING_PANEL_TAB_INDEX","OPTIONS_PANEL_TAB_INDEX","Toolbar","Toolbar_classCallCheck","Toolbar_getPrototypeOf","langOn","onMachineNameChange","Toolbar_assertThisInitialized","onMachineNameKeyDown","langOnClick","renameMachine","drawer","getGraph","offline","navigator","onLine","toolbar_MachineName","serviceWorker","getRegistration","icons_OfflineIcon","getLocalizedModuleName","setMachineName","icons_PageNewIcon","toolbar_UploadButton","UploadIcon","canUndo","UndoIcon","canRedo","RedoIcon","isEmpty","SaveIcon","icons_BugReportIcon","toolbar_HelpButton","icons_HelpIcon","activeElement","icons_LanguageIcon","maxWidth","fetchLanguageFile","Subtitle","Subtitle_classCallCheck","Subtitle_possibleConstructorReturn","Subtitle_getPrototypeOf","active","messageTimer","INIT_WAITTIME","visible","textAnchor","Workspace","Workspace_classCallCheck","Workspace_possibleConstructorReturn","Workspace_getPrototypeOf","svg","inputController","getInputAdapter","getViewport","offsetX","getOffsetX","offsetY","getOffsetY","bounds","w","EXPORT_PADDING_X","h","EXPORT_PADDING_Y","clone","cloneNode","uiElements","getElementsByClassName","remove","GraphRenderer","GraphOverlayRenderer","DEFAULT_GRAPH_SIZE","Number","MIN_VALUE","getScale","halfSize","content_workspace_Subtitle","transform","stroke","Tutorial","Tutorial_classCallCheck","InputPointer","adapter","element","InputPointer_classCallCheck","_adapter","_element","_viewport","_active","_x","_y","_inputpos","pos","ViewportAdapter","ViewportAdapter_classCallCheck","_offsetX","_offsetY","_nextOffsetX","_nextOffsetY","_offsetDamping","_scaleFactor","_minScale","_maxScale","scale","damping","ctm","getScreenCTM","f","dscale","LONG_TAP_TICKS","DOUBLE_TAP_TICKS","SCROLL_SENSITIVITY","CURSOR_RADIUS_SQU","CURSOR_RADIUS","DRAGGING_BUFFER_SQU","DRAGGING_BUFFER","InputAdapter","InputAdapter_classCallCheck","_activeDragHandler","_cursor","_mousemove","_mouseup","_touchmove","_touchend","_timer","_pointer","_dragging","_altinput","_holdInputDelay","_dblInputDelay","_scrollSensitivity","_minTapRadius","_draggingRadiusSqu","_prevEmptyInput","_prevEmptyTime","_prevEmptyX","_prevEmptyY","onContextMenu","onMouseDownThenMove","onMouseDownThenUp","onTouchStartThenMove","onTouchStartThenEnd","onDelayedInputDown","splice","SVGElement","setElement","onTouchMove","update","eventName","_len","eventArgs","_key","hasInputHandlers","cursor","focus","button","onInputDown","mouse","transformScreenToView","pointer","setPosition","handleEvent","cancelInputEvent","onInputMove","onInputUp","deltaY","setScale","beginInput","onDragMove","getDistanceSquToInitial","timer","onDragStop","dist","dt","Date","now","endInput","isActive","NotificationMessage","NotificationMessage_classCallCheck","NotificationMessage_getPrototypeOf","onExitMessage","NotificationMessage_assertThisInitialized","close","message","getType","NotificationView","NotificationView_classCallCheck","NotificationView_possibleConstructorReturn","NotificationView_getPrototypeOf","notificationManager","getMessages","getID","ComponentClass","getComponentClass","getComponentProps","notification_components_NotificationMessage","NotificationView_extends","UndoManager","UndoManager_classCallCheck","history","offsetIndex","_handlerFactory","factory","session","args","captureEventAsHandler","eventHandler","pop","unshift","applyUndo","applyRedo","AbstractLocalSaver","AppSaver","AppSaver_classCallCheck","AppSaver_possibleConstructorReturn","AppSaver_getPrototypeOf","_app","importFromData","captureGraphEvent","exportToData","SMOOTH_OFFSET_DAMPING","MIN_SCALE","MAX_SCALE","App_classCallCheck","App_getPrototypeOf","inputAdapter","setMinScale","setMaxScale","setOffsetDamping","_saver","App_assertThisInitialized","ModuleClass","Module","_module","hotKeys","tutorial","isDangerous","isWaitingForFile","onDragOver","onDragEnter","onDragLeave","onFileDrop","workspaceDOM","start","destroy","fileBlob","dataTransfer","items","file","kind","getAsFile","clearData","full","screen","animation","isModuleLoading","content_toolbar_Toolbar","notification_components_NotificationView","visibility","shouldHideContent","opacity","content_workspace_Workspace","content_drawer_Drawer","hot","Logo","Logo_classCallCheck","Logo_possibleConstructorReturn","Logo_getPrototypeOf","cx","cy","points","Quote","Quote_classCallCheck","Quote_possibleConstructorReturn","Quote_getPrototypeOf","QUOTES","QUOTE_INDEX","CONTENT_QUOTE","CONTENT_SUBQUOTE","LandingPage","LandingPage_classCallCheck","LandingPage_getPrototypeOf","footer","returnHome","onLaunchButton","LandingPage_assertThisInitialized","onTutorialButton","onReturnHomeButton","onReportBugButton","onAboutButton","onHelpButton","onGithubButton","onscroll","body","scrollHeight","documentElement","clientHeight","innerHeight","scroll","pageYOffset","round","bottom","loadModuleFromStorage","scrollTo","top","behavior","launchText","components_Logo","landing_components_Quote","loadConfig","requestAnimationFrame","updateApplication","saveConfig","returnValue","isUpdateAvailable","hasUpdate","Changelog","FRAMES_PER_SECOND","prevtime","time","page","pageProps","ReactDOM","render","_id","graphElementID","Eventable","__eventListeners","mixin","targetClass","targetPrototype","assign","registerEvent","unregisterEvent","listener","listeners","clearEventListeners","countEventListeners","getEventListeners","on","once","emit","_len2","_key2","onEventProcessed","FormattedInput","ignoreSaveOnExit","prevValue","onKeyUp","nextProps","hasFocus","select","replace","captureOnExit","formatValue","resetValue","multiline","setValue","_this4","separator","selectionStart","selectionEnd","formatter","_this5","rows","AbstractInputHandler","zoomValue","cfg","jsonString","clearConfig","_userDefined","_dirty","_resetOnLoad","MACHINE_ERRORS_MESSAGE_TAG","MACHINE_CONVERSION_MESSAGE_TAG","ERROR_CHECK_INTERVAL","GRAPH_IMMEDIATE_INTERVAL","STR_TRANSITION_DEFAULT_LABEL","STR_STATE_LABEL","PARALLEL_EDGE_HEIGHT","SELF_LOOP_HEIGHT","SUBMIT_KEY","CLEAR_KEY","TAB_KEY","UP_KEY","DOWN_KEY","DELETE_KEY","DELETE_FORWARD_KEY","NODE_RADIUS_SQU","NODE_DIAMETER","NODE_RADIUS_INNER","INITIAL_MARKER_OFFSET_X","EDGE_RADIUS","EDGE_RADIUS_SQU","ARROW_WIDTH","PLACEHOLDER_LENGTH","ENDPOINT_RADIUS","ENDPOINT_RADIUS_SQU","HOVER_RADIUS_OFFSET","SPAWN_RADIUS","DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE","PADDING_RADIUS_SQU","XMLIcon","AbstractModule","renderLayer","InfoBlock","InfoBlock_classCallCheck","BoxAddIcon","BoxAddIcon_classCallCheck","BoxAddIcon_possibleConstructorReturn","BoxAddIcon_getPrototypeOf","TriangleIcon","TriangleIcon_classCallCheck","TriangleIcon_possibleConstructorReturn","TriangleIcon_getPrototypeOf","StateTag","StateTag_classCallCheck","StateTag_getPrototypeOf","onValueChange","StateTag_assertThisInitialized","newLabel","getNodesByLabel","renameNode","deleteTargetNode","keyCode","trim","isCustom","spellCheck","StatesList","StatesList_classCallCheck","StatesList_getPrototypeOf","onStateCreate","StatesList_assertThisInitialized","overview_infoblock_InfoBlock","icons_TriangleIcon","overview_stateslist_StateTag","focusOnNode","icons_BoxAddIcon","AlphabetTag","AlphabetTag_classCallCheck","AlphabetTag_getPrototypeOf","AlphabetTag_assertThisInitialized","newSymbol","oldSymbol","getAlphabet","renameSymbol","createSymbol","deleteSymbol","maxLength","AlphabetList","AlphabetList_classCallCheck","AlphabetList_getPrototypeOf","editingTag","editing","onSymbolCreate","AlphabetList_assertThisInitialized","onStopEditing","alphabet","overview_alphabetlist_AlphabetTag","FSA","FSA_classCallCheck","_states","_transitions","_finalStates","_customAlphabet","fsa","slice","oldState","newState","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","fromState","toState","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","getStartState","isFinal","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","isUsedAlphabet","isAlphabet","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","s","getUsedAlphabet","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","foundSymbols","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","transitions","getOutgoingTransitions","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","DFA","NFA","states","usedAlphabet","startState","finalStates","NFA_classCallCheck","NFA_possibleConstructorReturn","NFA_getPrototypeOf","EMPTY","doClosureTransition","ps","nfaStates","getStates","j","SRC","SYMBOL","DST","SYMBOL_AXIS","getDestinationFromSourceAndSymbol","machine","isSet","doTransition","isArray","TransitionTable","TransitionTable_classCallCheck","TransitionTable_possibleConstructorReturn","TransitionTable_getPrototypeOf","rowAxis","getMachineBuilder","getMachine","rowAxisType","getTransitions","isNFAMachine","getMachineType","hasEmptyColumn","scope","startsWith","getSymbolFromSourceAndDestination","TransitionFunction","TransitionFunction_classCallCheck","TransitionFunction_possibleConstructorReturn","TransitionFunction_getPrototypeOf","sort","isNFA","emptrans","empclassName","trans","FormalDefinition","FormalDefinition_classCallCheck","FormalDefinition_possibleConstructorReturn","FormalDefinition_getPrototypeOf","getFinalStates","EMPTY_SET","DELTA","OverviewPanel","OverviewPanel_classCallCheck","OverviewPanel_getPrototypeOf","viewFormal","onChangeMachineType","OverviewPanel_assertThisInitialized","onAutoLayout","onChangeAutoRename","onSubmitAutoStatePrefix","onAutoStateFormat","switchDefinition","applyAutoLayout","changeMachineTo","setAutoRenameNodes","graphLabeler","getGraphLabeler","getDefaultNodeLabelPrefix","setDefaultNodeLabelPrefix","applyAutoRename","overview_formaldefinition_FormalDefinition","overview_stateslist_StatesList","overview_alphabetlist_AlphabetList","overview_transitionfunction_TransitionFunction","overview_transitiontable_TransitionTable","paddingBottom","marginBottom","flexDirection","background","outline","border","padding","margin","appearance","shouldAutoRenameNodes","solveNFAbyStep","nfa","cachedStates","cachedSymbols","checkedStates","nextStates","nextIndex","cstate","doTerminalTransition","nextState","isFinalState","DFA_classCallCheck","DFA_possibleConstructorReturn","DFA_getPrototypeOf","isValidDFA","TestMode","testingManager","TestMode_classCallCheck","targets","indexofString","running","started","skipToEnd","onNodeDestroy","prepareForNewTest","hasNextStep","inputList","resetTests","step","onNextStep","onPause","hasPrevInput","previous","prevInput","getCurrentInput","hasNextInput","testInput","setResult","nextInput","getCurrentCache","nextChar","getFirstGraphNodeByLabel","skipFunc","curr_state","TestingInputList","TestingInputList_classCallCheck","addInput","inputIndex","input","currState","counter","solveNFA","reader","FileReader","onload","testInputs","abort","readAsText","first","dirty","markDirty","TestingManager","TestingManager_classCallCheck","shouldCheckError","isImmediateErrorCheck","errorCheckMode","NO_ERROR_CHECK","stepByStepMode","testMode","setMachineType","DELAYED_ERROR_CHECK","IMMEDIATE_ERROR_CHECK","isStarted","onStop","onStart","AddIcon","AddIcon_classCallCheck","AddIcon_possibleConstructorReturn","AddIcon_getPrototypeOf","RemoveIcon","RemoveIcon_classCallCheck","RemoveIcon_possibleConstructorReturn","RemoveIcon_getPrototypeOf","SuccessIcon","SuccessIcon_classCallCheck","SuccessIcon_possibleConstructorReturn","SuccessIcon_getPrototypeOf","FailureIcon","FailureIcon_classCallCheck","FailureIcon_possibleConstructorReturn","FailureIcon_getPrototypeOf","RunningManIcon","RunningManIcon_classCallCheck","RunningManIcon_possibleConstructorReturn","RunningManIcon_getPrototypeOf","StatusButton","StatusButton_classCallCheck","StatusButton_possibleConstructorReturn","StatusButton_getPrototypeOf","icons_SuccessIcon","icons_FailureIcon","icons_RunningManIcon","TestingInput","TestingInput_classCallCheck","TestingInput_getPrototypeOf","onStatusClick","TestingInput_assertThisInitialized","onSubmitClick","testList","getInputByIndex","testByIndex","machineBuilder","isInputFirst","getInput","newTest","removeInputByIndex","getTests","shouldTestOnly","getCurrentInputIndex","panels_testing_StatusButton","placeholder","icons_AddIcon","icons_RemoveIcon","UploadTestButton","UploadTestButton_classCallCheck","UploadTestButton_possibleConstructorReturn","UploadTestButton_getPrototypeOf","uploadInput","PageNewContentIcon","PageNewContentIcon_classCallCheck","PageNewContentIcon_possibleConstructorReturn","PageNewContentIcon_getPrototypeOf","CloseIcon","CloseIcon_classCallCheck","CloseIcon_possibleConstructorReturn","CloseIcon_getPrototypeOf","TestingPanel","TestingPanel_classCallCheck","TestingPanel_getPrototypeOf","getTestingManager","getErrorCheckMode","noTestMode","_savedGraphHash","_ticksSinceHash","stepByStepModeChecked","onChangeErrorCheckMode","TestingPanel_assertThisInitialized","onGraphChange","onTestsRunAll","onTestsClear","onTestsSave","onTestsNew","onTestsUpload","getHashCode","g","importTests","tester","setErrorCheckMode","setStepByStepMode","clearTests","clearTestName","hideTestInputList","downloadText","getTestsAsStrings","showTestInputList","isTestInvalid","isMachineValid","graphHash","icons_PageNewContentIcon","components_UploadTestButton","icons_CloseIcon","panels_testing_TestingInput","NFAToDFAConversionWarningMessage","NFAToDFAConversionWarningMessage_classCallCheck","NFAToDFAConversionWarningMessage_getPrototypeOf","NFAToDFAConversionWarningMessage_assertThisInitialized","convertMachineTo","stateCount","countStates","pow","AnalysisPanel","AnalysisPanel_classCallCheck","AnalysisPanel_getPrototypeOf","optimizeUnreachOption","optimizeRedundOption","onConvertToDFA","AnalysisPanel_assertThisInitialized","onConvertToNFA","onOptimizeMachine","unreachableArray","getUnreachableNodes","deleteTargetNodes","messageTag","onDeleteAllUnreachable","machineType","canOptimize","AboutPanel","AboutPanel_classCallCheck","AboutPanel_possibleConstructorReturn","AboutPanel_getPrototypeOf","ViewportInputHandler","ViewportInputHandler_classCallCheck","ViewportInputHandler_possibleConstructorReturn","ViewportInputHandler_getPrototypeOf","_prevX","_prevY","getAdapter","addOffset","GraphPicker","GraphPicker_classCallCheck","selectionBox","fromX","fromY","toX","toY","targetType","initialTarget","initialTargetType","getNodeByInitialMarkerAt","getEdgeByEndPointAt","getNodeAt","getEdgeAt","nodeSize","offset","center","getCenterPoint","end","getEndPoint","box","mx","my","lx","ly","clearSelection","getNodesWithin","getSelection","InputHandler","GraphElementInputHandler","GraphElementInputHandler_classCallCheck","GraphElementInputHandler_possibleConstructorReturn","GraphElementInputHandler_getPrototypeOf","_targetType","GraphNodeInputHandler","GraphNodeInputHandler_classCallCheck","GraphNodeInputHandler_possibleConstructorReturn","GraphNodeInputHandler_getPrototypeOf","picker","getPicker","isTrashMode","prevX","prevY","hasSelection","deleteSelectedNodes","isMoveMode","toggleNode","getDefaultEdgeLabel","setInitialTarget","isNewEdge","edgeQuad","prevQuad","prevEdgeTo","_snapToGrid","snapSize","_snapSize","moveMultipleNodesTo","moveNodeTo","onGraphIntentMoveAllNodes","onGraphIntentMoveNode","GraphEdgeInputHandler","GraphEdgeInputHandler_classCallCheck","GraphEdgeInputHandler_possibleConstructorReturn","GraphEdgeInputHandler_getPrototypeOf","deleteTargetEdge","openLabelEditor","targetQuad","moveEdgeTo","onGraphIntentMoveEdge","GraphEndpointInputHandler","GraphEndpointInputHandler_classCallCheck","GraphEndpointInputHandler_possibleConstructorReturn","GraphEndpointInputHandler_getPrototypeOf","moveEndpointTo","formatEdge","deleteEdge","onGraphIntentFinishEdge","onGraphIntentCreateEdge","onGraphIntentChangeDestination","shouldDestroyPointlessEdges","changeDestinationNode","GraphInitialInputHandler","GraphInitialInputHandler_classCallCheck","GraphInitialInputHandler_possibleConstructorReturn","GraphInitialInputHandler_getPrototypeOf","ghostInitialMarker","prevInitial","onGraphIntentChangeInitial","SelectionBoxInputHandler","SelectionBoxInputHandler_classCallCheck","SelectionBoxInputHandler_possibleConstructorReturn","SelectionBoxInputHandler_getPrototypeOf","_picker","beginSelection","isSelecting","updateSelection","endSelection","GraphNodeCreateInputHandler","GraphNodeCreateInputHandler_classCallCheck","GraphNodeCreateInputHandler_possibleConstructorReturn","GraphNodeCreateInputHandler_getPrototypeOf","InputController","InputController_classCallCheck","InputController_getPrototypeOf","addInputHandler","InputController_assertThisInitialized","_graphController","prevPointerX","prevPointerY","_swapMouseScheme","_trashMode","_disabled","_inputHandlers","AbstractInputController","_inputAdapter","getPointerX","getPointerY","updateTarget","hasTarget","isTargetInSelection","getStepByStepMode","isTargetable","onAction","onDblAction","onDragStart","clearTarget","enabled","shouldInputFirst","isAltInput","isDragging","isPointerActive","AbstractGraphExporter","AbstractGraphExporter_classCallCheck","toUpperCase","GraphImageExporter","imageType","FILE_TYPE_PNG","GraphImageExporter_classCallCheck","GraphImageExporter_possibleConstructorReturn","GraphImageExporter_getPrototypeOf","_imageType","getApp","workspaceDim","baseVal","processSVGForExport","downloadImageFromSVG","FILE_TYPE_JPG","FILE_TYPE_SVG","GraphImageExporter_get","PNGIcon","JPGIcon","SVGIcon","GraphImporter","GraphImporter_classCallCheck","File","reject","fileName","exporters","_loop","canImport","endsWith","importFromFile","_loop2","doesSupportData","JSONIcon","JSONIcon_classCallCheck","JSONIcon_possibleConstructorReturn","JSONIcon_getPrototypeOf","FSAGraphExporter","FSAGraphExporter_classCallCheck","FSAGraphExporter_possibleConstructorReturn","FSAGraphExporter_getPrototypeOf","newGraph","JSONGraphParser","graphData","machineData","customSymbols","clearCustomSymbols","addCustomSymbol","statePrefix","getModuleVersion","timestamp","getCustomSymbols","fromJSON","toJSON","onerror","code","JSONFileIcon","JFLAPGraphExporter","JFLAPGraphExporter_classCallCheck","JFLAPGraphExporter_possibleConstructorReturn","JFLAPGraphExporter_getPrototypeOf","xmlData","XMLGraphParser","xmlString","XMLSerializer","serializeToString","XMLFileIcon","DEFAULT_IMAGE_EXPORTERS","EXPORTERS","GRAPH_REFRESH_RATE","GraphController","GraphController_classCallCheck","GraphController_getPrototypeOf","FSAGraphLabeler","FSAGraphParser","_importer","_labeler","setGraphController","GraphController_assertThisInitialized","_graphChangeHandler","GraphChangeHandler","labelEditorElement","shouldAutoLabel","AbstractGraphController","GraphController_get","_graph","getModule","applyLayout","getDefaultNodeLabel","nextQuad","prevDestination","nextInitial","nextX","nextY","targetNodes","enable","newNodeLabel","selectedNode","selection","deleteNode","onGraphIntentDeleteNodes","other","angle","diameter","nextDX","nextDY","getInputEventPosition","changeInputEventPosition","setQuadraticByCoords","prevLabel","openEditor","setOffset","ax","ay","StateUnreachableWarningMessage","StateUnreachableWarningMessage_classCallCheck","StateUnreachableWarningMessage_getPrototypeOf","targetIndex","targetLabel","StateUnreachableWarningMessage_assertThisInitialized","buttonValue","TransitionErrorMessage","TransitionErrorMessage_classCallCheck","TransitionErrorMessage_getPrototypeOf","ARROW","TransitionErrorMessage_assertThisInitialized","targetLength","focusOnEdge","deleteTargetEdges","text","StateMissingTransitionErrorMessage","StateMissingTransitionErrorMessage_classCallCheck","StateMissingTransitionErrorMessage_getPrototypeOf","StateMissingTransitionErrorMessage_assertThisInitialized","FSAErrorChecker","FSAErrorChecker_classCallCheck","errorNodes","errorEdges","warningNodes","warningEdges","shouldNotifyErrors","deterministic","warnNodes","warnEdges","nodeTransitionMap","unreachNodes","placeholderEdges","emptyEdges","dupeEdges","labels","currentAlphabet","missingNodes","nodeTransitions","clearMessages","fillFSA","setFinalState","Node","newTransition","setStartState","FSABuilder","FSABuilder_classCallCheck","FSABuilder_possibleConstructorReturn","FSABuilder_getPrototypeOf","_machine","_deterministic","_symbols","_errorChecker","AbstractMachineBuilder","FSABuilder_get","toNFA","_errors","_warnings","checkErrors","prevSymbol","nextSymbol","expandPowersetStateToDFA","powerSetState","dfa","getStateFromSet","hasState","newDFAStateFromNFA","terminals","dfaState","MachineController","MachineController_classCallCheck","MachineController_possibleConstructorReturn","MachineController_getPrototypeOf","AbstractMachineController","MachineController_get","_machineBuilder","isDeterministic","setDeterministic","string","currentMachineType","powerSetStates","getPowerSet","trapState","newAlphabet","convertToDFA","setGraphToMachine","getNodeCount","shift","nextNodes","nextNode","isCustomSymbol","removeCustomSymbol","renameCustomSymbol","NodeRenderer","NodeRenderer_classCallCheck","NodeRenderer_possibleConstructorReturn","NodeRenderer_getPrototypeOf","userSelect","fontSize","EdgeRenderer","EdgeRenderer_classCallCheck","EdgeRenderer_possibleConstructorReturn","EdgeRenderer_getPrototypeOf","SIXTH_PI","arrowAngle","getStartPoint","quadCoords","getQuadraticAsCoords","edgeDir","getEdgeDirection","flipLabel","quadLine","str","yy","alignmentBaseline","InitialMarkerRenderer","InitialMarkerRenderer_classCallCheck","InitialMarkerRenderer_possibleConstructorReturn","InitialMarkerRenderer_getPrototypeOf","FSAGraphRenderer","FSAGraphRenderer_classCallCheck","FSAGraphRenderer_possibleConstructorReturn","FSAGraphRenderer_getPrototypeOf","renderer_NodeRenderer","renderer_EdgeRenderer","renderer_InitialMarkerRenderer","SelectionBoxRenderer","SelectionBoxRenderer_classCallCheck","SelectionBoxRenderer_possibleConstructorReturn","SelectionBoxRenderer_getPrototypeOf","HIGHLIGHT_LINE_ARRAY","HighlightRenderer","HighlightRenderer_classCallCheck","HighlightRenderer_possibleConstructorReturn","HighlightRenderer_getPrototypeOf","endpoint","strokeDashoffset","strokeDasharray","strokeWidth","FSAGraphOverlayRenderer","FSAGraphOverlayRenderer_classCallCheck","FSAGraphOverlayRenderer_possibleConstructorReturn","FSAGraphOverlayRenderer_getPrototypeOf","machineErrors","getMachineErrors","machineWarnings","getMachineWarnings","getSelectionBox","shouldShowErrors","renderer_HighlightRenderer","renderer_SelectionBoxRenderer","TrashCan","TrashCan_classCallCheck","TrashCan_possibleConstructorReturn","TrashCan_getPrototypeOf","staticTrash","setTrashMode","isUsingTouch","onMouseEnter","onTrashEnter","onMouseLeave","onTrashLeave","onTrashClick","PlayIcon","PlayIcon_classCallCheck","PlayIcon_possibleConstructorReturn","PlayIcon_getPrototypeOf","PauseIcon","PauseIcon_classCallCheck","PauseIcon_possibleConstructorReturn","PauseIcon_getPrototypeOf","StopIcon","StopIcon_classCallCheck","StopIcon_possibleConstructorReturn","StopIcon_getPrototypeOf","TestTray","TestTray_classCallCheck","TestTray_possibleConstructorReturn","TestTray_getPrototypeOf","testIndex","getCurrentTestStringIndex","testOffset","MAX_ELLIPSIS_COUNT","onResume","isRunning","icons_PlayIcon","icons_PauseIcon","onPreviousStep","hasPrevStep","isSkipping","icons_StopIcon","CreateIcon","CreateIcon_classCallCheck","CreateIcon_possibleConstructorReturn","CreateIcon_getPrototypeOf","MoveIcon","MoveIcon_classCallCheck","MoveIcon_possibleConstructorReturn","MoveIcon_getPrototypeOf","CursorMode","CursorMode_classCallCheck","CursorMode_possibleConstructorReturn","CursorMode_getPrototypeOf","actionMode","isActionMode","setInputScheme","icons_CreateIcon","icons_MoveIcon","ViewportRenderer_classCallCheck","ViewportRenderer_possibleConstructorReturn","ViewportRenderer_getPrototypeOf","LabelEditor","getLabelEditor","fsa_renderer_TestTray","content_viewport_CursorMode","content_viewport_TrashCan","RECOMMENDED_SYMBOLS","DEFAULT_SYMBOLS","EMPTY_CHAR","LabelEditor_classCallCheck","LabelEditor_getPrototypeOf","parentElement","inputElement","LabelEditor_assertThisInitialized","onFormat","targetEdge","defaultText","saveOnExit","appendValue","closeEditor","getEdgeLabelFormatter","targetStyle","screenPos","transformViewToScreen","left","appendSymbol","AbstractEventHandler","AbstractEventHandler_classCallCheck","SafeGraphEventHandler","SafeGraphEventHandler_classCallCheck","SafeGraphEventHandler_possibleConstructorReturn","SafeGraphEventHandler_getPrototypeOf","parser","getGraphParser","_graphData","prevEvent","getPreviousEvent","PANELS","FSAModule","FSAModule_classCallCheck","FSAModule_getPrototypeOf","_workspace","_undoManager","_inputController","FSAModule_assertThisInitialized","_machineController","_testingManager","FSAModule_get","setEventHandlerFactory","captureEvent","refreshTicks","_cachedGraphHash","_refreshTicks","_elapsedTicks","Infinity","_listeners","QuadraticEdge","_quad","_coords","fromx","fromy","midpointx","midpointy","angleOffset","outrad","inrad","maxdr","getDirectionalVector","getSelfLoopHeight","prevDest","formatAsPlaceholder","formatAsSelfLoop","coords","px","py","getMidPoint","qcoords","qx","qy","onInputEvent","labeler","_parser","parsers","nodeClass","edgeClass","_nodeClass","_edgeClass","_nodeMapping","_edgeMapping","nullSourceEdges","_i","setGraphElementID","clearEdges","clearNodes","getEdgeCount","maxX","maxY","minNX","MAX_VALUE","minNY","maxNX","maxNY","minEX","minEY","maxEX","maxEY","startPoint","endPoint","centerPoint","sx","sy","ex","ey","MachineChangeHandler","AbstractMachineBuilder_classCallCheck","_machineChangeHandler","getGraphChangeHandler","addListener","removeListener","attemptBuild","errors","warnings","AbstractGraphLabeler","getNodeLabelFormatter","DEFAULT_NODE_LABEL_PREFIX","_prefix","prefix","otherNodes","nodeIndex","edgeLabelFormatter","allowNull","symbolLength","subsymbol","StyleOption","elementSource","groupName","group","_callback","_value","_defaultValue","computedStyle","shouldPropagateChange","getComputedStyle","getPropertyValue","val","_options","_groups","changeCallback","option","computedStyles","values","updateStyle","Message","tags","_handler","_type","messages","tag","NotificationManager","_messageQueue","shouldReplaceRelated","hasTag","textData","downloadURL","encodeURIComponent","filetype","blob","svgString","Blob","createBlobFromSVG","url","URL","createObjectURL","canvas","ctx","getContext","pixelRatio","devicePixelRatio","setTransform","image","Image","drawImage","revokeObjectURL","imageURI","toDataURL","readAsDataURL","headerIndex","click","removeChild","blendRGB","invertRGB","HEXtoRGB","RGBtoHEX","RGB_WHITE","RGB_BLACK","percent","rgb1","rgb2","blendAmount","rgb","blackwhite","hex","red","green","blue","parseInt"],"mappings":"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","file":"app.bundle.dd3996b96125bbbeb558.js","sourcesContent":["import React from 'react';\nimport './Viewport.css';\n\nconst VIEWPORT_RENDER_LAYER = \"viewport\";\n\nclass Viewport extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n    this.labelEditor = null;\n\n    this.state = {\n      prevMode: Viewport.NORMAL,\n      mode: Viewport.NORMAL\n    };\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const ViewportRenderer = currentModule.getRenderer(VIEWPORT_RENDER_LAYER);\n\n    return <div className={\"viewport-container viewport-\" + this.state.mode} ref={ref=>this.ref=ref}>\n      { ViewportRenderer &&\n        <ViewportRenderer {...this.props} parent={this}/>}\n    </div>;\n  }\n}\nViewport.NORMAL = \"normal\";\nViewport.WAITING = \"waiting\";\nViewport.TESTING = \"testing\";\nViewport.DANGEROUS = \"dangerous\";\n\nexport default Viewport;\n","export function guid()\n{\n  function s4()\n  {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n};\n\nexport function lerp(a, b, dt)\n{\n  return a * (1 - dt) + b * dt;\n};\n\nexport function stringHash(value=\"\")\n{\n  let hash = 0;\n  for(let i = 0, len = value.length; i < len; i++)\n  {\n    hash = Math.imul(31, hash) + value.charCodeAt(i) | 0;\n  }\n  return hash;\n};\n","import GraphElement from 'graph/GraphElement.js';\n\nclass GraphNode extends GraphElement\n{\n  constructor(id, x, y)\n  {\n    super(id);\n\n    this.x = x;\n    this.y = y;\n\n    this._label = \"\";\n  }\n\n  //Override\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    dst.x = this.x;\n    dst.y = this.y;\n    return dst;\n  }\n\n  setNodeLabel(label)\n  {\n    this._label = label;\n    return this;\n  }\n\n  getNodeLabel()\n  {\n    return this._label;\n  }\n\n  getNodeSize()\n  {\n    return 16;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    if (usePosition)\n    {\n      return super.getHashString(usePosition) + \":\" + Math.floor(this.x) + \",\" + Math.floor(this.y) + \".\" + this._label;\n    }\n    else\n    {\n      return super.getHashString(usePosition) + \":\" + this._label;\n    }\n  }\n}\n\nexport default GraphNode;\n","import FSAGraph from './FSAGraph.js';\nimport { SYMBOL_SEPARATOR } from './FSAEdge.js';\n\nconst GRAPH_PARSER_VERSION = \"1.0.0\";\n\nexport const JSON = {\n  parse(data, dst=null)\n  {\n    if (!dst) dst = new FSAGraph();\n    else dst.clear();\n\n    const nodeDatas = data['nodes'] || [];\n    const nodeCount = Math.min(nodeDatas.length || 0, data['nodeCount'] || 0);\n    const edgeDatas = data['edges'] || [];\n    const edgeCount = Math.min(edgeDatas.length || 0, data['edgeCount'] || 0);\n    const initialIndex = data['initial'] || 0;\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeData = nodeDatas[i];\n      if (!nodeData) continue;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(nodeData['x'] || 0, nodeData['y'] || 0, nodeData['id']);\n      node.setNodeLabel(nodeData['label'] || \"\");\n      node.setNodeAccept(nodeData['accept'] || false);\n      node.setNodeCustom(nodeData['custom'] || false);\n\n      nodeIndices.set(i, node);\n    }\n\n    const initialNode = nodeIndices.get(initialIndex);\n    if (initialNode)\n    {\n      dst.setStartNode(initialNode);\n    }\n\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeData = edgeDatas[i];\n      if (!edgeData) continue;\n      const sourceNode = nodeIndices.get(edgeData['from']) || null;\n      //Cannot create source-less edges\n      if (!sourceNode) continue;\n      const destinationNode = nodeIndices.get(edgeData['to']) || null;\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode, edgeData['id']);\n      const quadData = edgeData['quad'] || {};\n      edge.setEdgeLabel(edgeData['label'] || \"\");\n      edge.setQuadratic(quadData['radians'] || 0, quadData['length'] || 0);\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n    const graphInitial = graph.getStartNode();\n\n    const nodeDatas = new Array(nodeCount);\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      if (node)\n      {\n        //NOTE: Assumes node must have an id\n        const elementID = node.getGraphElementID();\n\n        nodeIndices.set(node, i);\n        nodeDatas[i] = {\n          id: elementID,\n          x: node.x || 0, y: node.y || 0,\n          label: node.getNodeLabel() || \"\",\n          accept: node.getNodeAccept() || false,\n          custom: node.getNodeCustom() || false\n        };\n      }\n    }\n\n    const edgeDatas = new Array(edgeCount);\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edge = graphEdges[i];\n      if (edge)\n      {\n        //NOTE: Assumes edge must have an id\n        const elementID = edge.getGraphElementID();\n\n        const quad = edge.getQuadratic() || {};\n        const edgeSource = edge.getSourceNode();\n        const edgeDestination = edge.getDestinationNode();\n        const sourceIndex = nodeIndices.has(edgeSource) ? nodeIndices.get(edgeSource) : -1;\n        const destinationIndex = nodeIndices.has(edgeDestination) ? nodeIndices.get(edgeDestination) : -1;\n        edgeDatas[i] = {\n          id: elementID,\n          from: sourceIndex,\n          to: destinationIndex,\n          quad: { radians: quad['radians'] || 0, length: quad['length'] || 0 },\n          label: edge.getEdgeLabel() || \"\"\n        };\n      }\n    }\n\n    const initialIndex = nodeIndices.get(graphInitial) || 0;\n\n    return {\n      nodeCount: nodeCount,\n      nodes: nodeDatas,\n      edgeCount: edgeCount,\n      edges: edgeDatas,\n      initial: initialIndex,\n      _version: GRAPH_PARSER_VERSION\n    };\n  }\n};\n\nexport const XML = {\n  parse(data, dst=NULL)\n  {\n    if (!dst) dst = new FSAGraph();\n    else dst.clear();\n\n    const nodeElements = data.getElementsByTagName('state') || [];\n    const nodeCount = nodeElements.length;\n    const edgeElements = data.getElementsByTagName('transition') || [];\n    const edgeCount = edgeElements.length;\n    let initialIndex = \"0\";\n\n    //Get the nodes...\n    const nodeElementIDs = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const nodeElement = nodeElements[i];\n      if (!nodeElement) continue;\n      const nodeElementID = nodeElement.getAttribute('id');\n      if (!nodeElementID) continue;\n\n      //Get x value\n      let x = 0;\n      const xElements = nodeElement.getElementsByTagName('x');\n      //If no elements exists, we are guaranteed an empty list...\n      if (xElements.length > 0)\n      {\n        const xElement = xElements[0];\n        if (xElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const xValue = xElement.childNodes[0];\n          if (xValue)\n          {\n            try\n            {\n              x = parseFloat(xValue.nodeValue) || 0;\n            }\n            catch (e)\n            {\n              x = 0;\n            }\n          }\n        }\n      }\n\n      //Get y value\n      let y = 0;\n      const yElements = nodeElement.getElementsByTagName('y');\n      //If no elements exists, we are guaranteed an empty list...\n      if (yElements.length > 0)\n      {\n        const yElement = yElements[0];\n        if (yElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const yValue = yElement.childNodes[0];\n          if (yValue)\n          {\n            try\n            {\n              y = parseFloat(yValue.nodeValue) || 0;\n            }\n            catch (e)\n            {\n              y = 0;\n            }\n          }\n        }\n      }\n\n      //Get initial flag\n      const initialElements = nodeElement.getElementsByTagName('initial');\n      //If no elements exists, we are guaranteed an empty list...\n      const initial = initialElements.length > 0;\n\n      //Get final flag\n      const finalElements = nodeElement.getElementsByTagName('final');\n      //If no elements exists, we are guaranteed an empty list...\n      const final = finalElements.length > 0;\n\n      //NOTE: Assumes createNode will maintain order\n      const node = dst.createNode(x, y);\n      node.setNodeLabel(nodeElement.getAttribute('name') || \"\");\n      node.setNodeAccept(final);\n\n      if (initial) initialIndex = nodeElementID;\n      nodeElementIDs.set(nodeElementID, node);\n    }\n\n    //Set the initial node...\n    const initialNode = nodeElementIDs.get(initialIndex);\n    if (initialNode)\n    {\n      dst.setStartNode(initialNode);\n    }\n\n    //Readjust the center of graph...\n    const boundingRect = dst.getBoundingRect();\n    const minX = boundingRect.minX;\n    const minY = boundingRect.minY;\n    const width = boundingRect.width;\n    const height = boundingRect.height;\n    const graphNodes = dst.getNodes();\n    for(let i = 0, len = graphNodes.length; i < len; ++i)\n    {\n      graphNodes[i].x -= minX + width / 2;\n      graphNodes[i].y -= minY + height / 2;\n    }\n\n    //Get the transitions...\n    const transitionMapping = new Map();\n    for(let i = 0; i < edgeCount; ++i)\n    {\n      const edgeElement = edgeElements[i];\n      if (!edgeElement) continue;\n\n      //Get from value\n      let sourceID = null;\n      const fromElements = edgeElement.getElementsByTagName('from');\n      //If no elements exists, we are guaranteed an empty list...\n      if (fromElements.length > 0)\n      {\n        const fromElement = fromElements[0];\n        if (fromElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const fromValue = fromElement.childNodes[0];\n          if (fromValue)\n          {\n            sourceID = fromValue.nodeValue;\n          }\n        }\n      }\n\n      //Cannot create source-less edges\n      if (!nodeElementIDs.has(sourceID)) continue;\n\n      //Get to value\n      let destinationID = \"\";\n      const toElements = edgeElement.getElementsByTagName('to');\n      //If no elements exists, we are guaranteed an empty list...\n      if (toElements.length > 0)\n      {\n        const toElement = toElements[0];\n        if (toElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const toValue = toElement.childNodes[0];\n          if (toValue)\n          {\n            destinationID = toValue.nodeValue || \"\";\n          }\n        }\n      }\n\n      //Get read value\n      let symbol = \"\";\n      const readElements = edgeElement.getElementsByTagName('read');\n      //If no elements exists, we are guaranteed an empty list...\n      if (readElements.length > 0)\n      {\n        const readElement = readElements[0];\n        if (readElement.hasChildNodes())\n        {\n          //hasChildNodes() guarantees at least 1 element\n          const readValue = readElement.childNodes[0];\n          if (readValue)\n          {\n            symbol = readValue.nodeValue || \"\";\n          }\n        }\n      }\n\n      const transitionID = sourceID + \"\\n\" + destinationID;\n      let symbols;\n      if (transitionMapping.has(transitionID))\n      {\n        symbols = transitionMapping.get(transitionID);\n      }\n      else\n      {\n        symbols = [];\n        transitionMapping.set(transitionID, symbols);\n      }\n      symbols.push(symbol);\n    }\n\n    for(const transitionKey of transitionMapping.keys())\n    {\n      const key = transitionKey.split(\"\\n\");\n      if (key.length !== 2) continue;\n\n      const symbols = transitionMapping.get(transitionKey);\n      const label = symbols.join(SYMBOL_SEPARATOR);\n      //Should never be null, since it was checked before...\n      const sourceNode = nodeElementIDs.get(key[0]);\n      const destinationNode = nodeElementIDs.get(key[1]);\n\n      //NOTE: Assumes createEdge will maintain order\n      const edge = dst.createEdge(sourceNode, destinationNode);\n      edge.setEdgeLabel(label);\n    }\n\n    return dst;\n  },\n  objectify(graph)\n  {\n    const graphNodes = graph.getNodes() || [];\n    const nodeCount = graphNodes.length || 0;\n    const graphEdges = graph.getEdges() || [];\n    const edgeCount = graphEdges.length || 0;\n    const graphInitial = graph.getStartNode();\n\n    const header = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\" +\n      \"<!--Created with flap.js \" + GRAPH_PARSER_VERSION + \"-->\" +\n      \"<structure></structure>\";\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(header, \"application/xml\");\n    const structure = doc.getElementsByTagName(\"structure\")[0];\n\n    const type = doc.createElement(\"type\");\n    type.innerHTML = \"fa\"; //finite automata\n    structure.appendChild(type);\n\n    const automaton = doc.createElement(\"automaton\");\n    structure.appendChild(automaton);\n\n    const nodeIndices = new Map();\n    for(let i = 0; i < nodeCount; ++i)\n    {\n      const node = graphNodes[i];\n      nodeIndices.set(node, i);\n\n      //state tag\n      const state = doc.createElement(\"state\");\n      state.id = \"\" + i;\n      state.setAttribute(\"name\", node.getNodeLabel());\n      automaton.appendChild(state);\n\n      //x tag\n      const x = doc.createElement(\"x\");\n      x.innerHTML = \"\" + (node.x || 0);\n      state.appendChild(x);\n\n      //y tag\n      const y = doc.createElement(\"y\");\n      y.innerHTML = \"\" + (node.y || 0);\n      state.appendChild(y);\n\n      //initial tag\n      if (graphInitial === node)\n      {\n        state.appendChild(doc.createElement(\"initial\"));\n      }\n\n      //final tag\n      if (node.getNodeAccept())\n      {\n        state.appendChild(doc.createElement(\"final\"));\n      }\n    }\n\n    for(let edge of graphEdges)\n    {\n      const symbols = edge.getEdgeSymbolsFromLabel();\n      for(let symbol of symbols)\n      {\n        //transition tag\n        const transition = doc.createElement(\"transition\");\n        automaton.appendChild(transition);\n\n        //from tag\n        const from = doc.createElement(\"from\");\n        from.innerHTML = \"\" + (nodeIndices.get(edge.getSourceNode()) || 0);\n        transition.appendChild(from);\n\n        //to tag\n        const to = doc.createElement(\"to\");\n        to.innerHTML = \"\" + (nodeIndices.get(edge.getDestinationNode()) || 0);\n        transition.appendChild(to);\n\n        //read tag\n        const read = doc.createElement(\"read\");\n        read.innerHTML = \"\" + (symbol || \"\");\n        transition.appendChild(read);\n      }\n    }\n\n    return doc;\n  }\n};\n","import React from 'react';\n\nclass StyleInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e)\n  {\n    const newValue = e.target.value;\n    const value = this.props.value;\n    const onChange = this.props.onChange;\n\n    value.setStyle(newValue);\n    if (onChange) onChange(value);\n  }\n\n  //Override\n  render()\n  {\n    const title = this.props.title;\n    const value = this.props.value;\n    const propName = value.prop;\n    const inputType = value.type;\n    const inputID = \"styleopt-\" + propName;\n\n    return <span id={this.props.id} className={this.props.className} style={this.props.style}>\n      <input id={inputID} type={inputType} value={value.getStyle()} onChange={this.onChange} disabled={this.props.disabled}/>\n      <label htmlFor={inputID}>{title}</label>\n    </span>;\n  }\n}\nexport default StyleInput;\n","import GraphElement from 'graph/GraphElement.js';\n\nclass GraphEdge extends GraphElement\n{\n  constructor(id, from, to=null)\n  {\n    super(id);\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n\n    this._from = from;\n    this._to = to;\n\n    this._label = \"\";\n  }\n\n  setSourceNode(node)\n  {\n    if (!node) throw new Error(\"Source of edge cannot be null.\");\n\n    this._from = node;\n    return this;\n  }\n\n  getSourceNode()\n  {\n    return this._from;\n  }\n\n  setDestinationNode(node)\n  {\n    this._to = node;\n    return this;\n  }\n\n  changeDestinationNode(node)\n  {\n    this._to = node;\n  }\n\n  getDestinationNode()\n  {\n    return this._to;\n  }\n\n  setEdgeLabel(label)\n  {\n    this._label = label;\n  }\n\n  getEdgeLabel()\n  {\n    return this._label;\n  }\n\n  getEdgeDirection()\n  {\n    const from = this._from;\n    const to = this._to;\n    const HALFPI = Math.PI / 2;\n    let result = 0;\n\n    if (this.isPlaceholder())\n    {\n      result = Math.PI / 4;\n    }\n    else\n    {\n      const dy = to.y - from.y;\n      const dx = to.x - from.x;\n      result = Math.atan2(dy, dx);\n    }\n\n    if (result > HALFPI || result < -HALFPI)\n    {\n      result += Math.PI;\n    }\n\n    return result;\n  }\n\n  getStartPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    dst.x = from.x;\n    dst.y = from.y;\n    return dst;\n  }\n\n  //Override\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n    if (this.isPlaceholder())\n    {\n      const halfPlaceholderLength = this.getPlaceholderLength() / 2;\n      dst.x = from.x + halfPlaceholderLength;\n      dst.y = from.y + halfPlaceholderLength;\n    }\n    else\n    {\n      dst.x = from.x + (to.x - from.x) / 2;\n      dst.y = from.y + (to.y - from.y) / 2;\n    }\n    return dst;\n  }\n\n  getEndPoint(dst={x: 0, y: 0})\n  {\n    if (this.isPlaceholder())\n    {\n      const from = this._from;\n      const placeholderLength = this.getPlaceholderLength();\n      dst.x = from.x + placeholderLength;\n      dst.y = from.y + placeholderLength;\n    }\n    else\n    {\n      const to = this._to;\n      dst.x = to.x;\n      dst.y = to.y;\n    }\n    return dst;\n  }\n\n  getPlaceholderLength()\n  {\n    return this._from.getNodeSize();\n  }\n\n  isPlaceholder()\n  {\n    return !this._to;\n  }\n\n  isSelfLoop()\n  {\n    return this._from === this._to;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    const src = this._from ? this._from.getHashString(usePosition) : \"\";\n    //HACK: to may be a pointer, which is not a node, so getHashString does not exist.\n    const dst = this._to ? this._to.getHashString ? this._to.getHashString(usePosition) : \"0\" : \"\";\n    return super.getHashString(usePosition) + \":\" + src + \",\" + dst + \".\" + this._label;\n  }\n}\n\nexport default GraphEdge;\n","import GraphNode from 'graph/GraphNode.js';\nimport Config from 'deprecated/config.js';\n\nclass FSANode extends GraphNode\n{\n  constructor(id, x, y)\n  {\n    super(id, x, y);\n\n    this._accept = false;\n\n    //this is not saved to hash since it is an aesthetic option\n    this._custom = false;\n  }\n\n  setNodeAccept(value)\n  {\n    this._accept = value;\n  }\n\n  getNodeAccept()\n  {\n    return this._accept;\n  }\n\n  setNodeCustom(value)\n  {\n    this._custom = value;\n  }\n\n  getNodeCustom()\n  {\n    return this._custom;\n  }\n\n  //Override\n  getNodeSize()\n  {\n    return Config.NODE_RADIUS;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    return super.getHashString(usePosition) + \":\" + (this._accept ? \"1\" : \"0\");\n  }\n}\n\nexport default FSANode;\n","\nfunction getReachableState(graph)\n{\n  let reachable = [];\n  let startNode = graph.getStartNode();\n  reachable.push(startNode);\n  for(let i = 0; i < reachable.length; i++)\n  {\n    for (const edge of graph.getEdges())\n    {\n      if(edge._from == reachable[i])\n      {\n        if(!reachable.includes(edge._to))\n        {\n          reachable.push(edge._to);\n        }\n      }\n    }\n  }\n  return reachable;\n}\n\nclass GraphLayout\n{\n  static applyLayout(graph, type=\"circle\")\n  {\n    if (type != \"circle\") throw new Error(\"Invalid layout type\");\n    //seperate node to reachable and unreachable\n    const reachableNode= getReachableState(graph);\n    function unreachable(node)\n    {\n      return !reachableNode.includes(node)\n    }\n    const unreachableNode = graph.getNodes().filter(unreachable)\n\n    //get num of nodes\n    const numOfReachable = reachableNode.length;\n    const numOfUnreachable = unreachableNode.length;\n    const numOfNode = graph.getNodes().length;\n    const maxNum = Math.max(numOfReachable, numOfUnreachable)\n    if(numOfNode == 0)\n    {\n      return;\n    }\n    //set radius\n    var radius;\n    if(numOfReachable < 10 && numOfUnreachable < 10){\n      radius = maxNum/4 * 50 + 30;\n    }\n    else{\n      radius = (maxNum/5) * 40 + 30;\n    }\n\n    let currentStep = 0\n    if (numOfReachable == 1)\n    {\n      let degree = 2* Math.PI/numOfNode\n      for(const node of graph.getNodes())\n      {\n        node.y = Math.sin(degree*currentStep + Math.PI)*radius;\n        node.x = Math.cos(degree*currentStep + Math.PI)*radius;\n        currentStep += 1\n      }\n    }\n    else {\n      const degree_re = 2* Math.PI/numOfReachable;\n      const degree_un = 2* Math.PI/numOfUnreachable;\n\n      currentStep = 0\n      for(const node of reachableNode)\n      {\n        node.y = Math.sin(degree_re*currentStep + Math.PI)*radius;\n        node.x = Math.cos(degree_re*currentStep + Math.PI)*radius;\n        currentStep += 1\n      }\n      currentStep = 0\n      for(const node of unreachableNode)\n      {\n        node.y = Math.sin(degree_un*currentStep + Math.PI)*(radius + 100);\n        node.x = Math.cos(degree_un*currentStep + Math.PI)*(radius + 100);\n        currentStep += 1\n      }\n    }\n    /*for(const node of graph.getNodes())\n    {\n      node.y = Math.sin(degree*currentStep + Math.PI)*radius;\n      node.x = Math.cos(degree*currentStep + Math.PI)*radius;\n      currentStep += 1\n    }*/\n  }\n\n\n}\n\nexport default GraphLayout;\n","import NodalGraph from 'graph/NodalGraph.js';\nimport FSANode from './FSANode.js';\nimport FSAEdge, { SYMBOL_SEPARATOR } from './FSAEdge.js';\n\nconst PARALLEL_EDGE_HEIGHT = 10;\n\nclass FSAGraph extends NodalGraph\n{\n  constructor()\n  {\n    super(FSANode, FSAEdge);\n  }\n\n  setStartNode(node)\n  {\n    if (this._nodes.length <= 0) throw new Error(\"Cannot set start node to empty graph\");\n\n    //There is only one node, and that is already the start node\n    if (this._nodes.length === 1) return;\n\n    const i = this._nodes.indexOf(node);\n    if (i > 0)\n    {\n      //This does a swap; we could do a prepend but that's more costly...\n      const prev = this._nodes[0];\n      this._nodes[0] = node;\n      this._nodes[i] = prev;\n    }\n    else if (i < 0)\n    {\n      throw new Error(\"Cannot set start node for unknown node\");\n    }\n  }\n\n  getStartNode()\n  {\n    return this._nodes.length > 0 ? this._nodes[0] : null;\n  }\n\n  //This is more like addEdge() without adding it to the graph and just returns the result\n  //This should only be called once when completing an edge\n  //Override\n  formatEdge(edge)\n  {\n    const edgeSource = edge.getSourceNode();\n    const edgeDestination = edge.getDestinationNode();\n    const edgeLabel = edge.getEdgeSymbolsFromLabel();\n\n    //Look for an existing edge with similar from and to\n    for(const otherEdge of this._edges)\n    {\n      if (otherEdge === edge) continue;\n      if (otherEdge.getSourceNode() === edgeSource && otherEdge.getDestinationNode() === edgeDestination)\n      {\n        const otherSymbols = otherEdge.getEdgeSymbolsFromLabel();\n        if (edgeLabel.length > 0)\n        {\n          const result = otherSymbols.concat(edgeLabel);\n          otherEdge.setEdgeLabel(result.join(SYMBOL_SEPARATOR));\n        }\n\n        //Merged with newfound edge...\n        return otherEdge;\n      }\n    }\n\n    //Otherwise, format the current edge\n\n    if (!edge.isSelfLoop())\n    {\n      let flag = false;\n\n      //Bend away if there is another edge not bent with the same src/dst\n      const parallelEdgeHeight = PARALLEL_EDGE_HEIGHT;\n      const HALFPI = Math.PI / 2;\n      for(const otherEdge of this._edges)\n      {\n        if (otherEdge.isQuadratic() && Math.abs(otherEdge.getQuadratic().length) >= parallelEdgeHeight * 2) continue;\n        if ((otherEdge.getDestinationNode() === edgeSource && otherEdge.getSourceNode() === edgeDestination))\n        {\n          edge.setQuadratic(HALFPI, parallelEdgeHeight);\n          otherEdge.setQuadratic(HALFPI, parallelEdgeHeight);\n          flag = true;\n\n          //ASSUMES that there will only ever be 2 edges that are parallel...\n          break;\n        }\n      }\n\n      //Try to move the edge away from intersecting nodes...\n      if (!flag)\n      {\n        const maxNodeSize = Math.max(edgeSource.getNodeSize(), edgeDestination.getNodeSize());\n        const x1 = edgeSource.x;\n        const y1 = edgeSource.y;\n        const x2 = edgeDestination.x;\n        const y2 = edgeDestination.y;\n        const dist12sq = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        let vertical = false;\n        let m = 0;\n        let b = 0;\n\n        if(x1 > x2)\n        {\n          m = (y1-y2) / (x1-x2);\n          b = y2-m*x2;\n        }\n        else if (x1 < x2)\n        {\n          m = (y2-y1) / (x2-x1);\n          b = y1-m*x1;\n        }\n        else\n        {\n          vertical = true;\n        }\n\n        for(const node of this._nodes)\n        {\n          if(node === edgeSource || node === edgeDestination) continue;\n\n          const x0 = node.x;\n          const y0 = node.y;\n\n          const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n          const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n          if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n          let dist = 0;\n          if(vertical) {\n            dist = Math.abs(x1-x0);\n          } else {\n            dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n          }\n\n          if(dist < node.getNodeSize())\n          {\n            flag = true;\n            break;\n          }\n        }\n\n        if (flag)\n        {\n          edge.setQuadratic(-Math.PI / 2, maxNodeSize + 10);\n        }\n      }\n    }\n\n    return edge;\n  }\n}\n\nexport default FSAGraph;\n","const Modules = {};\n\nModules['empty'] = {\n  name: \"Empty\",\n  version: \"1.0.0\",\n  experimental: true,\n  fetch: function(callback) { import(/* webpackChunkName: \"module_empty\" */ 'modules/empty/EmptyModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['nodalgraph'] = {\n  name: \"Nodal Graph\",\n  version: \"1.0.0\",\n  experimental: true,\n  fetch: function(callback) { import(/* webpackChunkName: \"module_nodalgraph\" */ 'modules/nodalgraph/NodalGraphModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['fsa'] = {\n  name: \"Finite Automata\",\n  version: \"1.0.0\",\n  fetch: function(callback) { import(/* webpackChunkName: \"module_fsa\" */ 'modules/fsa/FSAModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['fsa2'] = {\n  name: \"Finite Automata\",\n  version: \"2.0.0\",\n  experimental: true,\n  fetch: function(callback) { import(/* webpackChunkName: \"module_fsa2\" */ 'modules/fsa2/FSAModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['pda'] = {\n  name: \"Pushdown Automata\",\n  version: \"1.0.0\",\n  experimental: true,\n  fetch: function(callback) { import(/* webpackChunkName: \"module_pda\" */ 'modules/pda/PDAModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['re'] = {\n  name: \"Regular Expression\",\n  version: \"1.0.0\",\n  experimental: true,\n  fetch: function(callback) { import(/* webpackChunkName: \"module_re\" */ 'modules/re/REModule.js').then(({ default: _ }) => callback( _ )); }\n};\n\nModules['tm'] = {\n  name: \"Turing Machine\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nModules['dfs'] = {\n  name: \"Depth-First Search\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nModules['hlsm'] = {\n  name: \"High Level State Machine\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nModules['rbt'] = {\n  name: \"Red-Black Tree\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nModules['mealy'] = {\n  name: \"Mealy Machine\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nModules['moore'] = {\n  name: \"Moore Machine\",\n  version: \"1.0.0\",\n  disabled: true,\n  fetch: function(callback) { throw new Error(\"Module not yet implemented. Sorry :(\"); }\n};\n\nexport default Modules;\n","//Version 0.4.0\nconst changeLog = [\n  \"Changed default color scheme. Hope you like it!\",\n  \"Allow double-clicking module name to change modules.\",\n  \"FIXED: Module change causes app to not respond.\",\n  \"FIXED: Auto-rename nodes cannot be toggled.\"\n];\n\n/*\n  //Version 0.3.4\n  const changeLog = [\n    \"Added meta tags for those coming from a search engine.\",\n    \"Added Pushdown Automata\",\n    \"Added Regular Expressions\",\n    \"Added a whole NEW EXPERIMENTAL MODE! :D\"\n  ];\n\n  //Version 0.3.3\n  const changeLog = [\n    \"ADDED: SVG export option (thanks to moreheadm).\",\n    \"FIXED: Edge cannot be created with default symbols.\",\n    \"FIXED: Action mode does not show edge creation as an edit.\",\n    \"FIXED: Wrong undo state for changing initial marker.\"\n  ];\n\n  //Version 0.3.2\n  const changeLog = [\n    \"FIXED: Allow cross-platform bundle building.\",\n    \"FIXED: Corrected 'development' mode while in production.\",\n    \"FIXED: NFA unreachable node checking is wrong.\",\n    \"FIXED: Unreachable node warnings were not treated as notification warnings.\",\n    \"Disabled service worker while in 'development' mode.\"\n  ];\n\n  //Version 0.3.1\n  const changeLog = [\n    \"FIXED: Renaming an uploaded file does not download file with new name.\",\n    \"This is our first user-reported bug! Hooray!\",\n    \"Thank you and have a hug whoever you are <3.\"\n  ];\n*/\n\nconst changeVersion = process.env.VERSION;\nconst result = {\n  show: changeLog && changeLog.length > 0,\n  log: \"\\nChangelog v\" + changeVersion + \":\\n - \" + changeLog.join(\"\\n - \"),\n  version: changeVersion\n}\nexport default result;\n","const ROUTER = {\n  _componentClass: null,\n  _componentProps: null,\n  routeTo(componentClass, componentProps={})\n  {\n    this._componentClass = componentClass;\n    this._componentProps = componentProps;\n  },\n  getCurrentPage()\n  {\n    return this._componentClass;\n  },\n  getCurrentPageProps()\n  {\n    return this._componentProps;\n  }\n};\n\nexport default ROUTER;\n","import LocalSaveManager from './LocalSaveManager.js';\n\n//Singleton pattern (I know, I'm sorry. But we must.)\nconst INSTANCE = new LocalSaveManager();\nexport default INSTANCE;\n","class LocalSaveManager\n{\n  constructor()\n  {\n    this._handlers = new Set();\n    this._intervalID = null;\n    this._intervalMillis = 1000;\n\n    this._init = false;\n\n    this.onIntervalUpdate = this.onIntervalUpdate.bind(this);\n  }\n\n  setAutoSaveInterval(millis)\n  {\n    if (!millis || millis <= 0) throw new Error(\"AutoSave interval must be greater than 0\");\n    this._intervalMillis = millis;\n  }\n\n  registerHandler(handler)\n  {\n    if (this._handlers.has(handler))\n    {\n      throw new Error(\"Cannot register handler, since it is already registered\");\n    }\n\n    if (this._init)\n    {\n      //NOTE: Due to duck typing, it might not exist...\n      if (typeof handler['onLoadSave'] === 'function')\n      {\n        handler.onLoadSave();\n      }\n    }\n\n    this._handlers.add(handler);\n  }\n\n  unregisterHandler(handler)\n  {\n    if (!this._handlers.has(handler))\n    {\n      throw new Error(\"Cannot remove handler, since it is not yet registered\");\n    }\n\n    if (this._init)\n    {\n      //NOTE: Due to duck typing, it might not exist...\n      if (typeof handler['onUnloadSave'] === 'function')\n      {\n        handler.onUnloadSave();\n      }\n    }\n\n    this._handlers.delete(handler);\n  }\n\n  initialize()\n  {\n    if (this._init) throw new Error(\"Cannot initialize LocalSave, since it is already initialized\");\n\n    if (this.doesSupportLocalStorage())\n    {\n      this._init = true;\n\n      for(const handler of this._handlers)\n      {\n        //NOTE: Due to duck typing, it might not exist...\n        if (typeof handler['onLoadSave'] === 'function')\n        {\n          handler.onLoadSave();\n        }\n      }\n\n      //Prepare autosave\n      this._intervalID = setInterval(this.onIntervalUpdate, this._intervalMillis);\n    }\n    else\n    {\n      //Does not support local storage, so ignore everything...\n    }\n  }\n\n  terminate()\n  {\n    if (!this._init) throw new Error(\"Cannot terminate LocalSave, since it is not yet initialized\");\n\n    clearInterval(this._intervalID);\n\n    for(const handler of this._handlers)\n    {\n      //NOTE: Due to duck typing, it might not exist...\n      if (typeof handler['onUnloadSave'] === 'function')\n      {\n        handler.onUnloadSave();\n      }\n    }\n\n    this._handlers.clear();\n    this._init = false;\n  }\n\n  onIntervalUpdate()\n  {\n    //Save most recent save for all registered handlers\n    for(let handler of this._handlers)\n    {\n      try\n      {\n        //NOTE: Due to duck typing, it might not exist...\n        if (typeof handler['onAutoSave'] === 'function')\n        {\n          handler.onAutoSave();\n        }\n      }\n      catch(e)\n      {\n        console.error(e);\n      }\n    }\n  }\n\n  setStringToStorage(saveKey, stringData)\n  {\n    if (!this.doesSupportLocalStorage()) return;\n    if (stringData.length > 0)\n    {\n      localStorage.setItem(saveKey, stringData);\n    }\n    else\n    {\n      localStorage.removeItem(saveKey);\n    }\n  }\n\n  getStringFromStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return \"\";\n    return localStorage.getItem(saveKey) || \"\";\n  }\n\n  loadFromStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return null;\n    try\n    {\n      const value = localStorage.getItem(saveKey);\n      if (value && value.length > 0)\n      {\n        return JSON.parse(value);\n      }\n      else\n      {\n        return null;\n      }\n    }\n    catch(e)\n    {\n      console.error(e);\n      return {};\n    }\n  }\n\n  saveToStorage(saveKey, jsonData)\n  {\n    if (!this.doesSupportLocalStorage()) return;\n\n    let hidden, visibilityChange;\n\n    // Opera 12.10 and Firefox 18 and later support\n    if (typeof document.hidden !== \"undefined\")\n    {\n      hidden = \"hidden\";\n      visibilityChange = \"visibilitychange\";\n    }\n    else if (typeof document.msHidden !== \"undefined\")\n    {\n      hidden = \"msHidden\";\n      visibilityChange = \"msvisibilitychange\";\n    }\n    else if (typeof document.webkitHidden !== \"undefined\")\n    {\n      hidden = \"webkitHidden\";\n      visibilityChange = \"webkitvisibilitychange\";\n    }\n\n    if (document[hidden])\n    {\n      //Don't save anything...\n      return;\n    }\n\n    try\n    {\n      if (typeof jsonData == 'object')\n      {\n        let flag = jsonData;\n        if (flag)\n        {\n          flag = false;\n\n          //Don't save empty objects, cause that is wasteful.\n          for(let key in jsonData)\n          {\n            if (jsonData.hasOwnProperty(key))\n            {\n              flag = true;\n              break;\n            }\n          }\n        }\n\n        //Save or remove the data...\n        if (flag)\n        {\n          localStorage.setItem(saveKey, JSON.stringify(jsonData));\n        }\n        else\n        {\n          localStorage.removeItem(saveKey);\n        }\n      }\n      else if (typeof jsonData == 'string')\n      {\n        const flag = jsonData.length <= 0;\n\n        //Save or remove the data...\n        if (flag)\n        {\n          localStorage.setItem(saveKey, jsonData);\n        }\n        else\n        {\n          localStorage.removeItem(saveKey);\n        }\n      }\n    }\n    catch(e)\n    {\n      console.error(e);\n    }\n  }\n\n  existsInStorage(saveKey)\n  {\n    if (!this.doesSupportLocalStorage()) return false;\n    return localStorage.getItem(saveKey) != null;\n  }\n\n  clearStorage()\n  {\n    if (!this.doesSupportLocalStorage()) return;\n\n    localStorage.clear();\n  }\n\n  doesSupportLocalStorage()\n  {\n    //check if browser support local storage\n    return typeof Storage !== 'undefined';\n  }\n}\nexport default LocalSaveManager;\n","import React from 'react';\nimport Router from 'router.js';\n\nimport App from 'deprecated/content/App.js';\nimport Modules from 'modules/Modules.js';\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\n\nexport const CURRENT_MODULE_STORAGE_ID = \"currentModule\";\nconst MODULE_LOAD_DELAY = 300;\nlet MODULE_LOADING = false;\nlet MODULE_TIMEOUT = null;\nlet IS_DEFAULT_MODULE = true;\n\nclass ModuleLoader extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this._timeout = null;\n  }\n\n  static loadModuleFromStorage()\n  {\n    const savedModuleID = LocalSave.getStringFromStorage(CURRENT_MODULE_STORAGE_ID);\n    return ModuleLoader.loadModule(savedModuleID);\n  }\n\n  static loadModule(moduleID)\n  {\n    if (!moduleID) return false;\n\n    const moduleInfo = Modules[moduleID];\n    if (!moduleInfo)\n    {\n      window.alert(\"Cannot find module with id \\'\" + moduleID + \"\\'\");\n      return false;\n    }\n\n    const useExperimental = moduleInfo['experimental'];\n\n    //Overwrite any past calls...\n    if (MODULE_TIMEOUT) clearTimeout(MODULE_TIMEOUT);\n\n    MODULE_TIMEOUT = setTimeout(() => {\n      moduleInfo.fetch((moduleClass) => {\n        LocalSave.setStringToStorage(CURRENT_MODULE_STORAGE_ID, moduleID);\n\n        MODULE_TIMEOUT = null;\n        IS_DEFAULT_MODULE = false;\n        if (useExperimental)\n        {\n          import(/* webpackChunkName: \"experimental\" */ 'experimental/App.js')\n            .then(({ default: _ }) => Router.routeTo(ModuleLoader, {\n              moduleClass: moduleClass,\n              appClass: _\n            }));\n        }\n        else\n        {\n          Router.routeTo(ModuleLoader, {moduleClass: moduleClass});\n        }\n      });\n    }, MODULE_LOAD_DELAY);\n\n    return true;\n  }\n\n  static isDefaultModule()\n  {\n    return IS_DEFAULT_MODULE;\n  }\n\n  static isModuleLoading()\n  {\n    return MODULE_TIMEOUT !== null;\n  }\n\n  //Override\n  componentDidMount()\n  {\n    MODULE_TIMEOUT = setTimeout(() => {\n      MODULE_TIMEOUT = null;\n      const AppClass = this.props.appClass || App;\n      Router.routeTo(AppClass, {moduleClass: this.props.moduleClass});\n    }, MODULE_LOAD_DELAY);\n  }\n\n  //Override\n  render()\n  {\n    return (<div></div>);\n  }\n}\n\nexport default ModuleLoader;\n","class HotKeys\n{\n  constructor()\n  {\n    this.app = null;\n    this.workspace = null;\n    this.toolbar = null;\n    this.undoManager = null;\n    this.graphController = null;\n    this.machineController = null;\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  initialize(app)\n  {\n    this.app = app;\n    this.workspace = app.workspace;\n    this.toolbar = app.toolbar;\n    this.undoManager = app.getUndoManager();\n    this.graphController = app.getGraphController();\n    this.machineController = app.getMachineController();\n\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n\n  destroy()\n  {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown(e)\n  {\n    //Ctrl-S\n    if (event.which == 83 && (event.metaKey || event.ctrlKey))\n    {\n      //Save as machine file\n      const exporter = this.graphController.getDefaultGraphExporter();\n      const machineName = this.machineController.getMachineName();\n      exporter.exportToFile(machineName, this.app.getCurrentModule());\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    //Ctrl-Z\n    else if (event.which == 90 && (event.metaKey || event.ctrlKey))\n    {\n      if (event.shiftKey)\n      {\n        //Redo\n        this.undoManager.redo();\n      }\n      else\n      {\n        //Undo\n        this.undoManager.undo();\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    //Ctrl-P\n    else if (event.which == 80 && (event.metaKey || event.ctrlKey))\n    {\n      //Export to PNG\n      const imageExporters = this.graphController.getImageExporters();\n      if (imageExporter.length >= 1)\n      {\n        const exporter = imageExporters[0];\n        const machineName = this.machineController.getMachineName();\n        exporter.exportToFile(machineName, this.app.getCurrentModule());\n      }\n      else\n      {\n        throw new Error(\"Unable to find valid image exporter for module \\'\" + this.app.getCurrentModule().getModuleName() + \"\\'\");\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n}\n\nexport default HotKeys;\n","import React from 'react';\nimport Notifications from 'deprecated/system/notification/Notifications.js';\n\nclass UploadButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onUploadFileChange = this.onUploadFileChange.bind(this);\n  }\n\n  onUploadFileChange(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      this.props.app.getCurrentModule().getGraphController().getGraphImporter().importFile(files[0], this.props.app.getCurrentModule())\n        .catch((e) => {\n          Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n          console.error(e);\n        });\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  render()\n  {\n    const inputID = this.props.id + \"-input\";\n    return <button\n      className={\"icon-button button-upload \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      <input id={inputID} type=\"file\" name=\"import\"\n        style={{display:\"none\"}}\n        onChange={this.onUploadFileChange}\n        accept={this.props.app.getCurrentModule().getGraphController().getGraphImporter().getImportFileTypes().join(\",\")}/>\n      <label htmlFor={inputID}>\n        {this.props.children}\n      </label>\n    </button>;\n  }\n}\n\nexport default UploadButton;\n","import React from 'react';\nimport Notifications from 'deprecated/system/notification/Notifications.js';\n\nclass HelpButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    if (Notifications.hasMessages())\n    {\n      Notifications.addMessage(I18N.toString(\"message.help.3\"));\n      Notifications.addMessage(I18N.toString(\"message.help.1\"));\n    }\n    else\n    {\n      Notifications.addMessage(I18N.toString(\"message.help.2\"));\n    }\n\n    //The tutorial\n    const LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\n    const newTab = window.open(LINK, '_blank');\n\n    if (this.props.onClick)\n    {\n      this.props.onClick(e);\n    }\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button button-help \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default HelpButton;\n","import React from 'react';\n\nclass MachineName extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null\n    };\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n\n  onChange(e)\n  {\n    this.setState({value: e.target.value});\n  }\n\n  onKeyDown(e)\n  {\n    if (e.key === 'Escape')\n    {\n      const target = e.target;\n      this.setState({value: null}, () => target.blur());\n      return false;\n    }\n    else if (e.key === 'Enter')\n    {\n      e.target.blur();\n      return false;\n    }\n  }\n\n  onFocus(e)\n  {\n    this.setState({value: this.props.value});\n  }\n\n  onBlur(e)\n  {\n    if (this.state.value)\n    {\n      if (this.props.onSubmit) this.props.onSubmit({value: this.state.value});\n    }\n\n    this.setState({value: null});\n  }\n\n  render()\n  {\n    return <input type=\"text\"\n      className={this.props.className}\n      id={this.props.id}\n      value={this.state.value != null ? this.state.value : this.props.value}\n      onChange={this.onChange}\n      onKeyDown={this.onKeyDown}\n      onFocus={this.onFocus}\n      onBlur={this.onBlur}>\n    </input>;\n  }\n}\n\nexport default MachineName;\n","import React from 'react';\n\nclass PageNewIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pagenew-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z\"/>\n    </svg>;\n  }\n}\n\nexport default PageNewIcon;\n","import React from 'react';\n\nclass HelpIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"help-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/>\n    </svg>;\n  }\n}\n\nexport default HelpIcon;\n","import React from 'react';\n\nclass LanguageIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"language-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d={\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 \" +\n        \"22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 \" +\n        \"3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 \" +\n        \"1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 \" +\n        \"1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 \" +\n        \"1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 \" +\n        \"4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 \" +\n        \"1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 \" +\n        \"0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 \" +\n        \"5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 \" +\n        \"14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 \" +\n        \"1.36-.26 2h-3.38z\"}/>\n    </svg>;\n  }\n}\n\nexport default LanguageIcon;\n","import React from 'react';\n\nclass OfflineIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"offline-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n      <path d=\"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z\"/>\n    </svg>;\n  }\n}\n\nexport default OfflineIcon;\n","import React from 'react';\n\nclass BugReportIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return <svg className=\"bugreport-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d={\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 \" +\n      \"3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 \" +\n      \"4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 \" +\n      \"1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 \" +\n      \"3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.\"\n      + \"34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 \" +\n      \"1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 \" +\n      \"15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 \" +\n      \"1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 \" +\n      \".63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07\" +\n      \".47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"}/>\n    </svg>;\n  }\n}\n\nexport default BugReportIcon;\n","import React from 'react';\nimport './DrawerExpander.css';\n\nclass DrawerExpander extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const app = this.props.app;\n    if (app.state.isFullscreen)\n    {\n      app.setState({isFullscreen: false});\n    }\n    else if (app.state.isOpen)\n    {\n      app.closeDrawer();\n    }\n    else\n    {\n      app.openDrawer();\n    }\n  }\n\n  //Override\n  render()\n  {\n    const app = this.props.app;\n    const open = app.state.isOpen;\n\n    return <div className={\"drawer-expand\" + (open ? \" open\" : \"\")}\n      onClick={this.onClick}>\n      <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M5 3.737l12.395 8.263-12.395 8.263v-16.526zm-2-3.737v24l18-12-18-12z\"/>\n      </svg>\n    </div>;\n  }\n}\n\nexport default DrawerExpander;\n","import React from 'react';\nimport '../Panel.css';\nimport './ExportingPanel.css';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\n\nclass ExportingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  renderExporterButton(exporter)\n  {\n    if (!exporter.doesSupportFile()) return null;\n\n    return <IconButton key={exporter.getFileType()}\n      className=\"export-button\"\n      id={\"export-\" + exporter.getFileType()}\n      title={exporter.getTitle()}\n      onClick={() => {\n        const module = this.props.currentModule;\n        const machineController = module.getMachineController();\n        const filename = machineController.getMachineName() || \"Untitled\";\n        exporter.exportToFile(filename, module);\n      }}>\n      { React.createElement(exporter.getIconClass()) }\n      <label>{ exporter.getLabel() }</label>\n    </IconButton>;\n  }\n\n  //Override\n  render()\n  {\n    const module = this.props.currentModule;\n    const graphController = module.getGraphController();\n    const graphExporters = graphController.getGraphExporters();\n    const imageExporters = graphController.getImageExporters();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"exporting\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.exporting.title\")}</h1>\n      </div>\n      <div className=\"panel-content\">\n      {\n        graphExporters.map(e => this.renderExporterButton(e))\n      }\n      {\n        imageExporters.map(e => this.renderExporterButton(e))\n      }\n        <hr/>\n        {/*Save to E-mail*/}\n        <div className=\"export-email\">\n        </div>\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(ExportingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.exporting.title\"); }\n});\nExportingPanel.UNLOCALIZED_NAME = \"component.exporting.title\";\n\nexport default ExportingPanel;\n","import React from 'react';\nimport './OptionGroup.css';\n\nimport IconToggle from 'deprecated/icons/IconToggle.js';\nimport DropDownIcon from 'deprecated/icons/DropDownIcon.js';\n\nclass OptionGroup extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.dropdown = React.createRef();\n  }\n\n  isOpen()\n  {\n    return this.dropdown.state ? this.dropdown.state.open : false;\n  }\n\n  render()\n  {\n    return <div className={\"option-group \" + this.props.className}>\n      <div className=\"option-header\" onClick={(e)=>this.dropdown.onClick(e)}>\n        <label>{this.props.title}</label>\n        <label>({this.props.label})</label>\n        <IconToggle id=\"collapse\" ref={ref=>this.dropdown=ref} defaultValue={this.props.defaultValue}\n          style={{pointerEvents: \"none\"}}>\n          <DropDownIcon/>\n        </IconToggle>\n      </div>\n      <div className=\"option-content\"\n        style={{display: this.isOpen() ? \"block\" : \"none\"}}>\n        { this.props.children }\n      </div>\n    </div>;\n  }\n}\n\nexport default OptionGroup;\n","import React from 'react';\nimport './OptionHotkey.css';\n\nclass OptionHotkey extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <div className={\"option-container option-hotkey \" + this.props.className}>\n      <label>{this.props.label}</label>\n      <span>{this.props.keyName}</span>\n    </div>;\n  }\n}\n\nexport default OptionHotkey;\n","import React from 'react';\nimport '../Panel.css';\nimport './OptionsPanel.css';\n\nimport Config from 'deprecated/config.js';\nimport { saveConfig } from 'deprecated/config.js';\n\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\nimport * as ColorHelper from 'util/ColorHelper.js';\nimport StyleOptionRegistry from 'deprecated/system/styleopt/StyleOptionRegistry.js';\nimport StyleInput from 'deprecated/system/styleopt/components/StyleInput.js';\n\nimport OptionGroup from './OptionGroup.js';\nimport OptionHotkey from './OptionHotkey.js';\n\nimport Modules from 'modules/Modules.js'\nimport ModuleLoader from 'deprecated/modules/ModuleLoader.js';\n\n//This should be the same as the one referred to by index.js\nconst LOCAL_STORAGE_ID = \"skipWelcome\";\nconst ENABLE_MODULES = process.env.NODE_ENV === 'development';\n\nclass OptionsPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props)\n\n    this.container = React.createRef();\n    this.styleOpts = new StyleOptionRegistry();\n\n    this.state = {\n      theme: \"default\",\n      customTheme: false,\n      skipWelcome: LocalSave.getStringFromStorage(LOCAL_STORAGE_ID) === \"true\",\n      disableExitWarning: LocalSave.getStringFromStorage(\"disableExitWarning\") === \"true\"\n    };\n\n    this.onChangeTheme = this.onChangeTheme.bind(this);\n    this.onChangeModule = this.onChangeModule.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    const root = document.getElementById(\"root\");\n    const opts = this.styleOpts;\n\n    const invertFunc = function(opt, value) {\n      const color = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, false, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-invert\").setStyle(result);\n    };\n\n    const darkFunc = function(opt, value) {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.2, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-dark\").setStyle(result);\n    };\n\n    const subtleFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.39, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-subtle\").setStyle(result);\n    };\n\n    const ghostFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.26, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-ghost\").setStyle(result);\n    };\n\n    const backFunc = function(opt, value)\n    {\n      //v < 0.15 ? lighten : darken\n      const color = [];\n      const inverted = [];\n      ColorHelper.HEXtoRGB(value, color);\n      ColorHelper.invertRGB(color, true, inverted);\n      ColorHelper.blendRGB(0.13, color, inverted, color);\n      const result = ColorHelper.RGBtoHEX(color);\n      //Set style\n      opts.getOptionByProp(opt.prop + \"-back\").setStyle(result);\n    };\n\n    //Toolbar\n    opts.registerStyleOption(root, \"--color-toolbar-main\", \"color\", \"toolbar\", darkFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-main-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-toolbar-accent\", \"color\", \"toolbar\", darkFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-accent-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-toolbar-text\", \"color\", \"toolbar\", invertFunc);\n    opts.registerStyleOption(root, \"--color-toolbar-text-invert\", \"color\", \"hidden\");\n\n    //Drawer\n    opts.registerStyleOption(root, \"--color-drawer-main\", \"color\", \"drawer\", darkFunc);\n    opts.registerStyleOption(root, \"--color-drawer-main-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-accent\", \"color\", \"drawer\");\n    opts.registerStyleOption(root, \"--color-drawer-text\", \"color\", \"drawer\", (...args) => {\n      subtleFunc(...args);\n      ghostFunc(...args);\n      invertFunc(...args);\n      backFunc(...args);\n    });\n    opts.registerStyleOption(root, \"--color-drawer-text-subtle\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-ghost\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-invert\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-text-back\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-drawer-error\", \"color\", \"drawer\");\n\n    //Testing\n    opts.registerStyleOption(root, \"--color-testing-success\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-failure\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-working\", \"color\", \"testing\");\n    opts.registerStyleOption(root, \"--color-testing-text\", \"color\", \"testing\");\n\n    //Notification\n    opts.registerStyleOption(root, \"--color-notification-text\", \"color\", \"notification\");\n    opts.registerStyleOption(root, \"--color-notification-info\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-info-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-notification-error\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-error-dark\", \"color\", \"hidden\");\n    opts.registerStyleOption(root, \"--color-notification-warning\", \"color\", \"notification\", darkFunc);\n    opts.registerStyleOption(root, \"--color-notification-warning-dark\", \"color\", \"hidden\");\n\n    //Workspace\n    opts.registerStyleOption(root, \"--color-graph-node\", \"color\", \"workspace\");\n    opts.registerStyleOption(root, \"--color-workspace-text\", \"color\", \"workspace\");\n    opts.registerStyleOption(root, \"--color-workspace-main\", \"color\", \"workspace\");\n\n    //Label editor\n    opts.registerStyleOption(root, \"--color-labeleditor-text\", \"color\", \"labeleditor\");\n    opts.registerStyleOption(root, \"--color-labeleditor-main\", \"color\", \"labeleditor\");\n\n    //Viewport\n    opts.registerStyleOption(root, \"--color-viewport-error\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-viewport-testing\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-viewport-warning\", \"color\", \"viewport\");\n    opts.registerStyleOption(root, \"--color-highlight-select\", \"color\", \"viewport\");\n\n    opts.initialize();\n\n    LocalSave.registerHandler(this);\n    this.onLoadSave();\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    this.styleOpts.terminate();\n\n    LocalSave.unregisterHandler(this);\n  }\n\n  //Ducktype(AbstractLocalSaver)\n  onLoadSave()\n  {\n    const opts = this.styleOpts;\n    const data = LocalSave.loadFromStorage(\"prefs-color\");\n    for(let prop in data)\n    {\n      const opt = opts.getOptionByProp(prop);\n      if (opt)\n      {\n        opt.setStyle(data[prop]);\n      }\n    }\n  }\n\n  //Ducktype(AbstractLocalSaver)\n  onAutoSave()\n  {\n    const opts = this.styleOpts;\n    const data = {};\n    for(let opt of opts.getOptions())\n    {\n      if (!opt.isDefaultStyle())\n      {\n        data[opt.prop] = opt.getStyle();\n      }\n    }\n    LocalSave.saveToStorage(\"prefs-color\", data);\n  }\n\n  onChangeTheme(e)\n  {\n    const prevTheme = this.state.theme;\n    const theme = e.target.value;\n    if (prevTheme === theme) return;\n\n    if (theme === \"default\")\n    {\n      for(let option of this.styleOpts.getOptions())\n      {\n        option.resetStyle();\n      }\n    }\n\n    this.setState({theme: theme});\n  }\n\n  onChangeModule(e)\n  {\n    const moduleName = e.target.value;\n    ModuleLoader.loadModule(moduleName);\n  }\n\n  //Override\n  render()\n  {\n    const root = document.getElementById(\"root\");\n    const opts = this.styleOpts;\n\n    return <div className={\"panel-container \" + this.props.className} id=\"option\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.options.title\")}</h1>\n      </div>\n      <div className=\"panel-content\">\n\n        <OptionGroup title={I18N.toString(\"component.workspace.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.savemachine\")} keyName=\"Ctrl + S\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.undo.label\")} keyName=\"Ctrl + Z\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.redo.label\")} keyName=\"Ctrl + Shift + Z\"/>\n          <OptionHotkey label={I18N.toString(\"action.toolbar.saveimage\")} keyName=\"Ctrl + P\"/>\n        </OptionGroup>\n\n        <OptionGroup title={I18N.toString(\"component.testing.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={\"Add test input\"} keyName=\"Enter\"/>\n          <OptionHotkey label={\"Run test input\"} keyName=\"Shift + Enter\"/>\n        </OptionGroup>\n\n        <OptionGroup title={I18N.toString(\"component.labeleditor.title\")} label={I18N.toString(\"options.category.shortcuts\")}>\n          <OptionHotkey label={I18N.toString(\"action.workspace.submit.label\")} keyName=\"Enter\"/>\n          <OptionHotkey label={I18N.toString(\"action.workspace.cancel.label\")} keyName=\"Escape\"/>\n        </OptionGroup>\n\n        <div className=\"panel-checkbox\" style={{marginTop: \"10px\"}}>\n          <input id=\"option-skipwelcome\" type=\"checkbox\" checked={this.state.skipWelcome}\n          onChange={(e) => {\n            const result = e.target.checked;\n            this.setState({skipWelcome: e.target.checked});\n            LocalSave.setStringToStorage(LOCAL_STORAGE_ID, \"\" + result);\n          }}/>\n          <label htmlFor=\"option-skipwelcome\">{I18N.toString(\"options.skipwelcome\")}</label>\n        </div>\n\n        <hr/>\n\n        <div>\n          <div id=\"options-theme-select-container\">\n            <label htmlFor=\"options-theme-select\">Theme</label>\n            <select id=\"options-theme-select\" className=\"panel-select\" value={this.state.theme} onChange={this.onChangeTheme} disabled={this.state.customTheme}>\n              <option value=\"default\">Default</option>\n              <option value=\"ucsd\" disabled={true}>UC San Diego (Coming Soon)</option>\n              <option value=\"duke\" disabled={true}>Duke University (Coming Soon)</option>\n            </select>\n            {\n              !this.state.customTheme &&\n              <button className=\"panel-button\" onClick={() => this.setState({customTheme: true})}>\n                {I18N.toString(\"action.options.changetheme\")}\n              </button>\n            }\n          </div>\n          {\n            this.state.customTheme && <div>\n              <OptionGroup title={I18N.toString(\"component.toolbar.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"toolbar\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.drawer.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"drawer\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.testing.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"testing\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.notification.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"notification\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.graph.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"workspace\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"component.labeleditor.title\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"labeleditor\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <OptionGroup title={I18N.toString(\"options.category.general\")} label={I18N.toString(\"options.category.colors\")}>\n              { opts.getPropsByGroup(\"viewport\").map(e => <div key={e}>\n                  <StyleInput className=\"option-container\" value={opts.getOptionByProp(e)} title={I18N.toString(\"options.\" + e)}/>\n                </div>) }\n              </OptionGroup>\n\n              <button className=\"panel-button\" onClick={(e) => {\n                for(let option of this.styleOpts.getOptions())\n                {\n                  option.resetStyle();\n                }\n                this.setState({customTheme: false});\n              }}>{I18N.toString(\"action.options.reset\")}</button>\n            </div>\n          }\n        </div>\n\n        <hr/>\n\n        <div>\n          <h2>Experimental</h2>\n\n          <select id=\"options-experimental-modules\"\n            className=\"panel-select\"\n            value={this.props.currentModule.getModuleName()}\n            onChange={this.onChangeModule}\n            disabled={!ENABLE_MODULES}>\n          {Object.keys(Modules).map(e => {\n            const mod = Modules[e];\n            return <option key={e} value={e}\n              disabled={mod['experimental'] || mod['disabled']}>\n              {mod.name + \" (\" + mod.version + \")\"}\n            </option>\n          })}\n          </select>\n\n          <div className=\"panel-checkbox\" style={{marginTop: \"10px\"}}>\n            <input id=\"option-disableexitwarning\" type=\"checkbox\" checked={this.state.disableExitWarning}\n            onChange={(e) => {\n              const result = e.target.checked;\n              this.setState({disableExitWarning: result});\n              LocalSave.setStringToStorage(\"disableExitWarning\", \"\" + result);\n            }}/>\n            <label htmlFor=\"option-disableexitwarning\">{\"Disable Exit Warning\"}</label>\n          </div>\n\n          <button className=\"panel-button\" style={{marginTop: \"10px\"}} onClick={(e) => {\n            if (LocalSave.getStringFromStorage(\"enableExperimental\") === \"true\")\n            {\n              window.alert(\"Please restart to begin the awakening...\");\n            }\n            else if (window.confirm(\"Be careful! These features are still being \"\n            + \"tested. Some things may break (more than usual). Are you sure \"\n            + \"about this?\"))\n            {\n              if (window.confirm(\"Will be you an amazing human and report any bugs found?\"))\n              {\n                if (window.confirm(\"Alright, here we go. Last chance to \"\n                + \"leave. All those who cannot bear the responsibility, leave \"\n                + \"now or prepare to enter.\"))\n                {\n                  LocalSave.setStringToStorage(\"enableExperimental\", \"true\");\n\n                  //TODO: This is only to force use default module, remove later.\n                  LocalSave.setStringToStorage(\"currentModule\", \"\");\n                  window.alert(\"Experimental changes applied. Please restart the browser.\");\n                }\n              }\n              else\n              {\n                window.alert(\"Sorry, it looks like you are a normal human. Have a hug. <3\");\n              }\n            }\n          }}>\n            {\"Enable Experimental Mode\"}\n          </button>\n\n        </div>\n\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(OptionsPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.options.title\"); }\n});\nOptionsPanel.UNLOCALIZED_NAME = \"component.options.title\";\n\nexport default OptionsPanel;\n","import React from 'react';\nimport './Drawer.css';\n\nimport DrawerExpander from './DrawerExpander.js';\n\nimport ExportingPanel from 'deprecated/content/panels/exporting/ExportingPanel.js';\nimport OptionsPanel from 'deprecated/content/panels/options/OptionsPanel.js';\n\nconst DEFAULT_PANELS = [ExportingPanel, OptionsPanel];\nconst DEFAULT_TAB_INDEX = 0;\n\nconst MAX_PANEL_THRESHOLD = 50;\nconst MIN_PANEL_SIZE = 300;//180\n\nclass Drawer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      tabIndex: DEFAULT_TAB_INDEX,\n      dragging: false\n    };\n\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onScroll = this.onScroll.bind(this);\n\n    this._ontouchmove = null;\n    this._ontouchend = null;\n  }\n\n  setTab(index)\n  {\n    const app = this.props.app;\n\n    //Open drawer if it is closed\n    if (!app.state.isOpen)\n    {\n      app.openDrawer();\n    }\n    //Full drawer if clicked on same one\n    else\n    {\n      if (this.state.tabIndex === index)\n      {\n        app.openDrawer(!app.state.isFullscreen);\n      }\n    }\n\n    this.setState((prev, props) => {\n      return { tabIndex: index };\n    });\n  }\n\n  onStartDraggingDrawerBorder(x, y)\n  {\n    const app = this.props.app;\n    this.setState({dragging: true});\n\n    //Disable fullscreen if dragging off of it\n    if (app.state.isFullscreen)\n    {\n      app.openDrawer(false);\n    }\n\n    //Update panel to current click position\n    updatePanelSize(app, x, y);\n  }\n\n  onStopDraggingDrawerBorder()\n  {\n    this.setState({dragging: false});\n  }\n\n  onTouchStart(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (this._ontouchmove)\n    {\n      document.removeEventListener(\"touchmove\", this._ontouchmove);\n      this._ontouchmove = null;\n    }\n\n    if (this._ontouchend)\n    {\n      document.removeEventListener(\"touchend\", this._ontouchend);\n      this._ontouchend = null;\n    }\n\n    const app = this.props.app;\n    //Ignore drag move if closed\n    if (!app.state.isOpen)\n    {\n      /*\n      //Opens the drawer if dragging, but closed\n      this.props.app.openDrawer();\n      */\n      this.setState({dragging: false});\n      return;\n    }\n\n    const touch = e.changedTouches[0];\n    this.onStartDraggingDrawerBorder(touch.clientX, touch.clientY);\n\n    this._ontouchmove = function(ev)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const touch = ev.changedTouches[0];\n      updatePanelSize(app, touch.clientX, touch.clientY);\n    };\n\n    document.addEventListener(this._ontouchmove);\n\n    this._ontouchend = function(ev)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const touch = ev.changedTouches[0];\n      updatePanelSize(app, touch.clientX, touch.clientY);\n      this.onStopDraggingDrawerBorder();\n\n      //Remove listeners that are no longer needed\n      document.removeEventListener(\"touchend\", this._ontouchend);\n      document.removeEventListener(\"touchmove\", this._ontouchmove);\n    };\n\n    //Start listening to move and release events\n    document.addEventListener(\"touchend\", this._ontouchend);\n    document.addEventListener(\"touchmove\", this._ontouchmove);\n  }\n\n  onMouseDown(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const app = this.props.app;\n    //Ignore drag move if closed\n    if (!app.state.isOpen)\n    {\n      /*\n      //Opens the drawer if dragging, but closed\n      this.props.app.openDrawer();\n      */\n      return;\n    }\n\n    this.onStartDraggingDrawerBorder(e.clientX, e.clientY);\n\n    const onMouseMove = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      updatePanelSize(app, ev.clientX, ev.clientY);\n    };\n\n    const onMouseUp = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      updatePanelSize(app, ev.clientX, ev.clientY);\n      this.onStopDraggingDrawerBorder();\n\n      //Remove listeners that are no longer needed\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n\n    //Start listening to move and release events\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n  }\n\n  onScroll(e)\n  {\n    //if (this.panel)\n    {\n      //TODO: this.panel.container.scrollBy(0, e.deltaY);\n      //TODO: return false;\n    }\n  }\n\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const tabIndex = this.state.tabIndex;\n    const InfoPanel = currentModule ? currentModule.getModulePanels()[0] : null;\n\n    return <div className={\"drawer-container\"} onWheel={this.onScroll}>\n      <div className=\"drawer-content\">\n      {\n        currentModule &&\n        currentModule.getModulePanels().map((PanelClass, i) => {\n          const panelID = i + 1;\n          return <PanelClass key={currentModule.getModuleName() + \":\" + panelID}\n            style={{display: tabIndex == panelID ? \"block\" : \"none\"}}\n            currentModule={currentModule}/>;\n        })\n      }\n      {\n        tabIndex == 0 && InfoPanel != null &&\n        <InfoPanel currentModule={currentModule}/>\n      }\n      {\n        DEFAULT_PANELS.map((PanelClass, i) => {\n          const panelID = -(i + 1);\n          return <PanelClass key={\"default:\" + panelID}\n            style={{display: tabIndex == panelID ? \"block\" : \"none\"}}\n            currentModule={currentModule}/>;\n        })\n      }\n      </div>\n      <div className=\"tab-list\">\n        <DrawerExpander app={app}/>\n        {\n          currentModule &&\n          currentModule.getModulePanels().map((PanelClass, i) => {\n            //Hide panels with no name...\n            if (!PanelClass.UNLOCALIZED_NAME) return;\n\n            const panelID = i + 1;\n            return <button key={currentModule.getModuleName() + \":\" + panelID}\n              className={\"tab-link\" + (tabIndex === panelID ? \" active\" : \"\")}\n              onClick={ev=>this.setTab(panelID)}>\n              {I18N.toString(PanelClass.UNLOCALIZED_NAME || \"component.untitled.title\")}\n            </button>;\n          })\n        }\n        {\n          DEFAULT_PANELS.map((PanelClass, i) => {\n            const panelID = -(i + 1);\n            return <button key={\"default:\" + panelID}\n              className={\"tab-link\" + (tabIndex === panelID ? \" active\" : \"\")}\n              onClick={ev=>this.setTab(panelID)}>\n              {I18N.toString(PanelClass.UNLOCALIZED_NAME || \"component.untitled.title\")}\n            </button>;\n          })\n        }\n        <div className=\"tab-right\"></div>\n      </div>\n\n      <div className={\"drawer-border\" + (this.state.dragging ? \" dragging\" : \"\")}\n        onTouchStart={this.onTouchStart}\n        onMouseDown={this.onMouseDown}>\n      </div>\n    </div>;\n  }\n}\n\nfunction updatePanelSize(app, x, y)\n{\n  const container = app.container;\n  let fullscreen = false;\n  let size = 0;\n  //This is the same criteria as in App.css\n  if (window.matchMedia(\"(max-width: 420px)\").matches)\n  {\n    //Vertical slide\n    const viewportOffsetY = app.viewport.ref.getBoundingClientRect().y;\n    if (y - viewportOffsetY < MAX_PANEL_THRESHOLD)\n    {\n      //Enable fullscreen\n      app.setState((prev, props) => {\n        return {\n          isFullscreen: true\n        };\n      });\n    }\n    else\n    {\n      size = container.offsetHeight - y;\n\n      //Disable fullscreen\n      if (app.state.isFullscreen)\n      {\n        app.setState((prev, props) => {\n          return {\n            isFullscreen: false\n          };\n        });\n      }\n    }\n  }\n  else\n  {\n    //Horizontal slide\n    if (x < MAX_PANEL_THRESHOLD)\n    {\n      //Enable fullscreen\n      app.setState((prev, props) => {\n        return {\n          isFullscreen: true\n        };\n      });\n    }\n    else\n    {\n      size = container.offsetWidth - x;\n\n      //Disable fullscreen\n      if (app.state.isFullscreen)\n      {\n        app.setState((prev, props) => {\n          return {\n            isFullscreen: false\n          };\n        });\n      }\n    }\n  }\n\n  //Make sure is greater than minimum size and vice versa\n  if (size < MIN_PANEL_SIZE) size = MIN_PANEL_SIZE;\n\n  //Set panel size\n  container.style.setProperty(\"--panel-size\", size + \"px\");\n}\nDrawer.EXPORTING_PANEL_TAB_INDEX = -1;\nDrawer.OPTIONS_PANEL_TAB_INDEX = -2;\n\nexport default Drawer;\n","import React from 'react';\nimport './Toolbar.css';\n\nimport Config from 'deprecated/config.js';\n\nimport UploadButton from \"./UploadButton.js\";\nimport HelpButton from \"./HelpButton.js\";\nimport MachineName from './MachineName.js';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\n\nimport MoreIcon from 'deprecated/icons/MoreIcon.js';\nimport UploadIcon from 'deprecated/icons/UploadIcon.js';\nimport CreateIcon from 'deprecated/icons/PageNewIcon.js';\n//import CreateIcon from 'deprecated/icons/CreateIcon.js';\nimport SaveIcon from 'deprecated/icons/SaveIcon.js';\n//import SaveIcon from 'deprecated/icons/DiskSaveIcon.js';\nimport UndoIcon from 'deprecated/icons/UndoIcon.js';\nimport RedoIcon from 'deprecated/icons/RedoIcon.js';\nimport HelpIcon from 'deprecated/icons/HelpIcon.js';\nimport LanguageIcon from 'deprecated/icons/LanguageIcon.js';\nimport OfflineIcon from 'deprecated/icons/OfflineIcon.js';\nimport OfflinePinIcon from 'deprecated/icons/OfflinePinIcon.js';\nimport BugReportIcon from 'deprecated/icons/BugReportIcon.js';\n\nimport Drawer from 'deprecated/content/drawer/Drawer.js';\n\nconst BUG_REPORT_URL = \"https://goo.gl/forms/XSil43Xl5xLHsa0E2\";\n\nclass Toolbar extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      langOn: false\n    };\n\n    this.onMachineNameChange = this.onMachineNameChange.bind(this);\n    this.onMachineNameKeyDown = this.onMachineNameKeyDown.bind(this);\n    this.langOnClick = this.langOnClick.bind(this);\n  }\n\n  onMachineNameChange(e)\n  {\n    this.props.currentModule.getMachineController().renameMachine(e.value);\n  }\n\n  onMachineNameKeyDown()\n  {\n\n  }\n\n  onMachineNameBlur()\n  {\n\n  }\n\n  langOnClick()\n  {\n    this.setState({langOn: !this.state.langOn});\n  }\n\n  render()\n  {\n    const app = this.props.app;\n    const currentModule = this.props.currentModule;\n    const drawer = this.props.drawer;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const undoManager = app.getUndoManager();\n\n    const graph = graphController.getGraph();\n\n    const offline = navigator && navigator.onLine;\n\n    return <div className=\"toolbar-container\">\n      <div className=\"toolbar-title\">\n        <div className=\"toolbar-title-name\">\n          {/*Machine Name*/}\n          <MachineName id=\"machine-name\" value={machineController.getMachineName()} onSubmit={this.onMachineNameChange}/>\n          {/*Toolbar Alt. Title*/}\n          <div className=\"toolbar-title-alt\">\n            {/*Offline Button*/}\n            <IconButton id=\"toolbar-lang\" title={I18N.toString(\"action.toolbar.lang\")}\n              onClick={() => {\n                if ('serviceWorker' in navigator)\n                {\n                  if (navigator.serviceWorker.getRegistration(\"./app.html\"))\n                  {\n                    alert(I18N.toString(\"message.offline.ready\"));\n                  }\n                  else\n                  {\n                    alert(I18N.toString(\"message.offline.failed\"));\n                  }\n                }\n                else\n                {\n                  alert(I18N.toString(\"message.offline.nosupport\"));\n                }\n              }} disabled={offline}>\n              <OfflineIcon/>\n            </IconButton>\n            {/*Upload Button\n            <div id=\"toolbar-upload-alt\"\n              title={I18N.toString(\"action.toolbar.uploadmachine\")}>\n              <MoreIcon/>\n            </div>\n            */}\n          </div>\n        </div>\n        {/*Machine Type*/}\n        <label id=\"machine-type\"\n          onClick={()=>drawer.setTab(0)}>\n          {currentModule.getLocalizedModuleName()}\n        </label>\n      </div>\n\n      <div className=\"toolbar-tray\">\n        {/*New Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-new\" title={I18N.toString(\"action.toolbar.newmachine\")}\n          onClick={() => {\n            if (window.confirm(I18N.toString(\"alert.graph.clear\")))\n            {\n              graph.clear();\n              undoManager.clear();\n              machineController.setMachineName(null);\n            }\n          }}>\n          <CreateIcon/>\n        </IconButton>\n        {/*Upload Button*/}\n        <UploadButton className=\"navicon\" id=\"toolbar-upload\" title={I18N.toString(\"action.toolbar.uploadmachine\")}\n          app={app}\n          graphController={graphController}>\n          <UploadIcon/>\n        </UploadButton>\n        {/*Undo Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-undo\" title={I18N.toString(\"action.toolbar.undo\")}\n          disabled={!undoManager.canUndo()}\n          onClick={()=>undoManager.undo()}>\n          <UndoIcon/>\n        </IconButton>\n        {/*Redo Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-redo\" title={I18N.toString(\"action.toolbar.redo\")}\n          disabled={!undoManager.canRedo()}\n          onClick={()=>undoManager.redo()}>\n          <RedoIcon/>\n        </IconButton>\n        {/*Save Button*/}\n        <IconButton className=\"navicon\" id=\"toolbar-save\" title={I18N.toString(\"action.toolbar.save\")}\n          onClick={()=>drawer.setTab(Drawer.EXPORTING_PANEL_TAB_INDEX)} disabled={graph.isEmpty()}>\n          <SaveIcon/>\n        </IconButton>\n\n        {/*Right Alt. Toolbar*/}\n        <div className=\"toolbar-tray-alt\">\n          {/*Report a Bug Button*/}\n          <IconButton className=\"navicon\" id=\"toolbar-bug\" title={I18N.toString(\"action.toolbar.bug\")}\n            onClick={e => window.open(BUG_REPORT_URL, '_blank')}>\n            <BugReportIcon/>\n          </IconButton>\n          {/*Help Button*/}\n          <HelpButton className=\"navicon\" id=\"toolbar-help\" title={I18N.toString(\"action.toolbar.help\")}>\n            <HelpIcon/>\n          </HelpButton>\n          {/*Language Button*/}\n          <IconButton className=\"navicon\" id=\"toolbar-lang\" title={I18N.toString(\"action.toolbar.lang\")}\n            onClick={(e) => {document.activeElement.blur(); this.langOnClick();}} >\n            <LanguageIcon/>\n          </IconButton>\n          {/*Language Select*/}\n          <select id=\"toolbar-lang-select\" style={{maxWidth: (this.state.langOn ? \"10em\" : \"0\")}} onChange={(e) => {I18N.fetchLanguageFile(e.target.value);}}>\n            <option value=\"en_us\">English</option>\n            <option value=\"xx_pirate\">Pirate Speak</option>\n          </select>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\nexport default Toolbar;\n","import React from 'react';\nimport './Subtitle.css';\n\nimport Config from 'deprecated/config.js';\n\nclass Subtitle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = { active: false };\n\n    this.messageTimer = null;\n  }\n\n  componentDidMount()\n  {\n    this.messageTimer = setTimeout(() => {\n      this.setState({ active: true });\n    }, Config.INIT_WAITTIME);\n  }\n\n  render()\n  {\n    const visible = this.state.active ? this.props.visible : false;\n    return <text y=\"-1em\" className={\"graph-ui subtitle\" + (visible ? \" visible\" : \"\")}\n      textAnchor=\"middle\">{I18N.toString(\"message.workspace.empty\")}</text>;\n  }\n}\n\nexport default Subtitle;\n","import React from 'react';\nimport './Workspace.css';\n\nimport Config from 'deprecated/config.js';\n\nimport Subtitle from './Subtitle.js';\n\nconst WORKSPACE_OFFSET_X = 0;\nconst WORKSPACE_OFFSET_Y = 0;\nconst EXPORT_PADDING_X = 30;\nconst EXPORT_PADDING_Y = 0;\n\nconst GRAPH_RENDER_LAYER = \"graph\";\nconst GRAPH_OVERLAY_RENDER_LAYER = \"graphoverlay\";\n\nclass Workspace extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n  }\n\n  getSVGForExport(width, height)\n  {\n    const svg = this.ref;\n    if (!svg) return null;\n\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n\n    const viewport = inputController.getInputAdapter().getViewport();\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const bounds = graphController.getGraph().getBoundingRect();\n    const dx = bounds.minX + offsetX - EXPORT_PADDING_X;\n    const dy = bounds.minY + offsetY - EXPORT_PADDING_Y;\n    const w = bounds.width + EXPORT_PADDING_X * 2;\n    const h = bounds.height + EXPORT_PADDING_Y * 2;\n    const clone = svg.cloneNode(true);\n    clone.setAttribute('viewBox', dx + \" \" + dy + \" \" + w + \" \" + h);\n    clone.setAttribute('width', width);\n    clone.setAttribute('height', height);\n\n    //Apply the workspace font (refer to Workspace.css)\n    clone.setAttribute('font-size', \"16px\");\n    clone.setAttribute('font-family', \"monospace\");\n    clone.setAttribute('style', \".graph-ui {display: none;}\");\n\n    /*\n    //TODO: Link the font family to svg\n    const link = document.createElement(\"link\");\n    link.setAttribute(\"rel\", \"stylesheet\");\n    clone.appendChild(link);\n    */\n\n    //Remove unwanted ui elements from image\n    const uiElements = clone.getElementsByClassName(\"graph-ui\");\n    while(uiElements.length > 0)\n    {\n      const e = uiElements[0];\n      e.remove();//This will propagate changes to uiElements, so be careful\n    }\n\n    return clone;\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n    const machineController = currentModule.getMachineController();\n\n    const GraphRenderer = currentModule.getRenderer(GRAPH_RENDER_LAYER);\n    const GraphOverlayRenderer = currentModule.getRenderer(GRAPH_OVERLAY_RENDER_LAYER);\n\n    const graph = graphController.getGraph();\n    const viewport = inputController.getInputAdapter().getViewport();\n\n    let size = Config.DEFAULT_GRAPH_SIZE * Math.max(Number.MIN_VALUE, viewport.getScale());\n    const halfSize = size / 2;\n\n    //Must not be a block content (must inline)\n    return <svg id=\"workspace-content\" ref={ref=>this.ref=ref}\n      viewBox={(-halfSize + WORKSPACE_OFFSET_X) + \" \"\n        + (-halfSize + WORKSPACE_OFFSET_Y) + \" \"\n        + size + \" \" + size}\n      xmlns=\"http://www.w3.org/2000/svg\">\n\n      {/* Graph subtitle */}\n      <Subtitle visible={graph.isEmpty()}/>\n\n      {/* Graph elements */}\n      <g id=\"workspace-content-elements\" transform={\"translate(\"\n        + viewport.getOffsetX() + \" \"\n        + viewport.getOffsetY() + \")\"}>\n\n        {/* Graph origin crosshair */}\n        <g className=\"graph-ui\">\n          <line x1=\"0\" y1=\"-5\" x2=\"0\" y2=\"5\" stroke=\"#E6E6E6\"/>\n          <line x1=\"-5\" y1=\"0\" x2=\"5\" y2=\"0\" stroke=\"#E6E6E6\"/>\n        </g>\n\n        {/* Graph objects */}\n        { GraphRenderer &&\n          <GraphRenderer {...this.props} parent={this}/> }\n\n        {/* Graph overlays */}\n        { GraphOverlayRenderer &&\n          <GraphOverlayRenderer {...this.props} parent={this}/> }\n      </g>\n    </svg>;\n  }\n}\n\nexport default Workspace;\n","import Notifications from 'deprecated/system/notification/Notifications.js';\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\nimport Config from 'deprecated/config.js';\n\nclass Tutorial\n{\n  constructor()\n  {\n    this.app = null;\n  }\n\n  start(app)\n  {\n    if (LocalSave.getStringFromStorage(\"skipWelcome\") !== \"true\")\n    {\n      Notifications.addMessage(I18N.toString(\"message.tutorial.1\"));\n      Notifications.addMessage(I18N.toString(\"message.intro.2\"));\n    }\n  }\n}\n\nexport default Tutorial;\n","/**\n * Used by InputAdapter to hold input event data.\n */\nclass InputPointer\n{\n  constructor(adapter, element, viewport)\n  {\n    this._adapter = adapter;\n    this._element = element;\n    this._viewport = viewport;\n\n    this._active = false;\n    this._x = 0;\n    this._y = 0;\n\n    this._inputpos = {x: 0, y: 0};\n  }\n\n  get x() { return this._x; }\n  get y() { return this._y; }\n\n  setPosition(x, y)\n  {\n    this._x = x;\n    this._y = y;\n    return this;\n  }\n\n  beginInput()\n  {\n    this._active = true;\n    this._inputpos.x = this._x;\n    this._inputpos.y = this._y;\n  }\n\n  /**\n   * Returns the position which the input began at. This is mutable.\n   */\n  getInputEventPosition()\n  {\n    return this._inputpos;\n  }\n\n  changeInputEventPosition(x, y)\n  {\n    this._inputpos.x = x;\n    this._inputpos.y = y;\n  }\n\n  endInput()\n  {\n    this._active = false;\n  }\n\n  isActive()\n  {\n    return this._active;\n  }\n\n  getDistanceSquToInitial()\n  {\n    const pos = this._inputpos;\n    const dx = pos.x - this._x;\n    const dy = pos.y - this._y;\n    return dx * dx + dy * dy;\n  }\n\n  /**\n   * The DOM element for which this pointer provides context for; this should be\n   * the same element as in the input adapter.\n   */\n  getElement()\n  {\n    return this._element;\n  }\n\n  /**\n   * The viewport for this pointer operates within; this should be the same\n   * viewport as in the input adapter.\n   */\n  getViewport()\n  {\n    return this._viewport;\n  }\n\n  /**\n   * The input adapter that controls this pointer's properties\n   */\n  getAdapter()\n  {\n    return this._adapter;\n  }\n}\n\nexport default InputPointer;\n","/**\n * Represents and handles the transformations to the interactible viewport of\n * the SVG element.\n */\nclass ViewportAdapter\n{\n  constructor()\n  {\n    this._element = null;\n    this._offsetX = 0;\n    this._offsetY = 0;\n    this._nextOffsetX = 0;\n    this._nextOffsetY = 0;\n    this._offsetDamping = 0.1;\n\n    this._scaleFactor = 1;\n    this._minScale = 1;\n    this._maxScale = 1;\n  }\n\n  setElement(element)\n  {\n    this._element = element;\n    return this;\n  }\n\n  setMinScale(scale)\n  {\n    this._minScale = scale;\n    if (this._scaleFactor < this._minScale) this._scaleFactor = this._minScale;\n    return this;\n  }\n\n  setMaxScale(scale)\n  {\n    this._maxScale = scale;\n    if (this._scaleFactor > this._maxScale) this._scaleFactor = this._maxScale;\n    return this;\n  }\n\n  setOffsetDamping(damping)\n  {\n    this._offsetDamping = damping;\n    return this;\n  }\n\n  update()\n  {\n    const dx = this._nextOffsetX - this._offsetX;\n    this._offsetX += dx * this._offsetDamping;\n    const dy = this._nextOffsetY - this._offsetY;\n    this._offsetY += dy * this._offsetDamping;\n  }\n\n  transformScreenToView(clientX, clientY)\n  {\n    if (!this._element) return {x: clientX - this._offsetX, y: clientY - this._offsetY};\n\n    const ctm = this._element.getScreenCTM();\n    return {\n      x: (clientX - ctm.e) / ctm.a - this._offsetX,\n      y: (clientY - ctm.f) / ctm.d - this._offsetY\n    };\n  }\n\n  setOffset(x, y, immediate=false)\n  {\n    if (immediate)\n    {\n      this._nextOffsetX = this._offsetX = x;\n      this._nextOffsetY = this._offsetY = y;\n    }\n    else\n    {\n      this._nextOffsetX = x;\n      this._nextOffsetY = y;\n    }\n  }\n\n  addOffset(dx, dy, immediate=false)\n  {\n    if (immediate)\n    {\n      this._offsetX += dx;\n      this._offsetY += dy;\n      this._nextOffsetX = this._offsetX;\n      this._nextOffsetY = this._offsetY;\n    }\n    else\n    {\n      this._nextOffsetX += dx;\n      this._nextOffsetY += dy;\n    }\n  }\n\n  setScale(scale)\n  {\n    this._scaleFactor = Math.min(this._maxScale, Math.max(this._minScale, scale));\n  }\n\n  addScale(dscale)\n  {\n    this._scaleFactor += dscale;\n\n    if (this._scaleFactor > this._maxScale) this._scaleFactor = this._maxScale;\n    else if (this._scaleFactor < this._minScale) this._scaleFactor = this._minScale;\n  }\n\n  getOffsetX()\n  {\n    return this._offsetX;\n  }\n\n  getOffsetY()\n  {\n    return this._offsetY;\n  }\n\n  getOffsetDamping()\n  {\n    return this._offsetDamping;\n  }\n\n  getScale()\n  {\n    return this._scaleFactor;\n  }\n\n  getMinScale()\n  {\n    return this._minScale;\n  }\n\n  getMaxScale()\n  {\n    return this._maxScale;\n  }\n\n  getElement()\n  {\n    return this._element;\n  }\n}\n\nexport default ViewportAdapter;\n","import InputPointer from './InputPointer.js';\nimport ViewportAdapter from './ViewportAdapter.js';\n\nconst LONG_TAP_TICKS = 600;\nconst DOUBLE_TAP_TICKS = 600;\nconst SCROLL_SENSITIVITY = 1.0 / 300.0;\nconst CURSOR_RADIUS = 4;\nconst CURSOR_RADIUS_SQU = CURSOR_RADIUS * CURSOR_RADIUS;\nconst DRAGGING_BUFFER = 18;\nconst DRAGGING_BUFFER_SQU = DRAGGING_BUFFER * DRAGGING_BUFFER;\n\n/**\n * Provides an interface for input handlers to interact with a HTMLElement.\n * Each listenable element should correspond to only a single InputAdapter.\n */\nclass InputAdapter\n{\n  constructor()\n  {\n    this._handlers = [];\n    this._activeDragHandler = null;\n\n    this._element = null;\n    this._cursor = {\n      _mousemove: null,\n      _mouseup: null,\n      _touchmove: null,\n      _touchend: null,\n      _timer: null\n    };\n    this._pointer = null;\n\n    this._viewport = new ViewportAdapter();\n\n    //Although dragging could be in pointer, it should be here to allow\n    //the adapter to be independent of pointer.\n    this._dragging = false;\n    this._altinput = false;\n\n    this._holdInputDelay = LONG_TAP_TICKS;\n    this._dblInputDelay = DOUBLE_TAP_TICKS;\n    this._scrollSensitivity = SCROLL_SENSITIVITY;\n    this._minTapRadius = CURSOR_RADIUS_SQU * 16;\n    this._draggingRadiusSqu = CURSOR_RADIUS_SQU + DRAGGING_BUFFER_SQU;\n\n    this._prevEmptyInput = false;\n    this._prevEmptyTime = 0;\n    this._prevEmptyX = 0;\n    this._prevEmptyY = 0;\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    this.onMouseDownThenMove = this.onMouseDownThenMove.bind(this);\n    this.onMouseDownThenUp = this.onMouseDownThenUp.bind(this);\n    this.onTouchStartThenMove = this.onTouchStartThenMove.bind(this);\n    this.onTouchStartThenEnd = this.onTouchStartThenEnd.bind(this);\n\n    this.onDelayedInputDown = this.onDelayedInputDown.bind(this);\n  }\n\n  addInputHandler(handler)\n  {\n    this._handlers.push(handler);\n    return this;\n  }\n\n  removeInputHandler(handler)\n  {\n    const index = this._handlers.indexOf(handler);\n    if (index < 0) return false;\n    this._handlers.splice(index, 1);\n    return true;\n  }\n\n  clearInputHandlers()\n  {\n    this._handlers.clear();\n  }\n\n  hasInputHandlers()\n  {\n    return this._handlers.length > 0;\n  }\n\n  initialize(element)\n  {\n    if (!(element instanceof SVGElement)) throw new Error(\"Missing SVG element for input adapter's viewport\");\n    if (this._element) throw new Error(\"Trying to initialize an InputAdapter already initialized\");\n\n    this._viewport.setElement(this._element = element);\n    this._pointer = new InputPointer(this, this._element, this._viewport);\n\n    this._element.addEventListener('mousedown', this.onMouseDown);\n    this._element.addEventListener('mousemove', this.onMouseMove);\n    this._element.addEventListener('touchstart', this.onTouchStart);\n    this._element.addEventListener('touchmove', this.onTouchMove);\n    this._element.addEventListener('contextmenu', this.onContextMenu);\n    this._element.addEventListener('wheel', this.onWheel);\n  }\n\n  destroy()\n  {\n    if (!this._element) throw new Error(\"Trying to destroy an InputAdapter that is not yet initialized\");\n\n    this._element.removeEventListener('mousedown', this.onMouseDown);\n    this._element.removeEventListener('mousemove', this.onMouseMove);\n    this._element.removeEventListener('touchstart', this.onTouchStart);\n    this._element.removeEventListener('contextmenu', this.onContextMenu);\n    this._element.removeEventListener('wheel', this.onWheel);\n\n    this._element = null;\n  }\n\n  update()\n  {\n    //Smooth transition offset\n    this._viewport.update();\n  }\n\n  handleEvent(eventName, ...eventArgs)\n  {\n    //Let others handle this event...\n    for(const handler of this._handlers)\n    {\n      if (handler[eventName](...eventArgs))\n      {\n        return handler;\n      }\n    }\n\n    return null;\n  }\n\n  onMouseDown(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Blur any element in focus\n    document.activeElement.blur();\n    this._element.focus();\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    //HACK: To allow Mac's to use ctrl+click as right clicks\n    const button = e.ctrlKey ? 2 : e.button;\n\n    //Is this a valid mouse down?\n    if (this.onInputDown(e.clientX, e.clientY, button))\n    {\n      //Start mouse down logic...\n      cursor._mousemove = this.onMouseDownThenMove;\n      cursor._mouseup = this.onMouseDownThenUp;\n\n      document.addEventListener('mousemove', cursor._mousemove);\n      document.addEventListener('mouseup', cursor._mouseup);\n    }\n\n    return false;\n  }\n\n  onMouseMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    const mouse = this._viewport.transformScreenToView(e.clientX, e.clientY);\n    const pointer = this._pointer;\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (this.handleEvent('onMoveInputEvent', pointer))\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      this.cancelInputEvent();\n    }\n  }\n\n  onMouseDownThenMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.onInputMove(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onMouseDownThenUp(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    this.onInputUp(e.clientX, e.clientY);\n\n    return false;\n  }\n\n  onTouchStart(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    if (e.changedTouches.length == 1)\n    {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const cursor = this._cursor;\n\n      //Blur any element in focus\n      document.activeElement.blur();\n      this._element.focus();\n\n      //Make sure touch move is deleted, just in case\n      if (cursor._touchmove)\n      {\n        document.removeEventListener('touchmove', cursor._touchmove);\n        cursor._touchmove = null;\n      }\n      //Make sure touch end is deleted, just in case\n      if (cursor._touchend)\n      {\n        document.removeEventListener('touchend', cursor._touchend);\n        cursor._touchend = null;\n      }\n\n      const touch = e.changedTouches[0];\n      //Is this a valid touch start?\n      if (this.onInputDown(touch.clientX, touch.clientY, 0))\n      {\n        //Start touch start logic...\n        cursor._touchmove = this.onTouchStartThenMove;\n        cursor._touchend = this.onTouchStartThenEnd;\n\n        document.addEventListener('touchmove', cursor._touchmove);\n        document.addEventListener('touchend', cursor._touchend);\n      }\n\n      return false;\n    }\n  }\n\n  onTouchStartThenEnd(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._touchmove)\n    {\n      document.removeEventListener('touchmove', cursor._touchmove);\n      cursor._touchmove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._touchend)\n    {\n      document.removeEventListener('touchend', cursor._touchend);\n      cursor._touchend = null;\n    }\n\n    const touch = e.changedTouches[0];\n    this.onInputUp(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onTouchStartThenMove(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const touch = e.changedTouches[0];\n    this.onInputMove(touch.clientX, touch.clientY);\n\n    return false;\n  }\n\n  onContextMenu(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    return false;\n  }\n\n  onWheel(e)\n  {\n    if (!this.hasInputHandlers()) return false;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const pointer = this._pointer;\n    const dy = e.deltaY * this._scrollSensitivity;\n    const prev = this._viewport.getScale();\n    const next = prev + dy;\n\n    //Let others handle this event...\n    if (!this.handleEvent('onZoomChange', pointer, next, prev))\n    {\n      this._viewport.setScale(next);\n    }\n\n    return false;\n  }\n\n  onInputDown(x, y, button)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    //Setup for hold timer...\n    const cursor = this._cursor;\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    this._dragging = false;\n    this._altinput = button == 2;\n\n    //Let others handle this event...\n    if (!this.handleEvent('onPreInputEvent', pointer))\n    {\n      pointer.beginInput();\n      cursor._timer = setTimeout(this.onDelayedInputDown, this._holdInputDelay);\n      return true;\n    }\n\n    return false;\n  }\n\n  onDelayedInputDown()\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    //That means the input is remaining still (like a hold)...\n    if (!this._dragging)\n    {\n      this._altinput = true;\n    }\n  }\n\n  onInputMove(x, y)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (!this._dragging)\n    {\n      if (pointer.getDistanceSquToInitial() > this._draggingRadiusSqu)\n      {\n        this._dragging = true;\n\n        //Let others handle this event...\n        const result = this.handleEvent('onDragStart', pointer);\n        if (!result)\n        {\n          this._dragging = false;\n\n          //TODO: you could NOT cancel the event and just update the target?\n          //If so, who is the initial target then?\n\n          //Stop the input event early...\n          this.cancelInputEvent();\n        }\n        else\n        {\n          this._activeDragHandler = result;\n        }\n      }\n      else\n      {\n        //Still a click or hold...\n      }\n    }\n    else\n    {\n      //Continue to drag...\n      if (this._activeDragHandler)\n      {\n        this._activeDragHandler.onDragMove(pointer);\n      }\n    }\n  }\n\n  onInputUp(x, y)\n  {\n    if (!this.hasInputHandlers()) throw new Error(\"Missing handlers for input adapter\");\n\n    const cursor = this._cursor;\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    //Update pointer target to final position\n    const pointer = this._pointer;\n    const mouse = this._viewport.transformScreenToView(x, y);\n    pointer.setPosition(mouse.x, mouse.y);\n\n    if (this._dragging)\n    {\n      //Stop dragging!\n      if (this._activeDragHandler)\n      {\n        this._activeDragHandler.onDragStop(pointer);\n        this._activeDragHandler = null;\n      }\n    }\n    else\n    {\n      if (this._altinput)\n      {\n        //Alt Tap!\n        this.handleEvent('onAltInputEvent', pointer);\n      }\n      else\n      {\n        //If the input was not consumed...\n        if (!this.handleEvent('onInputEvent', pointer))\n        {\n          //Try for double tap...\n          const dx = x - this._prevEmptyX;\n          const dy = y - this._prevEmptyY;\n          const dist = dx * dx + dy * dy;\n          const dt = Date.now() - this._prevEmptyTime;\n          if (this._prevEmptyInput &&\n            dist < this._minTapRadius &&\n            dt < this._dblInputDelay)\n          {\n            //Double tap!\n            this.handleEvent('onDblInputEvent', pointer);\n\n            this._prevEmptyInput = false;\n          }\n          else\n          {\n            this._prevEmptyInput = true;\n            this._prevEmptyTime = Date.now();\n            this._prevEmptyX = x;\n            this._prevEmptyY = y;\n          }\n        }\n      }\n    }\n\n    pointer.endInput();\n    this.handleEvent('onPostInputEvent', pointer);\n  }\n\n  cancelInputEvent()\n  {\n    const pointer = this._pointer;\n    const cursor = this._cursor;\n\n    //Make sure mouse move is deleted, just in case\n    if (cursor._mousemove)\n    {\n      document.removeEventListener('mousemove', cursor._mousemove);\n      cursor._mousemove = null;\n    }\n    //Make sure mouse up is deleted, just in case\n    if (cursor._mouseup)\n    {\n      document.removeEventListener('mouseup', cursor._mouseup);\n      cursor._mouseup = null;\n    }\n\n    const timer = cursor._timer;\n    if (timer)\n    {\n      clearTimeout(timer);\n      cursor._timer = null;\n    }\n\n    pointer.endInput();\n    this.handleEvent('onPostInputEvent', pointer);\n  }\n\n  getActiveElement()\n  {\n    return this._element;\n  }\n\n  getViewport()\n  {\n    return this._viewport;\n  }\n\n  getPointerX()\n  {\n    return this._pointer ? this._pointer.x : 0;\n  }\n\n  getPointerY()\n  {\n    return this._pointer ? this._pointer.y : 0;\n  }\n\n  isPointerActive()\n  {\n    return this._pointer ? this._pointer.isActive() : false;\n  }\n\n  isUsingTouch()\n  {\n    return this._cursor._touchmove || this._cursor._touchend;\n  }\n\n  isAltInput()\n  {\n    return this._altinput;\n  }\n\n  isDragging()\n  {\n    return this._dragging;\n  }\n}\n\nexport default InputAdapter;\n","import React from 'react';\nimport './NotificationMessage.css';\n\nclass NotificationMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onExitMessage = this.onExitMessage.bind(this);\n  }\n\n  onExitMessage(e)\n  {\n    const message = this.props.value;\n    message.close();\n  }\n\n  //Override\n  render()\n  {\n    const message = this.props.value;\n    return <div className={\"notification-message-container notification-message-type-\" + message.getType() + \" \" + this.props.className}\n      id={this.props.id} style={this.props.style}>\n      { this.props.children || message.value.split(\"\\\\n\").map(e => <p key={e}>{e}</p>) || message }\n      <button onClick={this.onExitMessage}>{I18N.toString(\"message.action.close\")}</button>\n    </div>;\n  }\n}\nexport default NotificationMessage;\n","import React from 'react';\nimport './NotificationView.css';\n\nimport NotificationMessage from './NotificationMessage.js';\n\nclass NotificationView extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const notificationManager = this.props.notificationManager;\n    return <div className={\"notification-container \" + this.props.className} id={this.props.id} style={this.props.style}>\n    {\n      notificationManager.getMessages().map(e => {\n        const id = e.getID();\n        const ComponentClass = e.getComponentClass();\n        const componentProps = e.getComponentProps() || {};\n\n        return <NotificationMessage key={id} value={e}>\n        { ComponentClass && <ComponentClass message={e} {...componentProps}/> }\n        </NotificationMessage>;\n      })\n    }\n    </div>;\n  }\n}\nexport default NotificationView;\n","const MAX_HISTORY_LENGTH = 1000;\n\nclass UndoManager\n{\n  constructor()\n  {\n    this.history = [];\n    this.offsetIndex = 0;\n\n    this._handlerFactory = null;\n  }\n\n  setEventHandlerFactory(factory)\n  {\n    this._handlerFactory = factory;\n    return this;\n  }\n\n  //DuckType(SessionListener)\n  onSessionStart(session)\n  {\n\n  }\n\n  //DuckType(SessionListener)\n  onSessionStop(session)\n  {\n    this.clear();\n  }\n\n  captureEvent(...args)\n  {\n    if (typeof this._handlerFactory === 'function')\n    {\n      const handler = this._handlerFactory(args);\n      if (handler)\n      {\n        this.captureEventAsHandler(handler);\n      }\n      else\n      {\n        throw new Error(\"Cannot create valid undo event handler for capture\");\n      }\n    }\n    else\n    {\n      console.error(\"Missing default undo event handler for capture\");\n    }\n  }\n\n  captureEventAsHandler(eventHandler)\n  {\n    //Pop it all until current event\n    while(this.offsetIndex > 0)\n    {\n      this.history.pop();\n      --this.offsetIndex;\n    }\n\n    //Push the current event to the stack\n    this.history.push(eventHandler);\n\n    while(this.history.length > MAX_HISTORY_LENGTH)\n    {\n      this.history.unshift();\n    }\n  }\n\n  getPreviousEvent()\n  {\n    if (!this.canUndo()) return null;\n    return this.history[this.history.length - this.offsetIndex - 1];\n  }\n\n  getNextEvent()\n  {\n    if (!this.canRedo()) return null;\n    return this.history[this.history.length - this.offsetIndex + 1];\n  }\n\n  undo()\n  {\n    if (!this.canUndo())\n    {\n      //Already the oldest recorded event!\n      return;\n    }\n\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n    ++this.offsetIndex;\n\n    event.applyUndo(this);\n  }\n\n  canUndo()\n  {\n    return this.offsetIndex < this.history.length;\n  }\n\n  redo()\n  {\n    if (!this.canRedo())\n    {\n      //Already the most recent event!\n      return;\n    }\n\n    --this.offsetIndex;\n    const event = this.history[this.history.length - this.offsetIndex - 1];\n\n    event.applyRedo(this);\n  }\n\n  canRedo()\n  {\n    return this.offsetIndex > 0;\n  }\n\n  clear()\n  {\n    this.history.length = 0;\n    this.offsetIndex = 0;\n  }\n}\n\nexport default UndoManager;\n","class AbstractLocalSaver\n{\n  onLoadSave() {}\n  onUnloadSave() {}\n  onAutoSave() {}\n}\n\nexport default AbstractLocalSaver;\n","import AbstractLocalSaver from 'deprecated/system/localsave/AbstractLocalSaver.js';\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\n\nclass AppSaver extends AbstractLocalSaver\n{\n  constructor(app)\n  {\n    super();\n\n    this._app = app;\n  }\n\n  //Override\n  onLoadSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const data = LocalSave.loadFromStorage(\"graph-\" + moduleName);\n    if (data)\n    {\n      const exporter = module.getGraphController().getDefaultGraphExporter();\n      exporter.importFromData(data, module);\n    }\n\n    //HACK: not all modules have this\n    if (module.captureGraphEvent) module.captureGraphEvent();\n  }\n\n  //Override\n  onUnloadSave()\n  {\n    //Don't do anything...\n  }\n\n  //Override\n  onAutoSave()\n  {\n    const module = this._app.getCurrentModule();\n    const moduleName = module.getModuleName();\n\n    const exporter = module.getGraphController().getDefaultGraphExporter();\n    const data = exporter.exportToData(module);\n    LocalSave.saveToStorage(\"graph-\" + moduleName, data);\n  }\n\n  getApp()\n  {\n    return this._app;\n  }\n}\n\nexport default AppSaver;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './App.css';\n\nimport Config from 'deprecated/config.js';\n\n//import Modules from './Modules.js';\nimport Module from 'modules/fsa/FSAModule.js';\nimport ModuleLoader from 'deprecated/modules/ModuleLoader.js';\n\nimport HotKeys from './HotKeys.js';\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\n\nimport Toolbar from './toolbar/Toolbar.js';\nimport Workspace from './workspace/Workspace.js';\nimport Drawer from './drawer/Drawer.js';\nimport Viewport from './viewport/Viewport.js';\nimport Tutorial from 'deprecated/tutorial/Tutorial.js';\n\nimport InputAdapter from 'deprecated/system/inputadapter/InputAdapter.js';\nimport Notifications from 'deprecated/system/notification/Notifications.js';\nimport NotificationView from 'deprecated/system/notification/components/NotificationView.js';\nimport UndoManager from 'deprecated/system/undomanager/UndoManager.js';\n\nimport AppSaver from './AppSaver.js';\n\nconst SMOOTH_OFFSET_DAMPING = 0.4;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    //Create references\n    this.container = null;\n    this.workspace = null;\n    this.viewport = null;\n    this.drawer = null;\n    this.toolbar = null;\n\n    //These need to be initialized before module\n    this.inputAdapter = new InputAdapter();\n    this.inputAdapter.getViewport()\n      .setMinScale(MIN_SCALE)\n      .setMaxScale(MAX_SCALE)\n      .setOffsetDamping(SMOOTH_OFFSET_DAMPING);\n\n    this.undoManager = new UndoManager();\n\n    this._saver = new AppSaver(this);\n\n    //Modules should handle its own initialization, regardless of web state\n    //Also, loading from file should be handled by modules themselves\n    const ModuleClass = props.moduleClass || Module;\n    this._module = new ModuleClass(this);\n\n    this.hotKeys = new HotKeys();\n    this.tutorial = new Tutorial();\n\n    this.state = {\n      isOpen: true,\n      isDangerous: false,\n      isFullscreen: false,\n      isWaitingForFile: false\n    };\n\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onFileDrop = this.onFileDrop.bind(this);\n  }\n\n  //Override\n  componentDidMount()\n  {\n    //Initialize input adapter\n    const workspaceDOM = this.workspace.ref;\n    this.inputAdapter.initialize(workspaceDOM);\n\n    //Initialize the module...\n    const module = this.getCurrentModule();\n    module.initialize(this);\n\n    this.hotKeys.initialize(this);\n\n    //Upload drop zone\n    workspaceDOM.addEventListener(\"drop\", this.onFileDrop);\n    workspaceDOM.addEventListener(\"dragover\", this.onDragOver);\n    workspaceDOM.addEventListener(\"dragenter\", this.onDragEnter);\n    workspaceDOM.addEventListener(\"dragleave\", this.onDragLeave);\n\n    //Begin tutorial\n    this.tutorial.start(this);\n\n    LocalSave.registerHandler(this._saver);\n  }\n\n  //Override\n  componentWillUnmount()\n  {\n    LocalSave.unregisterHandler(this._saver);\n\n    this.hotKeys.destroy();\n\n    this._module.destroy(this);\n\n    this.inputAdapter.destroy();\n\n    //Upload drop zone\n    const workspaceDOM = this.workspace.ref;\n    workspaceDOM.removeEventListener(\"drop\", this.onFileDrop);\n    workspaceDOM.removeEventListener(\"dragover\", this.onDragOver);\n    workspaceDOM.removeEventListener(\"dragenter\", this.onDragEnter);\n    workspaceDOM.removeEventListener(\"dragleave\", this.onDragLeave);\n  }\n\n  //Called to prevent default file open\n  onDragOver(ev)\n  {\n    ev.preventDefault();\n  }\n\n  onDragEnter(ev)\n  {\n    ev.preventDefault();\n\n    //Change state\n    this.setState({ isWaitingForFile: true });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: Viewport.DANGEROUS\n      };\n    });\n  }\n\n  onDragLeave(ev)\n  {\n    ev.preventDefault();\n\n    //Revert state\n    this.setState({ isWaitingForFile: false });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: prev.prevMode\n      };\n    });\n  }\n\n  onFileDrop(ev)\n  {\n    //Prevent file from being opened\n    ev.preventDefault();\n\n    //Revert state\n    this.setState({ isWaitingForFile: false });\n    this.viewport.setState((prev, props) => {\n      return {\n        prevMode: prev.mode,\n        mode: prev.prevMode\n      };\n    });\n\n    let fileBlob = null;\n    if (ev.dataTransfer.items)\n    {\n      const length = ev.dataTransfer.items.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        const file = ev.dataTransfer.items[0];\n        if (file.kind === 'file')\n        {\n          fileBlob = file.getAsFile();\n        }\n      }\n    }\n    else\n    {\n      const length = ev.dataTransfer.files.length;\n\n      //Just get the first one\n      if (length >= 1)\n      {\n        fileBlob = ev.dataTransfer.files[0];\n      }\n    }\n\n    if (fileBlob)\n    {\n      this.props.app.getCurrentModule().getGraphController().getGraphImporter().importFile(fileBlob, this._module)\n        .catch((e) => {\n          Notifications.addErrorMessage(\"ERROR: Unable to load invalid JSON file.\", \"errorUpload\");\n        });\n    }\n\n    if (ev.dataTransfer.items)\n    {\n      ev.dataTransfer.items.clear();\n    }\n    else\n    {\n      ev.dataTransfer.clearData();\n    }\n  }\n\n  openDrawer(full=null)\n  {\n    if (typeof full === 'boolean')\n    {\n      this.setState((prev, props) => {\n        return { isOpen: true, isFullscreen: full };\n      });\n    }\n    else\n    {\n      this.setState((prev, props) => {\n        return { isOpen: true };\n      });\n    }\n  }\n\n  closeDrawer()\n  {\n    this.setState((prev, props) => {\n      return { isOpen: false };\n    });\n  }\n\n  isDrawerOpen()\n  {\n    return this.state.isOpen;\n  }\n\n  shouldHideContent()\n  {\n    return this.state.isFullscreen && this.state.isOpen;\n  }\n\n  getCurrentModule()\n  {\n    return this._module;\n  }\n\n  getInputController()\n  {\n    return this._module.getInputController();\n  }\n\n  getGraphController()\n  {\n    return this._module.getGraphController();\n  }\n\n  getMachineController()\n  {\n    return this._module.getMachineController();\n  }\n\n  getInputAdapter()\n  {\n    return this.inputAdapter;\n  }\n\n  getUndoManager()\n  {\n    return this.undoManager;\n  }\n\n  isExperimental() { return false; }\n\n  //Override\n  componentDidUpdate()\n  {\n    this.inputAdapter.update();\n    this._module.update(this);\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this._module;\n    const screen = this.workspace ? this.workspace.ref : null;\n\n    return <div className=\"app-container\" ref={ref=>this.container=ref}\n      style={{animation: ModuleLoader.isModuleLoading() ? \"fadeout 1s\" : \"fadein 1s\"}}>\n      <Toolbar ref={ref=>this.toolbar=ref}\n        app={this}\n        currentModule={currentModule}\n        drawer={this.drawer}/>\n\n      <NotificationView notificationManager={Notifications}/>\n\n      <div className=\"workspace-container\">\n        <div className={\"workspace-main\" +\n          (this.state.isOpen ? \" open\" : \"\")}\n          style={{\n            visibility: this.shouldHideContent() ? \"hidden\" : \"visible\",\n            opacity: this.state.isWaitingForFile ? \"0.1\" : \"1\"\n          }}>\n\n          <Workspace ref={ref=>this.workspace=ref}\n            currentModule={currentModule}/>\n        </div>\n\n        <div className={\"workspace-viewport\" +\n          (this.state.isOpen ? \" open\" : \"\")}\n          style={{\n            visibility: this.shouldHideContent() ? \"hidden\" : \"visible\"\n          }}>\n\n          <Viewport ref={ref=>this.viewport=ref}\n            app={this}\n            currentModule={currentModule}\n            screen={screen}/>\n        </div>\n\n        <div className={\"workspace-drawer\" +\n          (this.state.isOpen ? \" open\" : \"\") +\n          (this.state.isFullscreen ? \" fullscreen\" : \"\")}>\n\n          <Drawer ref={ref=>this.drawer=ref}\n            app={this}\n            currentModule={currentModule}\n            toolbar={this.toolbar}/>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\n//For hotloading this class\nexport default hot(App);\n","import React from 'react';\n\nclass Logo extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return <svg version=\"1.1\" id={this.props.id} xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n    \t viewBox=\"0 0 300 100\">\n      <style type=\"text/css\">\n      {\n      \t`.st0{fill:none;stroke:#000000;stroke-miterlimit:10;}\n      \t.st1{fill:#FFC82C;stroke:#7E55F3;stroke-width:2;stroke-miterlimit:10;}\n      \t.st2{fill:none;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}\n      \t.st3{font-family:'PTSans-Regular';}\n      \t.st4{font-size:90px;}\n      \t.st5{fill:none;}`\n      }\n      </style>\n      <path className=\"st0\" d=\"M43.7,20.1c0-9.4-8.5-17.1-19.1-17.1\"/>\n      <circle className=\"st1\" cx=\"44.1\" cy=\"45.3\" r=\"29.6\"/>\n      <polygon className=\"st2\" points=\"44.1,42.1 20.2,83.5 68,83.5 \"/>\n      <text transform=\"matrix(1 0 0 1 74.1533 77.1901)\" className=\"st3 st4\">flap.js</text>\n      <path className=\"st5\" d=\"M40.9,89c0,2.9,73.6,5.2,164.6,5.2\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st5\" d=\"M42.4,83.9c0,7,73,12.6,163.1,12.6\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st5\" d=\"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6\"/>\n      <path className=\"st0\" d=\"M227.6,72.1c0,13.7-22.7,24.8-50.7,24.8\"/>\n      <path className=\"st0\" d=\"M6,20.1C6,10.7,14.5,3.1,25,3.1\"/>\n      <line className=\"st0\" x1=\"6\" y1=\"20.1\" x2=\"6\" y2=\"77.2\"/>\n      <path className=\"st0\" d=\"M6,77.2C6,88.1,27,96.9,53,96.9\"/>\n      <line className=\"st0\" x1=\"57.3\" y1=\"96.9\" x2=\"177.4\" y2=\"96.9\"/>\n      <line className=\"st0\" x1=\"53\" y1=\"96.9\" x2=\"64.5\" y2=\"96.9\"/>\n    </svg>;\n  }\n}\n\nexport default Logo;\n","import React from 'react';\nimport './Quote.css';\n\nclass Quote extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <div className=\"quote-container\">\n      <div className=\"quote\">\n        {this.props.value}\n      </div>\n      <div className=\"subquote\">\n        {this.props.label}\n      </div>\n    </div>;\n  }\n}\n\nexport default Quote;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport './LandingPage.css';\n\nimport Router from 'router.js';\n\nimport Logo from './Logo.js';\nimport Quote from './Quote.js';\n\nimport ModuleLoader from 'deprecated/modules/ModuleLoader.js';\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\nimport App from 'deprecated/content/App.js';\n\nconst LAUNCH_BUTTON_TEXT = \"Launch Workspace\";\nconst SMALL_LAUNCH_BUTTON_TEXT = \"Get Started!\";\nconst SMALLER_LAUNCH_BUTTON_TEXT = \"Proceed.\";\nconst TUTORIAL_BUTTON_TEXT = \"= Want to try our awesome tutorial? =\";\n\nconst QUOTES = [\n  [\"Explore what it means to be \\'computable\\'.\", \"- Prof. Mia Minnes\"],\n  [\"Lush has an interactive background in Mozilla\", \"- David\"],\n  [\"Good almost afternoon (I totally didn’t just wake up).\", \"- Noah\"],\n  [\"RONALDO IS MY GOD\", \"- David\"],\n  [\"If you dream it, you can do it.\", \"- Walt Disney\"],\n  [\"Never, never, never give up.\", \"- Winston Churchill\"],\n  [\"Don't wait. The time will never be just right.\", \"- Napolean Hill\"],\n  [\"I can, therefore I am.\", \"- Simone Wei\"],\n  [\"Turn your wounds into wisdom.\", \"- Oprah Winfrey\"],\n  [\"Believe you can and you're halfway there.\", \"- Theodore Roosevelt\"],\n  [\"80% of success is showing up.\", \"- Woody Allen\"],\n  [\"A jug fills drop by drop.\", \"- Buddha\"],\n  [\"If you have never failed you have never lived.\", \"- Human\"],\n  [\"Dream big and dare to fail.\", \"- Norman Vaughan\"],\n  [\"Have faith in yourself and in the future.\", \"- Ted Kennedy\"],\n  [\"It's kind of fun to do the impossible.\", \"- Walt Disney\"],\n  [\"Find out who you are and do it on purpose.\", \"- Dolly Parton\"],\n  [\"The only journey is the one within.\", \"- Rainer Maria Rilke\"],\n  [\"Every moment is a fresh beginning.\", \"- T.S. Eliot\"],\n  [\"Be willing to be a beginner every single morning.\", \"- Meister Eckhart\"]\n];\nconst QUOTE_INDEX = Math.floor(Math.random() * QUOTES.length);\nconst [CONTENT_QUOTE, CONTENT_SUBQUOTE] = QUOTES[QUOTE_INDEX];\n\nconst TUTORIAL_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\nconst HELP_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md\";\nconst ABOUT_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/blob/master/README.md\";\nconst REPORT_BUG_LINK = \"https://goo.gl/forms/XSil43Xl5xLHsa0E2\";\nconst GITHUB_LINK = \"https://github.com/flapjs/FLAPJS-WebApp/\";\n\nconst PROFMINNES_LINK = \"http://cseweb.ucsd.edu/~minnes/\";\nconst MAYA_LINK = \"https://www.linkedin.com/in/maya-bello-6b8637a7/\";\nconst NOAH_LINK = \"https://www.linkedin.com/in/noah-solomon-9a8526129/\";\nconst DAVID_LINK = \"https://www.linkedin.com/in/osunadavid/\";\nconst ERIK_LINK = \"https://www.linkedin.com/in/xuanqiang-zhao-364225153/\";\nconst LIXUAN_LINK = \"https://www.linkedin.com/in/lixuan-lang-3ba206143/\";\nconst ANDREW_LINK = \"https://www.linkedin.com/in/andrew-kuo-790243132/\";\nconst SETH_LINK = \"\";\nconst RAVNEET_LINK = \"\";\n\nclass LandingPage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.footer = null;\n    this.returnHome = null;\n\n    this.onLaunchButton = this.onLaunchButton.bind(this);\n    this.onTutorialButton = this.onTutorialButton.bind(this);\n    this.onReturnHomeButton = this.onReturnHomeButton.bind(this);\n    this.onReportBugButton = this.onReportBugButton.bind(this);\n    this.onAboutButton = this.onAboutButton.bind(this);\n    this.onHelpButton = this.onHelpButton.bind(this);\n    this.onGithubButton = this.onGithubButton.bind(this);\n  }\n\n  componentDidMount()\n  {\n    //Parallax effect for footer\n    window.onscroll = (e) => {\n      let height = Math.max(\n        document.body.scrollHeight, document.documentElement.scrollHeight,\n        document.body.offsetHeight, document.documentElement.offsetHeight,\n        document.body.clientHeight, document.documentElement.clientHeight\n      ) - window.innerHeight;\n      let scroll = window.pageYOffset;\n      const value = Math.round(height - scroll) / 5;\n\n      if (this.footer && this.returnHome)\n      {\n        this.footer.style.bottom = value + \"px\";\n        this.returnHome.style.opacity = (scroll / height);\n      }\n    };\n  }\n\n  onLaunchButton(e)\n  {\n    if (!ModuleLoader.loadModuleFromStorage())\n    {\n      if (LocalSave.getStringFromStorage(\"enableExperimental\") === \"true\")\n      {\n        import(/* webpackChunkName: \"experimental\" */ 'experimental/App.js')\n          .then(({ default: _ }) => Router.routeTo( _ ));\n      }\n      else\n      {\n        Router.routeTo(App);\n      }\n    }\n  }\n\n  onTutorialButton(e)\n  {\n    const newTab = window.open(TUTORIAL_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onReturnHomeButton(e)\n  {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  onReportBugButton(e)\n  {\n    const newTab = window.open(REPORT_BUG_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onAboutButton(e)\n  {\n    const newTab = window.open(ABOUT_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onHelpButton(e)\n  {\n    const newTab = window.open(HELP_LINK, '_blank');\n    newTab.focus();\n  }\n\n  onGithubButton(e)\n  {\n    const newTab = window.open(GITHUB_LINK, '_blank');\n    newTab.focus();\n  }\n\n  render()\n  {\n    let launchText;\n\n    //Smallest\n    if (window.matchMedia(\"(max-width: 400px)\").matches)\n    {\n      launchText = \"\";\n    }\n    //Smaller\n    else if (window.matchMedia(\"(max-width: 760px)\").matches)\n    {\n      launchText = SMALLER_LAUNCH_BUTTON_TEXT;\n    }\n    //Small\n    else if (window.matchMedia(\"(max-width: 68em)\").matches)\n    {\n      launchText = SMALL_LAUNCH_BUTTON_TEXT;\n    }\n    //Default\n    else\n    {\n      launchText = LAUNCH_BUTTON_TEXT;\n    }\n\n    return <div className=\"landing-container\">\n\n      <div className=\"content-container\">\n\n        {/* HEADER*/}\n        <header>\n          <Logo id=\"logo\"/>\n        </header>\n\n        {/* CONTENT */}\n        <div className=\"content\">\n          <div className=\"content-quote-container\">\n            <Quote value={CONTENT_QUOTE} label={CONTENT_SUBQUOTE} />\n          </div>\n          <div className=\"launch-container\">\n            <div className=\"set-container\">\n              <span className=\"openset\">{\"{\"}</span>\n              <button id=\"launch-button\" onClick={this.onLaunchButton}>\n                {launchText}\n              </button>\n              <span className=\"closeset\">{\"}\"}</span>\n            </div>\n            <div id=\"tutorial-button-container\">\n              <button id=\"tutorial-button\" onClick={this.onTutorialButton}>\n                {TUTORIAL_BUTTON_TEXT}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div ref={ref=>this.returnHome=ref} id=\"return-home\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"\n            onClick={this.onReturnHomeButton}>\n              <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n              <path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"/>\n          </svg>\n        </div>\n      </div>\n\n      {/* FOOTER */}\n      <footer ref={ref=>this.footer=ref}>\n        <div className=\"utility\">\n          <div><a className=\"info\" onClick={this.onReportBugButton}>Report a Bug</a></div>\n          <div><a className=\"info\" onClick={this.onAboutButton}>About</a></div>\n          <div><a className=\"info\" onClick={this.onHelpButton}>Help</a></div>\n        </div>\n        <div className=\"credits\">\n          <span className=\"space\"></span>\n          <span className=\"left\">\n            <div>Professor</div>\n            <a className=\"nobreak\" onClick={()=>window.open(PROFMINNES_LINK, '_blank').focus()}>Mia Minnes</a>\n          </span>\n          <span className=\"right\">\n            <div>Developers</div>\n            <a onClick={()=>window.open(ANDREW_LINK, '_blank').focus()}>Andrew</a>\n            <a onClick={()=>window.open(LIXUAN_LINK, '_blank').focus()}>Lixuan</a>\n            <a onClick={()=>window.open(RAVNEET_LINK, '_blank').focus()}>Ravneet</a>\n            <a onClick={()=>window.open(SETH_LINK, '_blank').focus()}>Seth</a>\n            <div>+</div>\n            <a onClick={()=>window.open(MAYA_LINK, '_blank').focus()}>Maya</a>\n            <a onClick={()=>window.open(NOAH_LINK, '_blank').focus()}>Noah</a>\n            <a onClick={()=>window.open(DAVID_LINK, '_blank').focus()}>David</a>\n            <a onClick={()=>window.open(ERIK_LINK, '_blank').focus()}>Erik</a>\n          </span>\n          <span className=\"space\"></span>\n        </div>\n\n        <div>\n          <a className=\"info\" onClick={this.onGithubButton}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n              <path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n            </svg>\n            Find it on <b>GitHub</b>\n          </a>\n        </div>\n\n        <div className=\"subtitle-container\">\n          <div className=\"subtitle\">\n            {\"\\u00A9 2018 University of California, San Diego. All rights reserved.\"}\n          </div>\n          <div className=\"subtitle\">\n            <label>{\"Thank you for reading me! Stay amazing!\"}</label>\n          </div>\n        </div>\n      </footer>\n    </div>;\n  }\n}\n\n//For hotloading this class\nexport default hot(LandingPage);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n//Changelog: imports\nimport Changelog from 'changelog.js';\n\n//Router: imports\nimport Router from 'router.js';\nimport App from 'deprecated/content/App.js';\nimport LandingPage from 'deprecated/landing/components/LandingPage.js';\n\n//Config: imports\nimport Config from 'deprecated/config.js';\nimport { loadConfig, saveConfig } from 'deprecated/config.js';\nconst AUTOSAVE_CONFIG = true;\n//LocalSave: imports\nimport LocalSave from 'deprecated/system/localsave/LocalSave.js';\n\nconst SHOULD_WARN_USERS_ON_EXIT = true;\n\n//Setup viewport\nwindow.addEventListener('load', (event) => {\n  console.log(\"Preparing for \\'\" + process.env.NODE_ENV + \"\\' environment...\");\n  console.log(\"Loading web app version \\'\" + process.env.VERSION + \"\\'...\");\n  loadApplication();\n  window.requestAnimationFrame(updateApplication);\n});\n\n//Warn user before exit\nwindow.addEventListener('beforeunload', (event) => {\n  //Config: Only save if changes were made\n  if (AUTOSAVE_CONFIG) saveConfig();\n\n  if (SHOULD_WARN_USERS_ON_EXIT && LocalSave.getStringFromStorage(\"disableExitWarning\") !== \"true\")\n  {\n    const message = I18N.toString(\"alert.window.exit\");\n    event = event || window.event;\n    // For IE and Firefox\n    if (event) event.returnValue = message;\n\n    //For Safari\n    return message;\n  }\n\n  unloadApplication();\n});\n\n//Tell the client that an update is available\nwindow.isUpdateAvailable.then(hasUpdate => {\n  if (hasUpdate)\n  {\n    let message = \"\";\n    if (Changelog && Changelog['show'])\n    {\n      message += Changelog['log'];\n    }\n\n    console.log(\"[App] Found update for version \" + process.env.VERSION + \"...\");\n    window.alert(\"*** New update available! *** \\n Please restart the browser.\" +\n      (message ? \"\\n\" + message : \"\"));\n  }\n});\n\n//Setup application\nconst FRAMES_PER_SECOND = 60;\nvar prevtime = 0;\nvar root;\nvar dt;\n\n//Load application\nfunction loadApplication()\n{\n  LocalSave.initialize();\n\n  loadConfig();\n  root = document.getElementById(\"root\");\n\n  //This should be the same as the one referred to by OptionsPanel\n  if (LocalSave.getStringFromStorage(\"skipWelcome\") === \"true\")\n  {\n    if (LocalSave.getStringFromStorage(\"enableExperimental\") === \"true\")\n    {\n      import(/* webpackChunkName: \"experimental\" */ 'experimental/App.js')\n        .then(({ default: _ }) => Router.routeTo( _ ));\n    }\n    else\n    {\n      Router.routeTo(App);\n    }\n  }\n  else\n  {\n    Router.routeTo(LandingPage);\n  }\n}\n\n//Update application\nfunction updateApplication(time)\n{\n  dt = (time - prevtime) / FRAMES_PER_SECOND;\n  {\n    const page = Router.getCurrentPage();\n    const pageProps = Router.getCurrentPageProps();\n    if (page)\n    {\n      ReactDOM.render(React.createElement(page, pageProps), root);\n    }\n  }\n  prevtime = time;\n  window.requestAnimationFrame(updateApplication);\n}\n\n//Unload application\nfunction unloadApplication()\n{\n  LocalSave.terminate();\n}\n","class GraphElement\n{\n  constructor(id)\n  {\n    this._id = id;\n  }\n\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    dst.x = 0;\n    dst.y = 0;\n    return dst;\n  }\n\n  setGraphElementID(graphElementID)\n  {\n    this._id = graphElementID;\n    return this;\n  }\n\n  //A unique identifier for this graph element\n  getGraphElementID()\n  {\n    return this._id;\n  }\n\n  //Calls getHashString() to generate an integer hash generally unqiue to the instance.\n  //Should only be used to distinguish between other objects with the same\n  //hash function. In other words, every instance should only be compared to\n  //other instances of the same class.\n  //usePosition can be used to tell the hash function whether or not to consider\n  //aesthetic, or position, attributes of the element.\n  getHashString(usePosition=true)\n  {\n    return this._id;\n  }\n}\nexport default GraphElement;\n","const ALLOW_AUTOMATIC_REGISTER = false;\n\nconst Eventable = {\n  __eventListeners: null,\n  mixin(targetClass)\n  {\n    const targetPrototype = targetClass.prototype;\n    Object.assign(targetPrototype, Eventable);\n    delete targetPrototype.mixin;\n  },\n\n  registerEvent(eventName)\n  {\n    if (!this.__eventListeners) this.__eventListeners = new Map();\n\n    if (!this.__eventListeners.has(eventName))\n    {\n      this.__eventListeners.set(eventName, []);\n    }\n    else\n    {\n      throw new Error(\"Already registered event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  unregisterEvent(eventName)\n  {\n    if (!this.__eventListeners) return;\n\n    if (this.__eventListeners.has(eventName))\n    {\n      this.__eventListeners.delete(eventName);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  addEventListener(eventName, listener)\n  {\n    if (!this.__eventListeners) this.__eventListeners = new Map();\n\n    let listeners;\n    if (this.__eventListeners.has(eventName))\n    {\n      listeners = this.__eventListeners.get(eventName);\n    }\n    else if (ALLOW_AUTOMATIC_REGISTER)\n    {\n      listeners = [];\n      this.__eventListeners.set(eventName, listeners);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n\n    listeners.push(listener);\n  },\n\n  removeEventListener(eventName, listener)\n  {\n    if (!this.__eventListeners) return;\n\n    if (this.__eventListeners.has(eventName))\n    {\n      const listeners = this.__eventListeners.get(eventName);\n      let flag = false;\n      let i = listeners.length;\n      while(i--)\n      {\n        if (listeners[i] === listener)\n        {\n          listeners.splice(i, 1);\n          flag = true;\n        }\n      }\n\n      if (!flag)\n      {\n        throw new Error(\"Unable to find listener for event \\'\" + eventName + \"\\'\");\n      }\n    }\n    else\n    {\n      throw new Error(\"Unknown event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  clearEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return;\n\n    if (!eventName)\n    {\n      this.__eventListeners.clear();\n    }\n    else if (this.__eventListeners.has(eventName))\n    {\n      const listeners = this.__eventListeners.get(eventName);\n      listeners.length = 0;\n    }\n    else if (ALLOW_AUTOMATIC_REGISTER)\n    {\n      listeners = [];\n      this.__eventListeners.set(eventName, listeners);\n    }\n    else\n    {\n      throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n    }\n  },\n\n  countEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return 0;\n    return this.__eventListeners.has(eventName) ? this.__eventListeners.get(eventName).length : 0;\n  },\n\n  getEventListeners(eventName)\n  {\n    if (!this.__eventListeners) return null;\n    return this.__eventListeners.get(eventName);\n  },\n\n  on(eventName, listener)\n  {\n    this.addEventListener(eventName, listener);\n  },\n\n  once(eventName, listener)\n  {\n    const f = (...args) => {\n      try\n      {\n        listener.apply(null, args);\n      }\n      finally\n      {\n        this.removeEventListener(eventName, f);\n      }\n    };\n\n    this.addEventListener(eventName, f);\n  },\n\n  emit(eventName, ...args)\n  {\n    try\n    {\n      if (!this.__eventListeners) return;\n\n      let listeners;\n      if (!this.__eventListeners.has(eventName))\n      {\n        if (ALLOW_AUTOMATIC_REGISTER)\n        {\n          listeners = [];\n          this.__eventListeners.set(eventName, listeners);\n        }\n        else\n        {\n          throw new Error(\"Unable to find event \\'\" + eventName + \"\\'\");\n        }\n      }\n      else\n      {\n        listeners = this.__eventListeners.get(eventName);\n\n        let result = null;\n        let i = listeners.length;\n        while(i--)\n        {\n          try\n          {\n            result = listeners[i].apply(null, args);\n          }\n          catch(e)\n          {\n            console.error(e);\n          }\n\n          if (result === true) break;\n        }\n      }\n    }\n    finally\n    {\n      this.onEventProcessed(eventName, ...args);\n    }\n  },\n\n  onEventProcessed(eventName, ...args)\n  {\n    //Do nothing.\n  }\n};\n\nexport default Eventable;\n","import React from 'react';\n\nconst SUBMIT_KEY = \"Enter\";\nconst CANCEL_KEY = \"Escape\";\n\nexport const CAPTURE_NONE = \"none\";\nexport const CAPTURE_SAVE = \"save\";\nexport const CAPTURE_RESET = \"reset\";\n\nclass FormattedInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.element = null;\n    this.ignoreSaveOnExit = false;\n\n    const defaultValue = props.defaultValue || \"\";\n    this.state = {\n      value: defaultValue,\n      prevValue: defaultValue\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n\n    //props:\n    //  filter - a filter function\n    //  formatter - a format function\n    //  captureOnExit - what to capture on blur (none, save, reset)\n    //  defaultValue - the default value for input\n    //  multiline - whether to allow multiple lines\n  }\n\n  //Override\n  componentWillReceiveProps(nextProps)\n  {\n    //Don't overwrite user input...\n    if (this.hasFocus()) return;\n\n    //TODO: This is a way to update the value if it is suppose to be the default value...\n    if (!this.state.value || this.state.value.length <= 0 || this.state.value === this.props.defaultValue)\n    {\n      this.setState({value: nextProps.defaultValue});\n    }\n  }\n\n  get value()\n  {\n    return this.state.value;\n  }\n\n  focus(replace=false)\n  {\n    if (replace)\n    {\n      this.element.select();\n    }\n    else\n    {\n      this.element.focus();\n    }\n  }\n\n  blur()\n  {\n    this.element.blur();\n  }\n\n  hasFocus()\n  {\n    return this.element === document.activeElement;\n  }\n\n  onChange(e)\n  {\n    if (this.props.filter)\n    {\n      const result = e.target.value.replace(this.props.filter, '');\n      this.setState({value: result});\n    }\n    else\n    {\n      this.setState({value: e.target.value});\n    }\n  }\n\n  onBlur(e)\n  {\n    if (this.ignoreSaveOnExit || this.props.captureOnExit === CAPTURE_NONE)\n    {\n      //For those you choose to handle exit, it's value should remain correct.\n      const result = this.formatValue(e.target.value);\n      this.setState({value: result});\n\n      //Don't ignore it for the future.\n      this.ignoreSaveOnExit = false;\n    }\n    else if (this.props.captureOnExit === CAPTURE_SAVE)\n    {\n      const prev = this.state.prevValue;\n      const next = e.target.value || this.props.defaultValue || \"\";\n      this.resetValue(next, () => {\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(next, prev);\n        }\n      });\n    }\n    else if (this.props.captureOnExit === CAPTURE_RESET)\n    {\n      this.resetValue(null);\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.key === SUBMIT_KEY)\n    {\n      if (this.props.multiline && e.shiftKey)\n      {\n        return true;\n      }\n\n      const prev = this.state.prevValue;\n      const next = e.target.value || this.props.defaultValue || \"\";\n      this.setValue(next, () => {\n        this.ignoreSaveOnExit = true;\n\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(next, prev);\n        }\n        this.element.blur();\n      });\n\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n    else if (e.key === CANCEL_KEY)\n    {\n      const prev = this.state.prevValue;\n      this.resetValue(prev, () => {\n        this.ignoreSaveOnExit = true;\n\n        if (this.props.onSubmit)\n        {\n          this.props.onSubmit(prev || \"\", prev);\n        }\n        this.element.blur();\n      });\n\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n  }\n\n  resetValue(newValue=null, callback=null)\n  {\n    if (newValue !== null)\n    {\n      const result = this.formatValue(newValue);\n      //NOTE: this uses newValue cause formatValue may introduce values\n      //which should be saved on exit. Therefore prev and next must be diff.\n      this.setState({value: result, prevValue: newValue}, callback);\n    }\n    else\n    {\n      this.setState((prev, props) => {\n        //NOTE: Although you CAN assume prev is valid, but what about when prev does not exist?\n        const result = this.formatValue(prev.prevValue);\n        return {value: result};\n      }, callback);\n    }\n  }\n\n  setValue(value, callback)\n  {\n    if (!value || value.length == 0)\n    {\n      value = this.props.defaultValue || \"\";\n    }\n    else\n    {\n      value = this.formatValue(value);\n    }\n\n    this.setState({value: value}, callback);\n  }\n\n  appendValue(value, separator=\",\")\n  {\n    let result = this.state.value;\n    //If the entire input is selected...\n    if (this.element.selectionStart == 0 &&\n      this.element.selectionEnd == value.length)\n    {\n      //Replace it!\n      result = value;\n    }\n    //Or just append to the end...\n    else\n    {\n      if (!result || result.length == 0)\n      {\n        result = value;\n      }\n      else\n      {\n        result = result + separator + value;\n      }\n    }\n\n    //If can filter input...\n    if (this.props.filter)\n    {\n      result = result.replace(this.props.filter, '');\n    }\n\n    this.setState({value: this.formatValue(result)});\n  }\n\n  formatValue(value)\n  {\n    const formatter = this.props.formatter;\n    const result = formatter ? formatter(value) : value;\n    return result || \"\";\n  }\n\n  //Override\n  render()\n  {\n    if (this.props.multiline)\n    {\n      return (\n        <textarea\n          id={this.props.id} className={this.props.className} style={this.props.style}\n          ref={ref=>this.element=ref}\n          type=\"text\" value={this.state.value}\n          rows=\"1\"\n          onChange={this.onChange}\n          onBlur={this.onBlur}\n          onKeyUp={this.onKeyUp}>\n        </textarea>\n      );\n    }\n    else\n    {\n      return (\n        <input\n          id={this.props.id} className={this.props.className} style={this.props.style}\n          ref={ref=>this.element=ref}\n          type=\"text\" value={this.state.value}\n          onChange={this.onChange}\n          onBlur={this.onBlur}\n          onKeyUp={this.onKeyUp}/>\n      );\n    }\n  }\n}\n\nexport default FormattedInput;\n","import React from 'react';\nimport './IconToggle.css';\n\nclass IconToggle extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      open: this.props.defaultValue || false\n    };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    //Toggle state\n    this.setState((prev, props) => {\n      return {open: !prev.open};\n    });\n\n    //Call passed-in onClick listener\n    if (this.props.onClick)\n    {\n      this.props.onClick(e);\n    }\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button icon-toggle \" + (this.state.open ? \" open \" : \"\") + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default IconToggle;\n","import React from 'react';\n\nclass DropDownIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"dropdown-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M7 10l5 5 5-5z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default DropDownIcon;\n","import React from 'react';\n\nclass UploadIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"upload-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n    </svg>;\n  }\n}\n\nexport default UploadIcon;\n","import React from 'react';\n\nclass SaveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"save-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/>\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n    </svg>;\n  }\n}\n\nexport default SaveIcon;\n","/**\n * Used by InputAdapter to handle input event logic.\n */\nclass AbstractInputHandler\n{\n  constructor() {}\n\n  /**\n   * Called by InputAdapter before an InputEvent begins.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not begin.\n   */\n  onPreInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when an InputEvent resolves and is not an Alt input.\n   * To handle events for Alt inputs, refer to onAltInputEvent().\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when an InputEvent resolves and is an Alt input.\n   * To handle events for non-Alt inputs, refer to onInputEvent().\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onAltInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when a DblInputEvent resolves. The input is\n   * assumed by a non-Alt input, since only non-Alt inputs can trigger this\n   * event.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events.\n   */\n  onDblInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter when input movess. The input is called before drag\n   * logic.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events (i.e. dragging events).\n   */\n  onMoveInputEvent(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter before a drag begins. The input could be either\n   * an Alt or non-Alt input.\n   * Returns true if the event should be consumed. If consumed, the event will\n   * not propagate to other trigger other events, nor continue the drag input.\n   */\n  onDragStart(pointer) { return false; }\n\n  /**\n   * Called by InputAdapter while dragging moves. The input could be either\n   * an Alt or non-Alt input.\n   * Will always be called after onDragStart() and will be followed by\n   * onDragStop() when complete.\n   */\n  onDragMove(pointer) {}\n\n  /**\n   * Called by InputAdapter after a drag ends. The input could be either an\n   * Alt or non-Alt input.\n   * Will always be called after onDragStart(). Although onDragMove may be\n   * called in-between, it is not guaranteed.\n   */\n  onDragStop(pointer) {}\n\n  /**\n   * Called by InputAdapter after an InputEvent ends.\n   */\n  onPostInputEvent(pointer) {}\n\n  /**\n   * Called by InputAdapter when zoom changes.\n   * Returns true if event is consumed (zoom will not be applied)\n   */\n  onZoomChange(pointer, zoomValue, prevValue)\n  {\n    return false;\n  }\n}\n\nexport default AbstractInputHandler;\n","import React from 'react';\n\nclass UndoIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"undo-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n    </svg>;\n  }\n}\n\nexport default UndoIcon;\n","const LOCAL_STORAGE_ID = \"config\";\n\nconst cfg = {};\ncfg._resetOnLoad = false;\ncfg._userDefined = false;\ncfg._dirty = false;\ncfg.setValue = function(key, value) {\n  if (this.hasOwnProperty(key))\n  {\n    this._userDefined = true;\n    this._dirty = true;\n    this[key] = value;\n  }\n  else\n  {\n    throw new Error(\"Trying to assign value to non-existant key in config\");\n  }\n}.bind(cfg);\nexport default cfg;\n\n//Preferences\n\n//General\ncfg.MACHINE_ERRORS_MESSAGE_TAG = \"machineError\";\ncfg.MACHINE_CONVERSION_MESSAGE_TAG = \"machineConversion\";\n\ncfg.ERROR_CHECK_INTERVAL = 2000;\ncfg.GRAPH_IMMEDIATE_INTERVAL = 50;\n\n//Controller\ncfg.SMOOTH_OFFSET_DAMPING = 0.4;\ncfg.SCROLL_SENSITIVITY = 1.0 / 300.0;\ncfg.MIN_SCALE = 0.1;\ncfg.MAX_SCALE = 10;\n\n//Workspace\ncfg.INIT_WAITTIME = 1500;\n\n//NodalGraph\ncfg.STR_TRANSITION_DEFAULT_LABEL = \"\";\ncfg.STR_STATE_LABEL = \"q\";\ncfg.PARALLEL_EDGE_HEIGHT = 10;\ncfg.SELF_LOOP_HEIGHT = 40;\n\n//Input Fields\ncfg.SUBMIT_KEY = 13; //ENTER\ncfg.CLEAR_KEY = 27; //ESCAPE\ncfg.TAB_KEY = 9; //TAB\ncfg.UP_KEY = 38; //UP\ncfg.DOWN_KEY = 40; //DOWN\ncfg.DELETE_KEY = 8; //DELETE\n\n/** LEGACY CONFIG **/\n\n//Input\ncfg.DELETE_FORWARD_KEY = 46; //DELETE FORWARD\n\n//Geometry\ncfg.DEFAULT_GRAPH_SIZE = 300;\n\ncfg.NODE_RADIUS = 16;\ncfg.NODE_RADIUS_SQU = cfg.NODE_RADIUS * cfg.NODE_RADIUS;\ncfg.NODE_DIAMETER = cfg.NODE_RADIUS * 2;\ncfg.NODE_RADIUS_INNER = 12;\n\ncfg.INITIAL_MARKER_OFFSET_X = -(cfg.NODE_RADIUS + (cfg.NODE_RADIUS / 2));\n\ncfg.EDGE_RADIUS = 12;\ncfg.EDGE_RADIUS_SQU = cfg.EDGE_RADIUS * cfg.EDGE_RADIUS;\ncfg.ARROW_WIDTH = 10;\ncfg.PLACEHOLDER_LENGTH = cfg.NODE_RADIUS * 3;\ncfg.ENDPOINT_RADIUS = 6;\ncfg.ENDPOINT_RADIUS_SQU = cfg.ENDPOINT_RADIUS * cfg.ENDPOINT_RADIUS;\n\ncfg.HOVER_RADIUS_OFFSET = 4;\ncfg.CURSOR_RADIUS = 4;\ncfg.CURSOR_RADIUS_SQU = cfg.CURSOR_RADIUS * cfg.CURSOR_RADIUS;\n\n//Interface\ncfg.DOUBLE_TAP_TICKS = 600;\ncfg.LONG_TAP_TICKS = 600;\ncfg.SPAWN_RADIUS = 64;\ncfg.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE = true;\ncfg.DRAGGING_BUFFER = 18;\ncfg.DRAGGING_BUFFER_SQU = cfg.DRAGGING_BUFFER * cfg.DRAGGING_BUFFER;\n\n//Graph sorting\ncfg.PADDING_RADIUS_SQU = 2304;\n\n\n/** LOCAL STORAGE FUNCTIONS **/\n\n//check if browser support local storage\nexport function doesSupportLocalStorage()\n{\n  return typeof(Storage) !== 'undefined';\n}\n\nexport function loadConfig()\n{\n  const jsonString = localStorage.getItem(LOCAL_STORAGE_ID);\n  //If cannot find a config...\n  if (!jsonString)\n  {\n    //Just use the default one and don't save anything...\n    console.log(\"Using default config...\");\n    return;\n  }\n\n  try\n  {\n    console.log(\"Loading config...\");\n    const jsonData = JSON.parse(jsonString);\n    if (jsonData['_resetOnLoad'] == true)\n    {\n      //Reset the config\n      clearConfig();\n\n      //Save a new config\n      saveConfig();\n    }\n    else\n    {\n      Object.assign(cfg, jsonData);\n    }\n  }\n  catch (e)\n  {\n    //Reset the config\n    clearConfig();\n  }\n};\n\nexport function saveConfig(forceSave=false)\n{\n  if (forceSave || (cfg._userDefined && cfg._dirty))\n  {\n    try\n    {\n      console.log(\"Saving config...\");\n      const jsonString = JSON.stringify(cfg);\n      localStorage.setItem(LOCAL_STORAGE_ID, jsonString);\n\n      cfg._dirty = false;\n    }\n    catch (e)\n    {\n      //Reset the config\n      clearConfig();\n    }\n  }\n};\n\nexport function clearConfig()\n{\n  localStorage.removeItem(LOCAL_STORAGE_ID);\n\n  cfg._dirty = true;\n};\n","import React from 'react';\n\nclass RedoIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"redo-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>\n    </svg>;\n  }\n}\n\nexport default RedoIcon;\n","//https://www.flaticon.com/free-icon/xml_136526\nimport React from 'react';\n\nclass XMLIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"xml-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <path fill=\"#F29C1F\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d=\"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z\"/>\n          <path fill=\"#FFFFFF\" d=\"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z\"/>\n          <path fill=\"#FFFFFF\" d=\"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z\"/>\n        </g>\n        <path fill=\"#F29C1F\" d=\"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z\"/>\n        <path fill=\"#F29C1F\" d=\"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z\"/>\n        <path fill=\"#F29C1F\" d=\"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z\"/>\n        <path fill=\"#F29C1F\" d=\"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z\"/>\n        <path fill=\"#F29C1F\" d=\"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z\"/>\n      </g>\n    </svg>;\n  }\n}\n\nexport default XMLIcon;\n","class AbstractModule\n{\n  constructor(app)\n  {\n    if (!app) throw new Error(\"Missing app for module class\");\n\n    this._app = app;\n  }\n  \n  getApp() { return this._app; }\n\n  initialize(app)\n  {\n    if (!app) throw new Error(\"Missing app for module initialize\");\n\n    const inputController = this.getInputController();\n    const graphController = this.getGraphController();\n    const machineController = this.getMachineController();\n    inputController.initialize(this);\n    graphController.initialize(this);\n    machineController.initialize(this);\n  }\n\n  destroy(app)\n  {\n    if (!app) throw new Error(\"Missing app for module destroy\");\n\n    const inputController = this.getInputController();\n    const graphController = this.getGraphController();\n    const machineController = this.getMachineController();\n    machineController.destroy(this);\n    graphController.destroy(this);\n    inputController.destroy(this);\n  }\n\n  update(app)\n  {\n    if (!app) throw new Error(\"Missing app for module update\");\n\n    const inputController = this.getInputController();\n    const graphController = this.getGraphController();\n    const machineController = this.getMachineController();\n    inputController.update(this);\n    graphController.update(this);\n    machineController.update(this);\n  }\n\n  getRenderer(renderLayer) { return null; }\n  getInputController() { throw new Error(\"Missing input controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getGraphController() { throw new Error(\"Missing graph controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getMachineController() { throw new Error(\"Missing machine controller for module \\'\" + this.getModuleName() + \"\\'\"); }\n  getModulePanels() { return []; }\n  getModuleViews() { return []; }\n  getModuleMenus() { return []; }\n  getModuleVersion() { return '0.0.0'; }\n  getModuleName() { throw new Error(\"Missing module name\"); }\n  getLocalizedModuleName() { return \"Module\"; }\n}\n\nexport default AbstractModule;\n","import React from 'react';\nimport './InfoBlock.css';\n\nimport IconToggle from 'deprecated/icons/IconToggle.js';\nimport DropDownIcon from 'deprecated/icons/DropDownIcon.js';\n\n//TODO: Should be deprecated to use OptionGroup (or something similar)\nclass InfoBlock extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.dropdown = React.createRef();\n  }\n\n  isOpen()\n  {\n    return this.dropdown.state ? this.dropdown.state.open : false;\n  }\n\n  render()\n  {\n    return <div className={\"infoblock-container \" + this.props.className}>\n      <div className=\"infoblock-header\" onClick={(e)=>this.dropdown.onClick(e)}>\n        <label>{this.props.title}</label>\n        <IconToggle id=\"collapse\" ref={ref=>this.dropdown=ref} defaultValue={this.props.defaultValue}\n          style={{pointerEvents: \"none\"}}>\n          <DropDownIcon/>\n        </IconToggle>\n      </div>\n      <div className=\"infoblock-content\"\n        style={{display: this.isOpen() ? \"block\" : \"none\"}}>\n        {this.props.children}\n      </div>\n    </div>;\n  }\n}\n\nexport default InfoBlock;\n","import React from 'react';\n\nclass BoxAddIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"boxadd-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default BoxAddIcon;\n","import React from 'react';\n\nclass TriangleIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"triangle-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z\"/>\n      <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n    </svg>;\n  }\n}\n\nexport default TriangleIcon;\n","import React from 'react';\nimport './StateTag.css';\n\nimport Config from 'deprecated/config.js';\n\nclass StateTag extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      value: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    //This is a prop, refer to StateList for the actual node.getNodeLabel()\n    this.setState({ value: this.props.label, error: false }, () => {\n      target.select()\n    });\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e);\n  }\n\n  onBlur(e)\n  {\n    const graphController = this.props.graphController;\n    const newLabel = this.state.value;\n\n    //The value is already processed, abort\n    if (newLabel != null)\n    {\n      const node = this.props.src;\n      const graph = graphController.getGraph();\n      if (newLabel.length > 0)\n      {\n        const nodes = graph.getNodesByLabel(newLabel);\n        if (nodes.length <= 0)\n        {\n          //Valid! Rename it!\n          graphController.renameNode(node, newLabel);\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else\n      {\n        //Delete!\n        graphController.deleteTargetNode(this.props.src);\n      }\n\n      this.setState({ value: null, error: false });\n\n      //Call any listening blurs\n      if (this.props.onBlur) this.props.onBlur(e);\n    }\n  }\n\n  onKeyDown(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY || e.keyCode === Config.CLEAR_KEY)\n    {\n      e.preventDefault();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.target.blur();\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      const target = e.target;\n      this.setState({ value: null, error: false}, () => {\n        target.blur();\n      });\n    }\n  }\n\n  onValueChange(e)\n  {\n    const graph = this.props.graphController.getGraph();\n    const value = e.target.value.trim();\n    let error = false;\n    if (value.length > 0)\n    {\n      const nodes = graph.getNodesByLabel(value);\n      if (nodes.length > 0)\n      {\n        //If there are more than 1 that have the same name\n        //OR if it is NOT the one we have...\n        if (nodes.length > 1 || nodes[0] !== this.props.src)\n        {\n          error = true;\n        }\n      }\n    }\n\n    this.setState({\n      value: value,\n      error: error\n    });\n  }\n\n  render()\n  {\n    const isCustom = this.props.src.getNodeCustom();\n    const value = this.state.value != null ? this.state.value : this.props.label;\n    return <div className={\"statetag-container\" +\n      (isCustom ? \" customtag\" : \"\") +\n      (value.length == 0 ? \" emptytag\" : \"\") +\n      (this.state.value && this.state.error ? \" errortag\" : \"\")}>\n      <input type=\"text\" className={(this.props.accept ? \" accept\" : \"\")}\n        spellCheck=\"false\"\n        style={{width: value.length + \"ch\"}}\n        value={value}\n        onChange={this.onValueChange}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onKeyUp={this.onKeyUp}\n        onKeyDown={this.onKeyDown}/>\n    </div>;\n  }\n}\n\nexport default StateTag;\n","import React from 'react';\nimport './StatesList.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport BoxAddIcon from 'deprecated/icons/BoxAddIcon.js';\nimport TriangleIcon from 'deprecated/icons/TriangleIcon.js';\n\nimport StateTag from './StateTag.js';\n\nclass StatesList extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.onStateCreate = this.onStateCreate.bind(this);\n  }\n\n  onStateCreate(e)\n  {\n    const x = -100 + (Math.random() * 100 * 2);\n    const y = -100 + (Math.random() * 100 * 2);\n    this.props.graphController.createNode(x, y);\n  }\n\n  render()\n  {\n    const graphController = this.props.graphController;\n    const graph = graphController.getGraph();\n    return <InfoBlock title={I18N.toString(\"component.stateslist.title\")} defaultValue=\"true\">\n      <div className=\"statelist-container\">\n        <div className=\"statelist\">\n          <TriangleIcon/>\n          {\n            graph.getNodes().map((e, i) => {\n              return <StateTag key={e.getGraphElementID()} src={e} label={e.getNodeLabel()} accept={e.getNodeAccept()}\n                graphController={graphController}\n                onFocus={ev => graphController.focusOnNode(e)}/>\n            })\n          }\n        </div>\n        <IconButton onClick={this.onStateCreate}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nexport default StatesList;\n","import React from 'react';\n\nimport './AlphabetTag.css';\nimport Config from 'deprecated/config.js';\n\nclass AlphabetTag extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = null;\n\n    this.state = {\n      symbol: null,\n      error: false\n    };\n\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  onFocus(e)\n  {\n    const target = e.target;\n    this.setState({\n      symbol: this.props.src,\n      error: false\n    }, () => target.select());\n\n    //Call any listening focus\n    if (this.props.onFocus) this.props.onFocus(e);\n  }\n\n  onBlur(e)\n  {\n    const machineController = this.props.machineController;\n    const newSymbol = this.state.symbol;\n\n    if (newSymbol != null)\n    {\n      const oldSymbol = this.props.src;\n      if (newSymbol.length > 0)\n      {\n        const alphabet = machineController.getAlphabet();\n        if (!alphabet.includes(newSymbol))\n        {\n          if (oldSymbol)\n          {\n            //Valid! Rename it!\n            machineController.renameSymbol(oldSymbol, newSymbol);\n          }\n          else\n          {\n            //Valid! Add it to the list!\n            machineController.createSymbol(newSymbol);\n          }\n        }\n        else\n        {\n          //Found something already named that! Ignore!\n        }\n      }\n      else if (oldSymbol)\n      {\n        //Delete!\n        machineController.deleteSymbol(oldSymbol);\n      }\n    }\n\n    this.setState({symbol: null, error: false});\n\n    //Call any listening blurs\n    if (this.props.onBlur) this.props.onBlur(e);\n  }\n\n  onKeyDown(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY || e.keyCode === Config.CLEAR_KEY)\n    {\n      e.preventDefault();\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.target.blur();\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      const target = e.target;\n      this.setState({ symbol: null, error: false}, () => {\n        target.blur();\n      });\n    }\n  }\n\n  onValueChange(e)\n  {\n    const machineController = this.props.machineController;\n    const symbol = e.target.value.trim();\n    let error = false;\n    if (symbol.length > 0)\n    {\n      const alphabet = machineController.getAlphabet();\n      if (alphabet.includes(symbol) && symbol != this.props.src)\n      {\n        error = true;\n      }\n    }\n\n    this.setState({\n      symbol: symbol,\n      error: error\n    });\n  }\n\n  render()\n  {\n    const symbol = this.state.symbol != null ? this.state.symbol : this.props.src;\n    const isUsed = false;\n    //TODO: const isUsed = this.props.src && this.props.machineController.isUsedSymbol(symbol);\n    return <div className={\"alphatag-container\" +\n      (isUsed ? \" usedtag\" : \"\") +\n      (this.props.src && (!symbol || symbol.length == 0) ? \" emptytag\" : \"\") +\n      (this.state.symbol && this.state.error ? \" errortag\" : \"\")}>\n      <input type=\"text\" ref={ref=>this.ref=ref} className=\"alphatag-input\"\n        spellCheck=\"false\"\n        maxLength=\"1\"\n        value={symbol}\n        onChange={this.onValueChange}\n        onFocus = {this.onFocus}\n        onBlur={this.onBlur}\n        onKeyUp={this.onKeyUp}\n        onKeyDown={this.onKeyDown}/>\n    </div>;\n  }\n}\n\nexport default AlphabetTag;\n","import React from 'react';\nimport './AlphabetList.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport BoxAddIcon from 'deprecated/icons/BoxAddIcon.js';\n\nimport AlphabetTag from './AlphabetTag.js';\n\nclass AlphabetList extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n    this.editingTag = null;\n\n    this.state = {\n      editing: false\n    };\n\n    this.onSymbolCreate = this.onSymbolCreate.bind(this);\n    this.onStopEditing = this.onStopEditing.bind(this);\n  }\n\n  onSymbolCreate(e)\n  {\n    this.setState({editing: true}, () => {\n      this.editingTag.ref.focus();\n    });\n  }\n\n  onStopEditing(e)\n  {\n    this.setState({editing: false});\n  }\n\n  render()\n  {\n    const machineController = this.props.machineController;\n    const alphabet = machineController.getAlphabet();\n\n    return <InfoBlock title={I18N.toString(\"component.alphabetlist.title\")}>\n      <div className=\"alphalist-container\">\n        <div className=\"alphalist\">\n          {\n            alphabet.map((e, i) => {\n              return <AlphabetTag key={e + \".\" + i} src={e} machineController={machineController}/>\n            })\n          }\n          {\n            this.state.editing &&\n            <AlphabetTag ref={ref=>this.editingTag=ref} src={\"\"} machineController={machineController}\n              onBlur={this.onStopEditing}/>\n          }\n        </div>\n\n        <IconButton onClick={this.onSymbolCreate}>\n          <BoxAddIcon/>\n        </IconButton>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nexport default AlphabetList;\n","const SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass FSA\n{\n  constructor()\n  {\n    this._states = [];\n    this._transitions = [];\n    this._finalStates = [];\n\n    this._customAlphabet = [];\n  }\n\n  clear()\n  {\n    this._states.length = 0;\n    this._transitions.length = 0;\n    this._finalStates.length = 0;\n\n    this._customAlphabet.length = 0;\n  }\n\n  copy(fsa)\n  {\n    this._states.length = 0;\n    for(let state of fsa._states)\n    {\n      this._states.push(state);\n    }\n    this._transitions.length = 0;\n    for(let transition of fsa._transitions)\n    {\n      this._transitions.push(transition.slice());\n    }\n    this._finalStates.length = 0;\n    for(let final of fsa._finalStates)\n    {\n      this._finalStates.push(final);\n    }\n    this._customAlphabet.length = 0;\n    for(let symbol of fsa._customAlphabet)\n    {\n      this._customAlphabet.push(symbol);\n    }\n  }\n\n  newState(state)\n  {\n    if (this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' already added to states.\");\n    }\n\n    this._states.push(state);\n    return state;\n  }\n\n  deleteState(state)\n  {\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    this._states.splice(this._states.indexOf(state), 1);\n  }\n\n  renameState(oldState, newState)\n  {\n    if (!this._states.includes(oldState))\n    {\n      throw new Error(\"State \\'\" + oldState + \"\\' does not exist.\");\n    }\n    if (this._states.includes(newState))\n    {\n      throw new Error(\"State \\'\" + newState + \"\\' already exists.\");\n    }\n\n    for(let transition of this._transitions)\n    {\n      if (transition[SRC] == oldState)\n      {\n        transition[SRC] = newState;\n      }\n      if (transition[DST] == oldState)\n      {\n        transition[DST] = newState;\n      }\n    }\n\n    const index = this._states.indexOf(oldState);\n    this._states[index] = newState;\n  }\n\n  newTransition(fromState, toState, symbol)\n  {\n    if (!this._states.includes(fromState))\n    {\n      throw new Error(\"State \\'\" + fromState + \"\\' does not exist.\");\n    }\n\n    if (!this._states.includes(toState))\n    {\n      throw new Error(\"State \\'\" + toState + \"\\' does not exist.\");\n    }\n\n    //Check if already exists...\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == fromState && transition[SYMBOL] == symbol && transition[DST] == toState)\n      {\n        return;\n      }\n    }\n\n    //Create new transition\n    this._transitions.push([fromState, symbol, toState]);\n  }\n\n  deleteTransition(fromState, toState, symbol=null)\n  {\n    for(let i = this._transitions.length - 1; i >= 0; --i)\n    {\n      const transition = this._transitions[i];\n      if (transition[SRC] == fromState && transition[DST] == toState)\n      {\n        //Delete if src, dst, and symbols match... or if deleting all symbols\n        if (symbol == null || transition[SYMBOL] == symbol)\n        {\n          this._transitions.splice(i, 1);\n        }\n      }\n    }\n  }\n\n  newSymbol(symbol)\n  {\n    if (this._customAlphabet.includes(symbol))\n    {\n      throw new Error(\"Symbol \\'\" + symbol + \"\\' already added to alphabet.\");\n    }\n\n    this._customAlphabet.push(symbol);\n  }\n\n  deleteSymbol(symbol)\n  {\n    if (!this._customAlphabet.includes(symbol))\n    {\n      throw new Error(\"Unable to remove symbol \\'\" + symbol + \"\\'.\");\n    }\n\n    this._customAlphabet.splice(this._customAlphabet.indexOf(symbol), 1);\n  }\n\n  setStartState(state)\n  {\n    if (this._states.length <= 0)\n    {\n      throw new Error(\"Not enough states.\");\n    }\n\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    if (this.getStartState() == state) return;\n\n    this._states.splice(this._states.indexOf(state), 1);\n    this._states.unshift(state);\n  }\n\n  setFinalState(state, isFinal=true)\n  {\n    if (!this._states.includes(state))\n    {\n      throw new Error(\"State \\'\" + state + \"\\' does not exist.\");\n    }\n\n    if (isFinal)\n    {\n      if (this._finalStates.includes(state)) return;\n\n      this._finalStates.push(state);\n    }\n    else\n    {\n      if (!this._finalStates.includes(state)) return;\n      this._finalStates.splice(this._finalStates.indexOf(state), 1);\n    }\n  }\n\n  doTransition(state, symbol)\n  {\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        return transition[DST];\n      }\n    }\n    return null;\n  }\n\n  isFinalState(state)\n  {\n    return this._finalStates.includes(state);\n  }\n\n  hasState(state)\n  {\n    return this._states.includes(state);\n  }\n\n  getStates()\n  {\n    return this._states;\n  }\n\n  //Is the same as isAlphabet if the user did not add custom symbols\n  isUsedAlphabet(symbol)\n  {\n    for(const transition of this._transitions)\n    {\n      if (transition[SYMBOL] == symbol)\n      {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  isUsedSymbol(symbol)\n  {\n    return this.isUsedAlphabet(symbol);\n  }\n\n  isSymbol(symbol)\n  {\n    return this.isAlphabet(symbol);\n  }\n\n  //Includes custom user-defined symbols (from newSymbol)\n  isAlphabet(symbol)\n  {\n    for(const s of this._customAlphabet)\n    {\n      if (s == symbol) return true;\n    }\n\n    return this.isUsedAlphabet(symbol);\n  }\n\n  getUsedAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      const symbol = transition[SYMBOL];\n      if (symbol.length > 0 && !result.includes(symbol))\n      {\n        result.push(symbol);\n      }\n    }\n    return result;\n  }\n\n  getAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const s of this._customAlphabet)\n    {\n      result.push(s);\n    }\n    return this.getUsedAlphabet(result);\n  }\n\n  getOutgoingTransitions(state=null, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state)\n      result.push(transition);\n    }\n    return result;\n  }\n\n  getTransitions()\n  {\n    return this._transitions;\n  }\n\n  getStartState()\n  {\n    return this._states.length <= 0 ? null : this._states[0];\n  }\n\n  getFinalStates()\n  {\n    return this._finalStates;\n  }\n\n  isValidDFA()\n  {\n    const alphabet = this.getAlphabet();\n    const foundSymbols = new Array(alphabet.length);\n    foundSymbols.fill(false);\n\n    for(const state of this._states)\n    {\n      //Get all outgoing transitions\n      const transitions = this.getOutgoingTransitions(state);\n      for(const transition of transitions)\n      {\n        const index = alphabet.indexOf(transition[1]);\n        if (foundSymbols[index] == false)\n        {\n          foundSymbols[index] = true;\n        }\n        else\n        {\n          //Found duplicate\n          return false;\n        }\n      }\n\n      //Reset foundSymbols for next state\n      const length = foundSymbols.length;\n      for(let i = 0; i < length; ++i)\n      {\n        if (foundSymbols[i] == false)\n        {\n          //Found missing symbol for state\n          return false;\n        }\n        foundSymbols[i] = false;\n      }\n    }\n\n    return true;\n  }\n\n  toJSON()\n  {\n    const result = {};\n    if (this instanceof DFA) result.type = \"DFA\";\n    else if (this instanceof NFA) result.type = \"NFA\";\n    else result.type = \"FSA\";\n    result.states = this._states.slice();\n    result.alphabet = this._customAlphabet.slice();\n    result.usedAlphabet = this.getUsedAlphabet();\n    result.transitions = this._transitions.slice();\n    result.startState = this.getStartState();\n    result.finalStates = this._finalStates.slice();\n\n    return result;\n  }\n}\n\nexport default FSA;\n","import FSA from './FSA.js';\nimport { EMPTY } from './Symbols.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass NFA extends FSA\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  getUsedAlphabet(dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      const symbol = transition[SYMBOL];\n      if (!result.includes(symbol) && symbol != EMPTY)\n      {\n        result.push(symbol);\n      }\n    }\n    return result;\n  }\n\n  //Override\n  doTransition(state, symbol, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        result.push(transition[DST]);\n      }\n    }\n    return result;\n  }\n\n  doClosureTransition(state, dst=[])\n  {\n    const result = dst;\n    result.push(state);\n    for(let i = 0; i < result.length; ++i)\n    {\n      const transitions = this.getOutgoingTransitions(result[i]);\n      for(const transition of transitions)\n      {\n        if (transition[SYMBOL] == EMPTY)\n        {\n          const dst = transition[DST];\n          if (!result.includes(dst))\n          {\n            result.push(dst);\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  doTerminalTransition(state, symbol, dst=[])\n  {\n    const result = dst;\n    for(const transition of this._transitions)\n    {\n      if (transition[SRC] == state && transition[SYMBOL] == symbol)\n      {\n        //Get closure on destination states\n        const states = this.doClosureTransition(transition[DST]);\n        for(const s of states)\n        {\n          if (!result.includes(s))\n          {\n            result.push(s);\n          }\n        }\n      }\n    }\n\n    return result;\n  }\n\n    getPowerSet() {\n        var ps = [[]];\n        var nfaStates = this.getStates();\n        for(var i=0; i < nfaStates.length; i++) {\n            for(var j=0, len = ps.length; j < len; j++) {\n                ps.push(ps[j].concat(nfaStates[i]));\n            }\n        }\n        return ps;\n    }\n}\n\nexport default NFA;\n","import React from 'react';\nimport './TransitionTable.css';\n\nimport InfoBlock from '../infoblock/InfoBlock.js';\nimport NFA from 'modules/fsa/machine/NFA.js';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nconst SYMBOL_AXIS = \"symbols\";\nconst STATE_AXIS = \"states\";\n\nclass TransitionTable extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      rowAxis: SYMBOL_AXIS\n    }\n  }\n\n  render()\n  {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const states = machineController.getStates();\n    const alphabet = machineController.getAlphabet();\n    const transitions = machineController.getTransitions();\n    const rowAxisType = this.state.rowAxis;\n    const isNFAMachine = machineController.getMachineType() == \"NFA\";\n    const hasEmptyColumn = rowAxisType === SYMBOL_AXIS && isNFAMachine;\n\n    return <InfoBlock title={I18N.toString(\"component.transitiontable.title\")}>\n      <div className=\"transitiontable-container\">\n        <table className=\"transitiontable\">\n          <tbody>\n            <tr>\n              <th className=\"emptycell\">\n                <button className=\"panel-button\" onClick={()=>\n                  this.setState((prev, props)=>{\n                    return {\n                      rowAxis: prev.rowAxis == SYMBOL_AXIS ? STATE_AXIS : SYMBOL_AXIS\n                    };\n                  })}>\n                  {this.state.rowAxis == SYMBOL_AXIS ? \"Q/\\u03A3\" : \"Q/Q\"}\n                </button>\n              </th>\n              {\n                rowAxisType === SYMBOL_AXIS ?\n                  alphabet.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                rowAxisType === STATE_AXIS ?\n                  states.map((e, i)=><th key={e} scope=\"col\" className=\"col\">{e}</th>) :\n                null\n              }\n              {\n                hasEmptyColumn &&\n                  <th scope=\"col\">{EMPTY}</th>\n              }\n            </tr>\n            {\n              states.map((e, i)=><tr key={e}>\n                <th scope=\"row\" className=\"row\">{e}</th>\n                {\n                  rowAxisType === SYMBOL_AXIS ?\n                    alphabet.map((symbol, i) => {\n                      let className = \"\";//TODO: machine.isFinalState(e) ? \"accept\" : \"\";\n                      const result = getDestinationFromSourceAndSymbol(machine, e, symbol, isNFAMachine);\n                      if (!isNFAMachine && (result.startsWith(\"{\") || result == \"-\"))\n                      {\n                        className += \" error\";\n                      }\n                      return <td key={e + \",\" + symbol} className={className}>\n                        {result}\n                      </td>;\n                    }) :\n                  rowAxisType === STATE_AXIS ?\n                    states.map((dst, i) => {\n                      const result = getSymbolFromSourceAndDestination(machine, e, dst);\n                      return <td key={e + \",\" + dst}>\n                        {result}\n                      </td>;\n                    }) :\n                  null\n                }\n                {\n                  hasEmptyColumn &&\n                    <td>{getDestinationFromSourceAndSymbol(machine, e, EMPTY)}</td>\n                }\n              </tr>)\n            }\n          </tbody>\n        </table>\n      </div>\n    </InfoBlock>;\n  }\n}\n\nfunction getDestinationFromSourceAndSymbol(machine, src, symbol, isSet=true)\n{\n  const result = machine.doTransition(src, symbol);\n\n  //Assumes that the machine is always an NFA, therefore the result is an array\n  if (Array.isArray(result))\n  {\n    return !isSet && result.length == 1 ?\n      result[0] :\n      result.length > 0 ?\n      \"{\" + result.join(\", \") + \"}\" : \"-\";\n  }\n  else\n  {\n    return result || \"-\";\n  }\n}\n\nfunction getSymbolFromSourceAndDestination(machine, src, dst)\n{\n  const result = [];\n  const transitions = machine.getTransitions();\n  for(const transition of transitions)\n  {\n    if (transition[SRC] == src && transition[DST] == dst)\n    {\n      result.push(transition[SYMBOL]);\n    }\n  }\n\n  if (result.length === 1)\n  {\n    return result[0];\n  }\n  else if (result.length > 0)\n  {\n    return \"{\" + result.join(\", \") + \"}\";\n  }\n  else\n  {\n    return \"-\";\n  }\n}\n\nexport default TransitionTable;\n","import React from 'react';\nimport './TransitionFunction.css';\n\nimport InfoBlock from '../infoblock/InfoBlock';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nclass TransitionFunction extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const states = machineController.getStates();\n    const alphabet = machineController.getAlphabet().sort();\n    let isNFA = machineController.getMachineType() == \"NFA\";\n    return(\n        <InfoBlock title=\"Transition Chart\">\n          <div className=\"transitionfunction-container\">\n            <table className=\"transitionfunction-table\">\n              <tbody>\n                <tr>\n                  <th>Q{\"\\u00d7\"}&Sigma;</th>\n                  <th>{isNFA ? \"\\u2118(Q)\" : \"Q\"}</th>\n                </tr>\n                {\n                  states.map((state, i) => {\n                    let emptrans = machine.doTransition(state, EMPTY);\n                    let empclassName = \"\";\n\n                    let transitions = alphabet.map((symbol, j) => {\n                      let className = \"\";\n                      let trans = machine.doTransition(state, symbol);\n                      if(isNFA && !trans.length) return;\n                      if(!isNFA && !trans.length) {\n                        className = \"error\";\n                        trans = \"-\";\n                      }\n                      if(!isNFA && trans.length > 1) {\n                        className = \"error\";\n                        trans = \"{\" + trans + \"}\"\n                      }\n                      trans = isNFA ? \"{\" + trans + \"}\" : \"\" + trans;\n                      return <tr key={\"\"+state+symbol}>\n                          <td className=\"transitionfunction-key\">{\"(\" + state + \",\" + symbol + \")\"}</td>\n                          <td className={\"transitionfunction-value \" + className}>{trans}</td>\n                        </tr>\n                    });\n\n                    if(emptrans.length > 0) {\n                      if(!isNFA) {\n                        empclassName = \"error\";\n                      }\n                      const addBrac = isNFA || emptrans.length > 1;\n                      emptrans = addBrac ? \"{\" + emptrans + \"}\" : \"\" + emptrans;\n                      transitions.unshift(\n                          <tr key={\"\"+state+EMPTY}>\n                            <td className={\"transitionfunction-key \" + empclassName}>{\"(\" + state + \",\" + EMPTY + \")\"}</td>\n                            <td className=\"transitionfunction-value\">{emptrans}</td>\n                          </tr>\n                      );\n                    }\n                    return transitions;\n                  })\n                }\n              </tbody>\n            </table>\n          </div>\n        </InfoBlock>\n    );\n  }\n}\n\nexport default TransitionFunction;\n","import React from 'react';\nimport './FormalDefinition.css';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nimport { EMPTY_SET, ARROW } from 'modules/fsa/machine/Symbols.js';\n\nconst EQUAL = \"=\";\nconst DELTA = \"\\u03b4\";\n\nclass FormalDefinition extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const machineController = this.props.machineController;\n    const machine = machineController.getMachineBuilder().getMachine();\n    const states = machineController.getStates();\n    const finalStates = machineController.getFinalStates();\n    const alphabet = machineController.getAlphabet().sort();\n    let isNFA = machineController.getMachineType() == \"NFA\";\n    return <div className=\"formaldef-container\">\n      <h2>{\"M = (Q, \\u03A3, \\u03b4, q0, F)\"}</h2>\n      <div>\n        <h3>Q =</h3>\n        <span className=\"formaldef-values\">\n          {states.length > 0 ? \"{ \" + states.join(\", \") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n      <div>\n        <h3>&Sigma; =</h3>\n        <span className=\"formaldef-values\">\n          {alphabet.length > 0 ? \"{ \" + alphabet.join(\", \") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n      <div>\n        <h3>{DELTA}</h3>\n        <div className=\"formaldef-values\">\n          {\n            states.map((state, i) => {\n              let emptrans = machine.doTransition(state, EMPTY);\n              let empclassName = \"\";\n\n              let transitions = alphabet.map((symbol, j) => {\n                let className = \"\";\n                let trans = machine.doTransition(state, symbol);\n                if(isNFA && !trans.length) return;\n                if(!isNFA && !trans.length) {\n                  className = \"error\";\n                  trans = \"-\";\n                }\n                if(!isNFA && trans.length > 1) {\n                  className = \"error\";\n                  trans = \"{ \" + trans + \" }\"\n                }\n                trans = isNFA ? \"{ \" + trans + \" }\" : \"\" + trans;\n                return <div key={\"\"+state+symbol} className={className}>\n                      {DELTA + \"( ( \" + state + \", \" + symbol + \" ) )\" + \" \" + EQUAL + \" \" + trans}\n                </div>\n              });\n\n              if(emptrans.length > 0) {\n                if(!isNFA) {\n                  empclassName = \"error\";\n                }\n                const addBrac = isNFA || emptrans.length > 1;\n                emptrans = addBrac ? \"{ \" + emptrans + \" }\" : \"\" + emptrans;\n                transitions.unshift(\n                    <div key={\"\" + state + EMPTY} className={empclassName}>\n                      {DELTA + \"( ( \" + state + \", \" + EMPTY + \" ) )\" + \" \" + EQUAL + \" \" + emptrans}\n                    </div>\n                );\n              }\n              return transitions;\n            })\n          }\n          {\n            isNFA && <div id=\"formaldef-otherinputs\">\n              <div>{\"For all other inputs (q, x),\"}</div>\n              <div>{DELTA + \"( (q, x) )\" + \" \" + EQUAL + \" \" + EMPTY_SET}</div>\n            </div>\n          }\n        </div>\n      </div>\n      <div>\n        <h3>q0 =</h3>\n        <span className=\"formaldef-values\">\n          {states[0]}\n        </span>\n      </div>\n      <div>\n        <h3>F =</h3>\n        <span className=\"formaldef-values\">\n          {finalStates.length > 0 ? \"{ \" + finalStates.join(\",\") + \" }\" : EMPTY_SET}\n        </span>\n      </div>\n    </div>;\n  }\n}\n\nexport default FormalDefinition;\n","import React from 'react';\nimport '../Panel.css';\nimport './OverviewPanel.css';\n\nimport Config from 'deprecated/config.js';\n\nimport FormattedInput from 'deprecated/system/formattedinput/FormattedInput.js';\n\nimport StatesList from './stateslist/StatesList.js';\nimport AlphabetList from './alphabetlist/AlphabetList.js';\nimport TransitionTable from './transitiontable/TransitionTable.js';\nimport TransitionFunction from './transitionfunction/TransitionFunction.js';\nimport FormalDefinition from \"./formaldefinition/FormalDefinition\";\n\nclass OverviewPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n\n    this.state = {\n      viewFormal: false\n    };\n\n    this.onChangeMachineType = this.onChangeMachineType.bind(this);\n    this.onAutoLayout = this.onAutoLayout.bind(this);\n\n    this.onChangeAutoRename = this.onChangeAutoRename.bind(this);\n    this.onSubmitAutoStatePrefix = this.onSubmitAutoStatePrefix.bind(this);\n    this.onAutoStateFormat = this.onAutoStateFormat.bind(this);\n\n    this.switchDefinition = this.switchDefinition.bind(this);\n  }\n\n  onAutoLayout(e)\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    graphController.applyAutoLayout();\n  }\n\n  onChangeMachineType(e)\n  {\n    const value = e.target.value;\n    const machineController = this.props.currentModule.getMachineController();\n    machineController.changeMachineTo(value);\n  }\n\n  onChangeAutoRename(e)\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    graphController.setAutoRenameNodes(e.target.checked);\n  }\n\n  onSubmitAutoStatePrefix(next, prev)\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    const graphLabeler = graphController.getGraphLabeler();\n\n    const prefix = graphLabeler.getDefaultNodeLabelPrefix();\n    if (prefix != next)\n    {\n      graphLabeler.setDefaultNodeLabelPrefix(next);\n      graphController.applyAutoRename();\n    }\n  }\n\n  onAutoStateFormat(value)\n  {\n    return value && value.length > 0 ? value : Config.STR_STATE_LABEL;\n  }\n\n  switchDefinition()\n  {\n    this.setState((prev, props) => {\n      return { viewFormal: !prev.viewFormal };\n    });\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const graph = graphController.getGraph();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"overview\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.overview.title\")}</h1>\n      </div>\n        <div className=\"panel-content\">\n          <select className=\"machine-type panel-select\"\n            value={machineController.getMachineType()}\n            onChange={this.onChangeMachineType}>\n            <option value=\"DFA\">DFA</option>\n            <option value=\"NFA\">NFA</option>\n          </select>\n\n          {this.state.viewFormal &&\n            <FormalDefinition machineController={machineController}/>}\n\n          {\n            !this.state.viewFormal &&\n            <div>\n              <div>\n                <div className=\"graphinfo-important\">\n                  <StatesList graphController={graphController}/>\n                  <AlphabetList machineController={machineController}/>\n                </div>\n                <div className=\"graphinfo\">\n                  <TransitionFunction machineController={machineController}/>\n                  <TransitionTable machineController={machineController}/>\n                </div>\n              </div>\n              <hr/>\n\n              {/*State Labeling*/}\n              <div style={{paddingBottom: \"0.5em\"}}>\n                <h3 style={{marginBottom: \"0\"}}>State Labels</h3>\n                <div style={{display: \"flex\", flexDirection: \"row\"}}>\n                  <div className=\"statetag-container\">\n                    <FormattedInput defaultValue={graphController.getGraphLabeler().getDefaultNodeLabelPrefix()} style={{width: \"4em\"}} formatter={this.onAutoStateFormat} captureOnExit=\"save\" onSubmit={this.onSubmitAutoStatePrefix}/>\n                  </div>\n                  <select style={{\n                      background: \"none\",\n                      outline: \"none\",\n                      border: \"none\",\n                      padding: \"0\",\n                      margin: \"0\",\n                      appearance: \"none\",\n                      color: \"white\"\n                    }} disabled={true}>\n                    <option>{\"0-9\"}</option>\n                    <option>{\"a-z\"}</option>\n                    <option>{\"A-Z\"}</option>\n                  </select>\n                </div>\n                <div className=\"panel-checkbox\">\n\n                  <input type=\"checkbox\" id=\"auto-statename\"\n                    onChange={this.onChangeAutoRename}\n                    checked={graphController.shouldAutoRenameNodes()}/>\n                  <label htmlFor=\"auto-statename\">{I18N.toString(\"options.autolabel\")}</label>\n                </div>\n              </div>\n\n              <hr/>\n\n              <button className=\"panel-button\" onClick={this.onAutoLayout} disabled={graph.isEmpty()}>\n                {I18N.toString(\"action.overview.autolayout\")}\n              </button>\n            </div>\n          }\n\n          <button className=\"panel-button\" onClick={this.switchDefinition}>\n            {this.state.viewFormal ? \"Back\" : \"View Definition\"}\n          </button>\n        </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(OverviewPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.overview.title\"); }\n});\nOverviewPanel.UNLOCALIZED_NAME = \"component.overview.title\";\n\nexport default OverviewPanel;\n","import { EMPTY } from 'modules/fsa/machine/Symbols.js';\nimport NFA from 'modules/fsa/machine/NFA.js'\n\n//This ASSUMES that the passed-in machine is an NFA! (and not a DFA)\nexport function solveNFA(nfa, input)\n{\n  if (typeof input === 'string') input = input[Symbol.iterator]();\n\n  let cachedStates = [];\n  let cachedSymbols = [];\n  cachedStates.push({state: nfa.getStartState(), index: 0});\n  for (let currState of nfa.doClosureTransition(nfa.getStartState()))\n  {\n    cachedStates.push({state: currState , index: 0});\n  }\n  let checkedStates = [];\n  let symbol = null;\n\n  let counter = 0;\n\n  while(cachedStates.length > 0)\n  {\n    symbol = input.next().value;\n    let res = solveNFAbyStep(nfa, symbol, cachedStates, cachedSymbols, checkedStates);\n    if (res) return true;\n\n    //HACK: This is to stop any infinite loops! This will be fixed in the future!\n    ++counter;\n    if (counter > 1000)\n    {\n      return false;\n    }\n  }\n\n  return false;\n}\n\n//TODO: When an empty transition occurs, it does a closure transition.\n//The closure chain will be stored as a group\n//Any future transitions must not re-enter the group\nexport function solveNFAbyStep(nfa, symbol, cachedStates, cachedSymbols, checkedStates)\n{\n  //initialize variables\n  let state = null;\n  let nextStates = [];\n  let nextIndex = 0;\n\n  if (symbol != null)\n  {\n    cachedSymbols.push(symbol);\n  }\n\n  for(let cstate of cachedStates)\n  {\n    state = cstate.state;\n    symbol = cstate.index < cachedSymbols.length ? cachedSymbols[cstate.index] : null;\n\n    if (symbol != null)\n    {\n      //Read to next state...\n      nextIndex = cstate.index + 1;\n      for(let nextState of nfa.doTerminalTransition(state, symbol))\n      {\n        nextStates.push({state: nextState, index: nextIndex});\n      }\n    }\n    else\n    {\n      if (nfa.isFinalState(state)) return true;\n      checkedStates.push(state);\n    }\n\n    //Read none to next state...\n    nextIndex = cstate.index;\n    /*for(let nextState of nfa.doTransition(state,EMPTY))\n    {\n      if (checkedStates.includes(nextState)) continue;\n      if (symbol == null && nfa.isFinalState(nextState)) return true;\n\n      nextStates.push({state: nextState, index: nextIndex});\n    }*/\n  }\n  cachedStates.length = 0\n  cachedStates.push(...nextStates);\n  return false;\n}\n","import FSA from './FSA.js';\n\nconst SRC = 0;\nconst SYMBOL = 1;\nconst DST = 2;\n\nclass DFA extends FSA\n{\n  constructor()\n  {\n    super();\n  }\n\n  validate()\n  {\n    //TODO: Deprecate this\n    console.error(\"This is deprecated, please use FSA.isValidDFA()\");\n    return this.isValidDFA();\n  }\n\n  //Override default behavior\n  newTransition(fromState, toState, symbol)\n  {\n    if (!this._states.includes(fromState))\n    {\n      throw new Error(\"State \\'\" + fromState + \"\\' does not exist.\");\n    }\n\n    if (!this._states.includes(toState))\n    {\n      throw new Error(\"State \\'\" + toState + \"\\' does not exist.\");\n    }\n\n    for(const transition of this._transitions)\n    {\n      //Check if already exists...\n      if (transition[SRC] == fromState && transition[SYMBOL] == symbol && transition[DST] == toState)\n      {\n        return;\n      }\n      //Check if valid deterministic transition...\n      else if (transition[SRC] == fromState && transition[SYMBOL] == symbol)\n      {\n        throw new Error(\"Unable to create illegal nondeterministic transition for DFA.\");\n      }\n    }\n\n    //Create new transition\n    this._transitions.push([fromState, symbol, toState]);\n  }\n}\n\nexport default DFA;\n","//FIXME: FSABUILDER: these should be the other ones\nimport { solveDFA } from 'modules/fsa/machine/util/solveDFA.js';\nimport { solveNFA, solveNFAbyStep } from 'modules/fsa/machine/util/solveNFA.js';\n\nimport { DFA } from 'modules/fsa/machine/DFA.js';\n\nconst STEPTIME = 500;\nconst SKIPTIME = 50;\n\nclass TestMode\n{\n  constructor(testingManager)\n  {\n    this.graphController = null;\n    this.machineController = null;\n\n    this.testingManager = testingManager;\n\n    this.targets = [];\n\n    this.history = [];\n    this.indexofString = -1;\n    this.result = false;\n\n    //for nfa use\n    this.cachedStates = [];\n    this.cachedSymbols = [];\n    this.checkedStates = [];\n    this.running = false;\n    this.started = false;\n    this.skipToEnd = false;\n\n    this.timer = null;\n\n    this.onNodeDestroy = this.onNodeDestroy.bind(this);\n  }\n\n  initialize(module)\n  {\n    this.graphController = module.getGraphController();\n    this.machineController = module.getMachineController();\n\n    //NOTE: This is not necessary because you can edit once in stepbystep mode\n    //this.graphController.getGraph().on(\"nodeDestroy\", this.onNodeDestroy);\n  }\n\n  destroy()\n  {\n    //this.graphController.getGraph().removeEventListener(\"nodeDestroy\", this.onNodeDestroy);\n  }\n\n  onNodeDestroy(node)\n  {\n    //this.targets.splice(this.targets.indexOf(node), 1);\n  }\n\n  onStart()\n  {\n    this.prepareForNewTest();\n    this.started = true;\n    this.skipToEnd = false;\n  }\n\n  onResume()\n  {\n    //If at the end, restart!\n    if (!this.hasNextStep())\n    {\n      this.testingManager.inputList.resetTests(false);\n    }\n\n    this.running = true;\n\n    const step = () => {\n      if (this.running)\n      {\n        if (this.hasNextStep())\n        {\n          this.onNextStep();\n          this.timer = setTimeout(step, STEPTIME);\n        }\n        else\n        {\n          this.onPause();\n        }\n      }\n    };\n    this.timer = setTimeout(step, STEPTIME);\n  }\n\n  onPause()\n  {\n    this.running = false;\n  }\n\n  onStop()\n  {\n    this.targets.length = 0;\n\n    this.running = false;\n    this.started = false;\n    this.skipToEnd = false;\n  }\n\n  isRunning()\n  {\n    return this.running;\n  }\n\n  isStarted()\n  {\n    return this.started;\n  }\n\n  isSkipping()\n  {\n    return this.skipToEnd;\n  }\n\n  hasPrevStep()\n  {\n    return this.history.length > 0 ||\n      this.testingManager.inputList.hasPrevInput();\n  }\n\n  onPreviousStep()\n  {\n    if (this.history.length > 0)\n    {\n      const previous = this.history.pop();\n      this.targets.length = 0;\n      this.cachedStates.length = 0;\n      this.cachedSymbols.length = 0;\n      this.checkedStates.length = 0;\n\n      //Copy the old step\n      for(const target of previous.targets)\n      {\n        if (!target) throw new Error(\"Found null target\");\n\n        this.targets.push(target);\n      }\n      for(const state of previous.cachedStates)\n      {\n        this.cachedStates.push(state);\n      }\n      for(const symbol of previous.cachedSymbols)\n      {\n        this.cachedSymbols.push(symbol);\n      }\n      for(const state of previous.checkedStates)\n      {\n        this.checkedStates.push(state);\n      }\n\n      this.indexofString--;\n    }\n    else\n    {\n      this.indexofString = -1;\n      this.testingManager.inputList.prevInput();\n    }\n  }\n\n  hasNextStep()\n  {\n    return this.indexofString < this.testingManager.inputList.getCurrentInput().value.length ||\n      this.testingManager.inputList.hasNextInput();\n  }\n\n  onNextStep()\n  {\n    const testInput = this.testingManager.inputList.getCurrentInput();\n    const fsa = this.machineController.getMachineBuilder().getMachine();\n\n    //Get next character of current test string\n    this.indexofString += 1;\n\n    //If no more characters to get...\n    if(this.indexofString >= testInput.value.length)\n    {\n      //End of test string\n      //Run it one more time...\n      this.result = solveNFAbyStep(fsa, null, this.cachedStates, this.cachedSymbols, this.checkedStates);\n      testInput.setResult(this.result);\n\n      //If this is the last test input...\n      if (!this.testingManager.inputList.hasNextInput())\n      {\n        //End of test!\n        this.onPause();\n        return false;\n      }\n      else\n      {\n        const result = this.testingManager.inputList.nextInput();\n\n        //Stop the resume at each string\n        //this.running = false;\n\n        this.prepareForNewTest();\n        return true;\n      }\n    }\n    else\n    {\n      //Update history\n      const currentStep = this.getCurrentCache();\n      this.history.push(currentStep);\n\n      //Run it\n      let nextChar = testInput.value[this.indexofString];\n\n      this.result = solveNFAbyStep(fsa, nextChar, this.cachedStates, this.cachedSymbols, this.checkedStates);\n      //Update targets\n      this.targets.length = 0;\n\n      for(const state of this.cachedStates)\n      {\n        let node = this.machineController.getFirstGraphNodeByLabel(this.graphController.getGraph(), state.state);\n        if (!node) throw new Error(\"Found null target\");\n\n        if (!this.targets.includes(node)) this.targets.push(node);\n      }\n\n      if (this.targets.length <= 0 && !this.running)\n      {\n        this.skipToEnd = true;\n        const skipFunc = () => {\n          if (this.skipToEnd)\n          {\n            this.indexofString += 1;\n            if (this.indexofString >= testInput.value.length)\n            {\n              this.skipToEnd = false;\n            }\n            else\n            {\n              setTimeout(skipFunc, SKIPTIME);\n            }\n          }\n        };\n        setTimeout(skipFunc, SKIPTIME);\n      }\n\n      return true;\n    }\n  }\n\n  getCurrentCache()\n  {\n    return {\n      targets: this.targets.slice(),\n      cachedStates: this.cachedStates.slice(),\n      cachedSymbols: this.cachedSymbols.slice(),\n      checkedStates: this.checkedStates.slice()\n    };\n  }\n\n  getCurrentTestStringIndex()\n  {\n    return this.indexofString + 1;\n  }\n\n  prepareForNewTest()\n  {\n    this.cachedStates.length = 0;\n\n    const graph = this.graphController.getGraph();\n    if (graph.isEmpty()) return;\n\n    const machine = this.machineController.getMachineBuilder().getMachine();\n\n    this.targets.length = 0;\n\n    let startState = machine.getStartState();\n    for (let curr_state of machine.doClosureTransition(startState))\n    {\n      //FIXME: FSABUILDER: when converting, getFirstGraphNodeByLabel should be by id\n      this.cachedStates.push({state: curr_state, index: 0});\n      const node = this.machineController.getFirstGraphNodeByLabel(graph, curr_state);\n      if (!node) throw new Error(\"Found null target\");\n      this.targets.push(node);\n    }\n\n    this.cachedSymbols.length = 0;\n    this.checkedStates.length = 0;\n    this.indexofString = -1;\n    this.history.length = 0;\n\n    this.skipToEnd = false;\n  }\n}\n\nexport default TestMode;\n","import { guid } from 'util/MathHelper.js';\n\nimport { solveNFA } from 'modules/fsa/machine/util/solveNFA.js';\n\nconst SUCCESS = true;\nconst FAILURE = false;\nconst PENDING = null;\n\n//Only refer to input by index, NEVER by reference!\nclass TestingInputList\n{\n  constructor()\n  {\n    this.inputList = [];\n    this.addInput(\"\");\n\n    this.inputIndex = 0;\n  }\n\n  isEmpty()\n  {\n    for(const input of this.inputList)\n    {\n      if (input.value.length > 0)\n      {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  testByIndex(index, machine)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    const input = this.inputList[index];\n    input.setResult(null);\n    //TODO: make this a promise\n    const result = solveNFA(machine, input.value);\n    input.setResult(result);\n    return result;\n  }\n\n  importTests(file)\n  {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try\n      {\n        //The only time the first element is being removed (then replaced)\n        this.inputList.length = 0;\n        this.inputIndex = 0;\n\n        const testInputs = event.target.result.split(\"\\n\");\n        for(let testInput of testInputs)\n        {\n          testInput = testInput.trim();\n          if (testInput.length > 0)\n          {\n            this.addInput(testInput);\n          }\n        }\n\n        //Make sure a first element exists\n        if (this.inputList.length < 0)\n        {\n          this.addInput(\"\");\n        }\n      }\n      catch(e)\n      {\n        reader.abort();\n      }\n    };\n    reader.readAsText(file);\n  }\n\n  getTestsAsStrings()\n  {\n    return this.inputList.map((e, i) => e.value);\n  }\n\n  clearTests()\n  {\n    //Reset first element\n    const first = this.inputList[0];\n    first.value = \"\";\n    first.result = null;\n    first.dirty = true;\n\n    //Reset list\n    this.inputList.length = 1;\n    this.inputIndex = 0;\n  }\n\n  resetTests(markDirty=true)\n  {\n    this.inputIndex = 0;\n\n    if (markDirty)\n    {\n      for(const input of this.inputList)\n      {\n        input.dirty = true;\n      }\n    }\n  }\n\n  getTests()\n  {\n    return this.inputList;\n  }\n\n  addInput(value)\n  {\n    const input = {\n      value: value,\n      result: null,\n      dirty: true,\n      id: guid(),\n      setResult(result)\n      {\n        this.dirty = false;\n        this.result = result;\n      }\n    };\n\n    this.inputList.push(input);\n    return input;\n  }\n\n  getInputByIndex(index)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    return this.inputList[index];\n  }\n\n  removeInputByIndex(index)\n  {\n    if (index < 0 || index >= this.inputList.length)\n    {\n      throw new Error(\"Cannot find test input for index\");\n    }\n\n    if (index === 0)\n    {\n      //Cannot delete the first input element\n      throw new Error(\"Cannot delete the first test input\");\n    }\n\n    if (index <= this.inputIndex)\n    {\n      --this.inputIndex;\n    }\n\n    this.inputList.splice(index, 1);\n  }\n\n  nextInput()\n  {\n    ++this.inputIndex;\n    if (this.inputIndex >= this.inputList.length)\n    {\n      this.inputIndex = 0;\n    }\n\n    return this.inputList[this.inputIndex];\n  }\n\n  prevInput()\n  {\n    --this.inputIndex;\n    if (this.inputIndex < 0)\n    {\n      this.inputIndex = this.inputList.length - 1;\n    }\n\n    return this.inputList[this.inputIndex];\n  }\n\n  resetInput()\n  {\n    this.inputIndex = 0;\n  }\n\n  hasNextInput()\n  {\n    return this.inputIndex < this.inputList.length;\n  }\n\n  hasPrevInput()\n  {\n    return this.inputIndex > 0;\n  }\n\n  getCurrentInput()\n  {\n    return this.inputList[this.inputIndex];\n  }\n\n  getCurrentInputIndex()\n  {\n    return this.inputIndex;\n  }\n}\n\nexport default TestingInputList;\n","import Viewport from 'deprecated/content/viewport/Viewport.js';\nimport TestMode from './TestMode.js';\nimport TestingInputList from './TestingInputList.js';\n\nclass TestingManager\n{\n  constructor()\n  {\n    this.machineController = null;\n    this.viewport = null;\n\n    this.inputList = new TestingInputList();\n\n    this.shouldCheckError = false;\n    this.isImmediateErrorCheck = false;\n    this.errorCheckMode = TestingManager.NO_ERROR_CHECK;\n    this.stepByStepMode = false;\n\n    this.testMode = new TestMode(this);\n  }\n\n  initialize(module, viewport)\n  {\n    this.machineController = module.getMachineController();\n    this.viewport = viewport;\n\n    this.testMode.initialize(module);\n  }\n\n  destroy()\n  {\n\n  }\n\n  setErrorCheckMode(mode)\n  {\n    //Update machine builder error checker\n    this.machineController.setMachineType(this.machineController.getMachineType());\n\n    if (mode == TestingManager.NO_ERROR_CHECK)\n    {\n      this.shouldCheckError = false;\n      this.errorCheckMode = mode;\n    }\n    else if (mode == TestingManager.DELAYED_ERROR_CHECK)\n    {\n      this.shouldCheckError = true;\n      this.isImmediateErrorCheck = false;\n      this.errorCheckMode = mode;\n    }\n    else if (mode == TestingManager.IMMEDIATE_ERROR_CHECK)\n    {\n      this.shouldCheckError = true;\n      this.isImmediateErrorCheck = true;\n      this.errorCheckMode = mode;\n    }\n    else\n    {\n      throw new Error(\"Unknown error check mode \\'\" + mode + \"\\'\");\n    }\n  }\n\n  getErrorCheckMode()\n  {\n    return this.errorCheckMode;\n  }\n\n  setStepByStepMode(mode)\n  {\n    this.stepByStepMode = mode ? true : false;\n    if (mode)\n    {\n      if (this.testMode.isStarted()) this.testMode.onStop();\n      this.testMode.onStart();\n      this.viewport.setState((prev, props) => {\n        if (prev.mode != Viewport.TESTING)\n        {\n          return {\n            prevMode: prev.mode,\n            mode: Viewport.TESTING\n          };\n        }\n        else\n        {\n          //It's already the correct viewport mode\n        }\n      });\n    }\n    else\n    {\n      if (this.testMode.isStarted()) this.testMode.onStop();\n      this.viewport.setState((prev, props) => {\n        return {mode: prev.prevMode};\n      });\n    }\n  }\n\n  getStepByStepMode()\n  {\n    return this.stepByStepMode;\n  }\n}\nTestingManager.NO_ERROR_CHECK = \"none\";\nTestingManager.DELAYED_ERROR_CHECK = \"delayed\";\nTestingManager.IMMEDIATE_ERROR_CHECK = \"immediate\";\n\nexport default TestingManager;\n","import React from 'react';\n\nclass AddIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"add-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>\n    </svg>;\n  }\n}\n\nexport default AddIcon;\n","import React from 'react';\n\nclass RemoveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"remove-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"/>\n    </svg>;\n  }\n}\n\nexport default RemoveIcon;\n","import React from 'react';\n\nclass SuccessIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"success-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/>\n      <path d=\"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n    </svg>;\n  }\n}\n\nexport default SuccessIcon;\n","import React from 'react';\n\nclass FailureIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"failure-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n    </svg>;\n  }\n}\n\nexport default FailureIcon;\n","import React from 'react';\n\nclass RunningManIcon extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n    render() {\n        return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n                <path d=\"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z\"/>\n            </svg>;\n    }\n}\n\nexport default RunningManIcon;\n","import React from 'react';\nimport './StatusButton.css';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport SuccessIcon from 'deprecated/icons/SuccessIcon.js';\nimport FailureIcon from 'deprecated/icons/FailureIcon.js';\nimport WorkingIcon from 'deprecated/icons/WorkingIcon.js';\nimport RunningManIcon from 'deprecated/icons/RunningManIcon.js';\n\nclass StatusButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const active = this.props.active;\n    if (this.props.mode === true)\n    {\n      //Success icon\n      return <IconButton className={\"status-icon success\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <SuccessIcon/>\n      </IconButton>;\n    }\n    else if (this.props.mode === false)\n    {\n      //Failure icon\n      return <IconButton className={\"status-icon failure\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <FailureIcon/>\n      </IconButton>;\n    }\n    else\n    {\n      //Pending icon\n      return <IconButton className={\"status-icon\" + (active ? \" active\" : \"\")}\n        onClick={this.props.onClick}>\n        <RunningManIcon/>\n      </IconButton>;\n    }\n  }\n}\n\nexport default StatusButton;\n","import React from 'react';\nimport './TestingInput.css';\n\nimport Config from 'deprecated/config.js';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport AddIcon from 'deprecated/icons/AddIcon.js';\nimport RemoveIcon from 'deprecated/icons/RemoveIcon.js';\n\nimport StatusButton from './StatusButton.js';\n\nclass TestingInput extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.ref = React.createRef();\n\n    this.onStatusClick = this.onStatusClick.bind(this);\n    this.onSubmitClick = this.onSubmitClick.bind(this);\n    this.onValueChange = this.onValueChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n  }\n\n  getInput()\n  {\n    return this.props.testList.getInputByIndex(this.props.index);\n  }\n\n  isInputFirst()\n  {\n    return this.props.index === 0;\n  }\n\n  onStatusClick(e)\n  {\n    this.props.testList.testByIndex(this.props.index, this.props.machineBuilder.getMachine());\n  }\n\n  onSubmitClick(e)\n  {\n    if (this.isInputFirst())\n    {\n      const src = this.getInput();\n\n      //Add test input to list\n      const newTest = this.props.testList.addInput(src.value);\n      //Copy result to new test (should not be setResult)\n      newTest.result = src.result;\n      newTest.dirty = src.dirty;\n\n      //Delete already processed test\n      src.value = \"\";\n      src.result = null;\n      src.dirty = true;\n\n      //Reselect the target\n      this.ref.focus();\n    }\n    else\n    {\n      //Remove test input from list\n      this.props.testList.removeInputByIndex(this.props.index);\n    }\n  }\n\n  onValueChange(e)\n  {\n    const value = e.target.value.trim();\n    const src = this.getInput();\n    src.value = value;\n    src.dirty = true;\n  }\n\n  onKeyDown(e)\n  {\n    //If it is an 'enter', don't put in a new line...\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      e.preventDefault();\n    }\n    //Delete it if there is no value in it\n    else if (e.keyCode === Config.DELETE_KEY)\n    {\n      const src = this.getInput();\n      if (src.value.length <= 0)\n      {\n        const nextIndex = this.props.index + 1;\n        //Replace this input with the next one if there is one...\n        //Also, cannot delete first input, but this will never get there :)\n        if (this.props.testList.getTests().length > nextIndex)\n        {\n          const nextInput = this.props.testList.getInputByIndex(nextIndex);\n          src.value = nextInput.value;\n          src.result = nextInput.result;\n          src.dirty = nextInput.dirty;\n\n          this.props.testList.removeInputByIndex(nextIndex);\n        }\n      }\n    }\n  }\n\n  onKeyUp(e)\n  {\n    if (e.keyCode === Config.SUBMIT_KEY)\n    {\n      const shouldTestOnly = e.shiftKey;\n\n      //Should try to add and NOT run\n      if (this.isInputFirst() && !shouldTestOnly)\n      {\n        const src = this.getInput();\n\n        //Add test input to list\n        const newTest = this.props.testList.addInput(src.value);\n        //Copy result to new test (should not be setResult)\n        newTest.result = src.result;\n        newTest.dirty = src.dirty;\n\n        //Delete already processed test\n        src.value = \"\";\n        src.result = null;\n        src.dirty = true;\n\n        //Refocus the target\n        this.ref.focus();\n      }\n      //Should try to run ONLY\n      else\n      {\n        this.props.testList.testByIndex(this.props.index, this.props.machineBuilder.getMachine());\n\n        //Select everything again\n        this.ref.select();\n      }\n    }\n    else if (e.keyCode === Config.CLEAR_KEY)\n    {\n      e.target.blur();\n    }\n  }\n\n  render()\n  {\n    const src = this.getInput();\n    const first = this.isInputFirst();\n    return <div className={\"testinginput-container \" +\n      (this.props.testList.getCurrentInputIndex() === this.props.index ? \" active\" : \"\")}>\n\n      <StatusButton active={!src.dirty} mode={src.result} onClick={this.onStatusClick}/>\n\n      <input ref={ref=>this.ref=ref} className=\"testinginput-field\"\n        value={src.value}\n        placeholder={EMPTY}\n        onChange={this.onValueChange}\n        onKeyDown={this.onKeyDown}\n        onKeyUp={this.onKeyUp}\n        onFocus={(e)=>e.target.select()}/>\n\n      <IconButton className=\"testinginput-submit\" onClick={this.onSubmitClick}>\n        {first ? <AddIcon/> : <RemoveIcon/>}\n      </IconButton>\n    </div>;\n  }\n}\n\nexport default TestingInput;\n","import React from 'react';\n\nclass UploadTestButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      <input ref={ref=>this.uploadInput=ref}\n        id=\"test-upload-input\" type=\"file\" name=\"import\"\n        style={{display: \"none\"}}\n        onChange={this.props.onChange} accept=\".txt\"/>\n      <label htmlFor=\"test-upload-input\">\n        {this.props.children}\n      </label>\n    </button>;\n  }\n}\n\nexport default UploadTestButton;\n","import React from 'react';\n\nclass PageNewContentIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pagenewcontent-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\n    </svg>;\n  }\n}\n\nexport default PageNewContentIcon;\n","import React from 'react';\n\nclass CloseIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"close-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default CloseIcon;\n","import React from 'react';\nimport '../Panel.css';\nimport './TestingPanel.css';\n\nimport { downloadText } from 'util/Downloader.js';\n\nimport TestingManager from 'modules/fsa/testing/TestingManager.js';\nimport TestingInput from './TestingInput.js';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport UploadTestButton from './components/UploadTestButton.js';\n\nimport UploadIcon from 'deprecated/icons/UploadIcon.js';\nimport CreateIcon from 'deprecated/icons/PageNewContentIcon.js';\nimport SaveIcon from 'deprecated/icons/SaveIcon.js';\nimport CloseIcon from 'deprecated/icons/CloseIcon.js';\n\nconst TEST_FILENAME = \"test.txt\";\n\n//TODO: This is faster, since it's pretty easy to tell latency here. But really it shouldn't.\nconst REFRESH_TEST_TICKS = 30;\n\nclass TestingPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = React.createRef();\n    this.uploadInput = React.createRef();\n\n    this.state = {\n      errorCheckMode: this.props.currentModule.getTestingManager().getErrorCheckMode(),\n      noTestMode: true\n    };\n\n    this._savedGraphHash = 0;\n    this._ticksSinceHash = 0;\n    this.stepByStepModeChecked = false;\n\n    this.onChangeErrorCheckMode = this.onChangeErrorCheckMode.bind(this);\n    this.onUploadFileChange = this.onUploadFileChange.bind(this);\n    this.onGraphChange = this.onGraphChange.bind(this);\n    this.onTestsRunAll = this.onTestsRunAll.bind(this);\n    this.onTestsClear = this.onTestsClear.bind(this);\n    this.onTestsSave = this.onTestsSave.bind(this);\n    this.onTestsNew = this.onTestsNew.bind(this);\n    this.onTestsUpload = this.onTestsUpload.bind(this);\n  }\n\n  componentWillMount()\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    //HACK: this should be in FSABuilder and listen for machine changes instead\n    this._savedGraphHash = graph.getHashCode();\n    this._ticksSinceHash = 0;\n  }\n\n  componentWillUnmount()\n  {\n    const graphController = this.props.currentModule.getGraphController();\n    const graph = graphController.getGraph();\n    this._savedGraphHash = 0;\n  }\n\n  onGraphChange(g)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    tester.inputList.resetTests();\n  }\n\n  onUploadFileChange(e)\n  {\n    const files = e.target.files;\n    if (files.length > 0)\n    {\n      const tester = this.props.currentModule.getTestingManager();\n      tester.inputList.importTests(files[0]);\n      document.getElementById(\"test-name\").innerHTML = files[0].name;\n\n      //Makes sure you can upload the same file again.\n      e.target.value = \"\";\n    }\n  }\n\n  onChangeErrorCheckMode(e)\n  {\n    const value = e.target.value;\n\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const graph = graphController.getGraph();\n    const machineBuilder = machineController.getMachineBuilder();\n    tester.setErrorCheckMode(value);\n\n    //HACK: this should automatically be updated by testing manager on set error check mode\n    if (tester.shouldCheckError)\n    {\n      machineBuilder.onGraphChange(graph);\n    }\n\n    this.setState({errorCheckMode: value});\n  }\n\n  onTestsRunAll(e)\n  {\n    const currentModule = this.props.currentModule;\n    const machine = currentModule.getMachineController().getMachineBuilder().getMachine();\n    const tester = currentModule.getTestingManager();\n    if (tester.testMode.isStarted())\n    {\n      tester.setStepByStepMode(false);\n    }\n    else\n    {\n      const testList = tester.inputList;\n      const length = testList.getTests().length;\n      tester.setStepByStepMode(this.stepByStepModeChecked);\n      for(let i = 0; i < length; ++i)\n      {\n        testList.testByIndex(i, machine);\n      }\n    }\n  }\n\n  onTestsClear(e)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    tester.inputList.clearTests();\n    this.clearTestName();\n    this.hideTestInputList();\n    this.setState({noTestMode: true});\n  }\n\n  onTestsSave(e)\n  {\n    const tester = this.props.currentModule.getTestingManager();\n    downloadText(TEST_FILENAME, tester.inputList.getTestsAsStrings().join(\"\\n\"));\n  }\n\n  onTestsNew(e)\n  {\n      this.onTestsClear();\n      this.showTestInputList();\n      this.clearTestName();\n      this.setState({noTestMode: false});\n  }\n\n  onTestsUpload(e)\n  {\n      this.onTestsNew();\n      this.showTestInputList();\n  }\n\n  showTestInputList() {\n      document.getElementById(\"test-inputlist-container\").style.display = \"block\";\n  }\n\n  hideTestInputList() {\n      document.getElementById(\"test-inputlist-container\").style.display = \"none\";\n  }\n\n  clearTestName() {\n      document.getElementById(\"test-name\").innerHTML = \"\";\n  }\n\n  //Override\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const tester = currentModule.getTestingManager();\n    const testList = tester.inputList;\n    const machineBuilder = currentModule.getMachineController().getMachineBuilder();\n\n    const isTestInvalid = !machineBuilder.isMachineValid();\n\n    if (--this._ticksSinceHash <= 0)\n    {\n      this._ticksSinceHash = REFRESH_TEST_TICKS;\n      const graph = currentModule.getGraphController().getGraph();\n      const graphHash = graph.getHashCode();\n      if (this._savedGraphHash !== graphHash)\n      {\n        this.onGraphChange(graph);\n        this._savedGraphHash = graphHash;\n      }\n    }\n\n    return <div className={\"panel-container \" + this.props.className} id=\"testing\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>{I18N.toString(\"component.testing.title\")}</h1>\n      </div>\n\n      <div className=\"test-icon-row\">\n\n          <IconButton className=\"testicon\" id=\"testing-new\" title={I18N.toString(\"action.testing.new\")}\n            onClick={this.onTestsNew}>\n            <CreateIcon/>\n          </IconButton>\n\n          {/*Import Test Button*/}\n          <UploadTestButton className=\"testicon\" id=\"testing-upload\" title={I18N.toString(\"action.testing.import\")}\n            onClick={this.onTestsUpload} onChange={this.onUploadFileChange}>\n            <UploadIcon/>\n          </UploadTestButton>\n\n          {/*Save Test Button*/}\n          <IconButton className=\"testicon\" id=\"testing-save\" title={I18N.toString(\"action.testing.save\")}\n            onClick={this.onTestsSave} disabled={tester.inputList.isEmpty()}>\n            <SaveIcon/>\n          </IconButton>\n\n          <IconButton className=\"testicon\" id=\"testing-clear\" title={I18N.toString(\"action.testing.clear\")}\n            onClick={this.onTestsClear}\n            disabled={this.state.noTestMode}>\n            <CloseIcon/>\n          </IconButton>\n\n      </div>\n\n      <div className=\"panel-content\">\n\n        <div className=\"test-inputlist-container\" id=\"test-inputlist-container\" style={{\"display\": \"none\"}}>\n\n\n          <div className=\"scrollbar-container\">\n            <h3 id=\"test-name\">Test Name</h3>\n            <div className=\"test-inputlist-content\">\n              {\n                isTestInvalid &&\n                <label className=\"test-inputlist-content-warning\">Not a valid machine!</label>\n              }\n              {\n                testList.getTests().map((e, i) =>\n                  <TestingInput key={e.id} index={i}\n                    testList={testList}\n                    machineBuilder={machineBuilder}/>)\n              }\n              {\n                /*\n                <button className=\"panel-button\" onClick={() => testList.addInput(\"\")}>\n                  {I18N.toString(\"action.testing.add\")}\n                </button>\n                */\n              }\n            </div>\n          </div>\n\n          <button className=\"panel-button\" onClick={this.onTestsRunAll}>\n            {tester.testMode.isStarted() ? I18N.toString(\"action.testing.stoprun\") : I18N.toString(\"action.testing.runall\")}\n          </button>\n\n          <div className=\"panel-checkbox\">\n            <input id=\"test-step\" type=\"checkbox\"\n              checked={this.stepByStepModeChecked}\n              onChange={(e) => {\n                this.stepByStepModeChecked = e.target.checked;\n                if(!this.stepByStepModeChecked) tester.setStepByStepMode(false);\n              }}\n              disabled={tester.testMode.isStarted()}/>\n            <label htmlFor=\"test-step\">{I18N.toString(\"options.testing.stepmode\")}</label>\n          </div>\n\n        </div>\n\n        <hr />\n\n        <div id=\"test-errorcheck\">\n          <label>{I18N.toString(\"options.checkerrors\")}</label>\n          <select className=\"panel-select\"\n            value={this.state.errorCheckMode}\n            onChange={this.onChangeErrorCheckMode}>\n            <option value={TestingManager.NO_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.none\")}</option>\n            <option value={TestingManager.DELAYED_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.delayed\")}</option>\n            <option value={TestingManager.IMMEDIATE_ERROR_CHECK}>{I18N.toString(\"options.checkerrors.mode.immediate\")}</option>\n          </select>\n        </div>\n\n      </div>\n\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(TestingPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.testing.title\"); }\n});\nTestingPanel.UNLOCALIZED_NAME = \"component.testing.title\";\n\nexport default TestingPanel;\n","import React from 'react';\n\nclass NFAToDFAConversionWarningMessage extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n    }\n\n    onClick(e)\n    {\n        const message = this.props.message;\n        const buttonValue = e.target.value;\n\n        switch(buttonValue)\n        {\n            case \"convert\":\n                {//FIXME: FSABUILDER: convertMachineTo needs to change?\n                    const machineController = this.props.machineController;\n                    machineController.convertMachineTo(\"DFA\");\n                    message.close();\n                }\n            break;\n            default:\n              throw new Error(\"Unknown button value for message\");\n        }\n    }\n\n    render()\n    {\n        const machineController = this.props.machineController;\n        const stateCount = machineController.countStates();\n\n        return <div>\n          <p>{I18N.toString(\"message.warning.convertNFAToDFA\")}</p>\n          <p>{`${stateCount} states -> ${Math.pow(2, stateCount)} states`}</p>\n          <button value=\"convert\" onClick={this.onClick}>{I18N.toString(\"message.action.convert\")}</button>\n        </div>;\n    }\n}\n\nexport default NFAToDFAConversionWarningMessage;\n","import React from 'react';\nimport Config from 'deprecated/config.js';\n\nimport Notifications from 'deprecated/system/notification/Notifications.js';\nimport NFAToDFAConversionWarningMessage from 'modules/fsa/notifications/NFAToDFAConversionWarningMessage.js';\n\nclass AnalysisPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n    this.optimizeUnreachOption = null;\n    this.optimizeRedundOption = null;\n\n    this.onConvertToDFA = this.onConvertToDFA.bind(this);\n    this.onConvertToNFA = this.onConvertToNFA.bind(this);\n\n    this.onOptimizeMachine = this.onOptimizeMachine.bind(this);\n  }\n\n  onDeleteAllUnreachable(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const unreachableArray = machineController.getUnreachableNodes();\n    graphController.deleteTargetNodes(unreachableArray);\n  }\n\n  onConvertToDFA(e)\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const props = {graphController: graphController, machineController: machineController};\n    const messageTag = Config.MACHINE_CONVERSION_MESSAGE_TAG;\n\n    //machineController.convertMachineTo(\"DFA\");\n    Notifications.addMessage(I18N.toString(\"message.warning.convertNFAToDFA\"),\n      \"warning\", messageTag, NFAToDFAConversionWarningMessage, props);\n  }\n\n  onConvertToNFA(e)\n  {\n    const machineController = this.props.currentModule.getMachineController();\n    machineController.convertMachineTo(\"NFA\");\n  }\n\n  onOptimizeMachine(e)\n  {\n    if (this.optimizeUnreachOption.checked)\n    {\n      this.onDeleteAllUnreachable(e);\n    }\n  }\n\n  canOptimize()\n  {\n    return (this.optimizeRedundOption && this.optimizeRedundOption.checked) ||\n    (this.optimizeUnreachOption && this.optimizeUnreachOption.checked);\n  }\n\n  render()\n  {\n    const currentModule = this.props.currentModule;\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n\n    const graph = graphController.getGraph();\n    const machineType = machineController.getMachineType();\n\n    return <div className={\"panel-container \" + this.props.className} id=\"analysis\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\"><h1>{I18N.toString(\"component.analysis.title\")}</h1></div>\n      <div className=\"panel-content\">\n\n        {/*Optimize*/}\n        <div style={{paddingBottom: \"0.5em\"}}>\n          <h3 style={{marginBottom: \"0\"}}>Optimizations</h3>\n          <div style={{paddingBottom: \"0.5em\"}}>\n            <div>\n              <input ref={ref=>this.optimizeUnreachOption=ref} id=\"opt-unreach\" type=\"checkbox\"/>\n              <label htmlFor=\"opt-unreach\">Unreachables</label>\n            </div>\n            <div>\n              <input ref={ref=>this.optimizeRedundOption=ref} id=\"opt-redund\" type=\"checkbox\" disabled={true}/>\n              <label htmlFor=\"opt-redund\">Redundant States</label>\n            </div>\n          </div>\n          <button className=\"panel-button\" onClick={this.onOptimizeMachine} disabled={!this.canOptimize()}>Optimize</button>\n        </div>\n\n        <hr/>\n        {\n          machineType == \"DFA\" ?\n            <button className=\"panel-button\" onClick={this.onConvertToNFA}\n             disabled={this.props.currentModule.getGraphController().getGraph().isEmpty()}>\n              {I18N.toString(\"action.overview.convertnfa\")}\n            </button>\n          : machineType == \"NFA\" ?\n            <button className=\"panel-button\" onClick={this.onConvertToDFA}\n             disabled={this.props.currentModule.getGraphController().getGraph().isEmpty()}>\n              {I18N.toString(\"action.overview.convertdfa\")}\n            </button>\n          : null\n        }\n\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\nObject.defineProperty(AnalysisPanel, 'TITLE', {\n  get: function() { return I18N.toString(\"component.analysis.title\"); }\n});\nAnalysisPanel.UNLOCALIZED_NAME = \"component.analysis.title\";\n\nexport default AnalysisPanel;\n","import React from 'react';\n\nclass AboutPanel extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.container = null;\n  }\n\n  //Override\n  render()\n  {\n    return <div className={\"panel-container \" + this.props.className} id=\"about\" ref={ref=>this.container=ref} style={this.props.style}>\n      <div className=\"panel-title\">\n        <h1>Finite State Automata</h1>\n      </div>\n      <div className=\"panel-content\">\n        <p>{\"Brought to you with \\u2764 by the Flap.js team.\"}</p>\n        <p>{\"<- Tap on a tab to begin!\"}</p>\n      </div>\n      <div className=\"panel-bottom\"></div>\n    </div>;\n  }\n}\n\nexport default AboutPanel;\n","import AbstractInputHandler from 'deprecated/system/inputadapter/AbstractInputHandler.js';\n\nclass ViewportInputHandler extends AbstractInputHandler\n{\n  constructor()\n  {\n    super();\n\n    this._prevX = 0;\n    this._prevY = 0;\n  }\n\n  //Override\n  onDragStart(pointer)\n  {\n    this._prevX = pointer.x;\n    this._prevY = pointer.y;\n    return true;\n  }\n\n  //Override\n  onDragMove(pointer)\n  {\n    const dx = pointer.x - this._prevX;\n    const dy = pointer.y - this._prevY;\n    const adapter = pointer.getAdapter();\n    const viewport = adapter.getViewport();\n    viewport.addOffset(dx, dy, true);\n    return true;\n  }\n\n  //Override\n  onDragStop(pointer)\n  {\n    //Do nothing. It should already be moved.\n    return true;\n  }\n}\n\nexport default ViewportInputHandler;\n","const EDGE_RADIUS = 12;\nconst EDGE_RADIUS_SQU = EDGE_RADIUS * EDGE_RADIUS;\nconst ENDPOINT_RADIUS = 6;\nconst ENDPOINT_RADIUS_SQU = ENDPOINT_RADIUS * ENDPOINT_RADIUS;\n\nclass GraphPicker\n{\n  constructor()\n  {\n    this.selectionBox = {\n      fromX: 0, fromY: 0,\n      toX: 0, toY: 0,\n      visible: false\n    };\n    this.targets = [];\n\n    this.target = null;\n    this.targetType = \"\";\n\n    this.initialTarget = null;\n    this.initialTargetType = \"\";\n  }\n\n  setInitialTarget(target, type)\n  {\n    this.initialTarget = target;\n    this.initialTargetType = type;\n  }\n\n  updateTarget(graph, x, y)\n  {\n    if (this.target = this.getNodeByInitialMarkerAt(graph, x, y))\n    {\n      //Clicked on initial marker\n      this.targetType = \"initial\";\n    }\n    else if (this.target = this.getEdgeByEndPointAt(graph, x, y))\n    {\n      //Clicked on endpoint\n      this.targetType = \"endpoint\";\n    }\n    else if (this.target = this.getNodeAt(graph, x, y))\n    {\n      //Clicked on node\n      this.targetType = \"node\";\n    }\n    else if (this.target = this.getEdgeAt(graph, x, y))\n    {\n      //Clicked on edge\n      this.targetType = \"edge\";\n    }\n    else\n    {\n      //Clicked on graph\n      this.target = null;\n      this.targetType = \"none\";\n    }\n\n    return this.target;\n  }\n\n  clearTarget()\n  {\n    this.target = null;\n    this.targetType = \"none\";\n  }\n\n  hasTarget()\n  {\n    return this.target != null;\n  }\n\n  getNodeAt(graph, x, y)\n  {\n    //Search graph\n    for(const node of graph.getNodes())\n    {\n      const nodeSize = node.getNodeSize();\n      const dx = x - node.x;\n      const dy = y - node.y;\n      if (dx * dx + dy * dy < nodeSize * nodeSize)\n      {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  getNodeByInitialMarkerAt(graph, x, y)\n  {\n    const startNode = graph.getStartNode();\n    if (!startNode) return null;\n\n    const nodeSize = startNode.getNodeSize();\n    const offset = -(nodeSize + (nodeSize / 2));\n    const dx = x - (startNode.x + offset);\n    const dy = y - startNode.y;\n    if (dx * dx + dy * dy < EDGE_RADIUS_SQU)\n    {\n      return startNode;\n    }\n\n    return null;\n  }\n\n  getEdgeAt(graph, x, y)\n  {\n    const center = {x: 0, y: 0};\n\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getCenterPoint(center);\n      const dx = x - center.x;\n      const dy = y - center.y;\n      if (dx * dx + dy * dy < EDGE_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getEdgeByEndPointAt(graph, x, y)\n  {\n    const end = {x: 0, y: 0};\n    //Search graph\n    for(const edge of graph.getEdges())\n    {\n      edge.getEndPoint(end);\n      const dx = x - end.x;\n      const dy = y - end.y;\n      if (dx * dx + dy * dy < ENDPOINT_RADIUS_SQU)\n      {\n        return edge;\n      }\n    }\n    return null;\n  }\n\n  getSelectionBox()\n  {\n    return this.selectionBox;\n  }\n\n  getSelection(graph, forceUpdate=false)\n  {\n    if (forceUpdate)\n    {\n      const box = this.selectionBox;\n      const mx = Math.max(box.toX, box.fromX);\n      const my = Math.max(box.toY, box.fromY);\n      const lx = Math.min(box.toX, box.fromX);\n      const ly = Math.min(box.toY, box.fromY);\n      this.clearSelection();\n      getNodesWithin(graph, lx, ly, mx, my, this.targets);\n    }\n\n    return this.targets;\n  }\n\n  hasSelection()\n  {\n    return this.targets.length > 0;\n  }\n\n  clearSelection()\n  {\n    this.targets.length = 0;\n  }\n\n  isTargetInSelection(target)\n  {\n    return this.targets.includes(target || this.target);\n  }\n\n  isTarget(target)\n  {\n    return this.target == target;\n  }\n\n  beginSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.fromX = box.toX = x;\n    box.fromY = box.toY = y;\n    this.clearSelection();\n\n    box.visible = true;\n  }\n\n  updateSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n  }\n\n  endSelection(graph, x, y)\n  {\n    const box = this.selectionBox;\n    box.toX = x;\n    box.toY = y;\n    this.getSelection(graph, true);\n\n    box.visible = false;\n  }\n\n  isSelecting()\n  {\n    return this.selectionBox.visible;\n  }\n}\n\nfunction getNodesWithin(graph, x1, y1, x2, y2, dst)\n{\n  const fromX = Math.min(x1, x2);\n  const fromY = Math.min(y1, y2);\n  const toX = Math.max(x1, x2);\n  const toY = Math.max(y1, y2);\n\n  for(const node of graph.getNodes())\n  {\n    if (node.x >= fromX && node.x < toX &&\n        node.y >= fromY && node.y < toY)\n    {\n      dst.push(node);\n    }\n  }\n  return dst;\n}\n\nexport default GraphPicker;\n","class InputHandler\n{\n  isTargetable(inputController, pointer, target, targetType)\n  {\n    return false;\n  }\n\n  onAction(inputController, graphController, pointer, target)\n  {\n    return false;\n  }\n\n  onDblAction(inputController, graphController, pointer, target)\n  {\n    return false;\n  }\n\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    return false;\n  }\n\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    return false;\n  }\n\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    return false;\n  }\n}\nexport default InputHandler;\n","import InputHandler from './InputHandler.js';\n\nclass GraphElementInputHandler extends InputHandler\n{\n  constructor(targetType)\n  {\n    super();\n\n    if (!targetType)\n    {\n      throw new Error(\"Missing target type for graph element input handler\");\n    }\n\n    this._targetType = targetType;\n  }\n\n  //Override\n  isTargetable(inputController, pointer, target, targetType)\n  {\n    if (targetType === this._targetType)\n    {\n      return true;\n    }\n\n    return false;\n  }\n  \n  getTargetType()\n  {\n    return this._targetType;\n  }\n}\n\nexport default GraphElementInputHandler;\n","import GraphElementInputHandler from './GraphElementInputHandler.js';\n\nconst SNAP_TO_GRID = true;\nconst SNAP_SIZE = 48;\n\nclass GraphNodeInputHandler extends GraphElementInputHandler\n{\n  constructor()\n  {\n    super(\"node\");\n  }\n\n  //Override\n  onAction(inputController, graphController, pointer, target)\n  {\n    const picker = inputController.getPicker();\n\n    //Click to delete node\n    if (inputController.isTrashMode())\n    {\n      //So that the emitted 'delete' events can use this\n      graphController.prevX = target.x;\n      graphController.prevY = target.y;\n\n      //If there exists selected states, delete them all!\n      if (picker.hasSelection())\n      {\n        //Delete all selected nodes\n        graphController.deleteSelectedNodes(target);\n      }\n      else\n      {\n        //Delete a single node\n        graphController.deleteTargetNode(target);\n      }\n      return true;\n    }\n    //Edit click to toggle node\n    else if (!inputController.isMoveMode())\n    {\n      graphController.toggleNode(target);\n      return true;\n    }\n\n    return false;\n  }\n\n  //Override\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    if (inputController.isMoveMode())\n    {\n      //Moving node (and selected nodes)\n      graphController.prevX = target.x;\n      graphController.prevY = target.y;\n    }\n    else\n    {\n      const picker = inputController.getPicker();\n      const graph = graphController.getGraph();\n      const edge = graph.createEdge(target, pointer);\n      edge.setEdgeLabel(graphController.getGraphLabeler().getDefaultEdgeLabel());\n\n      //Redirect pointer to refer to the edge as the new target\n      picker.setInitialTarget(edge, \"endpoint\");\n      inputController.isNewEdge = true;\n\n      //Reset previous quad values for new proxy edge\n      const edgeQuad = edge.getQuadratic();\n      graphController.prevQuad.radians = edgeQuad.radians;\n      graphController.prevQuad.length = edgeQuad.length;\n      graphController.prevEdgeTo = null;\n\n      //Ready to move proxy edge to pointer...\n    }\n    return true;\n  }\n\n  //Override\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    const picker = inputController.getPicker();\n    const graph = graphController.getGraph();\n    let x = pointer.x;\n    let y = pointer.y;\n\n    if (inputController._snapToGrid)\n    {\n      const snapSize = inputController._snapSize;\n      x = Math.round(x / snapSize) * snapSize;\n      y = Math.round(y / snapSize) * snapSize;\n    }\n\n    if (picker.hasSelection())\n    {\n      graphController.moveMultipleNodesTo(pointer, picker.getSelection(graph), x, y);\n    }\n    else\n    {\n      graphController.moveNodeTo(pointer, target, x, y);\n    }\n    return true;\n  }\n\n  //Override\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    const picker = inputController.getPicker();\n    const graph = graphController.getGraph();\n    const x = pointer.x;\n    const y = pointer.y;\n\n    //Delete it if withing trash area...\n    if (inputController.isTrashMode())\n    {\n      //If there exists selected states, delete them all!\n      if (picker.hasSelection())\n      {\n        graphController.deleteSelectedNodes(target);\n      }\n      else\n      {\n        //Delete a single node\n        graphController.deleteTargetNode(target);\n      }\n\n      return true;\n    }\n    //If dragged to an empty space (not trash)\n    else\n    {\n      //Do nothing, since should have moved to position\n      if (picker.hasSelection())\n      {\n        const dx = x - graphController.prevX;\n        const dy = y - graphController.prevY;\n        graphController.onGraphIntentMoveAllNodes(picker.getSelection(graph), dx, dy);\n        //graphController.emit(\"nodeMoveAll\", graph, picker.getSelection(graph), dx, dy);\n      }\n      else\n      {\n        graphController.onGraphIntentMoveNode(target, x, y, graphController.prevX, graphController.prevY);\n        //graphController.emit(\"nodeMove\", graph, target, x, y, graphController.prevX, graphController.prevY);\n      }\n      return true;\n    }\n\n    return false;\n  }\n}\n\nexport default GraphNodeInputHandler;\n","import GraphElementInputHandler from './GraphElementInputHandler.js';\n\nclass GraphEdgeInputHandler extends GraphElementInputHandler\n{\n  constructor()\n  {\n    super(\"edge\");\n  }\n\n  //Override\n  onAction(inputController, graphController, pointer, target)\n  {\n    if (inputController.isTrashMode())\n    {\n      //Delete a single edge\n      graphController.deleteTargetEdge(target);\n    }\n    else\n    {\n      //Edit label for selected edge\n      graphController.openLabelEditor(target, pointer.x, pointer.y);\n    }\n    return true;\n  }\n\n  //Override\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    //Makes sure that placeholders are not quadratics!\n    if (target.isPlaceholder())\n    {\n      return false;\n    }\n\n    //Save previous quadratics\n    const targetQuad = target.getQuadratic();\n    graphController.prevQuad.radians = targetQuad.radians;\n    graphController.prevQuad.length = targetQuad.length;\n\n    //Ready to move the edge vertex to pointer...\n    return true;\n  }\n\n  //Override\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    graphController.moveEdgeTo(pointer, target, pointer.x, pointer.y);\n    return true;\n  }\n\n  //Override\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    const graph = graphController.getGraph();\n\n    //Delete it if withing trash area...\n    if (inputController.isTrashMode())\n    {\n      graphController.deleteTargetEdge(target);\n    }\n    else\n    {\n      //Do nothing, since should have moved to position\n      graphController.onGraphIntentMoveEdge(target, target.getQuadratic(), graphController.prevQuad);\n      //graphController.emit(\"edgeMove\", graph, target, target.getQuadratic(), graphController.prevQuad);\n    }\n    return true;\n  }\n}\n\nexport default GraphEdgeInputHandler;\n","import GraphElementInputHandler from './GraphElementInputHandler.js';\nimport GraphNode from 'graph/GraphNode.js';\n\nclass GraphEndpointInputHandler extends GraphElementInputHandler\n{\n  constructor()\n  {\n    super(\"endpoint\");\n  }\n\n  //Override\n  onAction(inputController, graphController, pointer, target)\n  {\n    if (inputController.isTrashMode())\n    {\n      //Delete a single edge\n      graphController.deleteTargetEdge(target);\n      return true;\n    }\n    return false;\n  }\n\n  //Override\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    const targetQuad = target.getQuadratic();\n    graphController.prevQuad.radians = targetQuad.radians;\n    graphController.prevQuad.length = targetQuad.length;\n    graphController.prevEdgeTo = target.getDestinationNode();\n\n    inputController.isNewEdge = false;\n\n    //Ready to move the edge endpoint to pointer...\n    return true;\n  }\n\n  //Override\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    graphController.moveEndpointTo(pointer, target, pointer.x, pointer.y);\n    return true;\n  }\n\n  //Override\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    const graph = graphController.getGraph();\n    const x = pointer.x;\n    const y = pointer.y;\n\n    //Delete it if withing trash area...\n    if (inputController.isTrashMode())\n    {\n      graphController.deleteTargetEdge(target);\n      return true;\n    }\n    //If hovering over a node...\n    else if (target.getDestinationNode() instanceof GraphNode)\n    {\n      const result = graph.formatEdge(target);\n\n      //If a different edge is the result of the target...\n      if (result !== target)\n      {\n        //Allow the user to edit the merged labels\n        graphController.openLabelEditor(result, x, y, result.getEdgeLabel(), false);\n\n        //Delete the merged label\n        graph.deleteEdge(target);\n        return true;\n      }\n      //Open label editor if a new edge...\n      else\n      {\n        if (inputController.isNewEdge)\n        {\n          graphController.openLabelEditor(target, x, y, null, true, () => {\n            graphController.onGraphIntentFinishEdge(target);\n          });\n        }\n        else\n        {\n          graphController.openLabelEditor(target, x, y);\n        }\n      }\n\n      if (inputController.isNewEdge)\n      {\n        //Must be after openLabelEditor() to allow the function to check it...\n        inputController.isNewEdge = false;\n\n        //Emit event\n        graphController.onGraphIntentCreateEdge(target);\n      }\n      else if (graphController.prevEdgeTo !== null)\n      {\n        //Emit event\n        graphController.onGraphIntentChangeDestination(target, target.getDestinationNode(), graphController.prevEdgeTo, graphController.prevQuad);\n      }\n\n      return true;\n    }\n    //If hovering over anything else...\n    else\n    {\n      //Destroy any edge that no longer have a destination\n      if (inputController.shouldDestroyPointlessEdges)\n      {\n        if (!inputController.isNewEdge)\n        {\n          graphController.deleteTargetEdge(target);\n        }\n        else\n        {\n          graph.deleteEdge(target);\n        }\n        return true;\n      }\n      //Keep edges as placeholders (used in DFA's)\n      else\n      {\n        target.changeDestinationNode(null);\n\n        //Open label editor if default edge...\n        if (target.getEdgeLabel().length <= 0)\n        {\n          graphController.openLabelEditor(target, x, y);\n        }\n        return true;\n      }\n    }\n  }\n}\n\nexport default GraphEndpointInputHandler;\n","import GraphElementInputHandler from './GraphElementInputHandler.js';\nimport GraphNode from 'graph/GraphNode.js';\n\nclass GraphInitialInputHandler extends GraphElementInputHandler\n{\n  constructor()\n  {\n    super(\"initial\");\n  }\n\n  //Override\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    //Ready to move the initial marker to another state...\n    inputController.ghostInitialMarker = pointer;\n    return true;\n  }\n\n  //Override\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    const picker = inputController.getPicker();\n    const graph = graphController.getGraph();\n    const x = pointer.x;\n    const y = pointer.y;\n    //Move initial marker to node or pointer\n    const dst = picker.getNodeAt(graph, x, y) || pointer;\n    inputController.ghostInitialMarker = dst;\n    return true;\n  }\n\n  //Override\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    const graph = graphController.getGraph();\n\n    //If valid initial object to mark...\n    if (inputController.ghostInitialMarker instanceof GraphNode)\n    {\n      const prevInitial = graph.getStartNode();\n\n      //Set the new object as the initial node\n      graph.setStartNode(inputController.ghostInitialMarker);\n      graphController.applyAutoRename();\n\n      //Emit event\n      graphController.onGraphIntentChangeInitial(inputController.ghostInitialMarker, prevInitial);\n      //graphController.emit(\"nodeInitial\", graph, inputController.ghostInitialMarker, prevInitial);\n    }\n\n    //Reset ghost initial marker\n    inputController.ghostInitialMarker = null;\n    return true;\n  }\n}\n\nexport default GraphInitialInputHandler;\n","import InputHandler from './InputHandler.js';\n\nclass SelectionBoxInputHandler extends InputHandler\n{\n  constructor(picker)\n  {\n    super();\n\n    this._picker = picker;\n  }\n\n  //Override\n  isTargetable(inputController, pointer, target, targetType)\n  {\n    return targetType === 'none';\n  }\n\n  //Override\n  onDragStart(inputController, graphController, pointer, target)\n  {\n    if (!inputController.isMoveMode())\n    {\n      //Begin selection box...\n      this._picker.beginSelection(graphController.getGraph(), pointer.x, pointer.y);\n      return true;\n    }\n\n    return false;\n  }\n\n  onDragMove(inputController, graphController, pointer, target)\n  {\n    //If the selection box is active...\n    if (this._picker.isSelecting())\n    {\n      //Update the selection box\n      this._picker.updateSelection(graphController.getGraph(), pointer.x, pointer.y);\n      return true;\n    }\n\n    return false;\n  }\n\n  //Override\n  onDragStop(inputController, graphController, pointer, target)\n  {\n    //If was trying to select...\n    if (this._picker.isSelecting())\n    {\n      //Stop selecting stuff, fool.\n      this._picker.endSelection(graphController.getGraph(), pointer.x, pointer.y);\n      return true;\n    }\n\n    return false;\n  }\n}\n\nexport default SelectionBoxInputHandler;\n","import InputHandler from './InputHandler.js';\n\nclass GraphNodeCreateInputHandler extends InputHandler\n{\n  constructor()\n  {\n    super();\n  }\n\n  //Override\n  isTargetable(inputController, pointer, target, targetType)\n  {\n    return targetType === 'none';\n  }\n\n  //Override\n  onDblAction(inputController, graphController, pointer, target)\n  {\n    let x = pointer.x;\n    let y = pointer.y;\n\n    if (inputController._snapToGrid)\n    {\n      const snapSize = inputController._snapSize;\n      x = Math.round(x / snapSize) * snapSize;\n      y = Math.round(y / snapSize) * snapSize;\n    }\n\n    //Create node at position\n    const node = graphController.createNode(x, y);\n    //TODO: this allows nodes to move away from other nodes\n    //But undoManager does not recognize it.\n    //graphController.moveNodeTo(pointer, node, x, y);\n    return true;\n  }\n}\n\nexport default GraphNodeCreateInputHandler;\n","import AbstractInputController from 'modules/abstract/AbstractInputController.js';\n\nimport ViewportInputHandler from './ViewportInputHandler.js';\nimport GraphPicker from './GraphPicker.js';\n\nimport GraphNodeInputHandler from './inputhandler/GraphNodeInputHandler.js';\nimport GraphEdgeInputHandler from './inputhandler/GraphEdgeInputHandler.js';\nimport GraphEndpointInputHandler from './inputhandler/GraphEndpointInputHandler.js';\nimport GraphInitialInputHandler from './inputhandler/GraphInitialInputHandler.js';\nimport SelectionBoxInputHandler from './inputhandler/SelectionBoxInputHandler.js';\nimport GraphNodeCreateInputHandler from './inputhandler/GraphNodeCreateInputHandler.js';\n\nconst DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE = true;\n\nclass InputController extends AbstractInputController\n{\n  constructor(module, inputAdapter)\n  {\n    super(module, inputAdapter);\n\n    inputAdapter.addInputHandler(this);\n    inputAdapter.addInputHandler(new ViewportInputHandler());\n\n    this._picker = new GraphPicker();\n\n    this._graphController = null;\n\n    //Used to check if target needs to be updated for the hover effect\n    this.prevPointerX = 0;\n    this.prevPointerY = 0;\n\n    //Make sure this is always false when moving endpoints\n    this.isNewEdge = false;\n\n    //Used to change render to follow pointer when moving initial marker\n    this.ghostInitialMarker = null;\n\n    //Whether to destroy pointless edges\n    this.shouldDestroyPointlessEdges = DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE;\n\n    //Swap left to right clicks and vice versa on anything else but Macs\n    this._swapMouseScheme = true;//!navigator.platform.startsWith(\"Mac\");\n\n    //Used to determine whether the target should be destroyed because of trash mode\n    this._trashMode = false;\n\n    this._disabled = false;\n\n    //TODO: this works, it's just not attached to anything\n    this._snapToGrid = false;\n    this._snapSize = 48;\n\n    this._inputHandlers = [\n      new GraphNodeInputHandler(),\n      new GraphEdgeInputHandler(),\n      new GraphEndpointInputHandler(),\n      new GraphInitialInputHandler(),\n      new SelectionBoxInputHandler(this._picker),\n      new GraphNodeCreateInputHandler()\n    ];\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this._graphController = module.getGraphController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    super.update(module);\n\n    const graph = this._graphController.getGraph();\n    const picker = this._picker;\n    const x = this._inputAdapter.getPointerX();\n    const y = this._inputAdapter.getPointerY();\n\n    if (x != this.prevPointerX || y != this.prevPointerY)\n    {\n      this.prevPointerX = x;\n      this.prevPointerY = y;\n\n      //Update target\n      picker.updateTarget(graph, x, y);\n\n      //HACK: to make the cursor look like a pointer when targeting\n      if (picker.hasTarget())\n      {\n        document.body.style.cursor = \"pointer\";\n      }\n      else\n      {\n        document.body.style.cursor = \"auto\";\n      }\n    }\n  }\n\n  setDisabled(disabled)\n  {\n    this._disabled = disabled;\n  }\n\n  isDisabled()\n  {\n    return this._disabled;\n  }\n\n  //Override\n  onPreInputEvent(pointer)\n  {\n    if (this._disabled) return super.onPreInputEvent(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n    picker.setInitialTarget(picker.target, picker.targetType);\n\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    if (picker.hasSelection())\n    {\n      //Unselect everything is clicked on something other than nodes...\n      if (targetType != \"node\" || !picker.isTargetInSelection(target))\n      {\n        picker.clearSelection();\n      }\n    }\n\n    //Disable all graph input when in step-by-step mode\n    if (graphController.tester.getStepByStepMode())\n    {\n      //Consume event!\n      return true;\n    }\n\n    //Override\n    return super.onPreInputEvent(pointer);\n  }\n\n  //Override\n  onInputEvent(pointer)\n  {\n    if (this._disabled) return super.onInputEvent(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const picker = inputController.getPicker();\n    picker.updateTarget(graphController.getGraph(), pointer.x, pointer.y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    for(const handler of this._inputHandlers)\n    {\n      if (handler.isTargetable(inputController, pointer, target, targetType) &&\n        handler.onAction(inputController, graphController, pointer, target))\n      {\n        return true;\n      }\n    }\n\n    //Override\n    return super.onInputEvent(pointer);\n  }\n\n  //Override\n  onDblInputEvent(pointer)\n  {\n    if (this._disabled) return super.onDblInputEvent(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const picker = inputController.getPicker();\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //Make sure it is not in trash mode\n    if (inputController.isTrashMode())\n    {\n      graphController.emit(\"tryCreateWhileTrash\");\n      return false;\n    }\n\n    for(const handler of this._inputHandlers)\n    {\n      if (handler.isTargetable(inputController, pointer, target, targetType) &&\n        handler.onDblAction(inputController, graphController, pointer, target))\n      {\n        return true;\n      }\n    }\n\n    //Override\n    return super.onDblInputEvent(pointer);\n  }\n\n  //Override\n  onDragStart(pointer)\n  {\n    if (this._disabled) return super.onDragStart(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const picker = inputController.getPicker();\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    //Make sure it is not in new edge mode\n    inputController.isNewEdge = false;\n\n    //Make sure it is not in trash mode\n    if (inputController.isTrashMode())\n    {\n      graphController.emit(\"tryCreateWhileTrash\");\n      return false;\n    }\n\n    for(const handler of this._inputHandlers)\n    {\n      if (handler.isTargetable(inputController, pointer, target, targetType) &&\n        handler.onDragStart(inputController, graphController, pointer, target))\n      {\n        return true;\n      }\n    }\n\n    //Override\n    return super.onDragStart(pointer);\n  }\n\n  //Override\n  onDragMove(pointer)\n  {\n    if (this._disabled) return super.onDragMove(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const picker = inputController.getPicker();\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    for(const handler of this._inputHandlers)\n    {\n      if (handler.isTargetable(inputController, pointer, target, targetType) &&\n        handler.onDragMove(inputController, graphController, pointer, target))\n      {\n        return true;\n      }\n    }\n\n    //Override\n    return super.onDragMove(pointer);\n  }\n\n  //Override\n  onDragStop(pointer)\n  {\n    if (this._disabled) return super.onDragStop(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const picker = inputController.getPicker();\n    picker.updateTarget(graphController.getGraph(), pointer.x, pointer.y);\n    const target = picker.initialTarget;\n    const targetType = picker.initialTargetType;\n\n    for(const handler of this._inputHandlers)\n    {\n      if (handler.isTargetable(inputController, pointer, target, targetType) &&\n        handler.onDragStop(inputController, graphController, pointer, target))\n      {\n        return true;\n      }\n    }\n\n    //Override\n    return super.onDragStop(pointer);\n  }\n\n  //Override\n  onPostInputEvent(pointer)\n  {\n    if (this._disabled) return super.onPostInputEvent(pointer);\n\n    const inputController = this;\n    const graphController = this._graphController;\n    const graph = graphController.getGraph();\n    const picker = inputController.getPicker();\n\n    picker.clearTarget();\n    picker.updateTarget(graph, pointer.x, pointer.y);\n\n    //Override\n    super.onPostInputEvent(pointer);\n  }\n\n  setTrashMode(enabled)\n  {\n    this._trashMode = enabled;\n  }\n\n  isTrashMode()\n  {\n    return this._trashMode;\n  }\n\n  setInputScheme(shouldInputFirst)\n  {\n    this._swapMouseScheme = !shouldInputFirst;\n  }\n\n  getInputScheme()\n  {\n    return this._swapMouseScheme;\n  }\n\n  isMoveMode()\n  {\n    const result = this._inputAdapter.isAltInput();\n    return this._swapMouseScheme ? !result : result;\n  }\n\n  isDragging()\n  {\n    return this._inputAdapter.isDragging();\n  }\n\n  isActionMode()\n  {\n    return this._inputAdapter.isPointerActive() ?\n      //Is considered an input when NOT moving or when creating a new edge...\n      this.isNewEdge || !this.isMoveMode() :\n      //If not active, just show default input...\n      !this._swapMouseScheme;\n  }\n\n  getPicker()\n  {\n    return this._picker;\n  }\n}\n\nexport default InputController;\n","class AbstractGraphExporter\n{\n  constructor() {}\n\n  importFromData(data, module)\n  {\n    throw new Error(\"Unsupported import for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  exportToData(module)\n  {\n    throw new Error(\"Unsupported export for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  doesSupportData()\n  {\n    return false;\n  }\n\n  importFromFile(fileBlob, module)\n  {\n    throw new Error(\"Unsupported import for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  exportToFile(filename, module)\n  {\n    throw new Error(\"Unsupported export for type \\'\" + this.getFileType() + \"\\'\");\n  }\n\n  doesSupportFile()\n  {\n    return false;\n  }\n\n  canImport(module)\n  {\n    return false;\n  }\n\n  canExport(module)\n  {\n    return true;\n  }\n\n  getTitle()\n  {\n    return this.getLabel();\n  }\n\n  getIconClass()\n  {\n    return null;\n  }\n\n  getLabel()\n  {\n    return \"Export as \" + this.getFileType().toUpperCase();\n  }\n\n  getFileType()\n  {\n    throw new Error(\"Unknown file type for exporter\");\n  }\n}\n\nexport default AbstractGraphExporter;\n","import AbstractGraphExporter from './AbstractGraphExporter.js';\n\nimport PNGIcon from 'deprecated/icons/flat/PNGIcon.js';\nimport JPGIcon from 'deprecated/icons/flat/JPGIcon.js';\nimport XMLIcon from 'deprecated/icons/flat/XMLIcon.js';\nimport SVGIcon from 'deprecated/icons/flat/SVGIcon.js';\nimport { FILE_TYPE_PNG, FILE_TYPE_JPG, FILE_TYPE_SVG, downloadImageFromSVG } from 'util/Downloader.js';\n\nconst EXPORT_PADDING_X = 30;\nconst EXPORT_PADDING_Y = 0;\n\nclass GraphImageExporter extends AbstractGraphExporter\n{\n  constructor(imageType=FILE_TYPE_PNG)\n  {\n    super();\n    this._imageType = imageType;\n  }\n\n  processSVGForExport(element, width, height, currentModule)\n  {\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n\n    const viewport = inputController.getInputAdapter().getViewport();\n    const offsetX = viewport.getOffsetX();\n    const offsetY = viewport.getOffsetY();\n    const bounds = graphController.getGraph().getBoundingRect();\n    const dx = bounds.minX + offsetX - EXPORT_PADDING_X;\n    const dy = bounds.minY + offsetY - EXPORT_PADDING_Y;\n    const w = bounds.width + EXPORT_PADDING_X * 2;\n    const h = bounds.height + EXPORT_PADDING_Y * 2;\n    const clone = element.cloneNode(true);\n    clone.setAttribute('viewBox', dx + \" \" + dy + \" \" + w + \" \" + h);\n    clone.setAttribute('width', width);\n    clone.setAttribute('height', height);\n\n    //Apply the workspace font (refer to Workspace.css)\n    clone.setAttribute('font-size', \"16px\");\n    clone.setAttribute('font-family', \"monospace\");\n    clone.setAttribute('style', \".graph-ui {display: none;}\");\n\n    /*\n\n    const nodeColor = styleOpts.getOptionByProp(\"--color-graph-node\").getStyle();\n    const textColor = styleOpts.getOptionByProp(\"--color-graph-text\").getStyle();\n    console.log(nodeColor);\n    const styleString = \"* {\"\n      + \"--color-graph-node: blue;\"\n      + \"--color-graph-text: \" + textColor + \";\"\n      + \"}\";\n\n    */\n\n    /*\n    //TODO: Link the font family to svg\n    const link = document.createElement(\"link\");\n    link.setAttribute(\"rel\", \"stylesheet\");\n    clone.appendChild(link);\n    */\n\n    //Remove unwanted ui elements from image\n    const uiElements = clone.getElementsByClassName(\"graph-ui\");\n    while(uiElements.length > 0)\n    {\n      const e = uiElements[0];\n      e.remove();//This will propagate changes to uiElements, so be careful\n    }\n\n    return clone;\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const workspace = module.getApp().workspace;\n    const workspaceDim = workspace.ref.viewBox.baseVal;\n    const width = workspaceDim.width;\n    const height = workspaceDim.height;\n    const svg = this.processSVGForExport(workspace.ref, width, height, module);\n\n    downloadImageFromSVG(filename, this._imageType, svg, width, height);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport(module)\n  {\n    return false;\n  }\n\n  //Override\n  getTitle()\n  {\n    switch(this._imageType)\n    {\n      case FILE_TYPE_PNG: return I18N.toString(\"file.export.png.hint\");\n      case FILE_TYPE_JPG: return I18N.toString(\"file.export.jpg.hint\");\n      case FILE_TYPE_SVG: return I18N.toString(\"file.export.svg.hint\");\n      default: return super.getTitle();\n    }\n  }\n\n  //Override\n  getLabel()\n  {\n    switch(this._imageType)\n    {\n      case FILE_TYPE_PNG: return I18N.toString(\"file.export.png\");\n      case FILE_TYPE_JPG: return I18N.toString(\"file.export.jpg\");\n      case FILE_TYPE_SVG: return I18N.toString(\"file.export.svg\");\n      default: return super.getLabel();\n    }\n  }\n\n  //Override\n  getFileType()\n  {\n    return this._imageType;\n  }\n\n  //Override\n  getIconClass()\n  {\n    switch(this._imageType)\n    {\n      case FILE_TYPE_PNG: return PNGIcon;\n      case FILE_TYPE_JPG: return JPGIcon;\n      case FILE_TYPE_SVG: return SVGIcon;\n      default: return null;\n    }\n  }\n}\n\nexport default GraphImageExporter;\n","class GraphImporter\n{\n  constructor(module)\n  {\n    this._module = module;\n  }\n\n  importFile(fileBlob, module)\n  {\n    if (!fileBlob) throw new Error(\"Unable to import null file\");\n    if (!(fileBlob instanceof File)) throw new Error(\"Unable to import object as file\");\n\n    let result = Promise.reject();\n    const fileName = fileBlob.name;\n    const exporters = module.getGraphController().getGraphExporters();\n\n    for(const exporter of exporters)\n    {\n      if (exporter.canImport() && exporter.doesSupportFile() && fileName.endsWith(exporter.getFileType()))\n      {\n        result = result.catch(e => exporter.importFromFile(fileBlob, module));\n      }\n    }\n\n    return result.catch(e => {\n      console.error(e);\n      throw new Error(\"Cannot find valid exporter for file: \" + fileName);\n    });\n  }\n\n  importData(data, module)\n  {\n    if (!data) throw new Error(\"Unable to import null data\");\n\n    let result = Promise.reject();\n    const exporters = module.getGraphController().getGraphExporters();\n\n    for(const exporter of exporters)\n    {\n      if (exporter.canImport() && exporter.doesSupportData())\n      {\n        result = result.catch(e => exporter.importFromData(data, module));\n      }\n    }\n\n    return result.catch(e => {\n      throw new Error(\"Cannot find valid exporter for data: \" + JSON.stringify(data));\n    });\n  }\n\n  getImportFileTypes()\n  {\n    return this._module.getGraphController().getGraphExporters().map(e => {\n      if (!e.canImport() || !e.doesSupportFile()) return null;\n      return '.' + e.getFileType();\n    });\n  }\n}\n\nexport default GraphImporter;\n","//https://www.flaticon.com/free-icon/json-file_136525\nimport React from 'react';\n\nclass JSONIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"json-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <path fill=\"#9777A8\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d={\"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 \" +\n            \"s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 \" +\n            \"s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 \" +\n            \"s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 \" +\n            \"s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 \" +\n            \"s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 \" +\n            \"s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 \" +\n            \"s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 \" +\n            \"c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 \" +\n            \"c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 \" +\n            \"s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 \" +\n            \"s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 \" +\n            \"s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 \" +\n            \"s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 \" +\n            \"s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 \" +\n            \"s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 \" +\n            \"s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 \" +\n            \"s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 \" +\n            \"s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 \" +\n            \"s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 \" +\n            \"s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z\"}/>\n          <path fill=\"#FFFFFF\" d=\"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z\"/>\n        </g>\n        <g>\n          <path fill=\"#9777A8\" d=\"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z\"/>\n          <circle fill=\"#9777A8\" cx=\"27.5\" cy=\"18.5\" r=\"1.5\"/>\n          <path fill=\"#9777A8\" d=\"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z\"/>\n          <path fill=\"#9777A8\" d=\"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z\"/>\n        </g>\n      </g>\n    </svg>;\n  }\n}\n\nexport default JSONIcon;\n","import AbstractGraphExporter from './AbstractGraphExporter.js';\n\nimport JSONFileIcon from 'deprecated/icons/flat/JSONIcon.js';\nimport { JSON as JSONGraphParser } from 'modules/fsa/graph/FSAGraphParser.js';\nimport { downloadText } from 'util/Downloader.js';\n\nclass FSAGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  fromJSON(data, module)\n  {\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n    const graph = graphController.getGraph();\n\n    const metadata = '_metadata' in data ? data['_metadata'] : {};\n    const newGraph = JSONGraphParser.parse(data.graphData, graph);\n\n    //HACK: this should be calculated elsewhere\n    const machineData = data.machineData;\n    const machineName = machineData.name;\n    if (machineName) machineController.setMachineName(machineName);\n    const machineType = machineData.type;\n    if (machineType) machineController.setMachineType(machineType);\n    const customSymbols = machineData.symbols;\n    if (customSymbols && Array.isArray(customSymbols))\n    {\n      machineController.clearCustomSymbols();\n      for(const symbol of customSymbols)\n      {\n        machineController.addCustomSymbol(symbol);\n      }\n    }\n    const statePrefix = machineData.statePrefix;\n    if (statePrefix)\n    {\n      graphController.getGraphLabeler().setDefaultNodeLabelPrefix(statePrefix);\n    }\n\n    return newGraph;\n  }\n\n  toJSON(graphData, module)\n  {\n    const graphController = module.getGraphController();\n    const machineController = module.getMachineController();\n\n    const dst = {};\n    dst[\"_metadata\"] = {\n      module: module.getModuleName(),\n      version: process.env.VERSION + \":\" + module.getModuleVersion(),\n      timestamp: new Date().toString()\n    };\n    dst[\"graphData\"] = graphData;\n    dst[\"machineData\"] = {\n      name: machineController.getMachineName(),\n      type: machineController.getMachineType(),\n      symbols: machineController.getCustomSymbols(),\n      statePrefix: graphController.getGraphLabeler().getDefaultNodeLabelPrefix()\n    };\n    return dst;\n  }\n\n  //Override\n  importFromData(data, module)\n  {\n    this.fromJSON(data, module);\n  }\n\n  //Override\n  exportToData(module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const result = this.toJSON(graphData, module);\n    return result;\n  }\n\n  //Override\n  doesSupportData()\n  {\n    return true;\n  }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const machineController = module.getMachineController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        //graphController.emit(\"userPreImportGraph\", graph);\n        module.captureGraphEvent();\n\n        try\n        {\n          const jsonData = JSON.parse(data);\n\n          this.fromJSON(jsonData, module);\n\n          //graphController.emit(\"userImportGraph\", graph);\n\n          if (machineController)\n          {\n            machineController.setMachineName(name);\n          }\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          //graphController.emit(\"userPostImportGraph\", graph);\n          module.captureGraphEvent();\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = JSONGraphParser.objectify(graph);\n    const dst = this.toJSON(graphData, module);\n    const jsonString = JSON.stringify(dst);\n    downloadText(filename + '.' + this.getFileType(), jsonString);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport()\n  {\n    return true;\n  }\n\n  //Override\n  getTitle()\n  {\n    return I18N.toString(\"file.export.machine.hint\");\n  }\n\n  //Override\n  getLabel()\n  {\n    return I18N.toString(\"file.export.machine\");\n  }\n\n  //Override\n  getFileType()\n  {\n    return \"json\";\n  }\n\n  //Override\n  getIconClass()\n  {\n    return JSONFileIcon;\n  }\n}\n\nexport default FSAGraphExporter;\n","import AbstractGraphExporter from './AbstractGraphExporter.js';\n\nimport XMLFileIcon from 'deprecated/icons/flat/XMLIcon.js';\nimport { XML as XMLGraphParser } from 'modules/fsa/graph/FSAGraphParser.js';\nimport { downloadText } from 'util/Downloader.js';\n\nclass JFLAPGraphExporter extends AbstractGraphExporter\n{\n  constructor() { super(); }\n\n  //Override\n  importFromFile(fileBlob, module)\n  {\n    return new Promise((resolve, reject) => {\n      const filename = fileBlob.name;\n      if (!filename.endsWith(this.getFileType()))\n      {\n        throw new Error(\"Trying to import invalid file type for \\'\" + this.getFileType() + \"\\': \" + filename);\n      }\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const graphController = module.getGraphController();\n        const machineController = module.getMachineController();\n        const data = e.target.result;\n        const name = filename.substring(0, filename.length - this.getFileType().length - 1);\n        const graph = graphController.getGraph();\n\n        //TODO: this should not be here, this should exist somewhere in graphController\n        //graphController.emit(\"userPreImportGraph\", graph);\n        module.captureGraphEvent();\n\n        try\n        {\n          const xmlData = new DOMParser().parseFromString(data, \"text/xml\");\n          XMLGraphParser.parse(xmlData, graph);\n\n          //graphController.emit(\"userImportGraph\", graph);\n\n          if (machineController)\n          {\n            machineController.setMachineName(name);\n          }\n\n          resolve();\n        }\n        catch (e)\n        {\n          reader.abort();\n          reject(e);\n        }\n        finally\n        {\n          //graphController.emit(\"userPostImportGraph\", graph);\n          module.captureGraphEvent();\n        }\n      };\n\n      reader.onerror = e => {\n        reject(new Error(\"Unable to import file: \" + e.target.error.code));\n      }\n\n      reader.readAsText(fileBlob);\n    });\n  }\n\n  //Override\n  exportToFile(filename, module)\n  {\n    const graph = module.getGraphController().getGraph();\n    const graphData = XMLGraphParser.objectify(graph);\n    const xmlString = new XMLSerializer().serializeToString(graphData);\n    downloadText(filename + '.' + this.getFileType(), xmlString);\n  }\n\n  //Override\n  doesSupportFile()\n  {\n    return true;\n  }\n\n  //Override\n  canImport()\n  {\n    return true;\n  }\n\n  //Override\n  getTitle()\n  {\n    return I18N.toString(\"file.export.jff.hint\");\n  }\n\n  //Override\n  getLabel()\n  {\n    return I18N.toString(\"file.export.jff\");\n  }\n\n  //Override\n  getFileType()\n  {\n    return \"jff\";\n  }\n\n  //Override\n  getIconClass()\n  {\n    return XMLFileIcon;\n  }\n}\n\nexport default JFLAPGraphExporter;\n","import AbstractGraphController from 'modules/abstract/AbstractGraphController.js';\nimport GraphImageExporter from '../exporter/GraphImageExporter.js';\nimport { FILE_TYPE_PNG, FILE_TYPE_JPG, FILE_TYPE_SVG } from 'util/Downloader.js';\n\nimport GraphImporter from './GraphImporter.js';\n\nimport Eventable from 'util/Eventable.js';\nimport GraphLayout from 'modules/fsa/graph/GraphLayout.js';\nimport FSAGraph from 'modules/fsa/graph/FSAGraph.js';\nimport FSAGraphLabeler from 'modules/fsa/graph/FSAGraphLabeler.js';\nimport * as FSAGraphParser from 'modules/fsa/graph/FSAGraphParser.js';\n\nimport GraphChangeHandler from 'experimental/GraphChangeHandler.js';\n\nimport FSAGraphExporter from 'modules/fsa/exporter/FSAGraphExporter.js';\nimport JFLAPGraphExporter from 'modules/fsa/exporter/JFLAPGraphExporter.js';\n\nexport const DEFAULT_IMAGE_EXPORTERS = [\n  new GraphImageExporter(FILE_TYPE_PNG),\n  new GraphImageExporter(FILE_TYPE_JPG),\n  new GraphImageExporter(FILE_TYPE_SVG)\n];\n\nconst EXPORTERS = [\n  new FSAGraphExporter(),\n  new JFLAPGraphExporter()\n];\n\nconst NODE_SPAWN_RADIUS = 64;\nconst DEFAULT_AUTO_RENAME = true;\nconst GRAPH_REFRESH_RATE = 30;\n\nclass GraphController extends AbstractGraphController\n{\n  constructor(module)\n  {\n    super(module, new FSAGraph(), new FSAGraphLabeler(), FSAGraphParser);\n\n    this._importer = new GraphImporter(module);\n\n    this._labeler.setGraphController(this);\n\n    this.inputController = null;\n    this.machineController = null;\n    this._graphChangeHandler = new GraphChangeHandler(GRAPH_REFRESH_RATE);\n\n    this.labelEditorElement = null;\n    this.tester = null;\n\n    this.prevQuad = {\n      radians: 0, length: 0,\n      x: 0, y: 0\n    };\n    this.prevEdgeTo = null;\n    this.prevX = 0;\n    this.prevY = 0;\n\n\n    this.shouldAutoLabel = false;\n\n    //The difference between controller events vs graph events is: controller has user-intent\n\n    //userCreateNode(graph, node) - When user creates a node\n    //this.registerEvent(\"userCreateNode\");\n    //this.registerEvent(\"userPreCreateNode\");//(graph, nextNodeID, x, y)\n    //this.registerEvent(\"userPostCreateNode\");//(graph, node)\n\n    //userToggleNode(graph, node, prevAccept) - When user toggles the accept state\n    //this.registerEvent(\"userToggleNode\");\n\n    //userDeleteNodes(graph, node, targetNodes, prevX, prevY) - When user deletes one or more nodes\n    //this.registerEvent(\"userDeleteNodes\");\n    //this.registerEvent(\"userPreDeleteNodes\");\n    //this.registerEvent(\"userPostDeleteNodes\");\n\n    //userDeleteEdge(graph, edge, prevTo, prevQuad) - When user deletes an edge\n    //this.registerEvent(\"userDeleteEdge\");\n    //this.registerEvent(\"userPreDeleteEdge\");\n    //this.registerEvent(\"userPostDeleteEdge\");\n\n    //userCreateEdge(graph, edge) - When user creates an edge, after naming it\n    //this.registerEvent(\"userCreateEdge\");\n    //this.registerEvent(\"userPreCreateEdge\");\n    //this.registerEvent(\"userPostCreateEdge\");\n\n    /*\n    //userMoveNodes(graph, nodes, dx, dy) - When user moves one or more nodes\n    this.registerEvent(\"userMoveNodes\");\n    //userMoveInitial(graph, node, prevNode) - When user moves the initial marker to another\n    this.registerEvent(\"userMoveInitial\");\n    //userPreCreateEdge(graph, edge) - When user is about to create an edge, before src\n    this.registerEvent(\"userPreCreateEdge\");\n    //userBeginEdge(graph, edge, src) - When user begins to create an edge, after src and before naming it\n    this.registerEvent(\"userBeginEdge\");\n    //userEndEdge(graph, edge, src, dst) - When user finishes creating an edge, after dst and before naming it (dst could be null for deletion)\n    this.registerEvent(\"userEndEdge\");\n    //userPostCreateEdge(graph, edge) - When user is finished creating an edge, after dst and after quad changes\n    this.registerEvent(\"userPostCreateEdge\");\n    //userMoveEdge(graph, edge, prevDest) - When user changes the dst of edge\n    this.registerEvent(\"userChangeEdge\");\n    //userBendEdge(graph, edge, prevQuad) - When user bends the edge\n    this.registerEvent(\"userBendEdge\");\n    //userLabelEdge(graph, edge, prevLabel) - When user re-labels the edge\n    this.registerEvent(\"userLabelEdge\");\n    */\n\n    //userRenameNode(graph, node, nextLabel, prevLabel, isPrevCustom) - When user sets the label of node\n    //this.registerEvent(\"userRenameNode\");\n\n    //userChangeLayout(graph, prevLayout) - When user re-layouts the graph\n    //this.registerEvent(\"userChangeLayout\");\n    //this.registerEvent(\"userPreChangeLayout\");//before any changes\n    //this.registerEvent(\"userPostChangeLayout\");//after all changes\n\n    //userImportGraph(graph) - When user imports a graph\n    //this.registerEvent(\"userImportGraph\");\n    //this.registerEvent(\"userPreImportGraph\");//before any changes\n    //this.registerEvent(\"userPostImportGraph\");//after all changes\n\n    //nodeMove(targetNode, nextX, nextY, prevX, prevY)\n    //this.registerEvent(\"nodeMove\");\n    //nodeMoveAll(targetNodes, dx, dy)\n    //this.registerEvent(\"nodeMoveAll\");\n    //nodeInitial(nextInitial, prevInitial)\n    //this.registerEvent(\"nodeInitial\");\n    //edgeDestination(targetEdge, nextDestination, prevDestination, prevQuad)\n    //this.registerEvent(\"edgeDestination\");\n    //edgeMove(targetEdge, nextQuad, prevQuad)\n    //this.registerEvent(\"edgeMove\");\n    //edgeLabel(targetEdge, nextLabel, prevLabel)\n    //this.registerEvent(\"edgeLabel\");\n    //tryCreateWhileTrash()\n    this.registerEvent(\"tryCreateWhileTrash\");\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n    this.tester = module.getTestingManager();\n\n    this.inputController = module.getInputController();\n    this.machineController = module.getMachineController();\n\n    this.setAutoRenameNodes(DEFAULT_AUTO_RENAME);\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    super.update(module);\n\n    this._graphChangeHandler.update(this._graph);\n  }\n\n  //Override\n  getGraphExporters() { return EXPORTERS; }\n\n  //TODO: From AbstractModule(but not for experimental)\n  getDefaultGraphExporter()\n  {\n    const exporters = this.getGraphExporters();\n    if (exporters.length > 0) return exporters[0];\n    throw new Error(\"Missing default graph exporter for module \\'\" + this.getModule().getModuleName() + \"\\'\");\n  }\n\n  //TODO: From AbstractModule(but not for experimental)\n  getImageExporters() { return DEFAULT_IMAGE_EXPORTERS; }\n\n  //TODO: From AbstractModule(but not for experimental)\n  getGraphImporter() { return this._importer; }\n\n  getGraphChangeHandler()\n  {\n    return this._graphChangeHandler;\n  }\n\n  applyAutoLayout()\n  {\n    //this.emit(\"userPreChangeLayout\", this.getGraph());\n    GraphLayout.applyLayout(this.getGraph());\n\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userChangeLayout\", this.getGraph());\n    //this.emit(\"userPostChangeLayout\", this.getGraph());\n  }\n\n  applyAutoRename()\n  {\n    const graphLabeler = this._labeler;\n    const graph = this._graph;\n\n    if (graph.isEmpty()) return;\n\n    //Reset all default labels...\n    for(const node of graph.getNodes())\n    {\n      if (!node.getNodeCustom()) node.setNodeLabel(\"\");\n    }\n\n    //Rename all default labels appropriately...\n    for(const node of graph.getNodes())\n    {\n      if (!node.getNodeCustom())\n      {\n        node.setNodeLabel(graphLabeler.getDefaultNodeLabel());\n      }\n    }\n  }\n\n  onGraphIntentImport()\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentCreateEdge(edge)\n  {\n  }\n\n  onGraphIntentFinishEdge(edge)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentMoveEdge(edge, nextQuad, prevQuad)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentChangeDestination(edge, destinationNode, prevDestination, prevQuad)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentChangeInitial(nextInitial, prevInitial)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentMoveNode(node, nextX, nextY, prevX, prevY)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentMoveAllNodes(nodes, dx, dy)\n  {\n    this.getModule().captureGraphEvent();\n  }\n\n  onGraphIntentDeleteNodes(node, targetNodes, prevX, prevY)\n  {\n    if (this.shouldAutoLabel)\n    {\n      this.applyAutoRename();\n    }\n  }\n\n  setAutoRenameNodes(enable)\n  {\n    const prev = this.shouldAutoLabel;\n    this.shouldAutoLabel = enable;\n  }\n\n  shouldAutoRenameNodes()\n  {\n    return this.shouldAutoLabel;\n  }\n\n  renameNode(node, name)\n  {\n    const prev = node.getNodeLabel();\n    const isPrevCustom = node.getNodeCustom();\n\n    node.setNodeLabel(name);\n    node.setNodeCustom(true);\n\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userRenameNode\", this.getGraph(), node, name, prev, isPrevCustom);\n  }\n\n  createNode(x, y)\n  {\n    const newNodeLabel = this.getGraphLabeler().getDefaultNodeLabel();\n\n    if (typeof x === 'undefined') x = (Math.random() * NODE_SPAWN_RADIUS * 2) - NODE_SPAWN_RADIUS;\n    if (typeof y === 'undefined') y = (Math.random() * NODE_SPAWN_RADIUS * 2) - NODE_SPAWN_RADIUS;\n\n    //this.emit(\"userPreCreateNode\", this.getGraph(), newNodeLabel, x, y);\n\n    const node = this.getGraph().createNode(x, y);\n    node.setNodeLabel(newNodeLabel);\n\n    //this.emit(\"userCreateNode\", this.getGraph(), node);\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userPostCreateNode\", this.getGraph(), node);\n    return node;\n  }\n\n  toggleNode(node)\n  {\n    const prev = node.getNodeAccept();\n    const result = !prev;\n    //Toggle accept for selected node\n    node.setNodeAccept(result);\n\n    //Emit event\n    //this.emit(\"userToggleNode\", this.getGraph(), node, prev);\n    this.getModule().captureGraphEvent();\n  }\n\n  deleteSelectedNodes(selectedNode)\n  {\n    const picker = this.inputController.getPicker();\n    const selection = picker.getSelection(this.getGraph()).slice();\n\n    //this.emit(\"userPreDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n\n    //Remove from graph\n    for(const node of selection)\n    {\n      this.getGraph().deleteNode(node);\n    }\n\n    //Remove from selection\n    picker.clearSelection();\n\n    //Emit event\n    this.onGraphIntentDeleteNodes(selectedNode, selection, this.prevX, this.prevY);\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n    //this.emit(\"userPostDeleteNodes\", this.getGraph(), selectedNode, selection, this.prevX, this.prevY);\n  }\n\n  deleteTargetNode(target)\n  {\n    //this.emit(\"userPreDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n\n    this.getGraph().deleteNode(target);\n\n    //Emit event\n    this.onGraphIntentDeleteNodes(target, [target], this.prevX, this.prevY);\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n    //this.emit(\"userPostDeleteNodes\", this.getGraph(), target, [target], this.prevX, this.prevY);\n  }\n\n  deleteTargetNodes(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    //this.emit(\"userPreDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n\n    const graph = this.getGraph();\n    for(const node of targets)\n    {\n      graph.deleteNode(node);\n    }\n\n    //Emit event\n    this.onGraphIntentDeleteNodes(targets[0], targets, this.prevX, this.prevY);\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n    //this.emit(\"userPostDeleteNodes\", this.getGraph(), targets[0], targets, this.prevX, this.prevY);\n  }\n\n  deleteTargetEdge(target)\n  {\n    //this.emit(\"userPreDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    this.getGraph().deleteEdge(target);\n\n    //Emit event\n    this.getModule().captureGraphEvent();\n    //this.emit(\"userDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n    //this.emit(\"userPostDeleteEdge\", this.getGraph(), target, this.prevEdgeTo, this.prevQuad);\n  }\n\n  deleteTargetEdges(targets)\n  {\n    if (!targets || targets.length <= 0) return;\n\n    for(const target of targets)\n    {\n      this.deleteTargetEdge(target);\n    }\n  }\n\n  moveNodeTo(pointer, node, x, y)\n  {\n    const nodeSize = node.getNodeSize();\n    for(const other of this.getGraph().getNodes())\n    {\n      //Update node collision\n      if (node === other) continue;\n\n      const dx = x - other.x;\n      const dy = y - other.y;\n      const angle = Math.atan2(dy, dx);\n\n      const diameter = (nodeSize * 2);\n      const nextDX = other.x + (Math.cos(angle) * diameter) - x;\n      const nextDY = other.y + (Math.sin(angle) * diameter) - y;\n\n      if (dx * dx + dy * dy < nodeSize * nodeSize * 4)\n      {\n        x += nextDX;\n        y += nextDY;\n      }\n    }\n\n    node.x = x;\n    node.y = y;\n  }\n\n  moveMultipleNodesTo(pointer, nodes, x, y)\n  {\n    //Moves all nodes by difference between initial position with passed-in x and y\n    const pos = pointer.getInputEventPosition();\n    const dx = x - pos.x;\n    const dy = y - pos.y;\n    for(const node of nodes)\n    {\n      node.x += dx;\n      node.y += dy;\n    }\n\n    //Updates initial position to passed-in x and y to maintain relative position\n    pointer.changeInputEventPosition(x, y);\n  }\n\n  moveEdgeTo(pointer, edge, x, y)\n  {\n    edge.setQuadraticByCoords(x, y);\n  }\n\n  moveEndpointTo(pointer, edge, x, y)\n  {\n    //Get ONLY node at x and y (cannot use hover target, since it is not ONLY nodes)\n    const picker = this.inputController.getPicker();\n    const dst = picker.getNodeAt(this.getGraph(), x, y) || pointer;\n\n    edge.changeDestinationNode(dst);\n\n    //If the cursor returns to the state after leaving it...\n    if (edge.isSelfLoop())\n    {\n      //Make it a self loop\n      const sourceNode = edge.getSourceNode();\n      const dx = sourceNode.x - x;\n      const dy = sourceNode.y - y;\n      const radians = Math.atan2(dy, dx) + Math.PI;\n      edge.setQuadratic(radians);\n    }\n    //Otherwise, maintain original curve\n    else\n    {\n      //TODO: This also causes self-loops to act weird when no longer a self loop\n      edge.setQuadratic(this.prevQuad.radians, this.prevQuad.length);\n    }\n  }\n\n  openLabelEditor(target, x, y, placeholder=null, replace=true, callback=null)\n  {\n    if (!this.labelEditorElement)\n    {\n      if (callback) callback();\n      return;\n    }\n\n    const prevLabel = placeholder || target.getEdgeLabel();\n    this.labelEditorElement.openEditor(target, placeholder, replace, () => {\n      const label = target.getEdgeLabel();\n      if (prevLabel.length > 0 && label != prevLabel)\n      {\n        this.getModule().captureGraphEvent();\n        //this.emit(\"edgeLabel\", this.getGraph(), target, label, prevLabel);\n      }\n\n      if (callback)\n      {\n        callback();\n      }\n    });\n  }\n\n  focusOnNode(node)\n  {\n    //Center workspace at focused node; inverted due to graph-to-screen space\n    this.inputController.getInputAdapter().getViewport().setOffset(-node.x, -node.y);\n  }\n\n  focusOnEdge(edge)\n  {\n    //Center workspace at focused edge; inverted due to graph-to-screen space\n    const center = edge.getCenterPoint();\n    this.inputController.getInputAdapter().getViewport().setOffset(-center.x, -center.y);\n  }\n\n  focusOnNodes(nodes)\n  {\n    //Center workspace at the average of focused nodes; inverted due to graph-to-screen space\n    const length = nodes.length;\n    let ax = 0;\n    let ay = 0;\n    for(const node of nodes)\n    {\n      ax += node.x;\n      ay += node.y;\n    }\n    this.inputController.getInputAdapter().getViewport().setOffset(-ax / length, -ay / length);\n  }\n}\n//Mixin Eventable\nEventable.mixin(GraphController);\n\nfunction moveNodesOutOfEdges(target, graph)\n{\n\n  const x1 = target.getSourceNode().x;\n  const y1 = target.getSourceNode().y;\n  const x2 = target.getDestinationNode().x;\n  const y2 = target.getDestinationNode().y;\n  const dist12sq = (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\n  let vertical = false;\n  let m = 0;\n  let b = 0;\n  if(x1 > x2) {\n    m = (y1-y2) / (x1-x2);\n    b = y2-m*x2;\n  } else if (x1 < x2) {\n    m = (y2-y1) / (x2-x1);\n    b = y1-m*x1;\n  } else {\n    vertical = true;\n  }\n\n  for(const node of graph.getNodes())\n  {\n    if(node === target.getSourceNode() || node === target.getDestinationNode()) continue;\n\n    const nodeSize = node.getNodeSize();\n    const x0 = node.x;\n    const y0 = node.y;\n\n    const dist01sq = (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n    const dist02sq = (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n    if(dist01sq > dist12sq || dist02sq > dist12sq) continue;\n\n\n    let dist = 0;\n    let xint = 0;\n    let yint = 0;\n    let m0 = 0;\n    let horizontal = false;\n    if(vertical) {\n      dist = Math.abs(x1-x0);\n      xint = x1;\n      yint = y0;\n      m0 = 0;\n    } else {\n      dist = Math.abs(b+ m*x0 - y0) / Math.sqrt(1+m*m);\n      xint = (x0 + m*y0 - m*b) / (m*m + 1);\n      yint = m * xint + b;\n      if(m !== 0) {\n        m0 = 1 / m;\n      } else {\n        horizontal = true;\n      }\n    }\n\n    if(dist < nodeSize) {\n      const toMove = nodeSize - dist + 10;\n      const distx = x0 - xint;\n      const disty = y0 - yint;\n      let signx = -1;\n      let signy = -1;\n      if(distx > 0) signx = 1;\n      if(disty > 0) signy = 1;\n\n      if(horizontal) {\n        node.y = y0 + signy * toMove;\n      } else {\n        let toMovex = toMove / Math.sqrt(m0*m0 + 1);\n        let toMovey = Math.abs(m0) * toMovex;\n        node.x = x0 + signx * toMovex;\n        node.y = y0 + signy * toMovey;\n      }\n    }\n  }\n}\n\nexport default GraphController;\n","import React from 'react';\n\nclass StateUnreachableWarningMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += target.getNodeLabel();\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        //Locate the target node\n        const target = message.value[this.targetIndex++];\n        if (this.targetIndex >= message.value.length)\n        {\n          this.targetIndex = 0;\n        }\n\n        //Move pointer to target\n        graphController.focusOnNode(target);\n      }\n      break;\n      case \"deleteall\":\n      {\n        const targets = message.value;\n        //Delete all target nodes\n        graphController.deleteTargetNodes(targets);\n\n        //Sort the nodes after deleting if enabled...\n        graphController.applyAutoRename();\n\n        //Exit the message\n        message.close();\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{I18N.toString(\"message.warning.unreachable\") + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n      <button value=\"deleteall\" onClick={this.onClick}>{I18N.toString(\"message.action.deleteall\")}</button>\n    </div>;\n  }\n}\n\nexport default StateUnreachableWarningMessage;\n","import React from 'react';\nimport GraphNode from 'graph/GraphNode.js';\n\nimport { ARROW } from 'modules/fsa/machine/Symbols.js';\n\nclass TransitionErrorMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value.targets;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += \"(\" + target.getSourceNode().getNodeLabel() + \", \" +\n        target.getEdgeLabel() + \") \" +\n        ARROW + \" \" + (target.getDestinationNode() instanceof GraphNode ? target.getDestinationNode().getNodeLabel() : \"null\");\n    }\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        const targets = message.value.targets;\n        const targetLength = targets.length;\n        if (targetLength > 0 && this.targetIndex < targetLength)\n        {\n          //Locate the target edge\n          const target = targets[this.targetIndex++];\n          if (this.targetIndex >= targetLength) this.targetIndex = 0;\n\n          //Move pointer to target\n          graphController.focusOnEdge(target);\n        }\n      }\n      break;\n      case \"deleteall\":\n      {\n        const targets = message.value.targets;\n        //Delete all target edges\n        graphController.deleteTargetEdges(targets);\n\n        //Exit the message\n        message.close();\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{this.props.message.value.text + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n      <button value=\"deleteall\" onClick={this.onClick}>{I18N.toString(\"message.action.deleteall\")}</button>\n    </div>;\n  }\n}\n\nexport default TransitionErrorMessage;\n","import React from 'react';\n\nclass StateMissingTransitionErrorMessage extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.targetIndex = 0;\n    this.targetLabel = \"\";\n    const targets = props.message.value.targets;\n    for(const target of targets)\n    {\n      if (this.targetLabel.length > 0)\n      {\n        this.targetLabel += \", \";\n      }\n      this.targetLabel += target.getNodeLabel();\n    }\n    this.targetLabel += \" for \" + props.message.value.symbol;\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e)\n  {\n    const graphController = this.props.graphController;\n    const machineController = this.props.machineController;\n    const buttonValue = e.target.value;\n    const message = this.props.message;\n    switch(buttonValue)\n    {\n      case \"locate\":\n      {\n        const targets = message.value.targets;\n        const targetLength = targets.length;\n        if (targetLength > 0 && this.targetIndex < targetLength)\n        {\n          //Locate the target edge\n          const target = targets[this.targetIndex++];\n          if (this.targetIndex >= targetLength) this.targetIndex = 0;\n\n          //Move pointer to target\n          graphController.focusOnNode(target);\n        }\n      }\n      break;\n      default:\n        throw new Error(\"Unknown button value for message\");\n    }\n  }\n\n  //Override\n  render()\n  {\n    return <div>\n      <p>{I18N.toString(\"message.error.missing\") + \": \" + this.targetLabel}</p>\n      <button value=\"locate\" onClick={this.onClick}>{I18N.toString(\"message.action.locate\")}</button>\n    </div>;\n  }\n}\n\nexport default StateMissingTransitionErrorMessage;\n","import Config from 'deprecated/config.js';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nimport Notifications from 'deprecated/system/notification/Notifications.js';\nimport StateUnreachableWarningMessage from 'modules/fsa/notifications/StateUnreachableWarningMessage.js';\nimport TransitionErrorMessage from 'modules/fsa/notifications/TransitionErrorMessage.js';\n\nimport StateMissingTransitionErrorMessage from 'modules/fsa/notifications/StateMissingTransitionErrorMessage.js';\nimport StateErrorMessage from 'modules/fsa/notifications/StateErrorMessage.js';\n\nclass FSAErrorChecker\n{\n  constructor()\n  {\n    this.errorNodes = [];\n    this.errorEdges = [];\n    this.warningNodes = [];\n    this.warningEdges = [];\n  }\n\n  clear()\n  {\n    this.errorNodes.length = 0;\n    this.errorEdges.length = 0;\n    this.warningNodes.length = 0;\n    this.warningEdges.length = 0;\n  }\n\n  checkErrors(shouldNotifyErrors, graphController, machineController)\n  {\n    const deterministic = machineController.getMachineType() === \"DFA\";\n    const machineBuilder = machineController.getMachineBuilder();\n\n    const machine = machineBuilder.getMachine();\n    const graph = graphController.getGraph();\n    const alphabet = machine.getAlphabet();\n    const errorNodes = this.errorNodes;\n    const errorEdges = this.errorEdges;\n    const warnNodes = this.warningNodes;\n    const warnEdges = this.warningEdges;\n    this.clear();\n\n    let nodeTransitionMap = new Map();\n    let startNode = graph.getStartNode();\n\n    //Get Unreachable nodes...\n    const unreachNodes = machineController.getUnreachableNodes();\n    for(const node of unreachNodes)\n    {\n      warnNodes.push(node);\n    }\n\n    //Get placeholder / empty / dupe edges...\n    const placeholderEdges = [];\n    const emptyEdges = [];\n    const dupeEdges = [];\n    for(const edge of graph.getEdges())\n    {\n      //check incomplete edges\n      if (edge.isPlaceholder())\n      {\n        //Update cached error targets\n        placeholderEdges.push(edge);\n        if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n      }\n      //Ignore dupe/empty edges for nondeterministic\n      else if (deterministic)\n      {\n        const from = edge.getSourceNode();\n        const to = edge.getDestinationNode();\n        const labels = edge.getEdgeSymbolsFromLabel();\n\n        for(const label of labels)\n        {\n          //check for empty transitions\n          if(label == EMPTY)\n          {\n            //Update cached error targets\n            emptyEdges.push(edge);\n            if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n          }\n          else\n          {\n            if(!nodeTransitionMap.has(from))\n            {\n              nodeTransitionMap.set(from, [label]);\n            }\n            else\n            {\n              //check for duplicate transitions\n              const currentAlphabet = nodeTransitionMap.get(from);\n              if(currentAlphabet.includes(label))\n              {\n                //Update cached error targets\n                dupeEdges.push(edge);\n                if (errorEdges.indexOf(edge) == -1) errorEdges.push(edge);\n              }\n              else\n              {\n                currentAlphabet.push(label);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    //Get missing nodes...\n    const missingNodes = [];\n    if (deterministic)\n    {\n      //Check for missing transitions\n      for(const node of graph.getNodes())\n      {\n        const nodeTransitions = nodeTransitionMap.get(node);\n        if (!nodeTransitions && alphabet.length != 0 ||\n          nodeTransitions && nodeTransitions.length < alphabet.length)\n        {\n          //Get the required missing symbols\n          /*\n          let array;\n          if (nodeTransitions)\n          {\n            array = [];\n            for(const symbol of alphabet)\n            {\n              if (!nodeTransitions.includes(symbol))\n              {\n                array.push(symbol);\n              }\n            }\n          }\n          else\n          {\n            array = alphabet.slice();\n          }\n          */\n\n          //Update cached error targets\n          missingNodes.push(node);\n          if (errorNodes.indexOf(node) == -1) errorNodes.push(node);\n        }\n      }\n    }\n\n    const result = !(errorNodes.length === 0 && errorEdges.length === 0 &&\n      warnNodes.length === 0 && warnEdges.length === 0);\n\n    //Callbacks for all collected errors\n    if (shouldNotifyErrors)\n    {\n      const messageTag = Config.MACHINE_ERRORS_MESSAGE_TAG;\n      //Clear the existing messages\n      Notifications.clearMessages(messageTag);\n\n      //No errors!\n      if (!result)\n      {\n        Notifications.addMessage(I18N.toString(\"message.error.none\"), \"success\", messageTag, null, null, false);\n      }\n      //There are some errors/warnings...\n      else\n      {\n        const props = {graphController: graphController, machineController: machineController};\n\n        //Add new warning messages\n        if (unreachNodes.length > 0)\n        {\n          Notifications.addMessage(unreachNodes,\n            \"warning\", messageTag, StateUnreachableWarningMessage, props, false);\n        }\n        //Add new error messages\n        if (placeholderEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.incomplete\"), targets: placeholderEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (emptyEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.empty\"), targets: emptyEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (dupeEdges.length > 0)\n        {\n          Notifications.addMessage({text: I18N.toString(\"message.error.dupe\"), targets: dupeEdges},\n            \"error\", messageTag, TransitionErrorMessage, props, false);\n        }\n        if (missingNodes.length > 0)\n        {\n          Notifications.addMessage({targets: missingNodes},\n            \"error\", messageTag, StateMissingTransitionErrorMessage, props, false);\n        }\n      }\n    }\n\n    return result;\n  }\n}\n\nexport default FSAErrorChecker;\n","import AbstractMachineBuilder from 'modules/abstract/AbstractMachineBuilder.js';\n\nimport FSAErrorChecker from './FSAErrorChecker.js';\nimport DFA from 'modules/fsa/machine/DFA.js';\nimport NFA from 'modules/fsa/machine/NFA.js';\nimport Node from 'modules/fsa/graph/FSANode.js';\n\nclass FSABuilder extends AbstractMachineBuilder\n{\n  constructor()\n  {\n    super();\n\n    this._machine = new NFA();\n    this._deterministic = true;\n    this._symbols = [];\n\n    this._errorChecker = new FSAErrorChecker();\n\n    this.tester = null;\n    this.graphController = null;\n    this.machineController = null;\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n    this.tester = module.getTestingManager();\n    this.graphController = module.getGraphController();\n    this.machineController = module.getMachineController();\n  }\n\n  //Override\n  onGraphChange(graph)\n  {\n    if (!this.tester) return;\n\n    this._machine.clear();\n    const result = this.toNFA(this._machine);\n    for(const s of this._symbols)\n    {\n      this._machine.newSymbol(s);\n    }\n\n    this._errors.length = 0;\n    this._warnings.length = 0;\n    this._errorChecker.checkErrors(this.tester.shouldCheckError, this.graphController, this.machineController);\n    for(const node of this._errorChecker.errorNodes)\n    {\n      this._errors.push({target: node, targetType: 'node'});\n    }\n    for(const edge of this._errorChecker.errorEdges)\n    {\n      this._errors.push({target: edge, targetType: 'edge'});\n    }\n    for(const node of this._errorChecker.warningNodes)\n    {\n      this._warnings.push({target: node, targetType: 'node'});\n    }\n    for(const edge of this._errorChecker.warningEdges)\n    {\n      this._warnings.push({target: edge, targetType: 'edge'});\n    }\n  }\n\n  setDeterministic(deterministic)\n  {\n    if (this._deterministic === deterministic) return;\n    this._deterministic = deterministic;\n\n    this.onGraphChange();\n  }\n\n  isDeterministic()\n  {\n    return this._deterministic;\n  }\n\n  addCustomSymbol(symbol)\n  {\n    this._symbols.push(symbol);\n\n    this.onGraphChange();\n  }\n\n  removeCustomSymbol(symbol)\n  {\n    this._symbols.splice(this._symbols.indexOf(symbol), 1);\n\n    this.onGraphChange();\n  }\n\n  renameCustomSymbol(prevSymbol, nextSymbol)\n  {\n    const i = this._symbols.indexOf(prevSymbol);\n    if (i <= 0) throw new Error(\"Trying to rename unknown symbol \\'\" + prevSymbol + \"\\'\");\n    this._symbols[i] = nextSymbol;\n\n    this.onGraphChange();\n  }\n\n  isCustomSymbol(symbol)\n  {\n    return this._symbols.includes(symbol);\n  }\n\n  toDFA(dst = null)\n  {\n    const result = dst || new DFA();\n    if (!(result instanceof DFA))\n      throw new Error(\"Trying to parse graph mismatched machine type.\");\n    const graph = this.graphController.getGraph();\n    fillFSA(graph, result);\n    return result;\n  }\n\n  toNFA(dst=null)\n  {\n    const result = dst || new NFA();\n    if (!(result instanceof NFA))\n      throw new Error(\"Trying to parse graph mismatched machine type.\");\n    const graph = this.graphController.getGraph();\n    fillFSA(graph, result);\n    return result;\n  }\n\n  //Override\n  getMachine()\n  {\n    return this._machine;\n  }\n}\n\nfunction fillFSA(graph, fsa)\n{\n  if (graph.getNodes().length <= 0) return fsa;\n  //Create all the nodes\n  for(const node of graph.getNodes())\n  {\n    try\n    {\n      let state = node.getNodeLabel();\n      fsa.newState(state);\n\n      //Set final state\n      if (node.getNodeAccept())\n      {\n        fsa.setFinalState(state, true);\n      }\n    }\n    catch(e)\n    {\n      throw e;\n    }\n  }\n\n  //Create all the edges\n  for(const edge of graph.getEdges())\n  {\n    //Ignore any incomplete edges\n    if (edge.isPlaceholder()) continue;\n    const from = edge.getSourceNode();\n    const to = edge.getDestinationNode();\n    if (from instanceof Node && to instanceof Node)\n    {\n      const labels = edge.getEdgeSymbolsFromLabel();\n      for(const label of labels)\n      {\n        try\n        {\n          fsa.newTransition(from.getNodeLabel(), to.getNodeLabel(), label);\n        }\n        catch(e)\n        {\n          throw e;\n        }\n      }\n    }\n  }\n\n  //Set start state\n  let startState = graph.getStartNode().getNodeLabel();\n  fsa.setStartState(startState);\n\n  return fsa;\n}\n\nexport default FSABuilder;\n","import DFA from 'modules/fsa/machine/DFA.js';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nexport function convertToDFA(nfa, dst=null)\n{\n\n  //Avoid runtime errors for empty nfas\n  if(nfa.getStates().length == 0) return;\n\n  const result = dst || new DFA();\n\n  const alphabet = nfa.getAlphabet();\n  const startState = nfa.getStartState();\n\n  //Make new DFA start state\n  let nextStates = nfa.doClosureTransition(startState);\n  const newStartState = newDFAStateFromNFA(result, nfa, nextStates);\n\n  //For every state from the NFA's powerset, add it to DFA with correct transitions\n  const powerSetStates = nfa.getPowerSet();\n  for(const powerSetState of powerSetStates) {\n      console.log(\"Adding to DFA: \" + getStateFromSet(powerSetState));\n      if(powerSetState.length != 0)\n        expandPowersetStateToDFA(powerSetState, nfa, result);\n  }\n\n  //Create trap state\n  const trapState = result.newState(\"{}\");\n  let flag = false;\n\n  //Check for the new alphabet...\n  const newAlphabet = result.getAlphabet();\n  for(const state of result.getStates())\n  {\n    for(const symbol of newAlphabet)\n    {\n      //If transition for this symbol does not exist...\n      if (!result.doTransition(state, symbol))\n      {\n        //Create it\n        result.newTransition(state, trapState, symbol);\n\n        if (state !== trapState) flag = true;\n      }\n    }\n  }\n\n  return result;\n}\n\n/* Inspired by expandNFAStateToDFA, it takes a powerSetState, which is a set\n * of NFA states from the powerset (e.g. [q1, q1]) and adds it to the DFA as a\n * single state (e.g. {q1, q2}) and adds its transitions\n */\nfunction expandPowersetStateToDFA(powerSetState, nfa, dfa) {\n    const result = [];\n    const alphabet = nfa.getAlphabet();\n    const state = getStateFromSet(powerSetState);\n\n    if(!dfa.hasState(state)) {\n        result.push(newDFAStateFromNFA(dfa, nfa, powerSetState));\n    }\n\n    let terminals = [];\n    let dfaState = null;\n\n    for(const symbol of alphabet)\n    {\n      //Get all closed reachable states...\n      for(const s of powerSetState)\n      {\n        nfa.doTerminalTransition(s, symbol, terminals);\n      }\n\n      //If has reachable states...\n      if (terminals.length > 0)\n      {\n        dfaState = getStateFromSet(terminals);\n\n        //Create state if it does not exist...\n        if (!dfa.hasState(dfaState))\n        {\n          dfaState = newDFAStateFromNFA(dfa, nfa, terminals);\n          result.push(dfaState);\n        }\n\n        //Create transition for reachable state\n        dfa.newTransition(state, dfaState, symbol);\n      }\n\n      //Reset list\n      terminals.length = 0;\n    }\n\n    return result;\n}\n\nfunction expandNFAStateToDFA(state, nfa, dfa)\n{\n  const result = [];\n  const alphabet = nfa.getAlphabet();\n\n  let terminals = [];\n  let nfaStates = null;\n  let dfaState = null;\n\n  for(const symbol of alphabet)\n  {\n    //Get all closed reachable states...\n    nfaStates = getSetFromState(state);\n    for(const s of nfaStates)\n    {\n      nfa.doTerminalTransition(s, symbol, terminals);\n    }\n\n    //If has reachable states...\n    if (terminals.length > 0)\n    {\n      dfaState = getStateFromSet(terminals);\n\n      //Create state if it does not exist...\n      if (!dfa.hasState(dfaState))\n      {\n        dfaState = newDFAStateFromNFA(dfa, nfa, terminals);\n        result.push(dfaState);\n      }\n\n      //Create transition for reachable state\n      dfa.newTransition(state, dfaState, symbol);\n    }\n\n    //Reset list\n    terminals.length = 0;\n  }\n\n  return result;\n}\n\nfunction newDFAStateFromNFA(dfa, nfa, nfaStates)\n{\n  const result = dfa.newState(getStateFromSet(nfaStates));\n\n  //If the NFA states contain a final, then DFA state should be final\n  for(const s of nfaStates)\n  {\n    if (nfa.isFinalState(s))\n    {\n      dfa.setFinalState(result);\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction getStateFromSet(nfaStates)\n{\n  nfaStates.sort();\n  return \"{\" + nfaStates.join(\",\") + \"}\";\n}\n\nfunction getSetFromState(dfaState)\n{\n  return dfaState.substring(1, dfaState.length - 1).split(\",\");\n}\n","import AbstractMachineController from 'modules/abstract/AbstractMachineController.js';\nimport Eventable from 'util/Eventable.js';\n\n//import FSABuilder from 'modules/fsa2/machine/FSABuilder.js';\n//HACK: this is only to support the old FSABuilder (remove this once finished)\nimport FSABuilder from 'modules/fsa/builder/FSABuilder.js';\n\nimport GraphLayout from 'modules/fsa/graph/GraphLayout.js';\nimport { convertToDFA } from 'modules/fsa/machine/util/convertNFA.js';\nimport DFA from 'modules/fsa/machine/DFA.js';\n\nclass MachineController extends AbstractMachineController\n{\n  constructor(module)\n  {\n    super(module, new FSABuilder());\n\n    this.machineName = null;\n\n    this.graphController = null;\n\n    //userChangeMachine(machineBuilder, nextMachineType, prevMachineType) - when user changes machine type\n    this.registerEvent(\"userChangeMachine\");\n    //userConvertMachine(machineBuilder, nextMachineType, prevMachineType) - when user converts machine type\n    this.registerEvent(\"userConvertMachine\");\n    this.registerEvent(\"userPreConvertMachine\");//Before changes\n    this.registerEvent(\"userPostConvertMachine\");//After all changes\n    //userRenameMachine(machineBuilder, nextMachineName, prevMachineName) - when machine name is changed\n    this.registerEvent(\"userRenameMachine\");\n    //userCreateSymbol(machineBuilder, symbol) - When user adds a custom symbol\n    this.registerEvent(\"userCreateSymbol\");\n    //userDeleteSymbol(machineBuilder, symbol, prevEdges) - When user delets a symbol (and affects the edges)\n    this.registerEvent(\"userDeleteSymbol\");\n    this.registerEvent(\"userPreDeleteSymbol\");//userPreDeleteSymbol(machineBuilder, symbol)\n    this.registerEvent(\"userPostDeleteSymbol\");\n    //userRenameSymbol(machineBuilder, symbol, prevSymbol, targetEdges) - When user renames a used symbol (and affects the edges)\n    this.registerEvent(\"userRenameSymbol\");\n    this.registerEvent(\"userPreRenameSymbol\");//userPreDeleteSymbol(machineBuilder, symbol, prevSymbol)\n    this.registerEvent(\"userPostRenameSymbol\");\n  }\n\n  //Override\n  initialize(module)\n  {\n    super.initialize(module);\n\n    this.graphController = module.getGraphController();\n  }\n\n  //Override\n  destroy(module)\n  {\n    super.destroy(module);\n  }\n\n  //Override\n  update(module)\n  {\n    super.update(module);\n  }\n\n  getMachineType()\n  {\n    //return this._machineBuilder.getMachine().isDeterministic() ? \"DFA\" : \"NFA\";\n    //HACK: this is only to support the old FSABuilder (remove this once finished)\n    return this._machineBuilder.isDeterministic() ? \"DFA\" : \"NFA\";\n  }\n\n  setMachineType(machineType)\n  {\n    //this._machineBuilder.getMachine().setDeterministic(machineType === 'DFA');\n    //HACK: this is only to support the old FSABuilder (remove this once finished)\n    this._machineBuilder.setDeterministic(machineType === 'DFA');\n  }\n\n  getMachineName()\n  {\n    return this.machineName || I18N.toString(\"file.untitled\");\n  }\n\n  setMachineName(machineName)\n  {\n    if (!machineName || machineName.length <= 0)\n    {\n      this.machineName = null;\n    }\n    else\n    {\n      this.machineName = machineName;\n    }\n\n    const value = this.getMachineName();\n    const element = document.getElementById('window-title');\n    const string = element.innerHTML;\n    const separator = string.indexOf('-');\n    if (separator !== -1)\n    {\n      element.innerHTML = string.substring(0, separator).trim() + \" - \" + value;\n    }\n    else\n    {\n      element.innerHTML = string + \" - \" + value;\n    }\n  }\n\n  renameMachine(machineName)\n  {\n    const prev = this.machineName;\n    this.setMachineName(machineName);\n\n    //Emit a user rename machine event\n    this.emit(\"userRenameMachine\", this.getMachineBuilder(), machineName, prev);\n  }\n\n  changeMachineTo(machineType)\n  {\n    const prev = this.getMachineType();\n    if (prev != machineType)\n    {\n      this.setMachineType(machineType);\n\n      //Emit event\n      this.emit(\"userChangeMachine\", this.getMachineBuilder(), machineType, prev);\n    }\n  }\n\n  getFirstGraphNodeByLabel(graph, label)\n  {\n    for(const node of graph.getNodes())\n    {\n      if (node.getNodeLabel() == label)\n      {\n        return node;\n      }\n    }\n\n    return null;\n  }\n\n  setGraphToMachine(graph, machine)\n  {\n    graph.clear();\n\n    //Add all states\n    let node;\n    for(const state of machine.getStates())\n    {\n      node = graph.createNode(0, 0);\n      node.setNodeLabel(state);\n      if (machine.isFinalState(state))\n      {\n        node.setNodeAccept(true);\n      }\n    }\n\n    //Add all transitions\n    let edge, from, to, read, labels, flag;\n    for(let transition of machine.getTransitions())\n    {\n      from = this.getFirstGraphNodeByLabel(graph, transition[0]);\n      read = transition[1];\n      to = this.getFirstGraphNodeByLabel(graph, transition[2]);\n      edge = graph.createEdge(from, to);\n      edge.setEdgeLabel(read);\n      const formattedEdge = graph.formatEdge(edge);\n      if (edge != formattedEdge) graph.deleteEdge(edge);\n    }\n\n    //Set start state\n    const startState = machine.getStartState();\n    graph.setStartNode(this.getFirstGraphNodeByLabel(graph, startState));\n\n    //Auto layout graph\n    GraphLayout.applyLayout(graph);\n  }\n\n  convertMachineTo(machineType)\n  {\n    const currentMachineType = this.getMachineType();\n\n    //Already converted machine...\n    if (currentMachineType === machineType) return;\n\n    if (machineType == \"DFA\" && currentMachineType == \"NFA\")\n    {\n      this.emit(\"userPreConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n\n      const result = convertToDFA(this.getMachineBuilder().getMachine(), new DFA());\n      this.setGraphToMachine(this.graphController.getGraph(), result);\n      this.setMachineType(machineType);\n\n      this.emit(\"userConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n      this.emit(\"userPostConvertMachine\", this.getMachineBuilder(), machineType, currentMachineType);\n    }\n    else if (machineType == \"NFA\" && currentMachineType == \"DFA\")\n    {\n      this.changeMachineTo(machineType);\n    }\n    else\n    {\n      throw new Error(\"Conversion scheme between \\'\" + currentMachineType + \"\\' to \\'\" + machineType + \"\\' is not supported\");\n    }\n  }\n\n  getUnreachableNodes()\n  {\n    const graphController = this.graphController;\n    const graph = graphController.getGraph();\n    if (graph.getNodeCount() <= 1) return [];\n\n    const edges = graph.getEdges();\n    const nodes = graph.getNodes().slice();\n    const startNode = nodes.shift();\n    let nextNodes = [];\n    nextNodes.push(startNode);\n\n    while(nextNodes.length > 0)\n    {\n      const node = nextNodes.pop();\n      for(const edge of edges)\n      {\n        if (edge.getSourceNode() === node)\n        {\n          const i = nodes.indexOf(edge.getDestinationNode());\n          if (i >= 0)\n          {\n            const nextNode = nodes.splice(i, 1)[0];\n            nextNodes.push(nextNode);\n          }\n        }\n      }\n    }\n\n    return nodes;\n  }\n\n  getStates()\n  {\n    return this._machineBuilder.getMachine().getStates();\n  }\n\n  countStates()\n  {\n    return this.getStates().length;\n  }\n\n  getFinalStates()\n  {\n    return this._machineBuilder.getMachine().getFinalStates();\n  }\n\n  getTransitions()\n  {\n    return this._machineBuilder.getMachine().getTransitions();\n  }\n\n  getAlphabet()\n  {\n    const machine = this._machineBuilder.getMachine();\n    const result = [];\n    machine.getAlphabet(result);\n    return result;\n  }\n\n  isUsedSymbol(symbol)\n  {\n    return !this.isCustomSymbol(symbol);\n  }\n\n  createSymbol(symbol)\n  {\n    this.getMachineBuilder().addCustomSymbol(symbol);\n\n    this.emit(\"userCreateSymbol\", this.getMachineBuilder(), symbol);\n  }\n\n  deleteSymbol(symbol)\n  {\n    let edge = null;\n    let index = null;\n    let result = null;\n    const targets = [];\n\n    this.emit(\"userPreDeleteSymbol\", this.getMachineBuilder(), symbol);\n\n    const graph = this.graphController.getGraph();\n    for(let i = graph.getEdges().length - 1; i >= 0; --i)\n    {\n      edge = graph.getEdges()[i];\n      index = edge.getEdgeLabel().indexOf(symbol);\n      if (index >= 0)\n      {\n        result = edge.getEdgeLabel().substring(0, index) + edge.getEdgeLabel().substring(index + 1);\n        if (result.length > 0)\n        {\n          edge.setEdgeLabel(result);\n        }\n        else\n        {\n          edge.setEdgeLabel(\"\");\n          graph.deleteEdge(edge);\n        }\n        targets.push(edge);\n      }\n    }\n\n    if (targets.length <= 0)\n    {\n      this.getMachineBuilder().removeCustomSymbol(symbol);\n    }\n\n    this.emit(\"userDeleteSymbol\", this.getMachineBuilder(), symbol, targets);\n    this.emit(\"userPostDeleteSymbol\", this.getMachineBuilder(), symbol, targets);\n  }\n\n  renameSymbol(prevSymbol, nextSymbol)\n  {\n    let edge = null;\n    let result = null;\n    const targets = [];\n\n    this.emit(\"userPreRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol);\n\n    const graph = this.graphController.getGraph();\n    const length = graph.getEdges().length;\n    for(let i = 0; i < length; ++i)\n    {\n      edge = graph.getEdges()[i];\n      let result = edge.getEdgeLabel().replace(prevSymbol, nextSymbol);\n      if (result != edge.getEdgeLabel())\n      {\n        targets.push(edge);\n      }\n      edge.setEdgeLabel(result);\n    }\n\n    if (targets.length <= 0)\n    {\n      this.getMachineBuilder().renameCustomSymbol(prevSymbol, nextSymbol);\n    }\n\n    this.emit(\"userRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol, targets);\n    this.emit(\"userPostRenameSymbol\", this.getMachineBuilder(), nextSymbol, prevSymbol, targets);\n  }\n\n  getCustomSymbols()\n  {\n    //return Array.from(this._machineBuilder.getMachine().getCustomSymbols());\n    //HACK: this is only to support the old FSABuilder (remove this once finished)\n    return this.getMachineBuilder()._symbols;\n  }\n\n  isCustomSymbol(symbol)\n  {\n    return this._machineBuilder.isCustomSymbol(symbol);\n  }\n\n  addCustomSymbol(symbol)\n  {\n    //this._machineBuilder.getMachine().setCustomSymbol(symbol);\n    //HACK: this is only to support the old FSABuilder (remove this once finished)\n    this._machineBuilder.addCustomSymbol(symbol);\n  }\n\n  clearCustomSymbols()\n  {\n    //this._machineBuilder.getMachine().clearCustomSymbols();\n    //HACK: this is only to support the old FSABuilder (remove this once finished)\n    this.getMachineBuilder()._symbols.length = 0;\n  }\n}\nEventable.mixin(MachineController);\n\nexport default MachineController;\n","import React from 'react';\n\nimport Config from 'deprecated/config.js';\n\nclass NodeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    //TODO: Refer to app.css for comparable colors\n    const node = this.props.node;\n    return <g className=\"graph-node-container\">\n      {/*Outer circle*/}\n      <circle className=\"graph-node\"\n        cx={node.x}\n        cy={node.y}\n        r={Config.NODE_RADIUS}\n\n        fill=\"#FEE781\"\n        stroke=\"#000000\"/>\n\n      {/*Inner circle*/}\n      {node.getNodeAccept() &&\n        <circle className=\"graph-node-inner\"\n          cx={node.x}\n          cy={node.y}\n          r={Config.NODE_RADIUS_INNER}\n          fill=\"none\"\n\n          stroke=\"#000000\"/>}\n\n      //Label\n      <text className=\"graph-node-label\"\n        x={node.x} y={node.y + 4}\n        pointerEvents=\"none\"\n        style={{\n          userSelect: \"none\",\n          fontSize: (1 - Math.min(Math.max(node.getNodeLabel().length - 2, 0) / 6, 0.5)) + \"em\"\n        }}\n        textAnchor=\"middle\">\n        {node.getNodeLabel()}\n      </text>\n    </g>;\n  }\n}\n\nexport default NodeRenderer;\n","import React from 'react';\n\nimport Config from 'deprecated/config.js';\n\nclass EdgeRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const SIXTH_PI = Math.PI / 6;\n\n    let arrowAngle = 0;\n    const edge = this.props.edge;\n    const start = edge.getStartPoint();\n    const end = edge.getEndPoint();\n    const center = edge.getCenterPoint();\n    const label = edge.getEdgeLabel();\n    const quad = edge.getQuadratic();\n    const quadCoords = edge.getQuadraticAsCoords();\n    const edgeDir = edge.getEdgeDirection();\n    const flipLabel = quadCoords.y > 0;\n\n    //Calculate curved lines...\n    let quadLine = null;\n    if (!edge.isQuadratic())\n    {\n      //Straight line\n      arrowAngle = Math.atan2(start.x - end.x, start.y - end.y) + Math.PI;\n      quadLine = \"L \" + end.x + \" \" + end.y;\n    }\n    else\n    {\n      //Quadratic curve\n      //center = (midpoint + the quadratic offset) + the quadratic offset\n      const cx = center.x + quadCoords.x;\n      const cy = center.y + quadCoords.y;\n      arrowAngle = Math.atan2(cx - end.x, cy - end.y) + Math.PI;\n      quadLine = \"Q \" + cx + \" \" + cy + \" \" + end.x + \" \" + end.y;\n    }\n\n    //Draw multiple labels\n    const labels = edge.getEdgeSymbolsFromLabel();\n    let dy = 0;\n\n    const cx = (center && center.x || 0);\n    const cy = (center && center.y || 0);\n\n    return <g className=\"graph-edge-container\">\n      //Draw lines\n      <path className=\"graph-edge\" id={\"edge:\" + edge.getGraphElementID()}\n        d={\n          \"M \" + start.x + \" \" + start.y + \" \" +\n          quadLine + \" \" +\n          \"M \" +\n            (end.x - (Config.ARROW_WIDTH * Math.sin(arrowAngle - SIXTH_PI))) + \" \" +\n            (end.y - (Config.ARROW_WIDTH * Math.cos(arrowAngle - SIXTH_PI))) + \" \" +\n          \"L \" + end.x + \" \" + end.y + \" \" +\n          \"L \" +\n            (end.x - (Config.ARROW_WIDTH * Math.sin(arrowAngle + SIXTH_PI))) + \" \" +\n            (end.y - (Config.ARROW_WIDTH * Math.cos(arrowAngle + SIXTH_PI)))}\n        fill=\"none\"\n\n        stroke=\"#000000\"/>\n\n      {/*Draw labels*/}\n      <g transform={\"translate(\" + (cx) + \",\" + (cy) + \") rotate(\" + (edgeDir * 180 / Math.PI) + \")\"}>\n      { labels.length > 0 && labels.map((str, i) => {\n          const yy = (i + 1) * -15;\n\n          //TODO: ctx.clearRect(xx - cx - 2, yy - 5, (cx * 2) + 4, 10);\n          return <text\n            key={str + \".\" + i}\n            className=\"graph-edge-label\"\n            transform={\"translate(0, \" + yy + \")\" + (flipLabel ? \" scale(-1, -1)\" : \"\")}\n            alignmentBaseline=\"central\"\n            pointerEvents=\"none\"\n            style={{userSelect: \"none\"}}\n            textAnchor=\"middle\">\n            {str}\n          </text>;\n      })}\n      </g>\n    </g>;\n  }\n}\n\nexport default EdgeRenderer;\n","import React from 'react';\n\nimport Node from 'modules/fsa/graph/FSANode.js';\n\nimport Config from 'deprecated/config.js';\n\nclass InitialMarkerRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const node = this.props.node;\n    //node.x + offset marker back to center if not a node (or is a pointer)\n    const x = node.x + (!(node instanceof Node) ? -Config.INITIAL_MARKER_OFFSET_X : 0);\n    const y = node.y;\n    const r = Config.NODE_RADIUS;\n    const d = r * 2;\n    return <g className=\"graph-initial-container\">\n      <path className=\"graph-initial\" d={\n        \"M\" + (x - r) + \" \" + (y) +\n        \" L\" + (x - d) + \" \" + (y - r) +\n        \" L\" + (x - d) + \" \" + (y + r) +\n        \" Z\"}\n        fill=\"none\"\n\n        stroke=\"#000000\"/>\n    </g>;\n  }\n}\n\nexport default InitialMarkerRenderer;\n","import React from 'react';\nimport './FSAGraphRenderer.css';\n\nimport NodeRenderer from './NodeRenderer.js';\nimport EdgeRenderer from './EdgeRenderer.js';\nimport InitialMarkerRenderer from './InitialMarkerRenderer.js';\n\nclass FSAGraphRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const currentModule = this.props.currentModule;\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const graph = graphController.getGraph();\n\n    return <g>\n      {/* Nodes */}\n      {graph.getNodes().map((e, i) => <NodeRenderer key={e.getGraphElementID() || i} node={e}/>)}\n\n      {/* Edges */}\n      {graph.getEdges().map((e, i) => <EdgeRenderer key={e.getGraphElementID() || i} edge={e}/>)}\n\n      {/* Initial marker and ghost */}\n      { graph.getStartNode() && (inputController.ghostInitialMarker == null ?\n        <InitialMarkerRenderer node={graph.getStartNode()}/> :\n        <InitialMarkerRenderer node={inputController.ghostInitialMarker}/>) }\n    </g>;\n  }\n}\n\nexport default FSAGraphRenderer;\n","import React from 'react';\n\nimport Config from 'deprecated/config.js';\n\nclass SelectionBoxRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    const visible = this.props.visible;\n    const fromX = this.props.fromX || 0;\n    const fromY = this.props.fromY || 0;\n    const toX = this.props.toX || fromX + 1;\n    const toY = this.props.toY || fromY + 1;\n\n    const dx = toX - fromX;\n    const dy = toY - fromY;\n\n    return <g className=\"graph-selection-container\">\n    { visible &&\n      <rect className=\"graph-selection\"\n        x={dx < 0 ? toX : fromX}\n        y={dy < 0 ? toY : fromY}\n        width={dx < 0 ? -dx : dx}\n        height={dy < 0 ? -dy : dy}/> }\n    </g>;\n  }\n}\n\nexport default SelectionBoxRenderer;\n","import React from 'react';\nimport Config from 'deprecated/config.js';\n\nconst HIGHLIGHT_RADIUS_OFFSET = 4;\nconst HIGHLIGHT_LINE_WIDTH = 3;\nconst HIGHLIGHT_LINE_ARRAY = [8, 6];\n\nclass HighlightRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const target = this.props.target;\n    const type = this.props.type;\n\n    let x = 0;\n    let y = 0;\n    let r = Config.CURSOR_RADIUS;\n    switch(type)\n    {\n      case \"node\":\n        x = target.x || 0;\n        y = target.y || 0;\n        r = Config.NODE_RADIUS;\n        break;\n      case \"edge\":\n        const center = target.getCenterPoint();\n        x = center.x || 0;\n        y = center.y || 0;\n        r = Config.EDGE_RADIUS;\n        break;\n      case \"endpoint\":\n        const endpoint = target.getEndPoint();\n        x = endpoint.x || 0;\n        y = endpoint.y || 0;\n        r = Config.ENDPOINT_RADIUS;\n        break;\n      case \"initial\":\n        x = target.x + Config.INITIAL_MARKER_OFFSET_X || 0;\n        y = target.y || 0;\n        r = Config.EDGE_RADIUS;\n        break;\n    }\n\n    return <g className=\"graph-highlight-container\">\n      <circle className={\"graph-highlight \" + this.props.className}\n        cx={x} cy={y}\n        r={r + HIGHLIGHT_RADIUS_OFFSET}\n        strokeDashoffset={this.props.offset || 0}\n        strokeDasharray={HIGHLIGHT_LINE_ARRAY}\n        strokeWidth={HIGHLIGHT_LINE_WIDTH}\n        fill=\"none\"/>\n    </g>;\n  }\n}\n\nexport default HighlightRenderer;\n","import React from 'react';\n\nimport SelectionBoxRenderer from 'deprecated/content/workspace/renderer/SelectionBoxRenderer.js';\nimport HighlightRenderer from 'deprecated/content/workspace/renderer/HighlightRenderer.js';\n\nclass FSAGraphOverlayRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n\n    const graphController = currentModule.getGraphController();\n    const inputController = currentModule.getInputController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const graph = graphController.getGraph();\n    const viewport = inputController.getInputAdapter().getViewport();\n    const machineBuilder = machineController.getMachineBuilder();\n    const machineErrors = machineBuilder.getMachineErrors();\n    const machineWarnings = machineBuilder.getMachineWarnings();\n    const picker = inputController.getPicker();\n    const selectionBox = picker.getSelectionBox();\n    const shouldShowErrors = tester.shouldCheckError;\n\n    return <g>\n      {/* Selected elements */}\n      { picker.hasSelection() &&\n        picker.getSelection(graph).map((e, i) =>\n          <HighlightRenderer key={e.getGraphElementID()} className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={e} type=\"node\"/>) }\n\n      {/* Selection box */}\n      <SelectionBoxRenderer visible={selectionBox.visible}\n        fromX={selectionBox.fromX} fromY={selectionBox.fromY}\n        toX={selectionBox.toX} toY={selectionBox.toY}/>\n\n      {shouldShowErrors &&\n        machineWarnings.map(e => {\n          const target = e['target'];\n          const targetType = e['targetType'];\n          if (!target) return;\n          return <HighlightRenderer key={target.getGraphElementID()} className=\"highlight-warning graph-gui\" target={target} type={targetType} offset={6}/>;\n        })}\n      {shouldShowErrors &&\n        machineErrors.map(e => {\n          const target = e['target'];\n          const targetType = e['targetType'];\n          if (!target) return;\n          return <HighlightRenderer key={target.getGraphElementID()} className=\"highlight-error graph-gui\" target={target} type={targetType} offset={6}/>;\n        })}\n\n      {/* Node test targets */}\n      { tester.testMode.targets.map((e, i) => {\n          return <HighlightRenderer key={e.getGraphElementID()} className=\"highlight-test graph-gui\" target={e} type=\"node\" offset=\"6\"/>;\n        }) }\n\n      {/* Hover markers */}\n      { picker.hasTarget() &&\n        !picker.isTargetInSelection() &&\n        <HighlightRenderer className={inputController.isTrashMode() ? \"highlight-error\" : \"highlight-select\"} target={picker.target} type={picker.targetType}/> }\n    </g>;\n  }\n}\n\nexport default FSAGraphOverlayRenderer;\n","import React from 'react';\nimport './TrashCan.css';\n\nimport Viewport from './Viewport.js';\n\nclass TrashCan extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.state = {\n      staticTrash: false\n    };\n  }\n\n  onTrashEnter(e)\n  {\n    if (this.state.staticTrash) return;\n    this.props.inputController.setTrashMode(true);\n\n    //Enable mode: dangerous\n    this.props.viewport.setState((prev, props) => {\n      return {mode: Viewport.DANGEROUS};\n    });\n  }\n\n  onTrashLeave(e)\n  {\n    if (this.state.staticTrash) return;\n    this.props.inputController.setTrashMode(false);\n\n    //Disable mode: dangerous\n    this.props.viewport.setState((prev, props) => {\n      return {mode: Viewport.NORMAL};\n    });\n  }\n\n  onTrashClick(e)\n  {\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.setState((prev, props) => {\n      const result = !prev.staticTrash;\n      this.props.inputController.setTrashMode(result);\n\n      //Enable mode: dangerous\n      this.props.viewport.setState((prev, props) => {\n        return {mode: result ? Viewport.DANGEROUS : Viewport.NORMAL};\n      })\n\n      return {\n        staticTrash: result\n      };\n    });\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const inputAdapter = inputController.getInputAdapter();\n\n    return <svg id=\"trash-btn\"\n      className={(inputController.isTrashMode() ? \"danger \" : \"\") +\n        (inputAdapter.isUsingTouch() && inputAdapter.isDragging() ? \"hidden\" : \"\")}\n      width=\"24\" height=\"24\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      onMouseEnter={this.onTrashEnter.bind(this)}\n      onMouseLeave={this.onTrashLeave.bind(this)}\n      onClick={this.onTrashClick.bind(this)}>\n      <path d={\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 \" +\n      \"1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 \" +\n      \"1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 \" +\n      \"1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"}/>\n    </svg>;\n  }\n}\n\nexport default TrashCan;\n","import React from 'react';\n\nclass PlayIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M8 5v14l11-7z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default PlayIcon;\n","import React from 'react';\n\nclass PauseIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"pause-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default PauseIcon;\n","import React from 'react';\n\nclass StopIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"stop-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M6 6h12v12H6z\"/>\n    </svg>;\n  }\n}\n\nexport default StopIcon;\n","import React from 'react';\nimport './TestTray.css';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport PlayIcon from 'deprecated/icons/PlayIcon.js';\nimport PauseIcon from 'deprecated/icons/PauseIcon.js';\nimport StopIcon from 'deprecated/icons/StopIcon.js';\nimport UndoIcon from 'deprecated/icons/UndoIcon.js';\nimport RedoIcon from 'deprecated/icons/RedoIcon.js';\n\nconst MAX_STRING_PREV_LENGTH = 2;\nconst MAX_ELLIPSIS_COUNT = 3;\n\nclass TestTray extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const graphController = this.props.graphController;\n    const tester = this.props.tester;\n    const testList = this.props.tester.inputList;\n    const testMode = this.props.tester.testMode;\n    const testInput = testList.getCurrentInput();\n    const testIndex = testMode.getCurrentTestStringIndex();\n\n    return <div className=\"test-tray-container\">\n      <div className=\"test-tray-input-string-container\">\n      {\n        testInput && testIndex >= 0 &&\n        testInput.value.split('').map((e, i) => {\n          const testOffset = testIndex - i;\n          if (testOffset > MAX_ELLIPSIS_COUNT + MAX_STRING_PREV_LENGTH) return;\n          if (testOffset > MAX_STRING_PREV_LENGTH)\n          {\n            return <span key={e + \".\" + i} className=\"test-tray-input-placeholder\">.</span>;\n          }\n          return <span key={e + \".\" + i}\n            className={\"test-tray-input-char\" +\n            (testIndex == i ? \" active\" : \"\")}>\n            {e}\n            </span>;\n        })\n      }\n      </div>\n      <div className=\"test-tray-control\">\n\n        <IconButton onClick={(e)=>{\n          testMode.onResume();\n        }} disabled={testMode.isRunning()}>\n          <PlayIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onPause();\n        }} disabled={!testMode.isRunning()}>\n          <PauseIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onPreviousStep();\n          /*if (testMode.targets.length > 0)\n          {\n            graphController.focusOnNodes(testMode.targets);\n          }*/\n        }} disabled={!testMode.hasPrevStep() || testMode.isSkipping()}>\n          <UndoIcon/>\n        </IconButton>\n\n        <IconButton onClick = {(e)=>{\n          testMode.onNextStep();\n          /*if (testMode.targets.length > 0)\n          {\n            graphController.focusOnNodes(testMode.targets);\n          }*/\n        }} disabled={!tester.testMode.hasNextStep() || testMode.isSkipping()}>\n          <RedoIcon/>\n        </IconButton>\n\n        <IconButton onClick={(e)=>{\n          tester.setStepByStepMode(false);\n        }}>\n          <StopIcon/>\n        </IconButton>\n\n        <div className=\"trash-placeholder\">{/*PLACEHOLDER for TRASH*/}</div>\n      </div>\n    </div>;\n  }\n}\n\nexport default TestTray;\n","import React from 'react';\n\nclass CreateIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"create-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>;\n  }\n}\n\nexport default CreateIcon;\n","import React from 'react';\n\nclass MoveIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"move-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\" />\n    </svg>;\n  }\n}\n\nexport default MoveIcon;\n","import React from 'react';\nimport './CursorMode.css';\n\nimport IconButton from 'deprecated/icons/IconButton.js';\nimport CreateIcon from 'deprecated/icons/CreateIcon.js';\nimport MoveIcon from 'deprecated/icons/MoveIcon.js';\n\nclass CursorMode extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const graphController = this.props.graphController;\n    const actionMode = inputController.isActionMode();\n\n    return <div id=\"cursor-btn\">\n      <IconButton id=\"action-mode\" className={actionMode ? \"active\" : \"\"}\n        onClick={() => inputController.setInputScheme(true)}\n        title={I18N.toString(\"cursor.actionmode\")}>\n        <CreateIcon/>\n      </IconButton>\n      <IconButton id=\"move-mode\" className={!actionMode ? \"active\" : \"\"}\n        onClick={() => inputController.setInputScheme(false)}\n        title={I18N.toString(\"cursor.movemode\")}>\n        <MoveIcon/>\n      </IconButton>\n    </div>;\n  }\n}\n\nexport default CursorMode;\n","import React from 'react';\n\nimport TrashCan from 'deprecated/content/viewport/TrashCan.js';\nimport TestTray from './TestTray.js';\nimport CursorMode from 'deprecated/content/viewport/CursorMode.js';\n\nclass ViewportRenderer extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    //Inherits props from parent\n    const parent = this.props.parent;\n    const currentModule = this.props.currentModule;\n    const screen = this.props.screen;\n\n    const inputController = currentModule.getInputController();\n    const graphController = currentModule.getGraphController();\n    const machineController = currentModule.getMachineController();\n    const tester = currentModule.getTestingManager();\n\n    const LabelEditor = currentModule.getLabelEditor();\n\n    return <span>\n    { LabelEditor &&\n      <LabelEditor ref={ref=>graphController.labelEditorElement=ref}\n      inputController={inputController}\n      graphController={graphController}\n      machineController={machineController}\n      screen={screen}/> }\n    {\n      tester.getStepByStepMode() ?\n      <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n        <TestTray tester={tester} graphController={graphController}/>\n      </div>\n      :\n      <span>\n        <div className=\"anchor-bottom-left\" style={{width: \"100%\"}}>\n          <CursorMode inputController={inputController} graphController={graphController}/>\n        </div>\n        <div className=\"anchor-bottom-right\">\n          <TrashCan inputController={inputController} viewport={parent}/>\n        </div>\n      </span>\n    }\n    </span>;\n  }\n}\nexport default ViewportRenderer;\n","import React from 'react';\nimport './LabelEditor.css';\n\nimport Config from 'deprecated/config.js';\nimport { SYMBOL_SEPARATOR, EMPTY_CHAR } from 'modules/fsa/graph/FSAEdge.js';\n\nimport FormattedInput from 'deprecated/system/formattedinput/FormattedInput.js';\n\n//TODO: This is equivalent to 4em for toolbar height\nconst LABEL_OFFSET_Y = -64;\nconst EDITOR_OFFSET_Y = -36;\nconst DELETE_KEY = 8;\nconst DELETE_FORWARD_KEY = 46;\n\nconst RECOMMENDED_SYMBOLS = [\"0\", \"1\"];\nconst DEFAULT_SYMBOLS = [EMPTY_CHAR];\nconst DELETE_ON_EMPTY = true;\n\nclass LabelEditor extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n\n    this.parentElement = null;\n    this.inputElement = null;\n\n    //HACK: this is so if the click is focused back to the label editor, then it will NOT close\n    this._timer = null;\n\n    this.state = {\n      target: null,\n      callback: null\n    };\n\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onFormat = this.onFormat.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  openEditor(targetEdge, defaultText=null, replace=true, callback=null)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    this.setState((prev, props) => {\n      return {\n        target: targetEdge,\n        callback: callback\n      };\n    });\n\n    const edgeLabel = targetEdge.getEdgeLabel();\n    this.inputElement.resetValue(edgeLabel, () => {\n      if (defaultText) this.inputElement.setValue(defaultText);\n\n      this.parentElement.focus();\n      this.inputElement.focus(replace);\n    });\n  }\n\n  closeEditor(saveOnExit=false)\n  {\n    //If not yet initilized, ignore any editor access\n    if (!this.inputElement || !this.parentElement)\n    {\n      throw new Error(\"Trying to open editor that has not yet mounted\");\n    }\n\n    //Save data\n    if (this.state.target !== null)\n    {\n      if (saveOnExit)\n      {\n        let value = this.inputElement.value;\n        this.state.target.setEdgeLabel(value);\n      }\n      else\n      {\n        if (!this.state.target.getEdgeLabel())\n        {\n          //Make sure its empty (and let edge handle default labels)\n          this.state.target.setEdgeLabel(null);\n\n          //Delete it since it is not a valid edge\n          if (DELETE_ON_EMPTY)\n          {\n            this.props.graphController.getGraph().deleteEdge(this.state.target);\n          }\n        }\n      }\n\n      this.setState({target: null});\n\n      if (this.state.callback) this.state.callback();\n    }\n\n    //Reset label editor\n    this.inputElement.blur();\n  }\n\n  hasFocus()\n  {\n    return this.inputElement.hasFocus();\n  }\n\n  isEditorOpen()\n  {\n    return this.state.target !== null;\n  }\n\n  onContextMenu(e)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  appendSymbol(symbol)\n  {\n    this.inputElement.appendValue(symbol, SYMBOL_SEPARATOR);\n    this.inputElement.focus(false);\n  }\n\n  onSubmit(newValue, prevValue)\n  {\n    //If the value has changed or the value remained empty...\n    if (newValue !== prevValue)\n    {\n      //this.closeEditor(true);\n    }\n    else\n    {\n      //TODO: This was commented out for some reason...\n      //Will close due to timer...\n      this.closeEditor(false);\n    }\n  }\n\n  onFormat(value)\n  {\n    return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null, value);\n  }\n\n  render()\n  {\n    const inputController = this.props.inputController;\n    const viewport = inputController.getInputAdapter().getViewport();\n    const graphController = this.props.graphController;//This is used in closeEditor()\n    const machineController = this.props.machineController;//This is also used in callbacks\n    const screen = this.props.screen;\n\n    const targetStyle = {\n      visibility: \"hidden\"\n    };\n\n    const target = this.state.target;\n\n    if (target)\n    {\n      targetStyle.visibility = \"visible\";\n\n      //Assumes target is an instance of Edge\n      const center = target.getCenterPoint();\n      const screenPos = transformViewToScreen(screen,\n        center.x + viewport.getOffsetX(),\n        center.y + viewport.getOffsetY());\n      const x = screenPos.x;\n      const y = screenPos.y + LABEL_OFFSET_Y + EDITOR_OFFSET_Y;\n      const offsetX = -(this.parentElement.offsetWidth / 2);\n      const offsetY = -(this.parentElement.offsetHeight / 2);\n\n      targetStyle.top = (y + offsetY) + \"px\";\n      targetStyle.left = (x + offsetX) + \"px\";\n    }\n\n    const usedAlphabet = machineController.getAlphabet();\n\n    return <div className=\"bubble\" id=\"label-editor\" ref={ref=>this.parentElement=ref}\n      tabIndex={\"0\"/*This is to allow div's to focus/blur*/}\n      style={targetStyle}\n      onContextMenu={this.onContextMenu}\n      onFocus={(e)=>{\n        //HACK: delete the timer that will exit labelEditor\n        clearTimeout(this._timer);\n      }}\n      onBlur={(e)=>{\n        //HACK: start the timer that will exit labelEditor if not return focus\n        this._timer = setTimeout(() => this.closeEditor(true), 10);\n      }}>\n      <FormattedInput className=\"label-editor-input\" ref={ref=>this.inputElement=ref}\n        formatter={this.onFormat}\n        onSubmit={this.onSubmit}\n        captureOnExit={\"none\"}/>\n      <div className=\"label-editor-tray\">\n        {\n          usedAlphabet &&\n          <span className=\"label-editor-tray-used\">\n            {\n              usedAlphabet.map((e, i) => {\n                if (e.length < 1) return null;\n                return <button key={i} onClick={ev=>this.appendSymbol(e)}>{e}</button>\n              })\n            }\n          </span>\n        }\n        <span className=\"label-editor-tray-default\">\n          {\n            usedAlphabet &&\n            usedAlphabet.length <= 1 &&\n            RECOMMENDED_SYMBOLS.map((e, i) => {\n              return <button key={i} onClick={ev=>this.appendSymbol(e)}>\n              {e}\n              </button>;\n            })\n          }\n          {\n            DEFAULT_SYMBOLS.map((e, i) => {\n              return <button key={i} onClick={ev=>this.appendSymbol(e)}>\n              {e}\n              </button>;\n            })\n          }\n        </span>\n      </div>\n    </div>;\n  }\n}\n\nfunction transformViewToScreen(svg, x, y)\n{\n  const ctm = svg.getScreenCTM();\n  return {\n    x: (x * ctm.a) + ctm.e,\n    y: (y * ctm.d) + ctm.f\n  };\n}\n\nexport default LabelEditor;\n","class AbstractEventHandler\n{\n  constructor() {}\n\n  applyUndo(undoManager)\n  {\n    throw new Error(\"Undo operation for handler not supported\");\n  }\n\n  applyRedo(undoManager)\n  {\n    throw new Error(\"Redo operation for handler not supported\");\n  }\n}\n\nexport default AbstractEventHandler;\n","import AbstractEventHandler from './AbstractEventHandler.js';\n\nclass SafeGraphEventHandler extends AbstractEventHandler\n{\n  constructor(graphController)\n  {\n    super();\n\n    this._graphController = graphController;\n\n    const parser = graphController.getGraphParser();\n    this._graphData = parser.objectify(graphController.getGraph());\n  }\n\n  //Override\n  applyUndo(undoManager)\n  {\n    const prevEvent = undoManager.getPreviousEvent();\n    if (prevEvent instanceof SafeGraphEventHandler)\n    {\n      prevEvent.applyRedo(undoManager);\n    }\n    else\n    {\n      this._graphController.getGraph().clear();\n    }\n  }\n\n  //Override\n  applyRedo(undoManager)\n  {\n    const graphController = this._graphController;\n    const parser = graphController.getGraphParser();\n    parser.parse(this._graphData, graphController.getGraph());\n  }\n}\nexport default SafeGraphEventHandler;\n","import AbstractModule from 'modules/abstract/AbstractModule.js';\n\nimport Notifications from 'deprecated/system/notification/Notifications.js';\n\nimport OverviewPanel from './panels/overview/OverviewPanel.js';\nimport TestingPanel from './panels/testing/TestingPanel.js';\nimport AnalysisPanel from './panels/analysis/AnalysisPanel.js';\nimport AboutPanel from './panels/about/AboutPanel.js';\n\nimport InputController from './controller/InputController.js';\nimport GraphController from './controller/GraphController.js';\nimport MachineController from './controller/MachineController.js';\n\nimport FSAGraphRenderer from './renderer/FSAGraphRenderer.js';\nimport FSAGraphOverlayRenderer from './renderer/FSAGraphOverlayRenderer.js';\nimport ViewportRenderer from './renderer/ViewportRenderer.js';\n\nimport GraphLayout from './graph/GraphLayout.js';\nimport LabelEditor from './editor/LabelEditor.js';\nimport TestingManager from './testing/TestingManager.js';\n\nimport SafeGraphEventHandler from 'deprecated/system/undomanager/SafeGraphEventHandler.js';\n\nconst VERSION = \"0.0.1\";\nconst PANELS = [AboutPanel, TestingPanel, OverviewPanel, AnalysisPanel];\n\nclass FSAModule extends AbstractModule\n{\n  constructor(app)\n  {\n    super(app);\n\n    this._workspace = null;\n\n    this._undoManager = app.getUndoManager();\n\n    this._inputController = new InputController(this, app.getInputAdapter());\n    this._graphController = new GraphController(this);\n    this._machineController = new MachineController(this);\n\n    //Deprecated (should be anyways)\n    //this._eventManager = new EventManager(app.getUndoManager());\n    //Deprecated\n    this._testingManager = new TestingManager();\n  }\n\n  //Override\n  initialize(app)\n  {\n    const viewport = app.viewport;\n    const workspace = app.workspace;\n\n    this._workspace = workspace;\n\n    super.initialize(app);\n\n    app.getUndoManager()\n      .setEventHandlerFactory((...args) => {\n        return new SafeGraphEventHandler(this._graphController);\n      });\n\n    //this._eventManager.initialize(this);\n\n    this._testingManager.initialize(this, viewport);\n\n    //Notify on create in delete mode\n    const tryCreateWhileTrash = () => {\n      if (this._inputController.isTrashMode())\n      {\n        Notifications.addMessage(I18N.toString(\"message.warning.cannotmodify\"), \"warning\", \"tryCreateWhileTrash\");\n      }\n    };\n    this._graphController.on(\"tryCreateWhileTrash\", tryCreateWhileTrash);\n  }\n\n  //Override\n  destroy(app)\n  {\n    this._testingManager.destroy();\n\n    //this._eventManager.destroy();\n\n    super.destroy(app);\n  }\n\n  //Override\n  update(app)\n  {\n    super.update(app);\n  }\n\n  captureGraphEvent()\n  {\n    this._undoManager.captureEvent(new SafeGraphEventHandler(this._graphController));\n  }\n\n  getGraph()\n  {\n    return this._graphController.getGraph();\n  }\n\n  getTestingManager()\n  {\n    return this._testingManager;\n  }\n\n  getLabelEditor()\n  {\n    return LabelEditor;\n  }\n\n  //Override\n  getRenderer(renderLayer)\n  {\n    switch(renderLayer)\n    {\n      case \"graph\":\n        return FSAGraphRenderer;\n      case \"graphoverlay\":\n        return FSAGraphOverlayRenderer;\n      case \"viewport\":\n        return ViewportRenderer;\n    }\n    return null;\n  }\n  //Override\n  getInputController() { return this._inputController; }\n  //Override\n  getGraphController() { return this._graphController; }\n  //Override\n  getMachineController() { return this._machineController; }\n  //Override\n  getModuleVersion() { return VERSION; }\n  //Override\n  getModulePanels() { return PANELS; }\n  //Override\n  getModuleName() { return \"fsa\"; }\n  //Override\n  getLocalizedModuleName() { return this._machineController.getMachineType(); }\n}\nexport default FSAModule;\n","class GraphChangeHandler\n{\n  constructor(refreshTicks=10)\n  {\n\t\tthis._cachedGraphHash = 0;\n\n    this._refreshTicks = refreshTicks;\n    this._elapsedTicks = Infinity;\n\n    this._listeners = [];\n  }\n\n  addListener(listener)\n  {\n    if (typeof listener !== 'function')\n      throw new Error(\"Cannot add uncallable listener\");\n    this._listeners.push(listener);\n  }\n\n  removeListener(listener)\n  {\n    const i = this._listeners.indexOf(listener);\n    if (i >= 0)\n    {\n      this._listeners.splice(i, 1);\n      return true;\n    }\n    return false;\n  }\n\n  clearListeners()\n  {\n    this._listeners.length = 0;\n  }\n\n  getListeners()\n  {\n    return this._listeners;\n  }\n\n  reset()\n  {\n    this._elapsedTicks = 0;\n    this._cachedGraphHash = 0;\n  }\n\n  update(graph)\n  {\n    if (++this._elapsedTicks >= this._refreshTicks)\n    {\n      this._elapsedTicks = 0;\n\n      const graphHash = graph.getHashCode(false);\n      if (graphHash !== this._cachedGraphHash)\n      {\n        this._cachedGraphHash = graphHash;\n        for(const listener of this._listeners)\n        {\n          listener(graph);\n        }\n      }\n    }\n  }\n}\n\nexport default GraphChangeHandler;\n","import GraphEdge from 'graph/GraphEdge.js';\n\nclass QuadraticEdge extends GraphEdge\n{\n  constructor(id, from, to=null)\n  {\n    super(id, from, null);\n\n    //radians = the angle in radians, where 0 is the normal of midpoint\n    //length = the distance from midpoint\n    this._quad = {\n      radians: 0,\n      length: 0,\n      _coords: {x: 0, y: 0}\n    };\n\n    //Make sure to format it correctly when creating...\n    this.changeDestinationNode(to);\n  }\n\n  setQuadratic(radians, length=undefined)\n  {\n    this._quad.radians = radians;\n    if (typeof length === 'number')\n    {\n      this._quad.length = length;\n    }\n    return this;\n  }\n\n  getQuadratic()\n  {\n    return this._quad;\n  }\n\n  isQuadratic()\n  {\n    return !this.isPlaceholder() && this._quad.length != 0;\n  }\n\n  setQuadraticByCoords(x, y)\n  {\n    const from = this._from;\n    const to = this._to;\n    const fromx = from.x;\n    const fromy = from.y;\n    const tox = to.x;\n    const toy = to.y;\n\n    let dx = tox - fromx;\n    let dy = toy - fromy;\n    const midpointx = fromx + dx / 2;\n    const midpointy = fromy + dy / 2;\n\n    //Remember: y-axis is flipped because canvas coord-space is -y => +y\n    //Therefore, dy needs to be flipped\n    const angleOffset = Math.atan2(-dy, dx);\n    dx = x - midpointx;\n    dy = y - midpointy;\n\n    const PI = Math.PI;\n    const PI2 = PI * 2;\n    const HALFPI = PI / 2;\n    //0 rad = to the right\n    //Also: angleOffset is the offset from midpoint angle, the orthogonal base vector\n    //This is because the from and to could be flipped, and\n    //therefore give a negative, or at least a reversed angle.\n    let radians = Math.atan2(dy, dx) + angleOffset;\n    let length = Math.sqrt(dx * dx + dy * dy);\n    if (length < 0) length = 0;\n\n    const outrad = radians - (-HALFPI);//-PI / 2 is outward\n    const inrad = radians - (HALFPI);//PI / 2 is inward\n    //TODO: Should be dependent on length\n    const maxdr = PI / 20;\n\n    if (Math.abs(length) < 8)\n    {\n      radians = 0;\n      length = 0;\n    }\n    else if (outrad < maxdr && outrad > -maxdr)\n    {\n      radians = -HALFPI;//-PI / 2 is outward\n    }\n    else if (-inrad < maxdr && -inrad > -maxdr)\n    {\n      radians = HALFPI;//PI / 2 is inward\n    }\n\n    this._quad.radians = radians;\n    this._quad.length = length;\n  }\n\n  getQuadraticAsCoords()\n  {\n    const from = this._from;\n    const to = this._to;\n    const dst = this._quad._coords;\n    if (from == null || to == null)\n    {\n      dst.x = 0;\n      dst.y = 0;\n    }\n    else\n    {\n      /*\n      //To mark dirty...\n      _capture: {\n        fx: 0, fy: 0,\n        tx: 0, ty: 0,\n        ql: 0, qr: 0\n      }\n      */\n      getDirectionalVector(from.x, from.y, to.x, to.y, this._quad.length, this._quad.radians, dst);\n    }\n    return dst;\n  }\n\n  getSelfLoopHeight()\n  {\n    return this._from.getNodeSize();\n  }\n\n  formatAsSelfLoop()\n  {\n    this.setQuadratic(-Math.PI / 2, this._from.getNodeSize() + this.getSelfLoopHeight());\n  }\n\n  formatAsPlaceholder(prevDest)\n  {\n    //Quad is re-used to determine edge angle for placeholder\n    //This can be used specifically for quad since regular quad is\n    //dependent on this._to != null, which placeholder assumes this._to == null.\n    //Also, quad.length is ignored, because the length should always be\n    //getPlaceholderLength(). This is resolved by getStartPoint(), etc.\n    if (prevDest)\n    {\n      const dx = this._from.x - prevDest.x;\n      const dy = this._from.y - prevDest.y;\n      const angle = -Math.atan2(dx, dy) - (Math.PI / 2);\n      this._quad.radians = angle;\n    }\n    else\n    {\n      this._quad.radians = 0;\n    }\n  }\n\n  //Override\n  changeDestinationNode(node)\n  {\n    const prevDest = this._to;\n\n    //Just to optimize this a little :)\n    if (prevDest === node) return;\n\n    super.changeDestinationNode(node);\n\n    if (this.isPlaceholder())\n    {\n      this.formatAsPlaceholder(prevDest);\n    }\n    else if (this.isSelfLoop())\n    {\n      this.formatAsSelfLoop();\n    }\n  }\n\n  //Override\n  getEdgeDirection()\n  {\n    let result = 0;\n    if (this.isQuadratic())\n    {\n      const coords = this.getQuadraticAsCoords();\n      result = Math.atan2(coords.y, coords.x) + Math.PI / 2;\n    }\n    else\n    {\n      result = super.getEdgeDirection();\n    }\n\n    return result;\n  }\n\n  //Override\n  getStartPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quad for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const nodeSize = from.getNodeSize();\n      dst.x = from.x + px * nodeSize;\n      dst.y = from.y + py * nodeSize;\n      return dst;\n    }\n\n    //Check if edge is following something other than a node...then remain flat\n    if (!to.getNodeSize || !this.isQuadratic())\n    {\n      getDirectionalVector(from.x, from.y, to.x, to.y, from.getNodeSize(), 0, dst);\n      dst.x += from.x;\n      dst.y += from.y;\n      return dst;\n    }\n    else\n    {\n      getMidPoint(from.x, from.y, to.x, to.y, dst);\n      const qcoords = this.getQuadraticAsCoords();\n      const qx = dst.x + qcoords.x;\n      const qy = dst.y + qcoords.y;\n      getDirectionalVector(from.x, from.y, qx, qy, from.getNodeSize(), this.isSelfLoop() ? (Math.PI / 4) : 0, dst);\n      dst.x += from.x;\n      dst.y += from.y;\n      return dst;\n    }\n  }\n\n  //Override\n  getEndPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quadCoords for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const placeholderLength = from.getNodeSize() + this.getPlaceholderLength();\n      dst.x = from.x + px * placeholderLength;\n      dst.y = from.y + py * placeholderLength;\n      return dst;\n    }\n\n    //Get end point for non-nodes...\n    if (!to.getNodeSize)\n    {\n      return to;\n    }\n    //Get end point for straight edges...\n    else if (!this.isQuadratic())\n    {\n      getDirectionalVector(to.x, to.y, from.x, from.y, to.getNodeSize(), 0, dst);\n      dst.x += to.x;\n      dst.y += to.y;\n      return dst;\n    }\n    //Get end point for quadratics...\n    else\n    {\n      getMidPoint(from.x, from.y, to.x, to.y, dst);\n      const qcoords = this.getQuadraticAsCoords();\n      const qx = dst.x + qcoords.x;\n      const qy = dst.y + qcoords.y;\n      getDirectionalVector(to.x, to.y, qx, qy, to.getNodeSize(), this.isSelfLoop() ? -(Math.PI / 4.0) : 0, dst);\n      dst.x += to.x;\n      dst.y += to.y;\n      return dst;\n    }\n  }\n\n  //Override\n  getCenterPoint(dst={x: 0, y: 0})\n  {\n    const from = this._from;\n    const to = this._to;\n\n    if (!from) throw new Error(\"Source of edge cannot be null.\");\n    if (!to)\n    {\n      //Make sure to use quad for placeholder direction (not magnitude)\n      const px = Math.cos(this._quad.radians);\n      const py = Math.sin(this._quad.radians);\n      const placeholderLength = from.getNodeSize() + this.getPlaceholderLength() / 2;\n      dst.x = from.x + px * placeholderLength;\n      dst.y = from.y + py * placeholderLength;\n      return dst;\n    }\n\n    getMidPoint(from.x, from.y, to.x, to.y, dst);\n\n    if (this.isQuadratic())\n    {\n      const qcoords = this.getQuadraticAsCoords();\n      dst.x += qcoords.x;\n      dst.y += qcoords.y;\n    }\n\n    return dst;\n  }\n\n  //Override\n  getHashString(usePosition=true)\n  {\n    if (usePosition)\n    {\n      return super.getHashString(usePosition) + \":\" + this._quad.radians + \",\" + this._quad.length;\n    }\n    else\n    {\n      return super.getHashString(usePosition);\n    }\n  }\n}\n\nfunction getDirectionalVector(x1, y1, x2, y2, dist, angleOffset=0, dst={x: 0, y: 0})\n{\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const angle = Math.atan2(dy, dx) + angleOffset;\n  dst.x = Math.cos(angle) * dist;\n  dst.y = Math.sin(angle) * dist;\n  return dst;\n}\n\nfunction getMidPoint(x1, y1, x2, y2, dst={x: 0, y: 0})\n{\n  dst.x = x1 + (x2 - x1) / 2;\n  dst.y = y1 + (y2 - y1) / 2;\n  return dst;\n}\n\nexport default QuadraticEdge;\n","import AbstractInputHandler from 'deprecated/system/inputadapter/AbstractInputHandler.js';\n\nclass AbstractInputController extends AbstractInputHandler\n{\n  constructor(module, inputAdapter)\n  {\n    super();\n\n    if (!module) throw new Error(\"Missing module for input controller\");\n    if (!inputAdapter) throw new Error(\"Missing inputAdapter for input controller\");\n\n    this._module = module;\n    this._inputAdapter = inputAdapter;\n  }\n\n  initialize(module) {}\n  destroy(module) {}\n  update(module) {}\n\n  //Override\n  onPreInputEvent(pointer) { return false; }\n  //Override\n  onInputEvent(pointer) { return false; }\n  //Override\n  onAltInputEvent(pointer) { return this.onInputEvent(pointer); }\n  //Override\n  onDblInputEvent(pointer) { return false; }\n  //Override\n  onDragStart(pointer) { return false; }\n  //Override\n  onDragMove(pointer) { return false; }\n  //Override\n  onDragStop(pointer) { return false; }\n  //Override\n  onPostInputEvent(pointer) {}\n  //Override\n  onZoomChange(pointer, zoomValue, prevValue) { return false; }\n\n  getInputAdapter()\n  {\n    return this._inputAdapter;\n  }\n\n  getModule()\n  {\n    return this._module;\n  }\n}\n\nexport default AbstractInputController;\n","class AbstractGraphController\n{\n  constructor(module, graph, labeler, parser)\n  {\n    if (!module) throw new Error(\"Missing module for graph controller\");\n    if (!graph) throw new Error(\"Missing graph for graph controller\");\n    if (!labeler) throw new Error(\"Missing graph labeler for graph controller\");\n    if (!parser) throw new Error(\"Missing graph parser for graph controller\");\n\n    this._module = module;\n    this._graph = graph;\n    this._labeler = labeler;\n    this._parser = parser;\n  }\n\n  initialize(module) {}\n  destroy(module) {}\n  update(module) {}\n\n  getGraphParser(type=\"JSON\")\n  {\n    const parsers = this._parser;\n    if (parsers && type in parsers)\n    {\n      return parsers[type];\n    }\n    else\n    {\n      throw new Error(\"Unsupported type for graph parser \\'\" + type + \"\\'\");\n    }\n  }\n  getGraphLabeler() { return this._labeler; }\n  getGraph() { return this._graph; }\n  getModule() { return this._module; }\n}\n\nexport default AbstractGraphController;\n","//https://www.flaticon.com/free-icon/png_136523\nimport React from 'react';\n\nclass PNGIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"png-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <path fill=\"#659C35\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d=\"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z\"/>\n          <path fill=\"#FFFFFF\" d=\"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z\"/>\n          <path fill=\"#FFFFFF\" d={\"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 \" +\n            \"S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 \" +\n            \"c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 \" +\n            \"c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 \" +\n            \"c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 \" +\n            \"c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 \" +\n            \"c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 \" +\n            \"c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 \" +\n            \"c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z\"}/>\n        </g>\n        <circle fill=\"#F3D55B\" cx=\"18.931\" cy=\"14.431\" r=\"4.569\"/>\n        <polygon fill=\"#88C057\" points=\"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t\"/>\n      </g>\n    </svg>;\n  }\n}\n\nexport default PNGIcon;\n","//https://www.flaticon.com/free-icon/jpg_136524\nimport React from 'react';\n\nclass JPGIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <svg className=\"jpg-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n      <g>\n        <path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n        <polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n        <circle fill=\"#F3D55B\" cx=\"18.931\" cy=\"14.431\" r=\"4.569\"/>\n        <polygon fill=\"#26B99A\" points=\"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t\"/>\n        <path fill=\"#14A085\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n        <g>\n          <path fill=\"#FFFFFF\" d={\"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 \" +\n            \"c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 \" +\n            \"c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 \" +\n            \"c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 \" +\n            \"s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 \" +\n            \"c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 \" +\n            \"c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 \" +\n            \"s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 \" +\n            \"c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 \" +\n            \"c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z\"}/>\n          <path fill=\"#FFFFFF\" d={\"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 \" +\n            \"s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 \" +\n            \"c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 \" +\n            \"c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 \" +\n            \"c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 \" +\n            \"c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 \" +\n            \"c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 \" +\n            \"c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 \" +\n            \"c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 \" +\n            \"v-1.121H39.5z\"}/>\n        </g>\n      </g>\n    </svg>;\n  }\n}\n\nexport default JPGIcon;\n","import React from 'react';\n\nclass SVGIcon extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  //Override\n  render()\n  {\n    return <svg className=\"svg-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\">\n    \t<g>\n    \t\t<path fill=\"#E9E9E0\" d=\"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074\n    \t\tc0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z\"/>\n    \t\t<polygon fill=\"#D9D7CA\" points=\"37.5,0.151 37.5,12 49.349,12 \t\"/>\n    \t\t<path fill=\"#E57E25\" d=\"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z\"/>\n    \t\t<g>\n    \t\t\t<path fill=\"#FFFFFF\"\n    \t\t\t\td=\"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622\n    \t\t\ts-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226\n    \t\t\ts-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144\n    \t\t\ts0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793\n    \t\t\ts-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23\n    \t\t\tc0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191\n    \t\t\tc0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396\n    \t\t\ts-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137\n    \t\t\ts-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321\n    \t\t\ts-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588\n    \t\t\ts0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z\"/>\n    \t\t\t<path fill=\"#FFFFFF\" d=\"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z\"/>\n    \t\t\t<path fill=\"#FFFFFF\"\n    \t\t\t\td=\"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417\n    \t\t\tS38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971\n    \t\t\ts-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978\n    \t\t\ts1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012\n    \t\t\tc-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649\n    \t\t\ts-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23\n    \t\t\ts0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068\n    \t\t\ts0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z\"/>\n    \t\t</g>\n    \t\t<path fill=\"#C8BDB8\"\n    \t\t\td=\"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13\n    \t\tc0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1\n    \t\ts1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2\n    \t\tV18z\"/>\n    \t</g>\n    </svg>;\n  }\n}\n\nexport default SVGIcon;\n","import React from 'react';\nimport './IconButton.css';\n\nclass IconButton extends React.Component\n{\n  constructor(props)\n  {\n    super(props);\n  }\n\n  render()\n  {\n    return <button\n      className={\"icon-button \" + this.props.className}\n      id={this.props.id}\n      title={this.props.title}\n      style={this.props.style}\n      disabled={this.props.disabled}\n      onClick={this.props.onClick}>\n      {this.props.children}\n    </button>;\n  }\n}\n\nexport default IconButton;\n","import GraphNode from './GraphNode.js';\nimport GraphEdge from './GraphEdge.js';\nimport { guid, stringHash } from 'util/MathHelper.js';\n\nclass NodalGraph\n{\n  constructor(nodeClass=GraphNode, edgeClass=GraphEdge)\n  {\n    this._nodeClass = nodeClass;\n    this._edgeClass = edgeClass;\n\n    this._nodes = [];\n    this._edges = [];\n    this._nodeMapping = new Map();\n    this._edgeMapping = new Map();\n  }\n\n  //This is more like addEdge() without adding it to the graph and just returns the result\n  //This should only be called once when completing an edge\n  formatEdge(edge)\n  {\n    return edge;\n  }\n\n  /** NODES **/\n\n  createNode(x=0, y=0, id=null)\n  {\n    const result = new (this._nodeClass)(id || guid(), x, y);\n    const i = this._nodes.length;\n    this._nodes.push(result);\n    this._nodeMapping.set(result.getGraphElementID(), i);\n    return result;\n  }\n  deleteNode(node)\n  {\n    const elementID = node.getGraphElementID();\n    const i = this._nodeMapping.get(elementID);\n    if (i >= 0)\n    {\n      this._nodes.splice(i, 1);\n      this._nodeMapping.delete(elementID);\n\n      //HACK: This is inefficient, you should convert everything to use only\n      //the map so the indicies would not need to be fixed in the array.\n      //Basically, get rid of this._nodes (you will have to change how setStartNode works)\n      for(let j = i, len = this._nodes.length; j < len; ++j)\n      {\n        this._nodeMapping.set(this._nodes[j].getGraphElementID(), j);\n      }\n\n      const nullSourceEdges = [];\n\n      //Remove connected edges\n      for(const edge of this._edges)\n      {\n        if (edge.getSourceNode() === node)\n        {\n          nullSourceEdges.push(edge);\n        }\n        else if (edge.getDestinationNode() === node)\n        {\n          edge.changeDestinationNode(null);\n        }\n      }\n      for(const edge of nullSourceEdges)\n      {\n        this.deleteEdge(edge);\n      }\n    }\n  }\n  addNode(node)\n  {\n    if (!node.getGraphElementID()) node.setGraphElementID(guid());\n\n    const i = this._nodes.length;\n    this._nodes.push(node);\n    this._nodeMapping.set(node.getGraphElementID(), i);\n    return node;\n  }\n  clearNodes() { this._nodes.length = 0; this._nodeMapping.clear(); }\n  getNodeByElementID(elementID)\n  {\n    const index = this._nodeMapping.get(elementID);\n    return index >= 0 ? this._nodes[index] : null;\n  }\n  getNodesByLabel(label, dst=[])\n  {\n    for(const node of this._nodes)\n    {\n      if (node.getNodeLabel() == label) dst.push(node);\n    }\n    return dst;\n  }\n  getNodes() { return this._nodes; }\n  getNodeCount() { return this._nodes.length; }\n  getNodeClass() { return this._nodeClass; }\n\n  /** EDGES **/\n\n  createEdge(from, to=null, id=null)\n  {\n    const result = new (this._edgeClass)(id || guid(), from, to);\n    const i = this._edges.length;\n    this._edges.push(result);\n    this._edgeMapping.set(result.getGraphElementID(), i);\n    return result;\n  }\n  deleteEdge(edge)\n  {\n    const elementID = edge.getGraphElementID();\n    const i = this._edgeMapping.get(elementID);\n    if (i >= 0)\n    {\n      this._edges.splice(i, 1);\n      this._edgeMapping.delete(elementID);\n\n      //HACK: This is inefficient, refer to deleteNode().\n      for(let j = i, len = this._edges.length; j < len; ++j)\n      {\n        this._edgeMapping.set(this._edges[j].getGraphElementID(), j);\n      }\n    }\n  }\n  addEdge(edge)\n  {\n    if (!edge.getGraphElementID()) edge.setGraphElementID(guid());\n\n    const i = this._edges.length;\n    this._edges.push(edge);\n    this._edgeMapping.set(edge.getGraphElementID(), i);\n    return edge;\n  }\n  clearEdges() { this._edges.length = 0; this._edgeMapping.clear(); }\n  getEdgeByElementID(elementID)\n  {\n    const index = this._edgeMapping.get(elementID);\n    return index >= 0 ? this._edges[index] : null;\n  }\n  getEdges() { return this._edges; }\n  getEdgeCount() { return this._edges.length; }\n  getEdgeClass() { return this._edgeClass; }\n\n  /** HELPER **/\n\n  clear()\n  {\n    this.clearEdges();\n    this.clearNodes();\n  }\n\n  isEmpty()\n  {\n    return this.getNodeCount() <= 0 && this.getEdgeCount() <= 0;\n  }\n\n  getBoundingRect()\n  {\n    if (this._nodes.length <= 0) return {\n      minX: 0,\n      minY: 0,\n      maxX: 1,\n      maxY: 1,\n      width: 1,\n      height: 1\n    };\n\n    var minNX = Number.MAX_VALUE;\n    var minNY = Number.MAX_VALUE;\n    var maxNX = Number.MIN_VALUE;\n    var maxNY = Number.MIN_VALUE;\n\n    var maxNodeSize = 0;\n    for(const node of this._nodes)\n    {\n      const x = node.x;\n      const y = node.y;\n      const size = node.getNodeSize();\n      if (size > maxNodeSize) maxNodeSize = size;\n\n      minNX = Math.min(minNX, x);\n      maxNX = Math.max(maxNX, x);\n\n      minNY = Math.min(minNY, y);\n      maxNY = Math.max(maxNY, y);\n    }\n\n    minNX -= maxNodeSize;\n    minNY -= maxNodeSize;\n    maxNX += maxNodeSize;\n    maxNY += maxNodeSize;\n\n    var minEX = Number.MAX_VALUE;\n    var minEY = Number.MAX_VALUE;\n    var maxEX = Number.MIN_VALUE;\n    var maxEY = Number.MIN_VALUE;\n\n    const startPoint = {x: 0, y: 0};\n    const endPoint = {x: 0, y: 0};\n    const centerPoint = {x: 0, y: 0};\n    for(const edge of this._edges)\n    {\n      //Will store into point objects...\n      edge.getStartPoint(startPoint);\n      edge.getEndPoint(endPoint);\n      edge.getCenterPoint(centerPoint);\n\n      const sx = startPoint.x;\n      const sy = startPoint.y;\n      const ex = endPoint.x;\n      const ey = endPoint.y;\n      const cx = centerPoint.x;\n      const cy = centerPoint.y;\n\n      minEX = Math.min(minEX, sx, ex, cx);\n      maxEX = Math.max(maxEX, sx, ex, cx);\n\n      minEY = Math.min(minEY, sy, ey, cy);\n      maxEY = Math.max(maxEY, sy, ey, cy);\n    }\n\n    const result = {\n      minX: Math.min(minNX, minEX),\n      minY: Math.min(minNY, minEY),\n      maxX: Math.max(maxNX, maxEX),\n      maxY: Math.max(maxNY, maxEY),\n      width: 0,\n      height: 0\n    };\n    result.width = result.maxX - result.minX;\n    result.height = result.maxY - result.minY;\n    return result;\n  }\n\n  //Gets a hash of the graph's current state. Can generally assume the hash will\n  //change if the graph's content has changed (including nodes and edges).\n  getHashCode(usePosition=true)\n  {\n    let string = \"\";\n    for(const node of this._nodes)\n    {\n      string += node.getHashString(usePosition) + \",\";\n    }\n    string += \"|\";\n    for(const edge of this._edges)\n    {\n      string += edge.getHashString(usePosition) + \",\";\n    }\n    return stringHash(string);\n  }\n}\n\nexport default NodalGraph;\n","class AbstractMachineController\n{\n  constructor(module, machineBuilder)\n  {\n    if (!module) throw new Error(\"Missing module for machine controller\");\n    if (!machineBuilder) throw new Error(\"Missing machine builder for machine controller\");\n\n    this._module = module;\n    this._machineBuilder = machineBuilder;\n  }\n\n  initialize(module)\n  {\n    this._machineBuilder.initialize(module);\n  }\n\n  destroy(module)\n  {\n    this._machineBuilder.destroy(module);\n  }\n\n  update(module)\n  {\n  }\n\n  getMachineBuilder()\n  {\n    return this._machineBuilder;\n  }\n\n  getModule()\n  {\n    return this._module;\n  }\n}\n\nexport default AbstractMachineController;\n","class MachineChangeHandler\n{\n  constructor()\n  {\n    this._listeners = [];\n  }\n\n  addListener(listener)\n  {\n    if (typeof listener !== 'function')\n      throw new Error(\"Cannot add uncallable listener\");\n    this._listeners.push(listener);\n  }\n\n  removeListener(listener)\n  {\n    const i = this._listeners.indexOf(listener);\n    if (i >= 0)\n    {\n      this._listeners.splice(i, 1);\n      return true;\n    }\n    return false;\n  }\n\n  clearListeners()\n  {\n    this._listeners.length = 0;\n  }\n\n  getListeners()\n  {\n    return this._listeners;\n  }\n\n  update(machineBuilder)\n  {\n    for(const listener of this._listeners)\n    {\n      listener(machineBuilder);\n    }\n  }\n}\n\nexport default MachineChangeHandler;\n","import MachineChangeHandler from 'experimental/MachineChangeHandler.js';\n\nclass AbstractMachineBuilder\n{\n  constructor()\n  {\n    this._machineChangeHandler = new MachineChangeHandler();\n\n    this._errors = [];\n    this._warnings = [];\n\n    this.onGraphChange = this.onGraphChange.bind(this);\n  }\n\n  initialize(module)\n  {\n    module.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange);\n  }\n\n  destroy(module)\n  {\n    module.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange);\n  }\n\n  onGraphChange(graph)\n  {\n    this.attemptBuild(graph, this.getMachine(), this._errors, this._warnings);\n    this._machineChangeHandler.update(this);\n  }\n\n  attemptBuild(graph, dst, errors, warnings)\n  {\n    throw new Error(\"Missing machine build operation\");\n  }\n\n  getMachineErrors()\n  {\n    return this._errors;\n  }\n\n  getMachineWarnings()\n  {\n    return this._warnings;\n  }\n\n  getMachineChangeHandler()\n  {\n    return this._machineChangeHandler;\n  }\n\n  isMachineValid()\n  {\n    return this._errors.length <= 0;\n  }\n\n  getMachine()\n  {\n    throw new Error(\"Missing machine for builder\");\n  }\n}\n\nexport default AbstractMachineBuilder;\n","import GraphEdge from 'graph/GraphEdge.js';\n\nclass AbstractGraphLabeler\n{\n  constructor() {}\n\n  getDefaultLabel(target)\n  {\n    if (target instanceof GraphEdge)\n    {\n      return this.getDefaultEdgeLabel();\n    }\n    else\n    {\n      return this.getDefaultNodeLabel();\n    }\n  }\n\n  getLabelFormatter(target)\n  {\n    if (target instanceof GraphEdge)\n    {\n      return this.getEdgeLabelFormatter();\n    }\n    else\n    {\n      return this.getNodeLabelFormatter();\n    }\n  }\n\n  //Deprecated - use getDefaultLabel()\n  getDefaultNodeLabel()\n  {\n    return \"\";\n  }\n\n  //Deprecated - use getDefaultLabel()\n  getDefaultEdgeLabel()\n  {\n    return \"\";\n  }\n\n  //Deprecated - use getDefaultLabel()\n  getNodeLabelFormatter()\n  {\n    throw new Error(\"Node label formatting is not supported\");\n  }\n\n  //Deprecated - use getDefaultLabel()\n  getEdgeLabelFormatter()\n  {\n    throw new Error(\"Edge label formatting is not supported\");\n  }\n}\n\nexport default AbstractGraphLabeler;\n","import AbstractGraphLabeler from 'graph/AbstractGraphLabeler.js';\n\nimport { SYMBOL_SEPARATOR } from 'modules/fsa/graph/FSAEdge.js';\nimport { EMPTY } from 'modules/fsa/machine/Symbols.js';\n\nconst DEFAULT_NODE_LABEL_PREFIX = \"q\";\n\nclass FSAGraphLabeler extends AbstractGraphLabeler\n{\n  constructor()\n  {\n    super();\n\n    this._prefix = DEFAULT_NODE_LABEL_PREFIX;\n    this._graphController = null;\n  }\n\n  setGraphController(graphController)\n  {\n    this._graphController = graphController;\n    return this;\n  }\n\n  setDefaultNodeLabelPrefix(prefix)\n  {\n    this._prefix = prefix;\n  }\n\n  getDefaultNodeLabelPrefix()\n  {\n    return this._prefix;\n  }\n\n  //Override\n  getDefaultNodeLabel()\n  {\n    if (!this._graphController.shouldAutoRenameNodes())\n    {\n      return this.getDefaultNodeLabelPrefix();\n    }\n    else\n    {\n      const graph = this._graphController.getGraph();\n      const otherNodes = [];\n      let nodeIndex = 0;\n\n      const startNode = graph.getStartNode();\n      if (startNode && startNode.getNodeCustom()) nodeIndex = 1;\n\n      let newNodeLabel = this.getDefaultNodeLabelPrefix() + nodeIndex;\n      while(graph.getNodesByLabel(newNodeLabel, otherNodes).length > 0)\n      {\n        otherNodes.length = 0;\n        ++nodeIndex;\n        newNodeLabel = this.getDefaultNodeLabelPrefix() + nodeIndex;\n      }\n\n      return newNodeLabel;\n    }\n  }\n\n  //Override\n  getDefaultEdgeLabel()\n  {\n    return \"\";\n  }\n\n  //Override\n  getNodeLabelFormatter()\n  {\n    return (string) => string || \"\";\n  }\n\n  //Override\n  getEdgeLabelFormatter()\n  {\n    return edgeLabelFormatter;\n  }\n}\n\nfunction edgeLabelFormatter(string, allowNull=false)\n{\n  const symbols = string.split(SYMBOL_SEPARATOR);\n  const result = new Set();\n\n  let symbol = \"\";\n  let symbolLength = 0;\n  const length = symbols.length;\n  for(let i = 0; i < length; ++i)\n  {\n    symbol = symbols[i].trim();\n    symbolLength = symbol.length;\n    //If the symbol has none or more than 1 char\n    if (symbolLength !== 1)\n    {\n      //Remove symbol (by not adding to result)\n\n      //Divide multi-char symbol into smaller single char symbols\n      if (symbolLength > 1)\n      {\n        for(let subsymbol of symbol.split(\"\"))\n        {\n          subsymbol = subsymbol.trim();\n          if (!result.has(subsymbol))\n          {\n            result.add(subsymbol);\n          }\n        }\n      }\n    }\n    else\n    {\n      result.add(symbol);\n    }\n  }\n\n  //If it is an empty string...\n  if (result.size <= 0) return allowNull ? null : EMPTY;\n  return Array.from(result).join(SYMBOL_SEPARATOR);\n}\n\nexport default FSAGraphLabeler;\n","class StyleOption\n{\n  constructor(elementSource, propName, inputType, groupName, callback)\n  {\n    //the html element that this css variable reflects\n    this.element = elementSource;\n    //the name of the css variable\n    this.prop = propName;\n    //the css variable type\n    this.type = inputType;\n    //the group that the variable belongs to (\"default\" if not specified)\n    this.group = groupName;\n\n    this._callback = callback;\n    this._value = null;\n    this._defaultValue = null;\n  }\n\n  /**\n   * Update the current value to reflect the computed style's value.\n   */\n  updateStyle(computedStyle=null, shouldPropagateChange=true)\n  {\n    if (!computedStyle)\n    {\n      computedStyle = window.getComputedStyle(this.element);\n    }\n    const newValue = computedStyle.getPropertyValue(this.prop);\n    if (!newValue)\n    {\n      throw new Error(\"Cannot find style option with prop name \\'\" + this.prop + \"\\' for element\");\n    }\n\n    this._value = newValue.trim();\n    this._defaultValue = this._value;\n    if (shouldPropagateChange && this._callback) this._callback(this, newValue);\n  }\n\n  /**\n   * Reset the current value to reflect the computed style's value.\n   */\n  resetStyle()\n  {\n    this.setStyle(this._defaultValue);\n  }\n\n  /**\n   * Changes the variable's value for prop name.\n   * These changes are reflected to the css source.\n   */\n  setStyle(val, shouldPropagateChange=true)\n  {\n    this._value = val;\n    this.element.style.setProperty(this.prop, val);\n\n    if (shouldPropagateChange && this._callback) this._callback.call(null, this, val);\n  }\n\n  /** Returns the variable's current value. Null if not yet initialized. */\n  getStyle()\n  {\n    return this._value;\n  }\n\n  isDefaultStyle()\n  {\n    return this._value == this._defaultValue;\n  }\n}\n\nclass StyleOptionRegistry\n{\n  constructor()\n  {\n    this._options = new Map();\n    this._groups = new Map();\n\n    this._init = false;\n  }\n\n  registerStyleOption(elementSource, propName, inputType=\"text\", groupName=\"default\", changeCallback=null)\n  {\n    if (this._options.has(propName))\n    {\n      throw new Error(\"Style option with prop name \\'\" + propName + \"\\' already registered\");\n    }\n\n    const result = new StyleOption(elementSource, propName, inputType, groupName, changeCallback);\n    this._options.set(propName, result);\n\n    let group;\n    if (!this._groups.has(groupName))\n    {\n      group = [];\n      this._groups.set(groupName, group);\n    }\n    else\n    {\n      group = this._groups.get(groupName);\n\n      if (group.indexOf(propName) != -1)\n      {\n        //Ignore it, it's already in here\n        return;\n      }\n    }\n    group.push(propName);\n  }\n\n  unregisterStyleOption(propName)\n  {\n    if (this._options.has(propName))\n    {\n      const option = this._options.get(propName);\n      this._options.delete(propName);\n      const groupName = option.group;\n      if (this._groups.has(groupName))\n      {\n        const group = this._groups.get(groupName);\n        const index = group.indexOf(propName);\n        if (index >= 0)\n        {\n          group.splice(index, 1);\n        }\n      }\n    }\n  }\n\n  initialize()\n  {\n    if (this._init)\n    {\n      throw new Error(\"Already initialized\");\n    }\n\n    //Compute the styles\n    const computedStyles = {};\n    let computedStyle;\n    for(let option of this._options.values())\n    {\n      const element = option.element;\n      computedStyle = computedStyles[element];\n      if (!computedStyle)\n      {\n        computedStyle = window.getComputedStyle(element);\n        computedStyles[element] = computedStyle;\n      }\n      option.updateStyle(computedStyle, false);\n    }\n\n    this._init = true;\n  }\n\n  terminate()\n  {\n    if (!this._init)\n    {\n      throw new Error(\"Not yet initialized\");\n    }\n\n    this._options.clear();\n    this._groups.clear();\n\n    this._init = false;\n  }\n\n  getOptionByProp(propName)\n  {\n    return this._options.get(propName);\n  }\n\n  getPropsByGroup(groupName)\n  {\n    return this._groups.get(groupName) || [];\n  }\n\n  getOptions()\n  {\n    return this._options.values();\n  }\n\n  isEmpty()\n  {\n    return this._options.size <= 0;\n  }\n}\n\nexport default StyleOptionRegistry;\n","export const EMPTY = '\\u03B5';\nexport const ARROW = '\\u2192';\nexport const EMPTY_SET = '\\u2205';\n\nexport const CONCAT = '.';\nexport const UNION = '|';\nexport const KLEENE = '*';\n//'\\u03BB' = LAMBDA\n","import { guid } from 'util/MathHelper.js';\n\nclass Message\n{\n  constructor(handler, value, type, tags, componentClass, componentProps)\n  {\n    this._handler = handler;\n    this._id = guid();\n    this._type = type;\n\n    this.value = value;\n    this.tags = tags;\n    this.componentClass = componentClass;\n    this.componentProps = componentProps;\n  }\n\n  close()\n  {\n    const messages = this._handler.getMessages();\n    const index = messages.indexOf(this);\n    if (index < 0) throw new Error(\"Trying to close an unopened notification message\");\n    messages.splice(index, 1);\n  }\n\n  getType()\n  {\n    return this._type;\n  }\n\n  getID()\n  {\n    return this._id;\n  }\n\n  getComponentClass()\n  {\n    return this.componentClass;\n  }\n\n  getComponentProps()\n  {\n    return this.componentProps;\n  }\n\n  hasTag(tag)\n  {\n    return this.tags.indexOf(tag) >= 0;\n  }\n}\n\nclass NotificationManager\n{\n  constructor()\n  {\n    this._messageQueue = [];\n  }\n\n  addMessage(value, type=null, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    if (tags && shouldReplaceRelated)\n    {\n      this.clearMessages(tags);\n    }\n\n    const result = new Message(this, value, type || \"default\", tags || [], componentClass, componentProps);\n    this._messageQueue.unshift(result);\n  }\n\n  addDefaultMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"default\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  addErrorMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"error\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  addWarningMessage(value, tags=null, componentClass=null, componentProps=null, shouldReplaceRelated=true)\n  {\n    this.addMessage(value, \"warning\", tags, componentClass, componentProps, shouldReplaceRelated);\n  }\n\n  clearMessages(tags=null)\n  {\n    if (!tags)\n    {\n      this._messageQueue.length = 0;\n    }\n    else\n    {\n      if (!Array.isArray(tags)) tags = [tags];\n\n      let message;\n      for(let i = this._messageQueue.length - 1; i >= 0; --i)\n      {\n        message = this._messageQueue[i];\n        for(const tag of tags)\n        {\n          if (message.hasTag(tag))\n          {\n            this._messageQueue.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  hasMessages(tags=null)\n  {\n    if (!tags)\n    {\n      return this._messageQueue.length >= 0;\n    }\n    else\n    {\n      if (!Array.isArray(tags)) tags = [tags];\n\n      for(let i = this._messageQueue.length - 1; i >= 0; --i)\n      {\n        message = this._messageQueue[i];\n        for(const tag of tags)\n        {\n          if (message.hasTag(tag))\n          {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }\n\n  getMessages()\n  {\n    return this._messageQueue;\n  }\n}\nexport default NotificationManager;\n","import NotificationManager from './NotificationManager.js';\n\n//Singleton pattern (I know, I'm sorry. But we must.)\nconst INSTANCE = new NotificationManager();\nexport default INSTANCE;\n","export const FILE_TYPE_PNG = \"png\";\nexport const FILE_TYPE_JPG = \"jpg\";\nexport const FILE_TYPE_SVG = \"svg\";\n\nexport function downloadText(filename, textData)\n{\n  downloadURL(filename, getTextDataURI(textData));\n}\n\nfunction createBlobFromSVG(svg)\n{\n  const serializer = new XMLSerializer();\n  const svgString = serializer.serializeToString(svg);\n  const blob = new Blob([svgString], {type:'image/svg+xml'});\n  return blob\n}\n\nexport function downloadImageFromSVG(filename, filetype, svg, width, height)\n{\n  const blob = createBlobFromSVG(svg);\n  switch(filetype)\n  {\n    case FILE_TYPE_PNG:\n    case FILE_TYPE_JPG:\n    {\n      const url = URL.createObjectURL(blob);\n\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext(\"2d\");\n      const pixelRatio = window.devicePixelRatio || 1;\n      canvas.width = width * pixelRatio;\n      canvas.height = height * pixelRatio;\n      canvas.style.width = width + \"px\";\n      canvas.style.height = height + \"px\";\n      ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\n      const image = new Image();\n      image.onload = () => {\n        ctx.drawImage(image, 0, 0);\n        URL.revokeObjectURL(url);\n\n        const imageURI = canvas.toDataURL('image/' + filetype).replace('image/' + filetype, 'image/octet-stream');\n        downloadURL(filename + '.' + filetype, imageURI);\n      };\n      image.src = url;\n    }\n    break;\n    case FILE_TYPE_SVG:\n    {\n      const reader = new FileReader();\n      reader.onload = () => {\n        downloadURL(filename + '.' + filetype, reader.result);\n      };\n      reader.readAsDataURL(blob);\n    }\n    break;\n    default:\n      throw new Error(\"Unknown file type \\'\" + filetype + \"\\'\");\n  }\n}\n\nexport function downloadURL(filename, url)\n{\n  const element = document.createElement('a');\n  const headerIndex = url.indexOf(\";\");\n  url = url.substring(0, headerIndex + 1) + \"headers=Content-Disposition%3A%20attachment%3B%20filename=\" + filename + \";\" + url.substring(headerIndex + 1);\n  element.setAttribute('href', url);\n  element.setAttribute('download', filename);\n\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n\n  element.click();\n  document.body.removeChild(element);\n}\n\nfunction getTextDataURI(data)\n{\n  return 'data:text/plain; charset=utf-8,' + encodeURIComponent(data);\n}\n","const RGB_WHITE = [255, 255, 255];\nconst RGB_BLACK = [0, 0, 0];\n\nexport function blendRGB(percent, rgb1, rgb2=null, dst=[])\n{\n  const blendAmount = Math.abs(percent);\n  if (!rgb2) rgb2 = percent < 0 ? RGB_BLACK : RGB_WHITE;\n\n  dst[0] = rgb1[0] + Math.round(blendAmount * (rgb2[0] - rgb1[0]));\n  dst[1] = rgb1[1] + Math.round(blendAmount * (rgb2[1] - rgb1[1]));\n  dst[2] = rgb1[2] + Math.round(blendAmount * (rgb2[2] - rgb1[2]));\n  return dst;\n}\n\nexport function invertRGB(rgb, blackwhite=false, dst=[])\n{\n  if (blackwhite)\n  {\n    // http://stackoverflow.com/a/3943023/112731\n    if ((rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) > 186)\n    {\n      dst[0] = 0;\n      dst[1] = 0;\n      dst[2] = 0;\n    }\n    else\n    {\n      dst[0] = 0xFF;\n      dst[1] = 0xFF;\n      dst[2] = 0xFF;\n    }\n  }\n  else\n  {\n    dst[0] = (255 - rgb[0]);\n    dst[1] = (255 - rgb[1]);\n    dst[2] = (255 - rgb[2]);\n  }\n  return dst;\n}\n\n/* RGB and HSL conversions: https://gist.github.com/mjackson/5311256 */\nexport function HEXtoRGB(hex, dst=[])\n{\n  if (hex.indexOf('#') === 0) hex = hex.slice(1);\n  if (hex.length === 3) hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  if (hex.length !== 6) throw new Error('Invalid hex color format');\n  const red = hex.substring(0, 2);\n  const green = hex.substring(2, 4);\n  const blue = hex.substring(4, 6);\n\n  dst[0] = parseInt(red, 16);\n  dst[1] = parseInt(green, 16);\n  dst[2] = parseInt(blue, 16);\n  return dst;\n}\nexport function RGBtoHEX(rgb)\n{\n  return '#' + (rgb[2] | (rgb[1] << 8) | (rgb[0] << 16) | (1 << 24)).toString(16).slice(1);\n}\nexport function RGBtoHSV(rgb, dst=[])\n{\n  let r = rgb[0] / 255;\n  let g = rgb[1] / 255;\n  let b = rgb[2] / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n\n  let h = 0;\n  const s = max == 0 ? 0 : d / max;\n  const v = max;\n  if (max == min)\n  {\n    h = 0;\n  }\n  else\n  {\n    switch(max)\n    {\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n      case g: h = (b - r) / d + 2; break;\n      case b: h = (r - g) / d + 4; break;\n    }\n\n    h /= 6;\n  }\n\n  dst[0] = h;\n  dst[1] = s;\n  dst[2] = v;\n  return dst;\n}\nexport function HSVtoRGB(h, s, v, dst=[])\n{\n  let r = 0; let g = 0; let b = 0;\n  const i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  switch(i % 6)\n  {\n    case 0: r = v, g = t, b = p; break;\n    case 1: r = q, g = v, b = p; break;\n    case 2: r = p, g = v, b = t; break;\n    case 3: r = p, g = q, b = v; break;\n    case 4: r = t, g = p, b = v; break;\n    case 5: r = v, g = p, b = q; break;\n  }\n\n  dst[0] = r * 255;\n  dst[1] = g * 255;\n  dst[2] = b * 255;\n  return dst;\n}\n","import QuadraticEdge from 'graph/QuadraticEdge.js';\n\nexport const SYMBOL_SEPARATOR = ' ';\nexport const EMPTY_CHAR = '\\u03B5';\n\nclass FSAEdge extends QuadraticEdge\n{\n  constructor(id, from, to=null)\n  {\n    super(id, from, to);\n  }\n\n  //Override\n  setEdgeLabel(label)\n  {\n    if (typeof label === 'string')\n    {\n      super.setEdgeLabel(label);\n    }\n    else\n    {\n      super.setEdgeLabel(EMPTY_CHAR);\n    }\n  }\n\n  getEdgeSymbolsFromLabel()\n  {\n    return this.getEdgeLabel().split(SYMBOL_SEPARATOR);\n  }\n}\n\nexport default FSAEdge;\n"],"sourceRoot":""}