(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{271:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(275),a=n(306),l=n(312),u=n(19),s=n(49),c=n(14);n(234);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,h(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.getNodeLabel();return o.a.createElement("g",{className:"graph-node-container"},o.a.createElement("circle",{className:"graph-node",cx:t.x,cy:t.y,r:t.getNodeSize(),fill:"#FEE781",stroke:"#000000"}),t.getNodeAccept()&&o.a.createElement("circle",{className:"graph-node-inner",cx:t.x,cy:t.y,r:.75*t.getNodeSize(),fill:"none",stroke:"#000000"}),"//Label",o.a.createElement("text",{className:"graph-node-label",x:t.x,y:t.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(e.length-2,0)/6,.5)+"em"},textAnchor:"middle"},e))}}])&&p(n.prototype,r),i&&p(n,i),e}(),d=n(295);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke||"#000000",n=t.getStartPoint(),r=t.getEndPoint(),i=t.getCenterPoint(),a=(t.getEdgeLabel(),t.getEdgeSymbolsFromLabel()),l=t.getEdgeDirection();return o.a.createElement("g",{className:"graph-edge-container"},o.a.createElement(d.c,{directed:d.a,from:n,to:r,center:i,label:a.join("\n"),direction:l,color:e}))}}])&&g(n.prototype,r),i&&g(n,i),e}(),E=n(17);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,T(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.x+(t instanceof E.a?0:24),n=t.y;return o.a.createElement("g",{className:"graph-initial-container"},o.a.createElement("path",{className:"graph-initial",d:"M"+(e-16)+" "+n+" L"+(e-32)+" "+(n-16)+" L"+(e-32)+" "+(n+16)+" Z",fill:"none",stroke:"#000000"}))}}])&&C(n.prototype,r),i&&C(n,i),e}();function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,A(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=t.getGraphController().getGraph();return o.a.createElement("g",null,!n.isEmpty()&&o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{className:"graph-ui",x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"var(--color-viewport-back-detail)"}),o.a.createElement("line",{className:"graph-ui",x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"var(--color-viewport-back-detail)"})),n.getNodes().map(function(t,e){return o.a.createElement(v,{key:t.getGraphElementID()||e,node:t})}),n.getEdges().map(function(t,e){return o.a.createElement(O,{key:t.getGraphElementID()||e,edge:t})}),n.getStartNode()&&(null==e.ghostInitialMarker?o.a.createElement(x,{node:n.getStartNode()}):o.a.createElement(x,{node:e.ghostInitialMarker})))}}])&&M(n.prototype,r),i&&M(n,i),e}(),F=n(235),R=n.n(F),B=n(16),G=n(12),z=n(313),K=n(10);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=["0","1"],Z=[K.a],W=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,X(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,o.a.Component),n=e,(r=[{key:"renderSymbol",value:function(t){var e=this.props.parent;if(!e)return null;var n=e.inputComponent;return o.a.createElement(z.a,{key:t,parent:n,title:t,onClick:function(e){return n.appendValue(t,K.b)}})}},{key:"render",value:function(){var t=this,e=this.props.parent,n=this.props.currentModule.getMachineController().getAlphabet(),r=e&&e.getTarget()instanceof B.a,i=e&&e.getTarget()instanceof G.a,a=!n||n.length<=1;return o.a.createElement("div",{className:R.a.tray_container},r&&o.a.createElement("span",null,o.a.createElement("span",{className:R.a.tray_used},n.map(function(e){return t.renderSymbol(e)})),o.a.createElement("span",{className:R.a.tray_default},a&&Q.map(function(e){return t.renderSymbol(e)}),Z.map(function(e){return t.renderSymbol(e)}))),i&&o.a.createElement("span",null,o.a.createElement(z.a,{parent:e.inputComponent,title:e.getTarget().getNodeCustom()?"Custom":"Auto",onClick:function(){e.getTarget().setNodeCustom(!e.getTarget().getNodeCustom())}}),o.a.createElement(z.a,{parent:e.inputComponent,title:e.getTarget().getNodeAccept()?"Accept":"Reject",onClick:function(){e.getTarget().setNodeAccept(!e.getTarget().getNodeAccept())}})))}}])&&U(n.prototype,r),i&&U(n,i),e}(),J=n(308),q=n(236),$=n.n(q),tt=n(278),et=n(293),nt=n(282),rt=n(237),ot=n.n(rt),it=n(274),at=n(285),lt=n(314),ut=n(238),st=n.n(ut);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var bt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=pt(e).call(this,t))||"object"!==ct(o)&&"function"!=typeof o?ht(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(ht(ht(n))),n.onFocus=n.onFocus.bind(ht(ht(n))),n.onBlur=n.onBlur.bind(ht(ht(n))),n.onKeyDown=n.onKeyDown.bind(ht(ht(n))),n.onKeyUp=n.onKeyUp.bind(ht(ht(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,n=t?t.getNodeLabel():"",r=!!t&&(t.getNodeCustom()||null!==e&&e!==n),i=!!t&&t.getNodeAccept(),a=null===e?n:e;return o.a.createElement("div",{id:this.props.id,className:st.a.element_container+(r?" custom ":"")+(!t.getNodeCustom()&&a.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{spellCheck:!1,style:{width:a.length+"ch"},value:a,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&ft(n.prototype,r),i&&ft(n,i),e}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var wt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=mt(e).call(this,t))||"object"!==vt(o)&&"function"!=typeof o?_t(r):o)._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(_t(_t(n))),n.onElementFocus=n.onElementFocus.bind(_t(_t(n))),n.onElementBlur=n.onElementBlur.bind(_t(_t(n))),n.onElementChange=n.onElementChange.bind(_t(_t(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=e.createNode(this._prevX,this._prevY);e.focusOnNode(n)}},{key:"onElementFocus",value:function(t,e){this._prevX=e.props.node.x,this._prevY=e.props.node.y,this.props.graphController.focusOnNode(e.props.node)}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();if(n.length>0)i.getNodesByLabel(n).length<=0&&o.renameNode(r,n);else r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(t,e,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return o.a.createElement("div",{id:this.props.id,className:ot.a.list_container,style:this.props.style},o.a.createElement("div",{className:ot.a.element_list},o.a.createElement(lt.a,{className:ot.a.first_marker}),e.map(function(e){return o.a.createElement(bt,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})})),o.a.createElement(it.a,{className:ot.a.add_button,title:"Add State",onClick:this.onElementAdd},o.a.createElement(at.a,null)))}}])&&dt(n.prototype,r),i&&dt(n,i),e}(),St=n(239),Ot=n.n(St),Et=n(240),kt=n.n(Et);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Nt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Tt(e).call(this,t))||"object"!==Ct(o)&&"function"!=typeof o?xt(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(xt(xt(n))),n.onFocus=n.onFocus.bind(xt(xt(n))),n.onBlur=n.onBlur.bind(xt(xt(n))),n.onKeyDown=n.onKeyDown.bind(xt(xt(n))),n.onKeyUp=n.onKeyUp.bind(xt(xt(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,r=this.props.used||!1;return o.a.createElement("div",{id:this.props.id,className:kt.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&jt(n.prototype,r),i&&jt(n,i),e}();function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ft=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=At(e).call(this,t))||"object"!==Mt(o)&&"function"!=typeof o?Dt(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(Dt(Dt(n))),n.onElementFocus=n.onElementFocus.bind(Dt(Dt(n))),n.onElementBlur=n.onElementBlur.bind(Dt(Dt(n))),n.onElementChange=n.onElementChange.bind(Dt(Dt(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&(r.getMachineBuilder().getMachine().isSymbol(n)&&n!==e.props.symbol))throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;s&&n.push(o.a.createElement(Nt,{key:s,symbol:s,used:t.isUsedSymbol(s),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getAlphabet();return o.a.createElement("div",{id:this.props.id,className:Ot.a.list_container,style:this.props.style},o.a.createElement("div",{className:Ot.a.element_list},this.renderAlphabetList(e,n),o.a.createElement(Nt,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),o.a.createElement(it.a,{className:Ot.a.add_button,title:"Add Symbol",onClick:this.onElementAdd},o.a.createElement(at.a,null)))}}])&&It(n.prototype,r),i&&It(n,i),e}(),Rt=n(241),Bt=n.n(Rt),Gt=n(276);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ht(this,Ut(e).call(this,t)))._cachedMachineHash=0,n._cachedMachineComponents=[],n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentWillUnmount",value:function(){this._cachedMachineHash=0,this._cachedMachineComponents.length=0}},{key:"renderTransitionEntry",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n,!0),a="",l=!1;if(i.length<=0){if(!r)return null;if(l=!0,a="-",n===Gt.a)return null}else if(1===i.length)l=!1,a=i[0].getStateLabel(),r||(a="{"+a+"}");else{r&&(l=!0);var u="",s=!0,c=!1,f=void 0;try{for(var p,y=i[Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var h=p.value;u.length>0&&(u+=","),u+=h.getStateLabel()}}catch(t){c=!0,f=t}finally{try{s||null==y.return||y.return()}finally{if(c)throw f}}a="{"+u+"}"}return n===Gt.a&&(n=K.a,r&&(l=!0)),o.a.createElement("tr",{key:e.getStateID()+":"+n},o.a.createElement("td",{className:Bt.a.chart_key+(l?" error ":"")},"("+e.getStateLabel()+","+n+")"),o.a.createElement("td",{className:Bt.a.chart_value+(l?" error ":"")},a))}},{key:"renderTransitionTable",value:function(t){var e=t.getHashCode();if(e===this._cachedMachineHash)return this._cachedMachineComponents;this._cachedMachineHash=e;var n=this._cachedMachineComponents=[],r=(t.isDeterministic(),!0),o=!1,i=void 0;try{for(var a,l=t.getStates()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,s=null;(s=this.renderTransitionEntry(t,u,Gt.a))&&n.push(s);var c=!0,f=!1,p=void 0;try{for(var y,h=t.getAlphabet()[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=y.value;(s=this.renderTransitionEntry(t,u,b))&&n.push(s)}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"render",value:function(){var t=this.props.machineController,e=t.getMachineBuilder().getMachine(),n="DFA"===t.getMachineType();return o.a.createElement("div",{id:this.props.id,className:Bt.a.chart_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Q×Σ"),o.a.createElement("th",null,n?o.a.createElement("span",null,"Q"):o.a.createElement("span",null,o.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),o.a.createElement("span",null,"(Q)")))),this.renderTransitionTable(e))))}}])&&Kt(n.prototype,r),i&&Kt(n,i),e}(),Yt=n(242),Qt=n.n(Yt);function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var te="symbols",ee=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Jt(e).call(this,t))||"object"!==Zt(o)&&"function"!=typeof o?$t(r):o).state={rowAxis:te},n.onRowAxisSwitch=n.onRowAxisSwitch.bind($t($t(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onRowAxisSwitch",value:function(t){this.setState(function(t,e){return{rowAxis:t.rowAxis===te?"states":te}})}},{key:"renderTableEntryForSymbolAxis",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n),a="",l=!1;if(i.length<=0)r&&n!==Gt.a&&(l=!0),a="-";else if(1===i.length)r&&n===Gt.a&&(l=!0),a=i[0].getStateLabel();else{r&&(l=!0);var u="",s=!0,c=!1,f=void 0;try{for(var p,y=i[Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var h=p.value;u.length>0&&(u+=","),u+=h.getStateLabel()}}catch(t){c=!0,f=t}finally{try{s||null==y.return||y.return()}finally{if(c)throw f}}a="{"+u+"}"}var b=r&&n===Gt.a;return o.a.createElement("td",{key:e.getStateID()+":"+n,className:Qt.a.table_entry+(l?" error ":"")+(b?" disabled ":"")},a)}},{key:"renderTableEntries",value:function(t,e){t.isDeterministic();var n=[],r=!0,i=!1,a=void 0;try{for(var l,u=t.getStates()[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value,c=[];switch(e){case te:var f=!0,p=!1,y=void 0;try{for(var h,b=t.getAlphabet()[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var v=h.value;c.push(this.renderTableEntryForSymbolAxis(t,s,v))}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}c.push(this.renderTableEntryForSymbolAxis(t,s,Gt.a));break;case"states":var d=!0,m=!1,g=void 0;try{for(var _,w=t.getStates()[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var S=_.value,O=t.getTransitionSymbols(s,S),E="";if(O){var k=!0,C=!1,j=void 0;try{for(var T,P=O[Symbol.iterator]();!(k=(T=P.next()).done);k=!0){var x=T.value;E.length>0&&(E+="\n"),x===Gt.a?E+=K.a:E+=x}}catch(t){C=!0,j=t}finally{try{k||null==P.return||P.return()}finally{if(C)throw j}}}else E="-";c.push(o.a.createElement("td",{key:s.getStateID()+":"+S.getStateID()},E))}}catch(t){m=!0,g=t}finally{try{d||null==w.return||w.return()}finally{if(m)throw g}}break;default:throw new Error("Unknown row axis type '"+e+"'")}n.push(o.a.createElement("tr",{key:s.getStateID()},o.a.createElement("th",{scope:"row",className:Qt.a.table_axis_header+" row"},s.getStateLabel()),c))}}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"renderTableAxis",value:function(t,e){var n=[];switch(e){case te:var r=!0,i=!1,a=void 0;try{for(var l,u=t.getAlphabet()[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;n.push(o.a.createElement("th",{key:s,scope:"col",className:Qt.a.table_axis_header+" col"},s))}}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var c=t.isDeterministic();return n.push(o.a.createElement("th",{key:Gt.a,scope:"col",className:Qt.a.table_axis_header+(c?" disabled ":"")+" col"},K.a)),n;case"states":var f=!0,p=!1,y=void 0;try{for(var h,b=t.getStates()[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var v=h.value;n.push(o.a.createElement("th",{key:v.getStateID(),scope:"col",className:Qt.a.table_axis_header+" col"},v.getStateLabel()))}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}return n;default:throw new Error("Unknown row axis type '"+e+"'")}}},{key:"render",value:function(){var t=this.state.rowAxis,e=this.props.machineController.getMachineBuilder().getMachine();return o.a.createElement("div",{id:this.props.id,className:Qt.a.table_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("button",{onClick:this.onRowAxisSwitch},t===te?"Q/Σ":"Q/Q")),this.renderTableAxis(e,t)),this.renderTableEntries(e,t))))}}])&&Wt(n.prototype,r),i&&Wt(n,i),e}(),ne=n(243),re=n.n(ne),oe=n(23);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ce=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=le(e).call(this,t))||"object"!==ie(o)&&"function"!=typeof o?se(r):o).onAutoStatePrefixSubmit=n.onAutoStatePrefixSubmit.bind(se(se(n))),n.onAutoStatePrefixFormat=n.onAutoStatePrefixFormat.bind(se(se(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(e,o.a.Component),n=e,(r=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var n=this.props.graphController,r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=t&&(r.setDefaultNodeLabelPrefix(t),n.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return o.a.createElement("div",{id:this.props.id,className:re.a.select_container+" "+this.props.className,style:this.props.style},o.a.createElement("label",{className:re.a.select_label},"State Labels"),o.a.createElement(oe.a,{className:re.a.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),o.a.createElement("select",{className:re.a.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},o.a.createElement("option",null,"0-9"),o.a.createElement("option",null,"a-z"),o.a.createElement("option",null,"A-Z")))}}])&&ae(n.prototype,r),i&&ae(n,i),e}();function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e){return(he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ve=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=ye(e).call(this,t))||"object"!==fe(o)&&"function"!=typeof o?be(r):o).onMachineTypeChange=n.onMachineTypeChange.bind(be(be(n))),n.onAutoLayoutApply=n.onAutoLayoutApply.bind(be(be(n))),n.onAutoLayoutChange=n.onAutoLayoutChange.bind(be(be(n))),n.onAutoLabelChange=n.onAutoLabelChange.bind(be(be(n))),n.onSnapToGridChange=n.onSnapToGridChange.bind(be(be(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMachineTypeChange",value:function(t){var e=t.target.value,n=this.props.session.getCurrentModule().getMachineController().getMachineBuilder().getMachine();switch(e){case"DFA":n.setDeterministic(!0);break;case"NFA":n.setDeterministic(!1);break;default:throw new Error("Unknown machine type '"+e+"'")}}},{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"render",value:function(){var t=this.props.drawer,n=this.props.session.getCurrentModule(),r=n.getGraphController(),a=n.getMachineController(),l=a.getMachineBuilder().getMachine().isDeterministic()?"DFA":"NFA",u=r.shouldAutoRenameNodes(),s=t.isDrawerFullscreen();return o.a.createElement(i.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement("select",{className:$.a.machine_type_select,value:l,onChange:this.onMachineTypeChange},o.a.createElement("option",null,"DFA"),o.a.createElement("option",null,"NFA")),o.a.createElement(et.a,null),o.a.createElement(tt.a,{title:"States",initial:!0,full:s},o.a.createElement(wt,{graphController:r})),o.a.createElement(tt.a,{title:"Alphabet",initial:!0,full:s},o.a.createElement(Ft,{machineController:a})),o.a.createElement(et.a,null),o.a.createElement(tt.a,{title:"Transition Chart",full:s,disabled:r.getGraph().getEdgeCount()<=0},o.a.createElement(Xt,{machineController:a})),o.a.createElement(tt.a,{title:"Transition Table",full:s,disabled:r.getGraph().getNodeCount()<=0},o.a.createElement(ee,{machineController:a})),o.a.createElement(et.a,null),o.a.createElement(ce,{graphController:r}),o.a.createElement("button",{className:$.a.autolayout_button,onClick:this.onAutoLayoutApply,disabled:r.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),o.a.createElement(et.a,null),o.a.createElement(nt.a,{id:"overview-auto-label",checked:u,title:"Auto rename nodes",onChange:this.onAutoLabelChange}),o.a.createElement(nt.a,{id:"overview-auto-layout",checked:!1,title:"Auto layout nodes",disabled:!0,onChange:this.onAutoLayoutChange}),o.a.createElement(nt.a,{id:"overview-snap-grid",checked:!1,title:"Snap-to-grid",disabled:!0,onChange:this.onSnapToGridChange}))}}])&&pe(n.prototype,r),a&&pe(n,a),e}();Object.defineProperty(ve,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});var de=ve,me=n(244),ge=n.n(me),_e=n(245),we=n.n(_e),Se=n(13),Oe=n(8),Ee=n(288),ke=n(298),Ce=n(283),je=n(289),Te=n(299),Pe=n(300),xe=n(286),Ne=(n(287),n(246)),Me=n.n(Ne),Ie=n(301),Ae=n(302),Le=n(303),De=n(304);function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ke="default",He=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Be(e).call(this,t))||"object"!==Fe(o)&&"function"!=typeof o?ze(r):o).inputElement=null,n.state={value:n.props.defaultValue||"",status:Ke},n.onChange=n.onChange.bind(ze(ze(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(e,o.a.Component),n=e,(r=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==Ke?this.setState({status:Ke},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=t.target.value;this.state.value!==e&&this.setState({value:e,status:Ke})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,n=this.props.onTest,r=this.props.active,i=(this.props.subtitle,this.props.placeholder),a=this.state.status;return o.a.createElement("div",{id:this.props.id,className:Me.a.test_item_container+(r?" active ":"")+" "+a+" "+this.props.className,style:this.props.style},o.a.createElement(it.a,{className:Me.a.test_button,title:"Test",disabled:!n,onClick:function(e){return n(e,t)}},"success"===a?o.a.createElement(Ae.a,null):"failure"===a?o.a.createElement(Le.a,null):"working"===a?o.a.createElement(De.a,null):o.a.createElement(xe.a,null)),o.a.createElement("div",{className:Me.a.test_input},o.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:i,value:this.state.value,onChange:this.onChange}),o.a.createElement("label",null,this.props.subtitle)),o.a.createElement(it.a,{className:Me.a.delete_button,title:"Delete",disabled:!e,onClick:function(n){return e(n,t)}},o.a.createElement(Ie.a,null)))}}])&&Re(n.prototype,r),i&&Re(n,i),e}();n(34);function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ze=[".txt"],We="test.txt",Je=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Xe(e).call(this,t))||"object"!==Ue(o)&&"function"!=typeof o?Qe(r):o)._testList=[],n._testName=We,n.onTestNew=n.onTestNew.bind(Qe(Qe(n))),n.onTestUpload=n.onTestUpload.bind(Qe(Qe(n))),n.onTestDownload=n.onTestDownload.bind(Qe(Qe(n))),n.onTestClose=n.onTestClose.bind(Qe(Qe(n))),n.onTestAdd=n.onTestAdd.bind(Qe(Qe(n))),n.onTestDelete=n.onTestDelete.bind(Qe(Qe(n))),n.onTestTest=n.onTestTest.bind(Qe(Qe(n))),n.onTestRunAll=n.onTestRunAll.bind(Qe(Qe(n))),n.onGraphChange=n.onGraphChange.bind(Qe(Qe(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._testList[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.ref.resetStatus()}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,n=new FileReader;n.onload=function(r){try{e._testName=t.name,e._testList.length=0;var o=r.target.result.split("\n"),i=!0,a=!1,l=void 0;try{for(var u,s=o[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;(c=c.trim()).length>0&&e._testList.push({id:Object(Se.a)(),defaultValue:c,ref:null})}}catch(t){a=!0,l=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}e._testList.length<=0&&e.onTestAdd(null)}catch(t){n.abort()}},n.readAsText(t)}},{key:"onTestDownload",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._testList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value.ref;l&&e.push(l.getValue())}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Object(Oe.e)(this._testName,e.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._testList.length=0}},{key:"onTestAdd",value:function(t){this._testList.push({id:Object(Se.a)(),defaultValue:"",ref:null})}},{key:"onTestRunAll",value:function(t){var e=this,n=(this.props.tester,0);!function t(){var r=e._testList[n];e.onTestTest(null,r.ref,!0,function(){++n<e._testList.length&&t()})}()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestTest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n||this.props.immediate,i=this.props.tester,a=e.getValue();e.setState({status:"working"});var l=this.props.graphController,u=this.props.machineController;if(i.startTest(a,l,u).then(function(t){e.setState({status:t?"success":"failure"})},function(t){e.setState({status:Ke})}),o){var s=i.runTest(l,u,!0);r&&s.then(r)}}},{key:"isEmpty",value:function(){return this._testList.length<=0}},{key:"render",value:function(){var t=this,e=(this.props.immediate,this.props.tester),n=this.props.graphController,r=(this.props.machineController,this.isEmpty()),i=e&&e.isTesting();return o.a.createElement("div",{id:this.props.id,className:we.a.test_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:we.a.test_control_tray},o.a.createElement(it.a,{className:we.a.test_control_button,title:I18N.toString("action.testing.new"),onClick:this.onTestNew},o.a.createElement(ke.a,null)),o.a.createElement(Ee.a,{className:we.a.test_control_button,title:I18N.toString("action.testing.import"),accept:Ze.join(","),onUpload:this.onTestUpload},o.a.createElement(Ce.a,null)),o.a.createElement(it.a,{className:we.a.test_control_button,title:I18N.toString("action.testing.save"),disabled:r,onClick:this.onTestDownload},o.a.createElement(je.a,null)),o.a.createElement(it.a,{className:we.a.test_control_button,title:I18N.toString("action.testing.clear"),disabled:r,onClick:this.onTestClose},o.a.createElement(Te.a,null))),o.a.createElement("div",{className:we.a.test_list_container+(r?" empty ":"")+(i?" disabled ":"")},o.a.createElement(it.a,{className:we.a.test_list_add,title:"Add",onClick:this.onTestAdd},o.a.createElement(Pe.a,null),o.a.createElement("span",{className:we.a.test_list_count},r?"":""+this._testList.length)),o.a.createElement("div",{className:we.a.test_list_scroll_container},o.a.createElement("div",{className:we.a.test_list},this._testList.map(function(r,i){var a=r.id,l=r.defaultValue||"",u=t.onTestTest;return e&&!n.getGraph().isEmpty()||(u=null),o.a.createElement(He,{key:a,ref:function(t){return r.ref=t},defaultValue:l,onTest:u,onDelete:function(e,n){t._testList.splice(i,1),t.onTestDelete(e,n)}})}))),o.a.createElement(it.a,{className:we.a.test_list_runall,title:"Run All",onClick:this.onTestRunAll},o.a.createElement(xe.a,null))))}}])&&Ve(n.prototype,r),i&&Ve(n,i),e}(),qe=n(7);function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var on="→",an=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=en(e).call(this,t))||"object"!==$e(o)&&"function"!=typeof o?rn(r):o).targetIndex=0,n.targetLabel="";var i=t.message.value.targets,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getSourceNode().getNodeLabel()+", "+f.getEdgeLabel()+") "+on+" "+(f.getDestinationNode()instanceof G.a?f.getDestinationNode().getNodeLabel():"null")}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(rn(rn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.graphController,n=(this.props.machineController,t.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),e.focusOnEdge(a)}break;case"deleteall":var l=r.value.targets;e.deleteTargetEdges(l),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,this.props.message.value.text+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&tn(n.prototype,r),i&&tn(n,i),e}();function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pn=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=sn(e).call(this,t))||"object"!==ln(o)&&"function"!=typeof o?fn(r):o).targetIndex=0,n.targetLabel="";var i=t.message.value,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(fn(fn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.graphController,n=(this.props.machineController,t.target.value),r=this.props.message;switch(n){case"locate":var o=r.value[this.targetIndex++];this.targetIndex>=r.value.length&&(this.targetIndex=0),e.focusOnNode(o);break;case"deleteall":var i=r.value;e.deleteTargetNodes(i),e.applyAutoRename(),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&un(n.prototype,r),i&&un(n,i),e}();function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mn=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=bn(e).call(this,t))||"object"!==yn(o)&&"function"!=typeof o?dn(r):o).targetIndex=0,n.targetLabel="";var i=t.message.value.targets,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.targetLabel+=" for "+t.message.value.symbol,n.onClick=n.onClick.bind(dn(dn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.graphController,n=(this.props.machineController,t.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),e.focusOnNode(a)}break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}])&&hn(n.prototype,r),i&&hn(n,i),e}();function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var En=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=wn(e).call(this,t))||"object"!==gn(o)&&"function"!=typeof o?On(r):o).targetIndex=0,n.targetLabel="";var i=t.message.value.targets,a=!0,l=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(On(On(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.graphController,n=(this.props.machineController,t.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),e.focusOnNode(a)}break;case"deleteall":var l=r.value.targets;e.deleteTargetNodes(l),e.applyAutoRename(),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){var t=this.props.message;return o.a.createElement("div",null,o.a.createElement("p",null,t.value.text+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&_n(n.prototype,r),i&&_n(n,i),e}(),kn=n(311);function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graphController=e,this._machineController=n,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),n.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)}var e,n,r;return e=t,(n=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController},e=this._machineController.getMachineBuilder(),n=e.getMachineErrors(),r=e.getMachineWarnings();if(qe.a.clearMessages("fsa_build_error"),n.length<=0&&r.length<=0)qe.a.addMessage(I18N.toString("message.error.none"),"success","fsa_build_error",null,null,!1);else{var o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;switch(s.name){case kn.f:qe.a.addMessage(s.nodes,"warning","fsa_build_error",pn,t,!1)}}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}var c=!0,f=!1,p=void 0;try{for(var y,h=n[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=y.value;switch(b.name){case kn.a:qe.a.addMessage({text:"Found duplicate nodes of similar names",targets:b.nodes},"error","fsa_build_error",En,t,!1);break;case kn.d:qe.a.addMessage({text:I18N.toString("message.error.incomplete"),targets:b.edges},"error","fsa_build_error",an,t,!1);break;case kn.b:qe.a.addMessage({text:I18N.toString("message.error.dupe"),targets:b.edges},"error","fsa_build_error",an,t,!1);break;case kn.e:qe.a.addMessage({targets:[b.node],symbol:b.symbols},"error","fsa_build_error",mn,t,!1);break;case kn.c:qe.a.addMessage({text:I18N.toString("message.error.empty"),targets:b.edges},"error","fsa_build_error",an,t,!1)}}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}}}}])&&Cn(e.prototype,n),r&&Cn(e,r),t}();function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var In=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=xn(e).call(this,t))||"object"!==Tn(o)&&"function"!=typeof o?Mn(r):o).state={stepMode:!1},n.onStepTestChange=n.onStepTestChange.bind(Mn(Mn(n))),n.onAutoErrorCheckChange=n.onAutoErrorCheckChange.bind(Mn(Mn(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.session,n=t.getApp(),r=t.getCurrentModule()._tester;r.on("startTest",function(t){n._viewport.setCurrentView(1),n._drawer.setDrawerSoloClass(e),n._drawer.closeDrawer()}),r.on("stopTest",function(t){n._viewport.setCurrentView(0),n._drawer.setDrawerSoloClass(null),n._drawer.openDrawer()})}},{key:"onStepTestChange",value:function(t){this.setState(function(t,e){return{stepMode:!t.stepMode}})}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),n=e.isErrorChecking();e.setErrorChecking(!n),n&&qe.a.clearMessages("fsa_build_error")}},{key:"render",value:function(){var t=this.props.session,n=(t.getApp(),t.getCurrentModule()),r=n.getGraphController(),a=n.getMachineController(),l=n.getStringTester(),u=n.getErrorChecker(),s=this.state.stepMode,c=u.isErrorChecking();return o.a.createElement(i.a,{id:this.props.id,className:ge.a.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(Je,{tester:l,graphController:r,machineController:a,immediate:!s}),o.a.createElement(nt.a,{id:"testing-step-test",checked:s,onChange:this.onStepTestChange,title:"Step testing"}),o.a.createElement(nt.a,{id:"testing-error-check",checked:c,onChange:this.onAutoErrorCheckChange,title:"Auto error checking"}))}}])&&Pn(n.prototype,r),a&&Pn(n,a),e}();Object.defineProperty(In,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});var An=In,Ln=n(247),Dn=n.n(Ln),Fn=n(305);function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Hn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gn(e).call(this,t))||"object"!==Rn(o)&&"function"!=typeof o?Kn(r):o).onClick=n.onClick.bind(Kn(Kn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.message;switch(t.target.value){case"convert":this.props.machineController.convertMachineTo("DFA"),e.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){var t=this.props.machineController.countStates();return o.a.createElement("div",null,o.a.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),o.a.createElement("p",null,"".concat(t," states -> ").concat(Math.pow(2,t)," states")),o.a.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}])&&Bn(n.prototype,r),i&&Bn(n,i),e}();function Un(t){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Zn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Xn(e).call(this,t))||"object"!==Un(o)&&"function"!=typeof o?Qn(r):o).optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(Qn(Qn(n))),n.onConvertToNFA=n.onConvertToNFA.bind(Qn(Qn(n))),n.onInvertDFA=n.onInvertDFA.bind(Qn(Qn(n))),n.onOptimizeMachine=n.onOptimizeMachine.bind(Qn(Qn(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onDeleteAllUnreachable",value:function(t){var e=this.props.session.getCurrentModule(),n=e.getGraphController(),r=e.getMachineController().getUnreachableNodes();n.deleteTargetNodes(r)}},{key:"onConvertToDFA",value:function(t){var e=this.props.session.getCurrentModule(),n={graphController:e.getGraphController(),machineController:e.getMachineController()};qe.a.addMessage(I18N.toString("message.warning.convertNFAToDFA"),"warning","machine-convert",Hn,n)}},{key:"onConvertToNFA",value:function(t){this.props.session.getCurrentModule().getMachineController().convertMachineTo("NFA")}},{key:"onInvertDFA",value:function(t){this.props.session.getCurrentModule().getMachineController().invertMachine()}},{key:"onOptimizeMachine",value:function(t){this.optimizeUnreachOption.isChecked()&&this.onDeleteAllUnreachable(t)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.isChecked()||this.optimizeUnreachOption&&this.optimizeUnreachOption.isChecked()}},{key:"render",value:function(){var t=this,n=this.props.session.getCurrentModule(),r=(n.getGraphController(),n.getMachineController());return o.a.createElement(i.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(tt.a,{title:"Optimizations",initial:!0},o.a.createElement(Fn.a,{ref:function(e){return t.optimizeUnreachOption=e},id:"opt-unreach",title:"Unreachables",value:"unreach"}),o.a.createElement(Fn.a,{ref:function(e){return t.optimizeRedundOption=e},disabled:!0,id:"opt-redund",title:"Redundant States",value:"redund"}),o.a.createElement("button",{className:Dn.a.analysis_button,onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize"),"DFA"==r.getMachineType()?o.a.createElement("button",{className:Dn.a.analysis_button,onClick:this.onConvertToNFA},I18N.toString("action.overview.convertnfa")):"NFA"==r.getMachineType()?o.a.createElement("button",{className:Dn.a.analysis_button,onClick:this.onConvertToDFA},I18N.toString("action.overview.convertdfa")):null),o.a.createElement(tt.a,{title:"Related Machines"},"DFA"===r.getMachineType()&&o.a.createElement("button",{className:Dn.a.analysis_button,onClick:this.onInvertDFA},"Flip all accept states")))}}])&&Vn(n.prototype,r),a&&Vn(n,a),e}();Object.defineProperty(Zn,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}});var Wn=Zn,Jn=n(22),qn=n(307);function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=n,this._right=r,this._index=0}var e,n,r;return e=t,(n=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}])&&$n(e.prototype,n),r&&$n(e,r),t}();function er(t){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e,n){return e&&rr(t.prototype,e),n&&rr(t,n),t}function ir(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ur=function(t){function e(t,n,r){var o;return nr(this,e),(o=ir(this,ar(e).call(this,t.getTestString(),!1,!0)))._tester=t,o._graphController=n,o._machineController=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(e,tr),or(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}]),e}(),sr=function(){function t(){nr(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")}return or(t,[{key:"startTest",value:function(t,e,n){var r=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new ur(this,e,n),this.emit("startTest",this),new Promise(function(t,e){r._resolve=t,r._reject=e}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var a=!1;do{a=n.stepForward(t,e,!r)}while(a);o(n._cachedResult)}).then(function(t){return r?n.stopTest():t})}},{key:"stepForward",value:function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var r,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){r=[],o=[];var a=n.getStartState(),l=!0,u=!1,s=void 0;try{for(var c,f=n.doClosureTransition(a)[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;r.push({state:p,index:0})}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}else{var y=this._cachePath[this._testIndex-1];r=y.states.slice(),o=y.symbols.slice();var h=this._testString[this._testIndex-1];Object(qn.d)(n,h,r,o)}i&&(this._cachedResult=Object(qn.d)(n,null,r,o));var b=new Set,v=!0,d=!1,m=void 0;try{for(var g,_=r[Symbol.iterator]();!(v=(g=_.next()).done);v=!0){var w=g.value,S=w.state.getSource();if(!S)throw new Error("Could not find node '"+w.state+"'");b.add(S)}}catch(t){d=!0,m=t}finally{try{v||null==_.return||_.return()}finally{if(d)throw m}}var O={targets:Array.from(b),states:r,symbols:o};this._cachePath.push(O)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}},{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}}]),t}();Jn.a.mixin(sr);var cr=sr,fr=n(200),pr=n.n(fr),yr=n(309),hr=n(310),br=n(292);function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mr(t,e){return!e||"object"!==vr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wr=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mr(this,gr(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=(this.props.viewport,e.getInputController()),i=e.getGraphController(),a=r.isActionMode();return o.a.createElement("div",{id:this.props.id,className:pr.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(br.a,{className:pr.a.view_widget,style:{right:0},app:n}),o.a.createElement("div",{className:pr.a.view_widget,style:{bottom:0,left:0}},o.a.createElement(yr.a,{mode:a?0:1,onChange:function(t){return r.setInputScheme(0===t)}})),o.a.createElement("div",{className:pr.a.view_widget,style:{bottom:0,right:0}},o.a.createElement(hr.a,{app:n,inputController:r,graphController:i})))}}])&&dr(n.prototype,r),i&&dr(n,i),e}(),Sr=n(316);function Or(t){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kr(t,e){return!e||"object"!==Or(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tr=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),kr(this,Cr(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!0)}},{key:"componentWillUnmount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!1)}},{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=(this.props.viewport,e._tester);e.getInputController(),e.getGraphController(),e.getMachineController();return o.a.createElement("div",{id:this.props.id,className:pr.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(br.a,{className:pr.a.view_widget,style:{right:0},app:n}),o.a.createElement("div",{className:pr.a.view_widget,style:{bottom:0}},o.a.createElement(Sr.a,{value:r?r.getTapeContext():null})))}}])&&Er(n.prototype,r),i&&Er(n,i),e}(),Pr=n(294),xr=n(281),Nr=n(315),Mr=n(277);function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,e){return!e||"object"!==Ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fr(t,e){return(Fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rr=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lr(this,Dr(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fr(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"}))}}])&&Ar(n.prototype,r),i&&Ar(n,i),e}();function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zr(t,e){return!e||"object"!==Br(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hr(t,e){return(Hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ur=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zr(this,Kr(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hr(t,e)}(e,Mr["a"]),n=e,(r=[{key:"importFromFile",value:function(t,e){var n=this;return new Promise(function(r,o){var i=t.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(t){var l=e.getGraphController(),u=(e.getMachineController(),t.target.result),s=i.substring(0,i.length-n.getFileType().length-1),f=l.getGraph();e.getApp().getUndoManager().captureEvent();try{var p=(new DOMParser).parseFromString(u,"text/xml");c.XML.parse(p,f),e.getApp().getSession().setProjectName(s),r()}catch(t){a.abort(),o(t)}finally{e.getApp().getUndoManager().captureEvent()}},a.onerror=function(t){o(new Error("Unable to import file: "+t.target.error.code))},a.readAsText(t)})}},{key:"exportToFile",value:function(t,e){var n=e.getGraphController().getGraph(),r=c.XML.objectify(n),o=(new XMLSerializer).serializeToString(r);Object(Oe.e)(t+"."+this.getFileType(),o)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(t){return!0}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getFileType",value:function(){return"jff"}},{key:"getIconClass",value:function(){return Rr}}])&&Gr(n.prototype,r),o&&Gr(n,o),e}(),Vr=n(296),Xr=n(297),Yr=n(280);function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._inputManager=new a.a(this,new u.a,new s.a,c,W),this._machineController=new l.a(this),this._errorChecker=new jn(this._inputManager.getGraphController(),this._machineController),this._tester=new cr}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){var e=this;t.getExportManager().addExporter(new Nr.a).addExporter(new Ur).addExporters(Vr.a),t.getViewportManager().addViewClass(wr).addViewClass(Tr),t.getDrawerManager().addPanelClass(function(t){return o.a.createElement(i.a,{id:t.id,className:t.className,style:t.style,title:"Finite State Automata"},o.a.createElement("p",null,"Brought to you with ❤ by the Flap.js team."),o.a.createElement("p",null,"<- Tap on a tab to begin!"))}).addPanelClass(de).addPanelClass(An).addPanelClass(Wn),t.getHotKeyManager().registerHotKey("Export to PNG",[Pr.a,"KeyP"],function(){console.log("Export!")}).registerHotKey("Save as JSON",[Pr.a,"KeyS"],function(){console.log("Save!")}).registerHotKey("New",[Pr.a,"KeyN"],function(){console.log("New!")}).registerHotKey("Undo",[Pr.a,"KeyZ"],function(){console.log("Undo!")}).registerHotKey("Redo",[Pr.a,Pr.b,"KeyZ"],function(){console.log("Redo!")}),t.getRenderManager().addRenderer(xr.c,function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{currentModule:e,parent:t.workspace}))}).addRenderer(xr.c,function(t){return o.a.createElement(J.a,{currentModule:e})}),t.getUndoManager().setEventHandlerFactory(function(){return new Xr.a(e._inputManager.getGraphController(),e._inputManager.getGraphParser())}),t.getTooltipManager().addTooltip(I18N.toString("message.workspace.empty")).addTooltip("If you need help, try the '?' at the top.").addTooltip("Or you can choose to do nothing.").addTooltip("I can't do anything about that.").addTooltip("You really should consider doing something though, for the sake of both of us.").addTooltip("Of course, it is your free will.").addTooltip("You do you.").addTooltip("Please do something.").addTooltip("I need my job.").addTooltip(I18N.toString("message.workspace.empty")),this.getMachineController().initialize(this),this._inputManager.onSessionStart(t.getSession())}},{key:"update",value:function(t){this._inputManager.update(this),this.getMachineController().update(this)}},{key:"destroy",value:function(t){this._inputManager.onSessionStop(t.getSession()),this.getMachineController().destroy(this)}},{key:"clear",value:function(t){Yr.a(t,!1,function(){return t.getToolbarComponent().closeBar()})}},{key:"getInputManager",value:function(){return this._inputManager}},{key:"getInputController",value:function(){return this._inputManager.getInputController()}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._inputManager.getGraphController()}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModuleName",value:function(){return"fsa2"}},{key:"getLocalizedModuleName",value:function(){return this._machineController.getMachineType()}},{key:"getApp",value:function(){return this._app}}])&&Qr(e.prototype,n),r&&Qr(e,r),t}();e.default=Zr},274:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(201),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.title,n=e.SHOW_LABEL&&t;return o.a.createElement("button",{id:this.props.id,className:a.a.icon_button+(n?" hint ":"")+" "+this.props.className,style:this.props.style,title:t,disabled:this.props.disabled,onClick:this.props.onClick},this.props.children,o.a.createElement("label",null,t))}}])&&u(n.prototype,r),i&&u(n,i),e}();p.SHOW_LABEL=!1,e.a=p},275:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(202),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.title;return o.a.createElement("div",{id:this.props.id,className:a.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:a.a.panel_title},o.a.createElement("h1",null,t)),o.a.createElement("div",{className:a.a.panel_content},this.props.children),o.a.createElement("div",{className:a.a.panel_bottom}))}}])&&u(n.prototype,r),i&&u(n,i),e}();e.a=p},276:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return f});var r=n(21),o=n(13);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var c="&empty",f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(this,t),this._label=e,this._src=n,this._id=n instanceof r.a?n.getGraphElementID():Object(o.a)()}return s(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),t}(),p=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];l(this,t),this._from=e,this._to=n,this._symbols=r}return s(t,[{key:"copy",value:function(){var e=new t;return e._from=this._from,e._to=this._to,e._symbols=this._symbols.slice(),e}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t){this._symbols.push(t)}},{key:"hasSymbol",value:function(t){return this._symbols.includes(t)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}]),t}(),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(this,t),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=e,this._errors=[]}return s(t,[{key:"copy",value:function(t){if(t!==this){this.clear();var e=!0,n=!1,r=void 0;try{for(var o,i=t._states.entries()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var l=a(o.value,2),u=l[0],s=(v=l[1]).copy();this._states.set(u,s),t.isStartState(v)&&(this._startState=s),t.isFinalState(v)&&this._finalStates.add(s)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var c=!0,f=!1,p=void 0;try{for(var y,h=t._alphabet.entries()[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=a(y.value,2),v=(u=b[0],b[1]);this._alphabet.set(u,v)}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}var d=!0,m=!1,g=void 0;try{for(var _,w=t._transitions.entries()[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var S=a(_.value,2),O=(u=S[0],(v=S[1]).copy());O._from=this._states.get(v.getSourceState().getStateID()),O._to=this._states.get(v.getDestinationState().getStateID()),this._transitions.set(u,O)}}catch(t){m=!0,g=t}finally{try{d||null==w.return||w.return()}finally{if(m)throw g}}var E=!0,k=!1,C=void 0;try{for(var j,T=t._customSymbols[Symbol.iterator]();!(E=(j=T.next()).done);E=!0){var P=j.value;this._customSymbols.add(P)}}catch(t){k=!0,C=t}finally{try{E||null==T.return||T.return()}finally{if(k)throw C}}this._deterministic=t._deterministic;var x=!0,N=!1,M=void 0;try{for(var I,A=t._errors[Symbol.iterator]();!(x=(I=A.next()).done);x=!0){var L=I.value;this._errors.push(L)}}catch(t){N=!0,M=t}finally{try{x||null==A.return||A.return()}finally{if(N)throw M}}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(t){this._deterministic=t}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var t=new Map,e=!0,n=!1,r=void 0;try{for(var o,i=this._alphabet.keys()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t.set(a,!1)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var l=!0,u=!1,s=void 0;try{for(var c,f=this._states.values()[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value,y=this.getOutgoingTransitions(p),h=!0,b=!1,v=void 0;try{for(var d,m=y[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var g=d.value[1];if(t.get(g))return this._errors.push("duplicate symbol: "+g),!1;t.set(g,!0)}}catch(t){b=!0,v=t}finally{try{h||null==m.return||m.return()}finally{if(b)throw v}}var _=!0,w=!1,S=void 0;try{for(var O,E=t.keys()[Symbol.iterator]();!(_=(O=E.next()).done);_=!0){var k=O.value;if(!t.get(k))return this._errors.push("missing symbol: "+k),!1;t.set(k,!1)}}catch(t){w=!0,S=t}finally{try{_||null==E.return||E.return()}finally{if(w)throw S}}}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new f(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){if(o.value.getStateLabel()==t)return!0}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"getStatesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getStateLabel()==t&&e.push(l)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,n){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+state.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+state.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var r=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(r)){var o=this._transitions.get(r);if(o.hasSymbol(n))return!1;o.addSymbol(n)}else this._transitions.set(r,new p(t,e,[n]));return this._incrSymbolCount(n),!0}},{key:"removeTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(r))return!1;var o=this._transitions.get(r).getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var a=!0,l=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;this._decrSymbolCount(f)}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(t,e){var n=t.getStateID()+"->"+e.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if(t!==c){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==c){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if(t===c)throw new Error("Cannot change the empty symbol");if(e===c)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value.getSymbols(),u=l.indexOf(t);u>=0&&(l[u]=e)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=this._alphabet.get(t);this._alphabet.set(e,s),this._alphabet.delete(t),this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._customSymbols.add(e))}},{key:"removeSymbol",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,l=this._transitions.entries()[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=a(i.value,2),s=u[0],f=u[1].getSymbols(),p=f.indexOf(t);p>=0&&(f.splice(p,1),f.length<=0&&e.push(s))}}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}for(var y=0;y<e.length;y++){var h=e[y];this._transitions.delete(h)}t!==c&&(this._customSymbols.has(t)?this._alphabet.set(t,0):this._alphabet.delete(t))}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===c)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!(t instanceof f))throw new Error("Invalid state instance type '"+i(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var o=t.getStateID()+"->",a=!0,l=!1,u=void 0;try{for(var s,p=this._transitions.keys()[Symbol.iterator]();!(a=(s=p.next()).done);a=!0){var y=s.value;if(y.startsWith(o)){var h=this._transitions.get(y);if(h.hasSymbol(e)&&(r.push(h.getDestinationState()),!n&&this._deterministic))return r}}}catch(t){l=!0,u=t}finally{try{a||null==p.return||p.return()}finally{if(l)throw u}}return r}},{key:"doTerminalTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return n;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var r=t.getStateID()+"->",o=!0,i=!1,a=void 0;try{for(var l,u=this._transitions.keys()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;if(s.startsWith(r)){var f=this._transitions.get(s);if(f.hasSymbol(e)){var p=f.getDestinationState(),y=this.doClosureTransition(p),h=!0,b=!1,v=void 0;try{for(var d,m=y[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var g=d.value;n.includes(g)||n.push(g)}}catch(t){b=!0,v=t}finally{try{h||null==m.return||m.return()}finally{if(b)throw v}}}}}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"doClosureTransition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;e.push(t);for(var n=0;n<e.length;++n){var r=this.getOutgoingTransitions(e[n]),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;if(s[1]===c){var f=s[2];e.includes(f)||e.push(f)}}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return e}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var n=t.getStateID()+"->",r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions.keys()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.startsWith(n)){var s=this._transitions.get(u),c=s.getSymbols(),f=!0,p=!1,y=void 0;try{for(var h,b=c[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var v=h.value;e.push([t,v,s.getDestinationState()])}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}}}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return e}},{key:"getHashCode",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){t+=i.value.getHashString()+","}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}t+="|";var l=!0,u=!1,s=void 0;try{for(var c,f=this._transitions.values()[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){t+=c.value.getHashString()+","}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}t+="|";var p=!0,y=!1,h=void 0;try{for(var b,v=this._finalStates[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){t+=b.value.getHashString()}}catch(t){y=!0,h=t}finally{try{p||null==v.return||v.return()}finally{if(y)throw h}}return t+="|",t+=this._startState?this._startState.getHashString():"",t+="|",t+=this._deterministic?"d":"n",Object(o.b)(t)}}]),t}();e.c=y},277:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"importFromData",value:function(t,e){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToData",value:function(t){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportData",value:function(){return!1}},{key:"importFromFile",value:function(t,e){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToFile",value:function(t,e){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportFile",value:function(){return!1}},{key:"canImport",value:function(t){return!1}},{key:"canExport",value:function(t){return!0}},{key:"getTitle",value:function(){return this.getLabel()}},{key:"getIconClass",value:function(){return null}},{key:"getLabel",value:function(){return"Export as "+this.getFileType().toUpperCase()}},{key:"getFileType",value:function(){throw new Error("Unknown file type for exporter")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},278:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(203),a=n.n(i),l=n(274);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,f(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 10l5 5 5-5z"}))}}])&&s(n.prototype,r),i&&s(n,i),e}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,d(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 14l5-5 5 5z"}))}}])&&b(n.prototype,r),i&&b(n,i),e}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var k=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=S(e).call(this,t))||"object"!==_(o)&&"function"!=typeof o?E(r):o).state={open:t.initial||!1},n.onClick=n.onClick.bind(E(E(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){this.setState(function(t,e){return{open:!t.open}})}},{key:"componentDidUpdate",value:function(){this.state.open&&this.props.disabled&&this.setState({open:!1})}},{key:"render",value:function(){var t=this.state.open,e=this.props.disabled||o.a.Children.count(this.props.children)<=0,n=this.props.full,r=this.props.title;return o.a.createElement("section",{id:this.props.id,className:a.a.section_container+" "+this.props.className,style:this.props.style},o.a.createElement(l.a,{className:a.a.section_header,title:r,disabled:e,onClick:this.onClick},t?o.a.createElement(g,null):o.a.createElement(y,null)),o.a.createElement("div",{className:a.a.section_content_container+(t?" open ":"")+(n?" full ":"")},o.a.createElement("div",{className:a.a.section_content},this.props.children)))}}])&&w(n.prototype,r),i&&w(n,i),e}();e.a=k},279:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},280:function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e||(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,"a",function(){return r})},281:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"c",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return l});var o="workspace",i="workspace-overlay",a="viewport",l="viewport-overlay",u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderMapping=new Map}var e,n,o;return e=t,(n=[{key:"addRenderer",value:function(t,e){return this._renderMapping.has(t)?this._renderMapping.get(t).push(e):this._renderMapping.set(t,[e]),this}},{key:"onSessionStart",value:function(t){}},{key:"onSessionStop",value:function(t){this._renderMapping.clear()}},{key:"getRenderersByLayer",value:function(t){return this._renderMapping.get(t)}}])&&r(e.prototype,n),o&&r(e,o),t}();e.e=u},282:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(204),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=s(this,c(e).call(this,t)),!t.id)throw new Error("Must specify id");return n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.id,e=this.props.disabled,n=this.props.checked,r=this.props.onChange;return o.a.createElement("div",{id:t,className:a.a.switch_container+(e?" disabled ":"")+(n?" active ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("label",{className:a.a.panel_switch,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:t+"-switch",checked:n,onChange:r,disabled:e}),o.a.createElement("div",{className:a.a.switch_slider})),o.a.createElement("label",{className:a.a.switch_label,htmlFor:t+"-switch"},this.props.title))}}])&&u(n.prototype,r),i&&u(n,i),e}();e.a=p},283:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},284:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},285:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},286:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},287:function(t,e,n){"use strict";n(0)},288:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(205),a=n.n(i),l=n(274);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var y=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=c(e).call(this,t))||"object"!==u(o)&&"function"!=typeof o?p(r):o).onFileUpload=n.onFileUpload.bind(p(p(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"onFileUpload",value:function(t){var e=t.target.files;e.length>0&&(this.props.onUpload&&this.props.onUpload(e[0]),t.target.value="")}},{key:"render",value:function(){var t=this.props.accept;return o.a.createElement(l.a,{id:this.props.id,className:a.a.upload_button+" "+this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled},o.a.createElement("input",{type:"file",name:"import",className:a.a.upload_input,disabled:this.props.disabled,accept:t,onChange:this.onFileUpload}),this.props.children)}}])&&s(n.prototype,r),i&&s(n,i),e}();e.a=y},289:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},290:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},291:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},292:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(209),a=n.n(i),l=n(210),u=n.n(l),s=n(274);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var b=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=p(e).call(this,t))||"object"!==c(o)&&"function"!=typeof o?h(r):o).state={index:t.initial||0},n.onClick=n.onClick.bind(h(h(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this,n=this.state.index;this.setState(function(t,e){var n=o.a.Children.count(e.children),r=t.index+1;return r>=n&&(r=0),{index:r}},function(){e.props.onClick&&e.props.onClick(t,n)})}},{key:"setStateIndex",value:function(t){this.setState({index:t})}},{key:"getStateIndex",value:function(){return this.state.index}},{key:"render",value:function(){var t=this,e=o.a.Children.map(this.props.children,function(e,n){if(n===t.state.index)return e})[0];return o.a.createElement(s.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled,onClick:this.onClick},e)}}])&&f(n.prototype,r),i&&f(n,i),e}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,g(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))}}])&&d(n.prototype,r),i&&d(n,i),e}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,k(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))}}])&&O(n.prototype,r),i&&O(n,i),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,N(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.app;return o.a.createElement(b,{id:this.props.id,className:u.a.fullscreen_button+" "+this.props.className,style:this.props.style,title:"Fullscreen Mode",onClick:function(e,n){return t.setState({hide:0===n})}},o.a.createElement(w,null),o.a.createElement(j,null))}}])&&P(n.prototype,r),i&&P(n,i),e}(),A=n(211),L=n.n(A);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,B(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&F(n.prototype,r),i&&F(n,i),e}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,V(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&H(n.prototype,r),i&&H(n,i),e}();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=W(e).call(this,t))||"object"!==Q(o)&&"function"!=typeof o?q(r):o).onZoomIn=n.onZoomIn.bind(q(q(n))),n.onZoomOut=n.onZoomOut.bind(q(q(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(e,o.a.Component),n=e,(r=[{key:"onZoomIn",value:function(t){var e=this.props.viewport,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewport,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewport.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:L.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(s.a,{className:L.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(z,null)),o.a.createElement(s.a,{className:L.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(Y,null)),o.a.createElement("label",{className:L.a.zoom_label},t))}}])&&Z(n.prototype,r),i&&Z(n,i),e}(),tt=n(212),et=n.n(tt);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,it(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&rt(n.prototype,r),i&&rt(n,i),e}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var yt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=ct(e).call(this,t))||"object"!==ut(o)&&"function"!=typeof o?pt(r):o).onClick=n.onClick.bind(pt(pt(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){this.props.viewport.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewport;return o.a.createElement(s.a,{id:this.props.id,className:et.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(lt,null))}}])&&st(n.prototype,r),i&&st(n,i),e}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),vt(this,dt(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.app,e=t.getInputAdapter().getViewport();return o.a.createElement("div",{id:this.props.id,className:a.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(I,{className:a.a.navbar_widget,app:t}),o.a.createElement($,{className:a.a.navbar_widget_container,viewport:e}),o.a.createElement(yt,{className:a.a.navbar_widget,viewport:e}))}}])&&bt(n.prototype,r),i&&bt(n,i),e}();e.a=gt},293:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(213),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.panel_divider+" "+this.props.className,style:this.props.style})}}])&&u(n.prototype,r),i&&u(n,i),e}();e.a=p},294:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o="Control",i="Shift",a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hotkeys=[],this._cachedEvent={ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1,code:null},this._prevHotKey=null,this._repeatCount=0,this._enabled=!1,this._altHotkey=null,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}var e,n,a;return e=t,(n=[{key:"registerHotKey",value:function(t,e,n){if(!Array.isArray(e))throw new Error("Must be an array of key codes");var r=e.indexOf(o);r>=0&&e.splice(r,1);var a=e.indexOf("Meta");a>=0&&e.splice(a,1);var l=e.indexOf("Alt");l>=0&&e.splice(l,1);var u=e.indexOf(i);if(u>=0&&e.splice(u,1),1!=e.length)throw new Error("Multiple key operations not supported");var s=e[0],c=r>=0||a>=0,f=l>=0,p=u>=0,y={name:t,localizedKeys:(c?"Ctrl + ":"")+(f?"Alt + ":"")+(p?"Shift + ":"")+s,charKey:s,ctrlKey:c,altKey:f,shiftKey:p,callback:n};return this._hotkeys.unshift(y),this}},{key:"registerAltHotKey",value:function(t,e){if(this._altHotkey)throw new Error("Only one hotkey can exist for 'Alt'");return this._altHotkey={name:t,localizedKeys:"Alt",charKey:null,ctrlKey:!1,altKey:!0,shiftKey:!1,callback:e},this}},{key:"onSessionStart",value:function(t){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this._enabled=!0}},{key:"onSessionStop",value:function(t){this._enabled=!1,this._prevHotKey=null,this._repeatCount=0,this._hotkeys.length=0,this._altHotkey=null,window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"setEnabled",value:function(t){this._enabled=t}},{key:"isEnabled",value:function(){return this._enabled}},{key:"findMatchingHotKey",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._hotkeys[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(l(t,a))return a}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return null}},{key:"getCurrentHotKey",value:function(){return this._prevHotKey}},{key:"getCurrentHotKeyRepeatCount",value:function(){return this._repeatCount}},{key:"getCurrentlyPossibleHotKeys",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this._cachedEvent,n=e.ctrlKey||e.metaKey,r=e.altKey,o=e.shiftKey;if(!n&&!r&&!o)return t;var i=e.code,a=null,l=!0,u=!1,s=void 0;try{for(var c,f=this._hotkeys[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value,y=!1;if(n^p.ctrlKey){if(n)continue;y=!0}if(r^p.altKey){if(r)continue;y=!0}if(o^p.shiftKey){if(o)continue;y=!0}y||i!==p.charKey||(a=p),t.push(p)}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return a||t}},{key:"onKeyDown",value:function(t){if(this._enabled&&!t.repeat){this.captureKeyEvent(t,!1);var e=this.findMatchingHotKey(this._cachedEvent);!e&&l(t,this._altHotkey)&&(e=this._altHotkey),e&&(this._prevHotKey===e?++this._repeatCount:(this._prevHotKey=e,this._repeatCount=0),e.callback(),t.preventDefault(),t.stopPropagation())}}},{key:"onKeyUp",value:function(t){this._enabled&&this.captureKeyEvent(t,!0)&&(this._prevHotKey=null,this._repeatCount=0)}},{key:"captureKeyEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._cachedEvent.ctrlKey=t.ctrlKey,this._cachedEvent.metaKey=t.metaKey,this._cachedEvent.altKey=t.altKey,this._cachedEvent.shiftKey=t.shiftKey,this._cachedEvent.code=e?null:t.code||null,e&&!(this._cachedEvent.ctrlKey||this._cachedEvent.metaKey||this._cachedEvent.altKey||this._cachedEvent.shiftKey)}}])&&r(e.prototype,n),a&&r(e,a),t}();function l(t,e){return e.ctrlKey===(t.ctrlKey||t.metaKey)&&(e.altKey===t.altKey&&(e.shiftKey===t.shiftKey&&(!e.charKey||e.charKey===t.code)))}e.c=a},295:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p});var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Math.PI/6,f="forward",p="undirected",y=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-c))+" "+(t.position.y-t.length*Math.cos(t.angle-c))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+c))+" "+(t.position.y-t.length*Math.cos(t.angle+c)),stroke:t.color,fill:"none"}))},h=function(t){return o.a.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,n){return o.a.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle",stroke:t.color},e)}))},b=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.directed||p,r=n===f||"both"===n?this.props.forwardEndpointRenderer||this.props.endpointRenderer||y:null,i="backward"===n||"both"===n?this.props.backwardEndpointRenderer||this.props.endpointRenderer||y:null,a=this.props.labelRenderer||h,l=this.props.from,u=this.props.to,s=this.props.center,c=this.props.label||"",b=this.props.direction||0,v=this.props.color||"#000000",d=!1,m=null,g=l.x-u.x,_=l.y-u.y,w=l.x-s.x,S=l.y-s.y,O=Math.atan2(_,g),E=Math.atan2(S,w);if(Math.abs(O-E)<=.01)e=Math.atan2(s.x-u.x,s.y-u.y)+Math.PI,t=Math.atan2(s.x-l.x,s.y-l.y)+Math.PI,m="L "+u.x+" "+u.y,d=!1;else{var k=(4*s.x-l.x-u.x)/2,C=(4*s.y-l.y-u.y)/2;e=Math.atan2(k-u.x,C-u.y)+Math.PI,t=Math.atan2(k-l.x,C-l.y)+Math.PI,m="Q "+k+" "+C+" "+u.x+" "+u.y,d=C>s.y+4}return o.a.createElement("g",null,o.a.createElement("path",{d:"M "+l.x+" "+l.y+" "+m,stroke:v,fill:"none"}),r&&o.a.createElement(r,{position:u,angle:e,length:10,color:v}),i&&o.a.createElement(i,{position:l,angle:t,length:10,color:v}),a&&o.a.createElement(a,{position:s,labels:c.split("\n"),direction:b,reverse:d}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.c=b},296:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(277),o=n(38),i=n(39),a=(n(32),n(40)),l=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.b;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=c(this,p(e).call(this)))._imageType=n,t}var n,u,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,r["a"]),n=e,(u=[{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getApp().getInputAdapter().getViewport(),a=i.getOffsetX(),l=i.getOffsetY(),u=o.getGraph().getBoundingRect(),s=u.minX+a-30,c=u.minY+l-0,f=u.width+60,p=u.height+0,y=t.cloneNode(!0);y.setAttribute("viewBox",s+" "+c+" "+f+" "+p),y.setAttribute("width",e),y.setAttribute("height",n),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");for(var h=y.getElementsByClassName("graph-ui");h.length>0;){h[0].remove()}return y}},{key:"exportToFile",value:function(t,e){var n=e.getApp().workspace.getSVGElement(),r=n.viewBox.baseVal,o=r.width,i=r.height,a=this.processSVGForExport(n,o,i,e);Object(l.d)(t,this._imageType,a,o,i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(t){return!1}},{key:"getTitle",value:function(){switch(this._imageType){case l.b:return I18N.toString("file.export.png.hint");case l.a:return I18N.toString("file.export.jpg.hint");case l.c:return I18N.toString("file.export.svg.hint");default:return f(p(e.prototype),"getTitle",this).call(this)}}},{key:"getLabel",value:function(){switch(this._imageType){case l.b:return I18N.toString("file.export.png");case l.a:return I18N.toString("file.export.jpg");case l.c:return I18N.toString("file.export.svg");default:return f(p(e.prototype),"getLabel",this).call(this)}}},{key:"getFileType",value:function(){return this._imageType}},{key:"getIconClass",value:function(){switch(this._imageType){case l.b:return o.a;case l.a:return i.a;case l.c:return a.a;default:return null}}}])&&s(n.prototype,u),h&&s(n,h),e}(),b=[new h(l.b),new h(l.a),new h(l.c)]},297:function(t,e,n){"use strict";var r=n(291);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,l(e).call(this)))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["a"]),n=e,(o=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},298:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},299:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},300:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},301:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},302:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},303:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},304:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},305:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(214),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=s(e).call(this,t))||"object"!==l(o)&&"function"!=typeof o?f(r):o).state={checked:t.initial||!1},n.onChange=n.onChange.bind(f(f(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"setChecked",value:function(t){this.setState({checked:t})}},{key:"isChecked",value:function(){return this.state.checked}},{key:"onChange",value:function(t){var e=t.target.checked;this.state.checked!==e&&this.setState({checked:e})}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.checkbox_container+" "+this.props.className,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:this.props.id+"-checkbox",name:this.props.id+"-checkbox",value:this.props.value,checked:this.state.checked,disabled:this.props.disabled,onChange:this.onChange}),o.a.createElement("label",{htmlFor:this.props.id+"-checkbox"},this.props.title))}}])&&u(n.prototype,r),i&&u(n,i),e}();e.a=p},306:function(t,e,n){"use strict";var r=n(36);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]}var e,n,r;return e=t,(n=[{key:"getSelectionBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,n=Math.max(e.toX,e.fromX),r=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,n,r,o,i){var a=Math.min(e,r),l=Math.min(n,o),u=Math.max(e,r),s=Math.max(n,o),c=!0,f=!1,p=void 0;try{for(var y,h=t.getNodes()[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=y.value;b.x>=a&&b.x<u&&b.y>=l&&b.y<s&&i.push(b)}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}}(t,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this._boundingBox.visible}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType="",this._prevX=0,this._prevY=0}var e,n,r;return e=t,(n=[{key:"setInitialTarget",value:function(t,e){this.initialTarget=t,this.initialTargetType=e}},{key:"updateHoverTarget",value:function(t,e,n){this._prevX===e&&this._prevY===n||(this._prevX=e,this._prevY=n,this.updateTarget(t,e,n),this.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"updateInitialTarget",value:function(t,e,n){this.updateTarget(t,e,n),this.setInitialTarget(this.target,this.targetType)}},{key:"updateTarget",value:function(t,e,n){return(this.target=this.getNodeByInitialMarkerAt(t,e,n))?this.targetType="initial":(this.target=this.getEdgeByEndPointAt(t,e,n))?this.targetType="endpoint":(this.target=this.getNodeAt(t,e,n))?this.targetType="node":(this.target=this.getEdgeAt(t,e,n))?this.targetType="edge":(this.target=null,this.targetType="none"),this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"getNodeAt",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,l=t.getNodes()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,s=u.getNodeSize(),c=e-u.x,f=n-u.y;if(c*c+f*f<s*s)return u}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return null}},{key:"getNodeByInitialMarkerAt",value:function(t,e,n){var r=t.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=e-(r.x+i),l=n-r.y;return a*a+l*l<144?r:null}},{key:"getEdgeAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=t.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;s.getCenterPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<144)return s}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"getEdgeByEndPointAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=t.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;s.getEndPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<36)return s}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"isTarget",value:function(t){return this.target==t}}])&&a(e.prototype,n),r&&a(e,r),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"isTargetable",value:function(t,e,n,r){return!1}},{key:"onAction",value:function(t,e,n,r){return!1}},{key:"onDblAction",value:function(t,e,n,r){return!1}},{key:"onDragStart",value:function(t,e,n,r){return!1}},{key:"onDragMove",value:function(t,e,n,r){return!1}},{key:"onDragStop",value:function(t,e,n,r){return!1}}])&&u(e.prototype,n),r&&u(e,r),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=p(this,y(e).call(this)),!t)throw new Error("Missing target type for graph element input handler");return n._targetType=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,s),n=e,(r=[{key:"isTargetable",value:function(t,e,n,r){return r===this._targetType}},{key:"getTargetType",value:function(){return this._targetType}}])&&f(n.prototype,r),o&&f(n,o),e}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,g(e).call(this,"node"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox();return t.isTrashMode()?(e.prevX=r.x,e.prevY=r.y,o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0):t.isMoveMode()?(e.openLabelEditor(r,r.getNodeLabel()),!1):(e.toggleNode(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){if(t.isMoveMode())e.prevX=r.x,e.prevY=r.y;else{var o=t.getPicker(),i=e.getGraph().createEdge(r,n);i.setEdgeLabel(e.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(i,"endpoint"),t.isNewEdge=!0;var a=i.getQuadratic();e.prevQuad.radians=a.radians,e.prevQuad.length=a.length,e.prevEdgeTo=null}return!0}},{key:"onDragMove",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,l=n.y;if(t._snapToGrid){var u=t._snapSize;a=Math.round(a/u)*u,l=Math.round(l/u)*u}return o.hasSelection()?e.moveMultipleNodesTo(n,o.getSelection(i),a,l):e.moveNodeTo(n,r,a,l),!0}},{key:"onDragStop",value:function(t,e,n,r){t.getPicker();var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,l=n.y;if(t.isTrashMode())return o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0;if(o.hasSelection()){var u=a-e.prevX,s=l-e.prevY;e.onGraphIntentMoveAllNodes(o.getSelection(i),u,s)}else e.onGraphIntentMoveNode(r,a,l,e.prevX,e.prevY);return!0}}])&&d(n.prototype,r),o&&d(n,o),e}(),S=n(12);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,C(e).call(this,"initial"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,b),n=e,(r=[{key:"onDragStart",value:function(t,e,n,r){return t.ghostInitialMarker=n,!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getPicker(),i=e.getGraph(),a=n.x,l=n.y,u=o.getNodeAt(i,a,l)||n;return t.ghostInitialMarker=u,!0}},{key:"onDragStop",value:function(t,e,n,r){var o=e.getGraph();if(t.ghostInitialMarker instanceof S.a){var i=o.getStartNode();o.setStartNode(t.ghostInitialMarker),e.applyAutoRename(),e.onGraphIntentChangeInitial(t.ghostInitialMarker,i)}return t.ghostInitialMarker=null,!0}}])&&E(n.prototype,r),o&&E(n,o),e}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,M(e).call(this,"edge"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.openLabelEditor(r,r.getEdgeLabel()),!0}},{key:"onDragStart",value:function(t,e,n,r){if(r.isPlaceholder())return!1;var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEdgeTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){e.getGraph();return t.isTrashMode()?e.deleteTargetEdge(r):e.onGraphIntentMoveEdge(r,r.getQuadratic(),e.prevQuad),!0}}])&&x(n.prototype,r),o&&x(n,o),e}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,R(e).call(this,"endpoint"))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,b),n=e,(r=[{key:"onAction",value:function(t,e,n,r){return!!t.isTrashMode()&&(e.deleteTargetEdge(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,e.prevEdgeTo=r.getDestinationNode(),t.isNewEdge=!1,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEndpointTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){var o=e.getGraph();n.x,n.y;if(t.isTrashMode())return e.deleteTargetEdge(r),!0;if(r.getDestinationNode()instanceof S.a){var i=o.formatEdge(r);return i!==r?(e.openLabelEditor(i,i.getEdgeLabel()),o.deleteEdge(r),!0):(t.isNewEdge?e.openLabelEditor(i,"",function(t,n){return e.onGraphIntentFinishEdge(t)}):e.openLabelEditor(r,r.getEdgeLabel()),t.isNewEdge?(t.isNewEdge=!1,e.onGraphIntentCreateEdge(r)):null!==e.prevEdgeTo&&e.onGraphIntentChangeDestination(r,r.getDestinationNode(),e.prevEdgeTo,e.prevQuad),!0)}return t.shouldDestroyPointlessEdges?(t.isNewEdge?o.deleteEdge(r):e.deleteTargetEdge(r),!0):(r.changeDestinationNode(null),r.getEdgeLabel().length<=0&&e.openLabelEditor(r,r.getEdgeLabel()),!0)}}])&&D(n.prototype,r),o&&D(n,o),e}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,U(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(e,s),n=e,(r=[{key:"isTargetable",value:function(t,e,n,r){return"none"===r}},{key:"onDblAction",value:function(t,e,n,r){var o=n.x,i=n.y;if(t._snapToGrid){var a=t._snapSize;o=Math.round(o/a)*a,i=Math.round(i/a)*a}e.createNode(o,i);return!0}}])&&K(n.prototype,r),o&&K(n,o),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t,e,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=!0,tt=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Z(this,J(e).call(this,t,n)))._picker=null,r._selectionBox=new i,r._graphController=null,r.isNewEdge=!1,r.ghostInitialMarker=null,r.shouldDestroyPointlessEdges=$,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r._snapToGrid=!1,r._snapSize=48,r._inputHandlers=[new w,new A,new G,new T,new X],r}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,r["a"]),n=e,(o=[{key:"initialize",value:function(t){W(J(e.prototype),"initialize",this).call(this,t),this._module=t,this._graphController=t.getGraphController(),this._picker=new l(this._graphController)}},{key:"destroy",value:function(t){W(J(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){W(J(e.prototype),"update",this).call(this,t);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();r.updateHoverTarget(n,o,i)}},{key:"setDisabled",value:function(t){this._disabled=t}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(t){if(this._disabled)return W(J(e.prototype),"onPreInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.updateInitialTarget(n,t.x,t.y);var o=r.initialTarget,i=r.initialTargetType;return this._selectionBox.hasSelection()&&("node"==i&&this._selectionBox.isTargetInSelection(o)||this._selectionBox.clearSelection()),W(J(e.prototype),"onPreInputEvent",this).call(this,t)}},{key:"onInputEvent",value:function(t){if(this._disabled)return W(J(e.prototype),"onInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onAction(this,n,t,o))return!0}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return W(J(e.prototype),"onInputEvent",this).call(this,t)}},{key:"onDblInputEvent",value:function(t){if(this._disabled)return W(J(e.prototype),"onDblInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,l=!1,u=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDblAction(this,n,t,o))return!0}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return W(J(e.prototype),"onDblInputEvent",this).call(this,t)}},{key:"onDragStart",value:function(t){if(this._disabled)return W(J(e.prototype),"onDragStart",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isNewEdge=!1,this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,l=!1,u=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStart(this,n,t,o))return!0}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return W(J(e.prototype),"onDragStart",this).call(this,t)}},{key:"onDragMove",value:function(t){if(this._disabled)return W(J(e.prototype),"onDragMove",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragMove(this,n,t,o))return!0}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return W(J(e.prototype),"onDragMove",this).call(this,t)}},{key:"onDragStop",value:function(t){if(this._disabled)return W(J(e.prototype),"onDragStop",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStop(this,n,t,o))return!0}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}return W(J(e.prototype),"onDragStop",this).call(this,t)}},{key:"onPostInputEvent",value:function(t){if(this._disabled)return W(J(e.prototype),"onPostInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,t.x,t.y),W(J(e.prototype),"onPostInputEvent",this).call(this,t)}},{key:"setTrashMode",value:function(t){this._trashMode=t,t?this._module.getApp()._drawer.setViewportColor("var(--color-viewport-error)"):this._module.getApp()._drawer.setViewportColor(null)}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(t){this._swapMouseScheme=!t}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var t=this._inputAdapter.isAltInput();return this._swapMouseScheme?!t:t}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}},{key:"getSelectionBox",value:function(){return this._selectionBox}}])&&Q(n.prototype,o),a&&Q(n,a),e}(),et=n(37),nt=n(22),rt=n(16),ot=n(18),it=n(34);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e,n){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pt=!0,yt=30,ht=function(t){function e(t,n,r,o){var i,a,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(i=!(l=st(e).call(this,t,n,r,o))||"object"!==at(l)&&"function"!=typeof l?ft(a):l).inputController=null,i._graphChangeHandler=new it.a(yt),i.getGraphLabeler().setGraphController(ft(ft(i))),i.labelEditorElement=null,i.prevQuad={radians:0,length:0,x:0,y:0},i.prevEdgeTo=null,i.prevX=0,i.prevY=0,i.shouldAutoLabel=pt,i.registerEvent("tryCreateWhileTrash"),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,et["a"]),n=e,(r=[{key:"initialize",value:function(t){ut(st(e.prototype),"initialize",this).call(this,t),this._module=t,this.inputController=t.getInputController()}},{key:"destroy",value:function(t){ut(st(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){ut(st(e.prototype),"update",this).call(this,t),this._graphChangeHandler.update(this._graph)}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"applyAutoLayout",value:function(){ot.a.applyLayout(this.getGraph()),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labeler,e=this._graph;if(!e.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getNodeCustom()||l.setNodeLabel("")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=!0,s=!1,c=void 0;try{for(var f,p=e.getNodes()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var y=f.value;y.getNodeCustom()||y.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){s=!0,c=t}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}}}},{key:"onGraphIntentImport",value:function(){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentCreateEdge",value:function(t){}},{key:"onGraphIntentFinishEdge",value:function(t){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveEdge",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeDestination",value:function(t,e,n,r){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeInitial",value:function(t,e){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveNode",value:function(t,e,n,r,o){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveAllNodes",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentDeleteNodes",value:function(t,e,n,r){this.shouldAutoLabel&&this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(t,e){t.getNodeLabel(),t.getNodeCustom();t.setNodeLabel(e),t.setNodeCustom(!0),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this.getGraph().createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this.getModule().getApp().getUndoManager().captureEvent(),n}},{key:"toggleNode",value:function(t){var e=!t.getNodeAccept();t.setNodeAccept(e),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteSelectedNodes",value:function(t){var e=this.inputController.getSelectionBox(),n=e.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;this.getGraph().deleteNode(u)}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}e.clearSelection(),this.onGraphIntentDeleteNodes(t,n,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNode",value:function(t){this.getGraph().deleteNode(t),this.onGraphIntentDeleteNodes(t,[t],this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;e.deleteNode(l)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.onGraphIntentDeleteNodes(t[0],t,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}}},{key:"deleteTargetEdge",value:function(t){this.getGraph().deleteEdge(t),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(t,e,n,r){var o=e.getNodeSize(),i=!0,a=!1,l=void 0;try{for(var u,s=this.getGraph().getNodes()[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(e!==c){var f=n-c.x,p=r-c.y,y=Math.atan2(p,f),h=2*o,b=c.x+Math.cos(y)*h-n,v=c.y+Math.sin(y)*h-r;f*f+p*p<o*o*4&&(n+=b,r+=v)}}}catch(t){a=!0,l=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}e.x=n,e.y=r}},{key:"moveMultipleNodesTo",value:function(t,e,n,r){var o=t.getInputEventPosition(),i=n-o.x,a=r-o.y,l=!0,u=!1,s=void 0;try{for(var c,f=e[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;p.x+=i,p.y+=a}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}t.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(t,e,n,r){e.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(t,e,n,r){var o=this.inputController.getPicker().getNodeAt(this.getGraph(),n,r)||t;if(e.changeDestinationNode(o),e.isSelfLoop()){var i=e.getSourceNode(),a=i.x-n,l=i.y-r,u=Math.atan2(l,a)+Math.PI;e.setQuadratic(u)}else e.setQuadratic(this.prevQuad.radians,this.prevQuad.length)}},{key:"openLabelEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getModule().getInputManager().getLabelEditorManager().getLabelEditorComponent(),i=n;o.openEditor(t,n,function(t,n){(!n||n.length<=0)&&t instanceof rt.a?e._graph.deleteEdge(t):(t instanceof rt.a?t.setEdgeLabel(n):t.setNodeLabel(n),(!i||i.length>0&&n!==i)&&e.getModule().getApp().getUndoManager().captureEvent(),r&&r(t,n))},function(t){(!i||i.length<=0)&&t instanceof rt.a&&e._graph.deleteEdge(t)})}},{key:"focusOnNode",value:function(t){this.inputController.getInputAdapter().getViewport().setOffset(-t.x,-t.y)}},{key:"focusOnEdge",value:function(t){var e=t.getCenterPoint();this.inputController.getInputAdapter().getViewport().setOffset(-e.x,-e.y)}},{key:"focusOnNodes",value:function(t){var e=t.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n+=s.x,r+=s.y}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewport().setOffset(-n/e,-r/e)}}])&&lt(n.prototype,r),o&&lt(n,o),e}();nt.a.mixin(ht);var bt=ht,vt=n(279);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var St=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=gt(this,_t(e).call(this)))._inputController=t,o._graphController=n,o._selectionBox=r,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,vt["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return!this._inputController.isMoveMode()&&(this._selectionBox.beginSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragMove",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragStop",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y),!0)}}])&&mt(n.prototype,r),o&&mt(n,o),e}();function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=kt(this,Ct(e).call(this)))._prevX=0,t._prevY=0,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(e,vt["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return this._prevX=t.x,this._prevY=t.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._prevX,n=t.y-this._prevY;return t.getAdapter().getViewport().addOffset(e,n,!0),!0}},{key:"onDragStop",value:function(t){return!0}}])&&Et(n.prototype,r),o&&Et(n,o),e}(),Pt=n(0),xt=n.n(Pt),Nt=n(206),Mt=n.n(Nt),It=n(21);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Bt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Dt(e).call(this,t))||"object"!==At(o)&&"function"!=typeof o?Rt(r):o).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(Rt(Rt(n))),n.onFocus=n.onFocus.bind(Rt(Rt(n))),n.onBlur=n.onBlur.bind(Rt(Rt(n))),n.onKeyDown=n.onKeyDown.bind(Rt(Rt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,xt.a.Component),n=e,(r=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target.value;this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e)),this.setState(function(t,n){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,r=this.multiLine,o=this.props.disabled,i=this.state.value;return xt.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r?xt.a.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):xt.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}])&&Lt(n.prototype,r),o&&Lt(n,o),e}();function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Kt(e).call(this,t))||"object"!==Gt(o)&&"function"!=typeof o?Ut(r):o).ref=null,n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(Ut(Ut(n))),n.onInputBlur=n.onInputBlur.bind(Ut(Ut(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,xt.a.Component),n=e,(r=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof It.a))throw new Error("Can only open editor for GraphElements");this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o;var i=this.props.labeler.getLabelFormatter(this._target);this.inputComponent.setFormatter(i),this.setState({open:!0},function(){null!==n&&e.inputComponent.resetValue(n),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,r=this.props.style||{},o=this.props.viewport;this.props.labeler;if(n){var i=n.getCenterPoint(),a=o.getElement(),l=a.getBoundingClientRect(),u=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(a,i.x+o.getOffsetX(),i.y+o.getOffsetY()),s=u.x,c=u.y,f=-this.ref.offsetWidth/2-l.left,p=-this.ref.offsetHeight/2-l.top;r.top=c+p+"px",r.left=s+f+"px"}return xt.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:Mt.a.editor_container+(e?" open ":"")+" "+this.props.className,style:r},xt.a.createElement(Bt,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),xt.a.createElement("div",{className:Mt.a.tray_container},this.props.children))}}])&&zt(n.prototype,r),o&&zt(n,o),e}(),Xt=n(281);function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._labelEditorComponent=null,this._labelEditorRenderer=null,this._labeler=null}var e,n,r;return e=t,(n=[{key:"setLabelEditorRenderer",value:function(t){return this._labelEditorRenderer=t,this}},{key:"setLabeler",value:function(t){return this._labeler=t,this}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=t.getApp().getInputAdapter().getViewport(),o=this._labelEditorRenderer,i=this._labeler;t.getApp().getRenderManager().addRenderer(Xt.d,function(t){return xt.a.createElement(Vt,{ref:function(t){return e._labelEditorComponent=t},labeler:i,viewport:r,saveOnExit:!0},o&&xt.a.createElement(o,{currentModule:n,parent:e._labelEditorComponent}))})}},{key:"onSessionStop",value:function(t){this._labeler=null,this._labelEditorRenderer=null,this._labelEditorComponent=null}},{key:"getLabelEditorComponent",value:function(){return this._labelEditorComponent}}])&&Yt(e.prototype,n),r&&Yt(e,r),t}(),Zt=n(7);function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Jt=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputController=new tt(e,e.getApp().getInputAdapter()),this._graphController=new bt(e,n,r,o),this._labelEditorManager=(new Qt).setLabelEditorRenderer(i).setLabeler(r),e.getApp().getInputAdapter().addInputHandler(this._inputController).addInputHandler(new St(this._inputController,this._graphController,this._inputController.getSelectionBox())).addInputHandler(new Tt)}var e,n,r;return e=t,(n=[{key:"setGraphLabeler",value:function(t){return this._graphLabeler=t,this}},{key:"setGraphParser",value:function(t){return this._graphParser=t,this}},{key:"update",value:function(t){var e=this.getInputController(),n=this.getGraphController();e.update(t),n.update(t)}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=this.getInputController(),o=this.getGraphController();r.initialize(n),o.initialize(n),this._labelEditorManager.onSessionStart(t);this._graphController.on("tryCreateWhileTrash",function(){e._inputController.isTrashMode()&&Zt.a.addMessage(I18N.toString("message.warning.cannotmodify"),"warning","tryCreateWhileTrash")})}},{key:"onSessionStop",value:function(t){this._labelEditorManager.onSessionStop(t);var e=t.getCurrentModule(),n=this.getInputController();this.getGraphController().destroy(e),n.destroy(e)}},{key:"getLabelEditorManager",value:function(){return this._labelEditorManager}},{key:"getGraphParser",value:function(){return this._graphController.getGraphParser()}},{key:"getGraphLabeler",value:function(){return this._graphController.getGraphLabeler()}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getInputController",value:function(){return this._inputController}}])&&Wt(e.prototype,n),r&&Wt(e,r),t}();e.a=Jt},307:function(t,e,n){"use strict";var r=n(276);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);if(t.isDeterministic())return e.copy(t),e;e.setDeterministic(!0);var n=t.getStartState(),o={nfaSource:t,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},u=t.doClosureTransition(n);o.dfaStartState=l(u,o),o.dfaTrapState=l([],o);var s=function(t){var e=[[]],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var l=i.value,u=0,s=e.length;u<s;++u)e.push(e[u].concat(l))}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}(t.getStates()),c=!0,f=!1,p=void 0;try{for(var y,h=s[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=y.value;b.length>0&&i(b,o)}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}var v=!0,d=!1,m=void 0;try{for(var g,_=o.dfaStateMap.values()[Symbol.iterator]();!(v=(g=_.next()).done);v=!0){var w=g.value,S=!0,O=!1,E=void 0;try{for(var k,C=t.getAlphabet()[Symbol.iterator]();!(S=(k=C.next()).done);S=!0){var j=k.value,T=a(w,j,o);o.dfaTransitionMap.has(T)||o.dfaTransitionMap.set(T,[w,j,o.dfaTrapState])}}catch(t){O=!0,E=t}finally{try{S||null==C.return||C.return()}finally{if(O)throw E}}}}catch(t){d=!0,m=t}finally{try{v||null==_.return||_.return()}finally{if(d)throw m}}e.clear();var P=!0,x=!1,N=void 0;try{for(var M,I=o.dfaStateMap.values()[Symbol.iterator]();!(P=(M=I.next()).done);P=!0){var A=M.value;e.addState(A)}}catch(t){x=!0,N=t}finally{try{P||null==I.return||I.return()}finally{if(x)throw N}}e.setStartState(o.dfaStartState);var L=!0,D=!1,F=void 0;try{for(var R,B=o.dfaFinalStates[Symbol.iterator]();!(L=(R=B.next()).done);L=!0){var G=R.value;e.setFinalState(G)}}catch(t){D=!0,F=t}finally{try{L||null==B.return||B.return()}finally{if(D)throw F}}var z=!0,K=!1,H=void 0;try{for(var U,V=o.dfaTransitionMap.values()[Symbol.iterator]();!(z=(U=V.next()).done);z=!0){var X=U.value;e.addTransition(X[0],X[2],X[1])}}catch(t){K=!0,H=t}finally{try{z||null==V.return||V.return()}finally{if(K)throw H}}return e}function i(t,e){var n=l(t,e),r=null,o=[],i=!0,u=!1,s=void 0;try{for(var c,f=e.nfaSource.getAlphabet()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var p=c.value,y=!0,h=!1,b=void 0;try{for(var v,d=t[Symbol.iterator]();!(y=(v=d.next()).done);y=!0){var m=v.value;e.nfaSource.doTerminalTransition(m,p,o)}}catch(t){h=!0,b=t}finally{try{y||null==d.return||d.return()}finally{if(h)throw b}}if(o.length>0){r=l(o,e);var g=a(n,p,e);e.dfaTransitionMap.set(g,[n,p,r])}o.length=0}}catch(t){u=!0,s=t}finally{try{i||null==f.return||f.return()}finally{if(u)throw s}}}function a(t,e,n){return t.getStateID()+";"+e}function l(t,e){var n=function(t,e){var n="",r=!0,o=!1,i=void 0;try{for(var a,l=e.nfaSource.getStates()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;t.includes(u)?n+="x":n+="-"}}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(t,e),o=e.dfaStateMap.get(n);if(!o){var i=!1,a="{",l=!0,u=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;a.length>1&&(a+=","),a+=p.getStateLabel(),i||(i=e.nfaSource.isFinalState(p))}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}a+="}",o=new r.b(a),e.dfaStateMap.set(n,o),i&&e.dfaFinalStates.push(o)}return o}var u=1e3;function s(t,e){if("string"==typeof e&&(e=e[Symbol.iterator]()),t.isDeterministic()){for(var n=t.getStartState(),r=null;r=e.next().value;){var o=t.doTransition(n,r);if(o.length<1)return!1;n=o[0]}return t.isFinalState(n)}var i=[],a=[],l=t.getStartState();i.push({state:l,index:0});var s=!0,f=!1,p=void 0;try{for(var y,h=t.doClosureTransition(l)[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var b=y.value;i.push({state:b,index:0})}}catch(t){f=!0,p=t}finally{try{s||null==h.return||h.return()}finally{if(f)throw p}}for(var v=0;i.length>0;){if(c(t,e.next().value,i,a))return!0;if(++v>u)return!1}return!1}function c(t,e,n,r){var o=null,i=[],a=0;e&&r.push(e);var l=!0,u=!1,s=void 0;try{for(var c,f=n[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;if(o=p.state,e=p.index<r.length?r[p.index]:null){a=p.index+1;var y=!0,h=!1,b=void 0;try{for(var v,d=t.doTerminalTransition(o,e)[Symbol.iterator]();!(y=(v=d.next()).done);y=!0){var m=v.value;i.push({state:m,index:a})}}catch(t){h=!0,b=t}finally{try{y||null==d.return||d.return()}finally{if(h)throw b}}}else if(t.isFinalState(o))return!0;a=p.index}}catch(t){u=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return n.length=0,n.push.apply(n,i),!1}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);e.copy(t);var n=new Set(e.getFinalStates()),o=!0,i=!1,a=void 0;try{for(var l,u=e.getStates()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n.has(s)?e.setFinalState(s,!1):e.setFinalState(s,!0)}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return e}n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return f})},308:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||e+1,i=this.props.toY||n+1,a=r-e,l=i-n;return o.a.createElement("g",{className:"graph-selection-container"},t&&o.a.createElement("rect",{className:"graph-selection",x:a<0?r:e,y:l<0?i:n,width:a<0?-a:a,height:l<0?-l:l}))}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=[8,6],d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,h(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.target,e=0,n=0,r=4;switch(this.props.type){case"node":e=t.x||0,n=t.y||0,r=16;break;case"edge":var i=t.getCenterPoint();e=i.x||0,n=i.y||0,r=12;break;case"endpoint":var a=t.getEndPoint();e=a.x||0,n=a.y||0,r=6;break;case"initial":e=t.x+-24,n=t.y||0,r=12}return o.a.createElement("g",{className:"graph-highlight-container"},o.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:e,cy:n,r:r+4,strokeDashoffset:this.props.offset||0,strokeDasharray:v,strokeWidth:3,fill:"none"}))}}])&&p(n.prototype,r),i&&p(n,i),e}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getGraphController(),n=t.getInputController(),r=e.getGraph(),i=n.getSelectionBox(),a=i.getSelectionBox();return o.a.createElement("g",null,i&&i.hasSelection()&&i.getSelection(r).map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:t,type:"node"})}),a&&o.a.createElement(c,{visible:a.visible,fromX:a.fromX,fromY:a.fromY,toX:a.toX,toY:a.toY}))}}])&&g(n.prototype,r),i&&g(n,i),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,j(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=(e.getInputAdapter().getViewport(),e.getPicker()),r=e.getSelectionBox();return o.a.createElement("g",null,o.a.createElement(O,{currentModule:t}),t._tester&&t._tester.targets&&t._tester.targets.map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:"highlight-test graph-gui",target:t,type:"node",offset:"6"})}),n&&n.hasTarget()&&!r.isTargetInSelection(n.target)&&o.a.createElement(d,{className:e.isTrashMode()?"highlight-error":"highlight-select",target:n.target,type:n.targetType}))}}])&&k(n.prototype,r),i&&k(n,i),e}();e.a=P},309:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(207),a=n.n(i),l=n(274),u=n(290);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,p(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&c(n.prototype,r),i&&c(n,i),e}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var _=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=d(e).call(this,t))||"object"!==b(o)&&"function"!=typeof o?g(r):o).onChange=n.onChange.bind(g(g(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o.a.Component),n=e,(r=[{key:"onChange",value:function(t){this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var t=this,e=this.props.mode||0;this.props.onChange;return o.a.createElement("div",{id:this.props.id,className:a.a.tray_container+" "+this.props.className,style:this.props.style},o.a.createElement(l.a,{className:a.a.tray_button+(0===e?" active ":""),onClick:function(){return t.onChange(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(u.a,null)),o.a.createElement(l.a,{className:a.a.tray_button+(1===e?" active ":""),onClick:function(){return t.onChange(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(h,null)))}}])&&v(n.prototype,r),i&&v(n,i),e}();e.a=_},310:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(208),a=n.n(i),l=n(280);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,f(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&s(n.prototype,r),i&&s(n,i),e}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=v(e).call(this,t))||"object"!==h(o)&&"function"!=typeof o?m(r):o).ref=null,n.state={forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(m(m(n))),n.onMouseLeave=n.onMouseLeave.bind(m(m(n))),n.onClick=n.onClick.bind(m(m(n))),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(m(m(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseEnter",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!0)}},{key:"onMouseLeave",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!1)}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({forceActive:!1}),Object(l.a)(this.props.app,!0),this.props.inputController.setTrashMode(!1)):this.setState(function(t,n){var r=!t.forceActive;return n.inputController.setTrashMode(r),e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{forceActive:r}})}},{key:"onAnyMouseDownNotConsumed",value:function(t){this.state.forceActive&&this.ref!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.props.inputController.setTrashMode(!1),this.setState({forceActive:!1}))}},{key:"render",value:function(){var t=this,e=this.props.inputController,n=this.props.graphController,r=e.getInputAdapter(),i=e.isTrashMode(),l=!i&&(n.getGraph().isEmpty()||r.isUsingTouch()&&r.isDragging());return o.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:a.a.trash_container+(i?" active ":"")+(l?" hide ":"")+" "+this.props.className,style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(y,null))}}])&&b(n.prototype,r),i&&b(n,i),e}();e.a=g},311:function(t,e,n){"use strict";n.d(e,"f",function(){return y}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return b}),n.d(e,"b",function(){return v}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return m});var r=n(43),o=n(276),i=n(17),a=n(10);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y="unreachable_state",h="duplicate_state",b="incomplete_transition",v="duplicate_transition",d="missing_transition",m="empty_transition",g=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=c(this,f(e).call(this)))._machine=new o.c,t}var n,l,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["a"]),n=e,(l=[{key:"attemptBuild",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.length=0,r.length=0;var l=e.isDeterministic();e.clear();var s=new Map,c=new Map,f=new Set,p=[],g=[],_=t.getNodes(),w=t.getEdges(),S=t.getStartNode(),O=!0,E=!1,k=void 0;try{for(var C,j=_[Symbol.iterator]();!(O=(C=j.next()).done);O=!0){var T=C.value,P=T.getNodeLabel(),x=new o.b(P,T);e.addState(x),T.getNodeAccept()&&e.setFinalState(x,!0),S===T&&e.setStartState(x),s.has(P)?s.get(P).push(x):s.set(P,[x]),c.set(x,new Map)}}catch(t){E=!0,k=t}finally{try{O||null==j.return||j.return()}finally{if(E)throw k}}var N=!0,M=!1,I=void 0;try{for(var A,L=w[Symbol.iterator]();!(N=(A=L.next()).done);N=!0){var D=A.value,F=D.getSourceNode(),R=D.getDestinationNode();if(!D.isPlaceholder()&&F instanceof i.a&&R instanceof i.a){var B=e.getStateByID(F.getGraphElementID()),G=e.getStateByID(R.getGraphElementID());if(!B||!G)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var z=D.getEdgeSymbolsFromLabel(),K=!0,H=!1,U=void 0;try{for(var V,X=z[Symbol.iterator]();!(K=(V=X.next()).done);K=!0){var Y=V.value;if(Y){Y===a.a?g.push(D):f.add(Y);var Q=void 0;switch(Y){case a.a:Q=o.a;break;default:Q=Y}var Z=c.get(B),W=Z.get(Q);W||Z.set(Q,W=new Array),W.push(D),e.addTransition(B,G,Q)}}}catch(t){H=!0,U=t}finally{try{K||null==X.return||X.return()}finally{if(H)throw U}}}else p.push(D)}}catch(t){M=!0,I=t}finally{try{N||null==L.return||L.return()}finally{if(M)throw I}}var J=!0,q=!1,$=void 0;try{for(var tt,et=s.entries()[Symbol.iterator]();!(J=(tt=et.next()).done);J=!0){var nt=u(tt.value,2),rt=nt[0],ot=nt[1];ot.length>1&&n.push({name:h,label:rt,nodes:ot.map(function(t){return t.getSource()})})}}catch(t){q=!0,$=t}finally{try{J||null==et.return||et.return()}finally{if(q)throw $}}p.length>0&&n.push({name:b,edges:p});var it=this.getUnreachableNodes(t);if(it&&it.length>0&&r.push({name:y,nodes:it}),l){g.length>0&&n.push({name:m,edges:g});var at=[],lt=!0,ut=!1,st=void 0;try{for(var ct,ft=c.entries()[Symbol.iterator]();!(lt=(ct=ft.next()).done);lt=!0){var pt=u(ct.value,2),yt=(x=pt[0],pt[1]),ht=!0,bt=!1,vt=void 0;try{for(var dt,mt=f[Symbol.iterator]();!(ht=(dt=mt.next()).done);ht=!0){var gt=dt.value,_t=yt.get(gt);_t?1!==_t.length&&n.push({name:v,edges:_t,symbol:gt}):at.push(gt)}}catch(t){bt=!0,vt=t}finally{try{ht||null==mt.return||mt.return()}finally{if(bt)throw vt}}at.length>0&&(n.push({name:d,node:x.getSource(),symbols:at.slice()}),at.length=0)}}catch(t){ut=!0,st=t}finally{try{lt||null==ft.return||ft.return()}finally{if(ut)throw st}}}return n.length<=0?this._machine:null}},{key:"getUnreachableNodes",value:function(t){var e=t.getNodes().slice(),n=e.indexOf(a);e.splice(n,1);var r=[];for(r.push(a);r.length>0;)r.pop();if(t.getNodeCount()<=1)return[];var o=t.getEdges(),i=t.getNodes().slice(),a=t.getStartNode(),l=i.indexOf(a);if(l<0)return[];i.splice(l,1);var u=[];for(u.push(a);u.length>0;){var s=u.pop(),c=!0,f=!1,p=void 0;try{for(var y,h=o[Symbol.iterator]();!(c=(y=h.next()).done);c=!0){var b=y.value;if(b.getSourceNode()===s){var v=i.indexOf(b.getDestinationNode());if(v>=0){var d=i[v];i.splice(v,1),u.push(d)}}}}catch(t){f=!0,p=t}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}}return i}},{key:"getMachine",value:function(){return this._machine}}])&&s(n.prototype,l),g&&s(n,g),e}();e.g=g},312:function(t,e,n){"use strict";var r=n(42),o=n(276),i=n(10),a=n(311),l=n(307),u=n(18);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,y(e).call(this,t,new a.g))).graphController=null,n}var n,s,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r["a"]),n=e,(s=[{key:"initialize",value:function(t){p(y(e.prototype),"initialize",this).call(this,t),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){p(y(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){p(y(e.prototype),"update",this).call(this,t)}},{key:"getMachineType",value:function(){return this._machineBuilder.getMachine().isDeterministic()?"DFA":"NFA"}},{key:"setMachineType",value:function(t){this._machineBuilder.getMachine().setDeterministic("DFA"===t)}},{key:"changeMachineTo",value:function(t){this.getMachineType()!=t&&this.setMachineType(t)}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.getNodeLabel()==e)return l}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(t,e){if(t.clear(),!(e.getStateCount()<=0)){var n,r,a,l,s,c=new Map,f=!0,p=!1,y=void 0;try{for(var h,b=e.getStates()[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var v=h.value;(n=t.createNode(0,0)).setNodeLabel(v.getStateLabel()),e.isFinalState(v)&&n.setNodeAccept(!0),c.set(v,n)}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}var d=!0,m=!1,g=void 0;try{for(var _,w=e.getTransitions()[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var S=_.value;a=c.get(S.getSourceState()),l=c.get(S.getDestinationState()),s=[];var O=!0,E=!1,k=void 0;try{for(var C,j=S.getSymbols()[Symbol.iterator]();!(O=(C=j.next()).done);O=!0){var T=C.value;T===o.a?s.push(i.a):s.push(T)}}catch(t){E=!0,k=t}finally{try{O||null==j.return||j.return()}finally{if(E)throw k}}(r=t.createEdge(a,l)).setEdgeLabel(s.join(i.b)),r!=t.formatEdge(r)&&t.deleteEdge(r)}}catch(t){m=!0,g=t}finally{try{d||null==w.return||w.return()}finally{if(m)throw g}}var P=e.getStartState();t.setStartNode(c.get(P)),u.a.applyLayout(t)}}},{key:"convertMachineTo",value:function(t){var e=this.getMachineType();if(e!==t)if("DFA"==t&&"NFA"==e){var n=Object(l.a)(this.getMachineBuilder().getMachine());this.setGraphToMachine(this.graphController.getGraph(),n),this.setMachineType(t)}else{if("NFA"!=t||"DFA"!=e)throw new Error("Conversion scheme between '"+e+"' to '"+t+"' is not supported");this.changeMachineTo(t)}}},{key:"invertMachine",value:function(){var t=this.getMachineBuilder().getMachine(),e=Object(l.b)(t,t),n=!0,r=!1,o=void 0;try{for(var i,a=e.getStates()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getSource().setNodeAccept(t.isFinalState(u))}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"getUnreachableNodes",value:function(){var t=this.graphController.getGraph();if(t.getNodeCount()<=1)return[];var e=t.getEdges(),n=t.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,l=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.getSourceNode()===i){var p=n.indexOf(f.getDestinationNode());if(p>=0){var y=n.splice(p,1)[0];o.push(y)}}}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}}return n}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this._machineBuilder.getMachine().getStateCount()}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(e=i.getEdges()[a]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var n=null,r=[],o=this.graphController.getGraph(),i=o.getEdges().length,a=0;a<i;++a){var l=(n=o.getEdges()[a]).getEdgeLabel().replace(t,e);l!=n.getEdgeLabel()&&r.push(n),n.setEdgeLabel(l)}r.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}}])&&c(n.prototype,s),b&&c(n,b),e}();e.a=b},313:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=l(e).call(this,t))||"object"!==i(o)&&"function"!=typeof o?s(r):o).ref=null,n._timeout=null,n.onMouseDown=n.onMouseDown.bind(s(s(n))),n.onAnyMouseUp=n.onAnyMouseUp.bind(s(s(n))),n}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()},50)}},{key:"render",value:function(){var t=this;return o.a.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}])&&a(n.prototype,r),c&&a(n,c),e}();e.a=c},314:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},315:function(t,e,n){"use strict";var r=n(277),o=n(14),i=n(8),a=n(284);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this))}var n,l,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(l=[{key:"fromJSON",value:function(t,e){var n=e.getGraphController(),r=e.getMachineController(),i=n.getGraph(),a=("_metadata"in t&&t._metadata,o.JSON.parse(t.graphData,i)),l=t.machineData,u=l.name;u&&e.getApp().getSession().setProjectName(u);var s=l.type;s&&r.setMachineType(s);var c=l.symbols;if(c&&Array.isArray(c)){r.clearCustomSymbols();var f=!0,p=!1,y=void 0;try{for(var h,b=c[Symbol.iterator]();!(f=(h=b.next()).done);f=!0){var v=h.value;r.addCustomSymbol(v)}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}}var d=l.statePrefix;return d&&n.getGraphLabeler().setDefaultNodeLabelPrefix(d),a}},{key:"toJSON",value:function(t,e){var n=e.getGraphController(),r=e.getMachineController(),o={};return o._metadata={module:e.getModuleName(),version:"0.3.4:"+e.getModuleVersion(),timestamp:(new Date).toString()},o.graphData=t,o.machineData={name:e.getApp().getSession().getProjectName(),type:r.getMachineType(),symbols:r.getCustomSymbols(),statePrefix:n.getGraphLabeler().getDefaultNodeLabelPrefix()},o}},{key:"importFromData",value:function(t,e){this.fromJSON(t,e)}},{key:"exportToData",value:function(t){var e=t.getGraphController().getGraph(),n=o.JSON.objectify(e);return this.toJSON(n,t)}},{key:"doesSupportData",value:function(){return!0}},{key:"importFromFile",value:function(t,e){var n=this;return new Promise(function(r,o){var i=t.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(t){var l=e.getGraphController(),u=(e.getMachineController(),t.target.result),s=i.substring(0,i.length-n.getFileType().length-1),c=l.getGraph(),f=c.getHashCode(!0);c.isEmpty()||e.getApp().getUndoManager().captureEvent();try{var p=JSON.parse(u);n.fromJSON(p,e),e.getApp().getSession().setProjectName(s),r()}catch(t){a.abort(),o(t)}finally{f!==c.getHashCode(!0)&&e.getApp().getUndoManager().captureEvent()}},a.onerror=function(t){o(new Error("Unable to import file: "+t.target.error.code))},a.readAsText(t)})}},{key:"exportToFile",value:function(t,e){var n=e.getGraphController().getGraph(),r=o.JSON.objectify(n),a=this.toJSON(r,e),l=JSON.stringify(a);Object(i.e)(t+"."+this.getFileType(),l)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(t){return!0}},{key:"canExport",value:function(t){return!t.getGraphController().getGraph().isEmpty()}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getFileType",value:function(){return"json"}},{key:"getIconClass",value:function(){return a.a}}])&&u(n.prototype,l),p&&u(n,p),e}();e.a=p},316:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(216),a=n.n(i);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&u(n.prototype,r),i&&u(n,i),e}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var m=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=b(e).call(this,t))||"object"!==y(o)&&"function"!=typeof o?d(r):o).onTapeStepBackward=n.onTapeStepBackward.bind(d(d(n))),n.onTapeStepForward=n.onTapeStepForward.bind(d(d(n))),n.onTapeFinish=n.onTapeFinish.bind(d(d(n))),n.onTapeReset=n.onTapeReset.bind(d(d(n))),n.onTapeSkipForward=n.onTapeSkipForward.bind(d(d(n))),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(d(d(n))),n.onTapeStop=n.onTapeStop.bind(d(d(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?o.a.createElement("div",{id:this.props.id,className:a.a.tape_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),o.a.createElement("button",{onClick:this.onTapeStepForward},"STEP"),o.a.createElement("button",{onClick:this.onTapeReset},"RESET"),o.a.createElement("button",{onClick:this.onTapeFinish},"TO END")),o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),o.a.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),o.a.createElement("button",{onClick:this.onTapeStop},"STOP")),o.a.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")),o.a.createElement(p,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map(function(n,r){var i,a;i=e===r,a=e===r-1;var l=t.getTapeSourceStatesByIndex(r),u=null===l;return o.a.createElement("div",{key:n+":"+r,className:"tape-row-entry"+(i?" active ":"")+(a?" active-read ":"")+(u?" disabled ":""),onClick:function(e){return u?null:t.setCurrentTapeIndex(r)}},l&&o.a.createElement("span",{className:"tape-row-states"},l.map(function(t){return o.a.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())})),o.a.createElement("label",{className:"tape-row-symbol"},n))}),t.isTapeRightInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")))):null}}])&&h(n.prototype,r),i&&h(n,i),e}();e.a=m}}]);
//# sourceMappingURL=sourcemap/module_fsa2.bundle.js.map