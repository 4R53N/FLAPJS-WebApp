(window.webpackJsonp=window.webpackJsonp||[]).push([[3],Array(183).concat([function(t,e,n){"use strict";var r=n(185);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,l(e).call(this,t))).x=r,n.y=o,n._label="",n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(o=[{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=this.x,t.y=this.y,t}},{key:"setNodeLabel",value:function(t){return this._label=t,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?u(l(e.prototype),"getHashString",this).call(this,t)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:u(l(e.prototype),"getHashString",this).call(this,t)+":"+this._label}}])&&i(n.prototype,o),c&&i(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(185);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,l(e).call(this,t)))._from=n,r._to=o,r._label="",r}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(o=[{key:"changeDestinationNode",value:function(t){this._to=t}},{key:"setEdgeFrom",value:function(t){if(!t)throw new Error("Source of edge cannot be null");return this._from=t,this}},{key:"setEdgeTo",value:function(t){return this._to=t,this}},{key:"setEdgeLabel",value:function(t){return this._label=t,this}},{key:"getEdgeDirection",value:function(){var t=this._from,e=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=e.y-t.y,i=e.x-t.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from;return t.x=e.x,t.y=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;t.x=e.x+r,t.y=e.y+r}else t.x=e.x+(n.x-e.x)/2,t.y=e.y+(n.y-e.y)/2;return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var e=this._from,n=this.getPlaceholderLength();t.x=e.x+n,t.y=e.y+n}else{var r=this._to;t.x=r.x,t.y=r.y}return t}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(t):"",r=this._to?this._to.getHashString?this._to.getHashString(t):"0":"";return u(l(e.prototype),"getHashString",this).call(this,t)+":"+n+","+r+"."+this._label}}])&&i(n.prototype,o),c&&i(n,c),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e}var e,n,o;return e=t,(n=[{key:"setGraphElementID",value:function(t){return this._id=t,this}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=t.y=0,t}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._id}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return f});var r=n(185),o=n(8);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}var c="&empty",f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(this,t),this._label=e,this._src=n,this._id=n instanceof r.a?n.getGraphElementID():Object(o.c)()}return s(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),t}(),p=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];u(this,t),this._from=e,this._to=n,this._symbols=r}return s(t,[{key:"copy",value:function(){var e=new t;return e._from=this._from,e._to=this._to,e._symbols=this._symbols.slice(),e}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t){this._symbols.push(t)}},{key:"hasSymbol",value:function(t){return this._symbols.includes(t)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}]),t}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u(this,t),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=e,this._errors=[]}return s(t,[{key:"copy",value:function(t){if(t!==this){this.clear();var e=!0,n=!1,r=void 0;try{for(var o,i=t._states.entries()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var u=a(o.value,2),l=u[0],s=(b=u[1]).copy();this._states.set(l,s),t.isStartState(b)&&(this._startState=s),t.isFinalState(b)&&this._finalStates.add(s)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var c=!0,f=!1,p=void 0;try{for(var h,y=t._alphabet.entries()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=a(h.value,2),b=(l=v[0],v[1]);this._alphabet.set(l,b)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}var d=!0,g=!1,m=void 0;try{for(var _,w=t._transitions.entries()[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var S=a(_.value,2),E=(l=S[0],(b=S[1]).copy());E._from=this._states.get(b.getSourceState().getStateID()),E._to=this._states.get(b.getDestinationState().getStateID()),this._transitions.set(l,E)}}catch(t){g=!0,m=t}finally{try{d||null==w.return||w.return()}finally{if(g)throw m}}var O=!0,k=!1,C=void 0;try{for(var T,j=t._customSymbols[Symbol.iterator]();!(O=(T=j.next()).done);O=!0){var P=T.value;this._customSymbols.add(P)}}catch(t){k=!0,C=t}finally{try{O||null==j.return||j.return()}finally{if(k)throw C}}this._deterministic=t._deterministic;var x=!0,M=!1,N=void 0;try{for(var I,A=t._errors[Symbol.iterator]();!(x=(I=A.next()).done);x=!0){var L=I.value;this._errors.push(L)}}catch(t){M=!0,N=t}finally{try{x||null==A.return||A.return()}finally{if(M)throw N}}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(t){this._deterministic=t}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var t=new Map,e=!0,n=!1,r=void 0;try{for(var o,i=this._alphabet.keys()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t.set(a,!1)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var u=!0,l=!1,s=void 0;try{for(var c,f=this._states.values()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value,h=this.getOutgoingTransitions(p),y=!0,v=!1,b=void 0;try{for(var d,g=h[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value[1];if(t.get(m))return this._errors.push("duplicate symbol: "+m),!1;t.set(m,!0)}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}var _=!0,w=!1,S=void 0;try{for(var E,O=t.keys()[Symbol.iterator]();!(_=(E=O.next()).done);_=!0){var k=E.value;if(!t.get(k))return this._errors.push("missing symbol: "+k),!1;t.set(k,!1)}}catch(t){w=!0,S=t}finally{try{_||null==O.return||O.return()}finally{if(w)throw S}}}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new f(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){if(o.value.getStateLabel()==t)return!0}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"getStatesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getStateLabel()==t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,n){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var r=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(r)){var o=this._transitions.get(r);if(o.hasSymbol(n))return!1;o.addSymbol(n)}else this._transitions.set(r,new p(t,e,[n]));return this._incrSymbolCount(n),!0}},{key:"removeTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(r))return!1;var o=this._transitions.get(r).getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var a=!0,u=!1,l=void 0;try{for(var s,c=o[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;this._decrSymbolCount(f)}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(t,e){var n=t.getStateID()+"->"+e.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if(t!==c){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==c){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if(t===c)throw new Error("Cannot change the empty symbol");if(e===c)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.getSymbols(),l=u.indexOf(t);l>=0&&(u[l]=e)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=this._alphabet.get(t);this._alphabet.set(e,s),this._alphabet.delete(t),this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._customSymbols.add(e))}},{key:"removeSymbol",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,u=this._transitions.entries()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=a(i.value,2),s=l[0],f=l[1].getSymbols(),p=f.indexOf(t);p>=0&&(f.splice(p,1),f.length<=0&&e.push(s))}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}for(var h=0;h<e.length;h++){var y=e[h];this._transitions.delete(y)}t!==c&&(this._customSymbols.has(t)?this._alphabet.set(t,0):this._alphabet.delete(t))}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===c)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!(t instanceof f))throw new Error("Invalid state instance type '"+i(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var o=t.getStateID()+"->",a=!0,u=!1,l=void 0;try{for(var s,p=this._transitions.keys()[Symbol.iterator]();!(a=(s=p.next()).done);a=!0){var h=s.value;if(h.startsWith(o)){var y=this._transitions.get(h);if(y.hasSymbol(e)&&(r.push(y.getDestinationState()),!n&&this._deterministic))return r}}}catch(t){u=!0,l=t}finally{try{a||null==p.return||p.return()}finally{if(u)throw l}}return r}},{key:"doTerminalTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return n;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var r=t.getStateID()+"->",o=!0,i=!1,a=void 0;try{for(var u,l=this._transitions.keys()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s.startsWith(r)){var f=this._transitions.get(s);if(f.hasSymbol(e)){var p=f.getDestinationState(),h=this.doClosureTransition(p),y=!0,v=!1,b=void 0;try{for(var d,g=h[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value;n.includes(m)||n.push(m)}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}}}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"doClosureTransition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;e.push(t);for(var n=0;n<e.length;++n){var r=this.getOutgoingTransitions(e[n]),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s[1]===c){var f=s[2];e.includes(f)||e.push(f)}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var n=t.getStateID()+"->",r=!0,o=!1,i=void 0;try{for(var a,u=this._transitions.keys()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.startsWith(n)){var s=this._transitions.get(l),c=s.getSymbols(),f=!0,p=!1,h=void 0;try{for(var y,v=c[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;e.push([t,b,s.getDestinationState()])}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}},{key:"getHashCode",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){t+=i.value.getHashString()+","}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}t+="|";var u=!0,l=!1,s=void 0;try{for(var c,f=this._transitions.values()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){t+=c.value.getHashString()+","}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}t+="|";var p=!0,h=!1,y=void 0;try{for(var v,b=this._finalStates[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){t+=v.value.getHashString()}}catch(t){h=!0,y=t}finally{try{p||null==b.return||b.return()}finally{if(h)throw y}}return t+="|",t+=this._startState?this._startState.getHashString():"",t+="|",t+=this._deterministic?"d":"n",Object(o.e)(t)}}]),t}();e.c=h},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var r=n(201);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=" ",f="ε",p=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,l(e).call(this,t,n,r))}var n,o,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(o=[{key:"setEdgeLabel",value:function(t){"string"==typeof t?u(l(e.prototype),"setEdgeLabel",this).call(this,t):u(l(e.prototype),"setEdgeLabel",this).call(this,f)}},{key:"getEdgeSymbolsFromLabel",value:function(){return this.getEdgeLabel().split(c)}}])&&i(n.prototype,o),p&&i(n,p),e}();e.c=p},function(t,e,n){"use strict";var r=n(217);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=a(this,u(e).call(this)),!t)throw new Error("Missing target type for graph element input handler");return n._targetType=t,n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"isTargetable",value:function(t,e,n,r){return r===this._targetType}},{key:"getTargetType",value:function(){return this._targetType}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"getTargetAt",value:function(t,e,n){return null}},{key:"getTargetType",value:function(){return null}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"applyLayout",value:function(t){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var e=function(t){var e=[],n=t.getStartNode();e.push(n);for(var r=0;r<e.length;r++){var o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s._from==e[r]&&(e.includes(s._to)||e.push(s._to))}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}(t);var n=t.getNodes().filter(function(t){return!e.includes(t)}),r=e.length,o=n.length,i=t.getNodes().length,a=Math.max(r,o);if(0!=i){var u;u=r<10&&o<10?a/4*50+30:a/5*40+30;var l=0;if(1==r){var s=2*Math.PI/i,c=!0,f=!1,p=void 0;try{for(var h,y=t.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.y=Math.sin(s*l+Math.PI)*u,v.x=Math.cos(s*l+Math.PI)*u,l+=1}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}else{var b=2*Math.PI/r,d=2*Math.PI/o;l=0;var g=!0,m=!1,_=void 0;try{for(var w,S=e[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var E=w.value;E.y=Math.sin(b*l+Math.PI)*u,E.x=Math.cos(b*l+Math.PI)*u,l+=1}}catch(t){m=!0,_=t}finally{try{g||null==S.return||S.return()}finally{if(m)throw _}}l=0;var O=!0,k=!1,C=void 0;try{for(var T,j=n[Symbol.iterator]();!(O=(T=j.next()).done);O=!0){var P=T.value;P.y=Math.sin(d*l+Math.PI)*(u+100),P.x=Math.cos(d*l+Math.PI)*(u+100),l+=1}}catch(t){k=!0,C=t}finally{try{O||null==j.return||j.return()}finally{if(k)throw C}}}}}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputHandlers=[]}var e,n,o;return e=t,(n=[{key:"addInputHandler",value:function(t){return this._inputHandlers.push(t),this}},{key:"removeInputHandler",value:function(t){var e=this._inputHandlers.indexOf(t);return e>=0&&this._inputHandlers.splice(e,1),this}},{key:"clearInputHandlers",value:function(){this._inputHandlers.length=0}},{key:"handleEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var u,l=this._inputHandlers[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=s[t];if("function"==typeof c&&c.apply(s,n))return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getInputHandlers",value:function(){return this._inputHandlers}},{key:"hasInputHandlers",value:function(){return this._inputHandlers.length>0}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t){if(t.getNodeCount()<=1)return[];var e=t.getEdges(),n=t.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,u=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.getEdgeFrom()===i){var p=n.indexOf(f.getEdgeTo());if(p>=0){var h=n.splice(p,1)[0];o.push(h)}}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return n}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(136),a=n.n(i),u=n(137),l=n.n(u),s=n(3),c=n(214),f=n(215);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var d=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=y(e).call(this,t))||"object"!==p(o)&&"function"!=typeof o?b(r):o).onZoomIn=n.onZoomIn.bind(b(b(n))),n.onZoomOut=n.onZoomOut.bind(b(b(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"onZoomIn",value:function(t){var e=this.props.viewport,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewport,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewport.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:l.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(c.a,null)),o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(f.a,null)),o.a.createElement("label",{className:l.a.zoom_label},t))}}])&&h(n.prototype,r),i&&h(n,i),e}(),g=n(138),m=n.n(g),_=n(216);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var C=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=E(e).call(this,t))||"object"!==w(o)&&"function"!=typeof o?k(r):o).onClick=n.onClick.bind(k(k(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){this.props.viewport.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewport;return o.a.createElement(s.a,{id:this.props.id,className:m.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(_.a,null))}}])&&S(n.prototype,r),i&&S(n,i),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,x(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.viewportAdapter;return o.a.createElement("div",{id:this.props.id,className:a.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(d,{className:a.a.navbar_widget_container,viewport:t}),o.a.createElement(C,{className:a.a.navbar_widget,viewport:t}))}}])&&j(n.prototype,r),i&&j(n,i),e}();e.a=N},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"importFileData",value:function(t,e,n){return Promise.resolve(n)}},{key:"getDataType",value:function(){return"text"}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,l(e).call(this)))._app=t,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o),n=e,(r=[{key:"onParseSession",value:function(t,e){return e}},{key:"onPreImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){}},{key:"onPostImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"importFileData",value:function(t,e,n){var r,o=this._app,i=o.getSession(),a=i.getCurrentModule(),u=this.onParseSession(i,n);return this.onPreImportSession(i),this.onImportSession(i,u),r=t?t.substring(0,t.length-e.length):u._metadata.name,o.getSession().setProjectName(r),this.onPostImportSession(i),a}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r={__eventListeners:null,mixin:function(t){var e=t.prototype;Object.assign(e,r),delete e.mixin},registerEvent:function(t){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(t))throw new Error("Already registered event '"+t+"'");this.__eventListeners.set(t,[])},unregisterEvent:function(t){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.delete(t)}},addEventListener:function(t,e){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).push(e)},removeEventListener:function(t,e){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unknown event '"+t+"'");for(var n=this.__eventListeners.get(t),r=!1,o=n.length;o--;)n[o]===e&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+t+"'")}},clearEventListeners:function(t){if(this.__eventListeners)if(t){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).length=0}else this.__eventListeners.clear()},countEventListeners:function(t){return this.__eventListeners&&this.__eventListeners.has(t)?this.__eventListeners.get(t).length:0},getEventListeners:function(t){return this.__eventListeners?this.__eventListeners.get(t):null},on:function(t,e){this.addEventListener(t,e)},once:function(t,e){var n=this;this.addEventListener(t,function r(){try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e.apply(null,i)}finally{n.removeEventListener(t,r)}})},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");o=this.__eventListeners.get(t);for(var i=null,a=o.length;a--;){try{i=o[a].apply(null,n)}catch(t){continue}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[t].concat(n))}},onEventProcessed:function(t){}};e.a=r},function(t,e,n){"use strict";var r=n(184),o=n(8);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,s(e).call(this,t,n,null)))._quad={radians:0,length:0,coords:{x:0,y:0}},r.changeDestinationNode(o),r}var n,i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,(i=[{key:"setQuadraticRadians",value:function(t){return this._quad.radians=t,this}},{key:"setQuadraticLength",value:function(t){return this._quad.length=t,this}},{key:"setQuadraticByCoords",value:function(t,e){var n=this._from,r=this._to,o=n.x,i=n.y,a=r.x-o,u=r.y-i,l=o+a/2,s=i+u/2,c=Math.atan2(-u,a);a=t-l,u=e-s;var f=Math.PI,p=f/2,h=Math.atan2(u,a)+c,y=Math.sqrt(a*a+u*u);y<0&&(y=0);var v=h- -p,b=h-p,d=f/20;return Math.abs(y)<8?(h=0,y=0):v<d&&v>-d?h=-p:-b<d&&-b>-d&&(h=p),this._quad.radians=h,this._quad.length=y,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var t=this._from,e=this._to,n=this._quad.coords;return null==t||null==e?(n.x=0,n.y=0):Object(o.a)(t.x,t.y,e.x,e.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var t=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();t=Math.atan2(n.y,n.x)+Math.PI/2}else t=l(s(e.prototype),"getEdgeDirection",this).call(this);return t}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize();return t.x=e.x+r*a,t.y=e.y+i*a,t}if(n.getNodeSize&&this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var u=this.getQuadraticAsCoords(),l=t.x+u.x,s=t.y+u.y;return Object(o.a)(e.x,e.y,l,s,e.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,t),t.x+=e.x,t.y+=e.y,t}return Object(o.a)(e.x,e.y,n.x,n.y,e.getNodeSize(),0,t),t.x+=e.x,t.y+=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize()+this.getPlaceholderLength()/2;return t.x=e.x+r*a,t.y=e.y+i*a,t}if(Object(o.b)(e.x,e.y,n.x,n.y,t),this.isQuadratic()){var u=this.getQuadraticAsCoords();t.x+=u.x,t.y+=u.y}return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize()+this.getPlaceholderLength();return t.x=e.x+r*a,t.y=e.y+i*a,t}if(n.getNodeSize){if(this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var u=this.getQuadraticAsCoords(),l=t.x+u.x,s=t.y+u.y;return Object(o.a)(n.x,n.y,l,s,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,t),t.x+=n.x,t.y+=n.y,t}return Object(o.a)(n.x,n.y,e.x,e.y,n.getNodeSize(),0,t),t.x+=n.x,t.y+=n.y,t}return n}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?l(s(e.prototype),"getHashString",this).call(this,t)+":"+this._quad.radians+","+this._quad.length:l(s(e.prototype),"getHashString",this).call(this,t)}},{key:"getSelfLoopHeight",value:function(){return this._from.getNodeSize()}},{key:"formatAsSelfLoop",value:function(){this.setQuadraticRadians(-Math.PI/2),this.setQuadraticLength(this._from.getNodeSize()+this.getSelfLoopHeight())}},{key:"formatAsPlaceholder",value:function(t){if(t){var e=this._from.x-t.x,n=this._from.y-t.y,r=-Math.atan2(e,n)-Math.PI/2;this._quad.radians=r}else this._quad.radians=0}},{key:"changeDestinationNode",value:function(t){var n=this._to;n!==t&&(l(s(e.prototype),"changeDestinationNode",this).call(this,t),this.isPlaceholder()?this.formatAsPlaceholder(n):this.isSelfLoop()&&this.formatAsSelfLoop())}}])&&a(n.prototype,i),f&&a(n,f),e}();e.a=f},function(t,e,n){"use strict";var r=n(203),o=n(221),i=n(188);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=l(this,c(e).call(this,o.a,i.c)))._nodes=[],t}var n,a,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(a=[{key:"setStartNode",value:function(t){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var e=this._nodes.indexOf(t);if(e>0){var n=this._nodes[0];this._nodes[0]=t,this._nodes[e]=n}else if(e<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"addNode",value:function(t){return this._nodes.push(t),s(c(e.prototype),"addNode",this).call(this,t)}},{key:"deleteNode",value:function(t){s(c(e.prototype),"deleteNode",this).call(this,t);var n=this._nodes.indexOf(t);n>=0&&this._nodes.splice(n,1)}},{key:"clearNodes",value:function(){s(c(e.prototype),"clearNodes",this).call(this),this._nodes.length=0}},{key:"formatEdge",value:function(t){var e=t.getEdgeFrom(),n=t.getEdgeTo(),r=t.getEdgeSymbolsFromLabel(),o=!0,a=!1,u=void 0;try{for(var l,s=this.getEdges()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;if(c!==t&&(c.getEdgeFrom()===e&&c.getEdgeTo()===n)){var f=c.getEdgeSymbolsFromLabel();if(r.length>0){var p=f.concat(r);c.setEdgeLabel(p.join(i.b))}return c}}}catch(t){a=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}if(!t.isSelfLoop()){var h=!1,y=Math.PI/2,v=!0,b=!1,d=void 0;try{for(var g,m=this.getEdges()[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var _=g.value;if(!(_.isQuadratic()&&Math.abs(_.getQuadratic().length)>=20)&&(_.getEdgeTo()===e&&_.getEdgeFrom()===n)){t.setQuadraticRadians(y).setQuadraticLength(10),_.setQuadraticRadians(y).setQuadraticLength(10),h=!0;break}}}catch(t){b=!0,d=t}finally{try{v||null==m.return||m.return()}finally{if(b)throw d}}if(!h){var w=Math.max(e.getNodeSize(),n.getNodeSize()),S=e.x,E=e.y,O=n.x,k=n.y,C=(O-S)*(O-S)+(k-E)*(k-E),T=!1,j=0,P=0;S>O?P=k-(j=(E-k)/(S-O))*O:S<O?P=E-(j=(k-E)/(O-S))*S:T=!0;var x=!0,M=!1,N=void 0;try{for(var I,A=this.getNodes()[Symbol.iterator]();!(x=(I=A.next()).done);x=!0){var L=I.value;if(L!==e&&L!==n){var D=L.x,F=L.y;if(!((S-D)*(S-D)+(E-F)*(E-F)>C||(O-D)*(O-D)+(k-F)*(k-F)>C)){if((T?Math.abs(S-D):Math.abs(P+j*D-F)/Math.sqrt(1+j*j))<L.getNodeSize()){h=!0;break}}}}}catch(t){M=!0,N=t}finally{try{x||null==A.return||A.return()}finally{if(M)throw N}}h&&(t.setQuadraticRadians(-Math.PI/2),t.setQuadraticLength(w+10))}}return t}}])&&u(n.prototype,a),p&&u(n,p),e}();e.a=p},function(t,e,n){"use strict";var r=n(183),o=n(184),i=n(8);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodeClass=e,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map}var e,n,u;return e=t,(n=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,i=!0,a=!1,u=void 0;try{for(var l,s=this._nodeMapping.values()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,f=c.x,p=c.y,h=c.getNodeSize();h>o&&(o=h),t=Math.min(t,f),n=Math.max(n,f),e=Math.min(e,p),r=Math.max(r,p)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}t-=o,e-=o,n+=o,r+=o;var y=Number.MAX_VALUE,v=Number.MAX_VALUE,b=Number.MIN_VALUE,d=Number.MIN_VALUE,g={x:0,y:0},m={x:0,y:0},_={x:0,y:0},w=!0,S=!1,E=void 0;try{for(var O,k=this._edgeMapping.values()[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var C=O.value;C.getStartPoint(g),C.getEndPoint(m),C.getCenterPoint(_);var T=g.x,j=g.y,P=m.x,x=m.y,M=_.x,N=_.y;y=Math.min(y,T,P,M),b=Math.max(b,T,P,M),v=Math.min(v,j,x,N),d=Math.max(d,j,x,N)}}catch(t){S=!0,E=t}finally{try{w||null==k.return||k.return()}finally{if(S)throw E}}var I={minX:Math.min(t,y),minY:Math.min(e,v),maxX:Math.max(n,b),maxY:Math.max(r,d),width:0,height:0};return I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I}},{key:"getHashCode",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="",n=!0,r=!1,o=void 0;try{for(var a,u=this._nodeMapping.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){e+=a.value.getHashString(t)+","}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}e+="|";var l=!0,s=!1,c=void 0;try{for(var f,p=this._edgeMapping.values()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){e+=f.value.getHashString(t)+","}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}return Object(i.e)(e)}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||Object(i.c)(),t,e))}},{key:"addNode",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._nodeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteNode",value:function(t){var e=t.getGraphElementID();if(this._nodeMapping.has(e)){this._nodeMapping.delete(e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=this.getEdges()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.getEdgeFrom()===t?n.push(l):l.getEdgeTo()===t&&l.setEdgeTo(null)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}for(var s=0;s<n.length;s++){var c=n[s];this.deleteEdge(c)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(t){return this._nodeMapping.has(t)?this._nodeMapping.get(t):null}},{key:"getNodesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(t){return t}},{key:"createEdge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||Object(i.c)(),t,e))}},{key:"addEdge",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._edgeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteEdge",value:function(t){var e=t.getGraphElementID();this._edgeMapping.has(e)&&this._edgeMapping.delete(e)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(t){return this._edgeMapping.has(t)?this._edgeMapping.get(t):null}},{key:"getEdgesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getEdges()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getEdgeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}])&&a(e.prototype,n),u&&a(e,u),t}();e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e){o(t,"data:text/plain; charset=utf-8,"+encodeURIComponent(e))}function o(t,e){var n=document.createElement("a"),r=e.indexOf(";");e=e.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+t+";"+e.substring(r+1),n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"isTargetable",value:function(t,e,n,r){return!1}},{key:"onAction",value:function(t,e,n,r){return!1}},{key:"onDblAction",value:function(t,e,n,r){return!1}},{key:"onDragStart",value:function(t,e,n,r){return!1}},{key:"onDragMove",value:function(t,e,n,r){return!1}},{key:"onDragStop",value:function(t,e,n,r){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e?t.getUndoManager().captureEvent():(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(187);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);if(t.isDeterministic())return e.copy(t),e;e.setDeterministic(!0);var n=t.getStartState(),o={nfaSource:t,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},l=t.doClosureTransition(n);o.dfaStartState=u(l,o),o.dfaTrapState=u([],o);var s=function(t){var e=[[]],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var u=i.value,l=0,s=e.length;l<s;++l)e.push(e[l].concat(u))}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}(t.getStates()),c=!0,f=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.length>0&&i(v,o)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}var b=!0,d=!1,g=void 0;try{for(var m,_=o.dfaStateMap.values()[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value,S=!0,E=!1,O=void 0;try{for(var k,C=t.getAlphabet()[Symbol.iterator]();!(S=(k=C.next()).done);S=!0){var T=k.value,j=a(w,T,o);o.dfaTransitionMap.has(j)||o.dfaTransitionMap.set(j,[w,T,o.dfaTrapState])}}catch(t){E=!0,O=t}finally{try{S||null==C.return||C.return()}finally{if(E)throw O}}}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}e.clear();var P=!0,x=!1,M=void 0;try{for(var N,I=o.dfaStateMap.values()[Symbol.iterator]();!(P=(N=I.next()).done);P=!0){var A=N.value;e.addState(A)}}catch(t){x=!0,M=t}finally{try{P||null==I.return||I.return()}finally{if(x)throw M}}e.setStartState(o.dfaStartState);var L=!0,D=!1,F=void 0;try{for(var R,H=o.dfaFinalStates[Symbol.iterator]();!(L=(R=H.next()).done);L=!0){var G=R.value;e.setFinalState(G)}}catch(t){D=!0,F=t}finally{try{L||null==H.return||H.return()}finally{if(D)throw F}}var B=!0,z=!1,U=void 0;try{for(var V,Y=o.dfaTransitionMap.values()[Symbol.iterator]();!(B=(V=Y.next()).done);B=!0){var X=V.value;e.addTransition(X[0],X[2],X[1])}}catch(t){z=!0,U=t}finally{try{B||null==Y.return||Y.return()}finally{if(z)throw U}}return e}function i(t,e){var n=u(t,e),r=null,o=[],i=!0,l=!1,s=void 0;try{for(var c,f=e.nfaSource.getAlphabet()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var p=c.value,h=!0,y=!1,v=void 0;try{for(var b,d=t[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;e.nfaSource.doTerminalTransition(g,p,o)}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}if(o.length>0){r=u(o,e);var m=a(n,p,e);e.dfaTransitionMap.set(m,[n,p,r])}o.length=0}}catch(t){l=!0,s=t}finally{try{i||null==f.return||f.return()}finally{if(l)throw s}}}function a(t,e,n){return t.getStateID()+";"+e}function u(t,e){var n=function(t,e){var n="",r=!0,o=!1,i=void 0;try{for(var a,u=e.nfaSource.getStates()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t.includes(l)?n+="x":n+="-"}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e),o=e.dfaStateMap.get(n);if(!o){var i=!1,a="{",u=!0,l=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;a.length>1&&(a+=","),a+=p.getStateLabel(),i||(i=e.nfaSource.isFinalState(p))}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}a+="}",o=new r.b(a),e.dfaStateMap.set(n,o),i&&e.dfaFinalStates.push(o)}return o}var l=1e3;function s(t,e){if("string"==typeof e&&(e=e[Symbol.iterator]()),t.isDeterministic()){for(var n=t.getStartState(),r=null;r=e.next().value;){var o=t.doTransition(n,r);if(o.length<1)return!1;n=o[0]}return t.isFinalState(n)}var i=[],a=[],u=t.getStartState();i.push({state:u,index:0});var s=!0,f=!1,p=void 0;try{for(var h,y=t.doClosureTransition(u)[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;i.push({state:v,index:0})}}catch(t){f=!0,p=t}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}for(var b=0;i.length>0;){if(c(t,e.next().value,i,a))return!0;if(++b>l)return!1}return!1}function c(t,e,n,r){var o=null,i=[],a=0;e&&r.push(e);var u=!0,l=!1,s=void 0;try{for(var c,f=n[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;if(o=p.state,e=p.index<r.length?r[p.index]:null){a=p.index+1;var h=!0,y=!1,v=void 0;try{for(var b,d=t.doTerminalTransition(o,e)[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;i.push({state:g,index:a})}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}}else if(t.isFinalState(o))return!0;a=p.index}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return n.length=0,n.push.apply(n,i),!1}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.c(!0);if(!function(t,e){var n=new Set,r=!0,o=!1,i=void 0;try{for(var a,u=t.getAlphabet()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n.add(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,f=void 0;try{for(var p,h=e.getAlphabet()[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;if(!n.has(y))return!1;n.delete(y)}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}return n.size<=0}(t,e))throw new Error("Mismatched machine alphabet");var o=t.getAlphabet(),i=t.getStartState(),a=e.getStartState();if(!i&&!a)return n.clear(),n;if(!i)return n.copy(e);if(!a)return n.copy(t);var u=new Map,l=new Set,s=[],c=[i,a],p=i.getStateID()+":"+a.getStateID();t.isFinalState(i)&&e.isFinalState(a)&&l.add(p),u.set(p,c);var h=[];for(h.push(p);h.length>0;){var y=h.pop(),v=u.get(y),b=v[0],d=v[1],g=[],m=!0,_=!1,w=void 0;try{for(var S,E=o[Symbol.iterator]();!(m=(S=E.next()).done);m=!0){var O=S.value,k=void 0,C=void 0;if(t.doTransition(b,O,!1,g),1!==g.length)throw new Error("Found non-deterministic transition from '"+b.getStateLabel()+"' for '"+O+"' - transitions to '"+g.join(",")+"'");if(k=g[0],g.length=0,e.doTransition(d,O,!1,g),1!==g.length)throw new Error("Found non-deterministic transition from '"+d.getStateLabel()+"' for '"+O+"' - transitions to '"+g.join(",")+"'");C=g[0],g.length=0;var T=k.getStateID()+":"+C.getStateID();u.has(T)||(u.set(T,[k,C]),h.push(T),t.isFinalState(k)&&e.isFinalState(C)&&l.add(T)),s.push([y,O,T])}}catch(t){_=!0,w=t}finally{try{m||null==E.return||E.return()}finally{if(_)throw w}}}n.clear();var j=new Map,P=!0,x=!1,M=void 0;try{for(var N,I=u.entries()[Symbol.iterator]();!(P=(N=I.next()).done);P=!0){var A=f(N.value,2),L=A[0],D=A[1],F=n.createState("("+D[0].getStateLabel()+","+D[1].getStateLabel()+")");l.has(L)&&n.setFinalState(F,!0),j.set(L,F)}}catch(t){x=!0,M=t}finally{try{P||null==I.return||I.return()}finally{if(x)throw M}}var R=j.get(p);if(!R)throw new Error("Unable to find start state for pair");n.setStartState(R);for(var H=0;H<s.length;H++){var G=s[H],B=G[0],z=G[1],U=G[2],V=j.get(B),Y=j.get(U);if(!V||!Y)throw new Error("Cannot find state for pair");n.addTransition(V,Y,z)}return n}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);e.copy(t);var n=new Set(e.getFinalStates()),o=!0,i=!1,a=void 0;try{for(var u,l=e.getStates()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n.has(s)?e.setFinalState(s,!1):e.setFinalState(s,!0)}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return e}function y(t,e){return function(t,e){var n=v(t,e);if(!n)return!1;if(b(n))return!1;var r=v(e,t);if(!r)return!1;if(b(r))return!1;return!0}(t.isDeterministic()?t:o(t),e.isDeterministic()?e:o(e))}function v(t,e){return function(t,e){var n=new Set,r=new Set,o=!0,i=!1,a=void 0;try{for(var u,l=t.getAlphabet()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;t.isUsedSymbol(s)&&n.add(s)}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var c=!0,f=!1,p=void 0;try{for(var h,y=e.getAlphabet()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;e.isUsedSymbol(v)&&r.add(v)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}if(n.size!=r.size)return!1;var b=!0,d=!1,g=void 0;try{for(var m,_=n[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value;if(!r.has(w))return!1}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}return n}(t,e)?p(t,h(e)):null}function b(t){var e=[],n=[t.getStartState()],r=new Map;for(r.set(t.getStartState(),"");n.length;){var o=n.shift();e.push(o);var i=r.get(o);if(t.isFinalState(o))return i;var a=!0,u=!1,l=void 0;try{for(var s,c=t.getOutgoingTransitions(o)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,p=f[2];if(!e.includes(p)&&!n.includes(p)){n.push(p);var h=f[1];r.set(p,i+h)}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return!1}n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return y}),n.d(e,"b",function(){return h})},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(130),a=n.n(i),u=n(193);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputAdapter=e,this._element=n,this._viewportAdapter=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}}var e,n,r;return e=t,(n=[{key:"setPosition",value:function(t,e){return this._x=t,this._y=e,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(t,e){this._inputpos.x=t,this._inputpos.y=e}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var t=this._inputpos,e=t.x-this._x,n=t.y-this._y;return e*e+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&l(e.prototype,n),r&&l(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1}var e,n,r;return e=t,(n=[{key:"setElement",value:function(t){return this._element=t,this}},{key:"setMinScale",value:function(t){return this._minScale=t,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(t){return this._maxScale=t,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(t){return this._offsetDamping=t,this}},{key:"update",value:function(){var t=this._nextOffsetX-this._offsetX;this._offsetX+=t*this._offsetDamping;var e=this._nextOffsetY-this._offsetY;this._offsetY+=e*this._offsetDamping}},{key:"transformScreenToView",value:function(t,e){if(!this._element)return{x:t-this._offsetX,y:e-this._offsetY};var n=this._element.getScreenCTM();return{x:(t-n.e)/n.a-this._offsetX,y:(e-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=t,this._nextOffsetY=this._offsetY=e):(this._nextOffsetX=t,this._nextOffsetY=e)}},{key:"addOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=t,this._offsetY+=e,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=t,this._nextOffsetY+=e)}},{key:"setScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,t))}},{key:"addScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,this._scaleFactor+t))}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}])&&c(e.prototype,n),r&&c(e,r),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=600,m=600,_=1/300,w=16,S=324,E=function(t){function e(){var t,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(r=v(e).call(this))||"object"!==p(r)&&"function"!=typeof r?d(n):r)._contexts=[],t._activeDragHandler=null,t._element=null,t._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},t._pointer=null,t._viewportAdapter=new f,t._dragging=!1,t._altinput=!1,t._holdInputDelay=g,t._dblInputDelay=m,t._scrollSensitivity=_,t._minTapRadius=16*w,t._draggingRadiusSqu=w+S,t._prevEmptyInput=!1,t._prevEmptyTime=0,t._prevEmptyX=0,t._prevEmptyY=0,t.onContextMenu=t.onContextMenu.bind(d(d(t))),t.onMouseDown=t.onMouseDown.bind(d(d(t))),t.onMouseMove=t.onMouseMove.bind(d(d(t))),t.onTouchStart=t.onTouchStart.bind(d(d(t))),t.onWheel=t.onWheel.bind(d(d(t))),t.onMouseDownThenMove=t.onMouseDownThenMove.bind(d(d(t))),t.onMouseDownThenUp=t.onMouseDownThenUp.bind(d(d(t))),t.onTouchStartThenMove=t.onTouchStartThenMove.bind(d(d(t))),t.onTouchStartThenEnd=t.onTouchStartThenEnd.bind(d(d(t))),t.onDelayedInputDown=t.onDelayedInputDown.bind(d(d(t))),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,u["a"]),n=e,(r=[{key:"bindContext",value:function(t){if(!(t instanceof u.a))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.unshift(t),this}},{key:"bindContextAsLast",value:function(t){if(!(t instanceof u.a))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.push(t),this}},{key:"unbindContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this._contexts.indexOf(t);return e>=0?(this._contexts.splice(e,1),t):null}return this._contexts.shift()}},{key:"clearContexts",value:function(){this._contexts.length=0}},{key:"hasContexts",value:function(){return this._contexts.length>0}},{key:"getCurrentContext",value:function(){return this._contexts.length>0?this._contexts[this._contexts.length-1]:this}},{key:"initialize",value:function(t){if(!(t instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewportAdapter.setElement(this._element=t),this._pointer=new s(this,this._element,this._viewportAdapter),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._element&&this._viewportAdapter.update()}},{key:"handleEvent",value:function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=!0,u=!1,l=void 0;try{for(var s,c=this._contexts[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,p=f.handleEvent.apply(f,[t].concat(o));if(p)return p}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return(n=y(v(e.prototype),"handleEvent",this)).call.apply(n,[this,t].concat(o))}},{key:"onMouseDown",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=t.ctrlKey?2:t.button;return this.onInputDown(t.clientX,t.clientY,n)&&(e._mousemove=this.onMouseDownThenMove,e._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",e._mousemove),document.addEventListener("mouseup",e._mouseup)),!1}},{key:"onMouseMove",value:function(t){var e=this._viewportAdapter.transformScreenToView(t.clientX,t.clientY),n=this._pointer;n.setPosition(e.x,e.y),this.handleEvent("onMoveInputEvent",n)&&(t.stopPropagation(),t.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(t){return t.stopPropagation(),t.preventDefault(),this.onInputMove(t.clientX,t.clientY),!1}},{key:"onMouseDownThenUp",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;return e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null),this.onInputUp(t.clientX,t.clientY),!1}},{key:"onTouchStart",value:function(t){if(1==t.changedTouches.length){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(e._touchmove=this.onTouchStartThenMove,e._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",e._touchmove),document.addEventListener("touchend",e._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches[0];return this.onInputMove(e.clientX,e.clientY),!1}},{key:"onContextMenu",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"onWheel",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._pointer,n=t.deltaY*this._scrollSensitivity,r=this._viewportAdapter.getScale(),o=r+n;return this.handleEvent("onZoomChange",e,o,r)||this._viewportAdapter.setScale(o),!1}},{key:"onInputDown",value:function(t,e,n){var r=this._cursor,o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==n,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(t,e){var n=this._pointer,r=this._viewportAdapter.transformScreenToView(t,e);if(n.setPosition(r.x,r.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(n);else if(n.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=n.getInputEventPosition(),i=this.handleEvent("onDragStart",n,o.x,o.y);i?this._activeDragHandler=i:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(t,e){var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var a=t-this._prevEmptyX,u=e-this._prevEmptyY,l=a*a+u*u,s=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&l<this._minTapRadius&&s<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=t,this._prevEmptyY=e)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var t=this._pointer,e=this._cursor;e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=e._timer;n&&(clearTimeout(n),e._timer=null),t.endInput(),this.handleEvent("onPostInputEvent",t)}},{key:"getContexts",value:function(){return this._contexts}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}])&&h(n.prototype,r),o&&h(n,o),e}(),O=n(186);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=.4,M=.1,N=10,I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=T(this,j(e).call(this,t)))._ref=o.a.createRef(),n._inputAdapter=new E,n._inputAdapter.getViewportAdapter().setMinScale(M).setMaxScale(N).setOffsetDamping(x),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o.a.Component),n=e,(r=[{key:"addInputHandler",value:function(t){if(!(t instanceof O.a))throw new Error("input handler must be an instanceof AbstractInputHandler");return this._inputAdapter.addInputHandler(t),this}},{key:"componentDidMount",value:function(){this._inputAdapter.initialize(this._ref.current)}},{key:"componentWillUnmount",value:function(){this._inputAdapter.destroy()}},{key:"componentDidUpdate",value:function(){this._inputAdapter.update()}},{key:"getSVGTransformString",value:function(){var t=this._inputAdapter.getViewportAdapter();return"translate("+t.getOffsetX()+" "+t.getOffsetY()+")"}},{key:"getSVGViewBoxString",value:function(t){var e=this._inputAdapter.getViewportAdapter(),n=t*Math.max(Number.MIN_VALUE,e.getScale()),r=n/2;return-r+" "+-r+" "+n+" "+n}},{key:"getSVGElement",value:function(){return this._ref.current}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"render",value:function(){var t=this.getSVGViewBoxString(this.props.viewSize||300),e=this.getSVGTransformString();return o.a.createElement("svg",{ref:this._ref,id:this.props.id,className:a.a.viewport_component+" "+this.props.className,style:this.props.style,viewBox:t},o.a.createElement("g",{transform:e},this.props.children))}}])&&C(n.prototype,r),i&&C(n,i),e}();e.a=I},function(t,e,n){"use strict";var r=n(183),o={_resetOnLoad:!1,_userDefined:!1,_dirty:!1};o.setValue=function(t,e){if(!this.hasOwnProperty(t))throw new Error("Trying to assign value to non-existant key in config");this._userDefined=!0,this._dirty=!0,this[t]=e}.bind(o);var i=o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.MACHINE_ERRORS_MESSAGE_TAG="machineError",o.MACHINE_CONVERSION_MESSAGE_TAG="machineConversion",o.ERROR_CHECK_INTERVAL=2e3,o.GRAPH_IMMEDIATE_INTERVAL=50,o.SMOOTH_OFFSET_DAMPING=.4,o.SCROLL_SENSITIVITY=1/300,o.MIN_SCALE=.1,o.MAX_SCALE=10,o.INIT_WAITTIME=1500,o.STR_TRANSITION_DEFAULT_LABEL="",o.STR_STATE_LABEL="q",o.PARALLEL_EDGE_HEIGHT=10,o.SELF_LOOP_HEIGHT=40,o.SUBMIT_KEY=13,o.CLEAR_KEY=27,o.TAB_KEY=9,o.UP_KEY=38,o.DOWN_KEY=40,o.DELETE_KEY=8,o.DELETE_FORWARD_KEY=46,o.DEFAULT_GRAPH_SIZE=300,o.NODE_RADIUS=16,o.NODE_RADIUS_SQU=o.NODE_RADIUS*o.NODE_RADIUS,o.NODE_DIAMETER=2*o.NODE_RADIUS,o.NODE_RADIUS_INNER=12,o.INITIAL_MARKER_OFFSET_X=-(o.NODE_RADIUS+o.NODE_RADIUS/2),o.EDGE_RADIUS=12,o.EDGE_RADIUS_SQU=o.EDGE_RADIUS*o.EDGE_RADIUS,o.ARROW_WIDTH=10,o.PLACEHOLDER_LENGTH=3*o.NODE_RADIUS,o.ENDPOINT_RADIUS=6,o.ENDPOINT_RADIUS_SQU=o.ENDPOINT_RADIUS*o.ENDPOINT_RADIUS,o.HOVER_RADIUS_OFFSET=4,o.CURSOR_RADIUS=4,o.CURSOR_RADIUS_SQU=o.CURSOR_RADIUS*o.CURSOR_RADIUS,o.DOUBLE_TAP_TICKS=600,o.LONG_TAP_TICKS=600,o.SPAWN_RADIUS=64,o.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE=!0,o.DRAGGING_BUFFER=18,o.DRAGGING_BUFFER_SQU=o.DRAGGING_BUFFER*o.DRAGGING_BUFFER,o.PADDING_RADIUS_SQU=2304;var p=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=l(this,c(e).call(this,t,n,r)))._accept=!1,o._custom=!1,o}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["a"]),n=e,(o=[{key:"setNodeAccept",value:function(t){this._accept=t}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(t){this._custom=t}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getNodeSize",value:function(){return i.NODE_RADIUS}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s(c(e.prototype),"getHashString",this).call(this,t)+":"+(this._accept?"1":"0")}}])&&u(n.prototype,o),a&&u(n,a),e}();e.a=p},function(t,e,n){"use strict";n.r(e),n.d(e,"JSON",function(){return i}),n.d(e,"XML",function(){return a});var r=n(202),o=n(188),i={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new r.a;for(var n=t.nodes||[],o=Math.min(n.length||0,t.nodeCount||0),i=t.edges||[],a=Math.min(i.length||0,t.edgeCount||0),u=t.initial||0,l=new Map,s=0;s<o;++s){var c=n[s];if(c){var f=e.createNode(c.x||0,c.y||0,c.id);f.setNodeLabel(c.label||""),f.setNodeAccept(c.accept||!1),f.setNodeCustom(c.custom||!1),l.set(s,f)}}var p=l.get(u);p&&e.setStartNode(p);for(var h=0;h<a;++h){var y=i[h];if(y){var v=l.get(y.from)||null;if(v){var b=l.get(y.to)||null,d=e.createEdge(v,b,y.id),g=y.quad||{};d.setEdgeLabel(y.label||""),d.setQuadraticRadians(g.radians||0),d.setQuadraticLength(g.length||0)}}}return e},objectify:function(t){for(var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=r.length||0,i=t.getStartNode(),a=new Array(n),u=new Map,l=0;l<n;++l){var s=e[l];if(s){var c=s.getGraphElementID();u.set(s,l),a[l]={id:c,x:s.x||0,y:s.y||0,label:s.getNodeLabel()||"",accept:s.getNodeAccept()||!1,custom:s.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var h=r[p];if(h){var y=h.getGraphElementID(),v=h.getQuadratic()||{},b=h.getEdgeFrom(),d=h.getEdgeTo(),g=u.has(b)?u.get(b):-1,m=u.has(d)?u.get(d):-1;f[p]={id:y,from:g,to:m,quad:{radians:v.radians||0,length:v.length||0},label:h.getEdgeLabel()||""}}}return{nodeCount:n,nodes:a,edgeCount:o,edges:f,initial:u.get(i)||0,_version:"1.0.0"}}},a={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new r.a;for(var n=t.getElementsByTagName("state")||[],i=n.length,a=t.getElementsByTagName("transition")||[],u=a.length,l="0",s=new Map,c=0;c<i;++c){var f=n[c];if(f){var p=f.getAttribute("id");if(p){var h=0,y=f.getElementsByTagName("x");if(y.length>0){var v=y[0];if(v.hasChildNodes()){var b=v.childNodes[0];if(b)try{h=parseFloat(b.nodeValue)||0}catch(t){h=0}}}var d=0,g=f.getElementsByTagName("y");if(g.length>0){var m=g[0];if(m.hasChildNodes()){var _=m.childNodes[0];if(_)try{d=parseFloat(_.nodeValue)||0}catch(t){d=0}}}var w=f.getElementsByTagName("initial").length>0,S=f.getElementsByTagName("final").length>0,E=e.createNode(h,d);E.setNodeLabel(f.getAttribute("name")||""),E.setNodeAccept(S),w&&(l=p),s.set(p,E)}}}var O=s.get(l);O&&e.setStartNode(O);for(var k=e.getBoundingRect(),C=k.minX,T=k.minY,j=k.width,P=k.height,x=e.getNodes(),M=0,N=x.length;M<N;++M)x[M].x-=C+j/2,x[M].y-=T+P/2;for(var I=new Map,A=0;A<u;++A){var L=a[A];if(L){var D=null,F=L.getElementsByTagName("from");if(F.length>0){var R=F[0];if(R.hasChildNodes()){var H=R.childNodes[0];H&&(D=H.nodeValue)}}if(s.has(D)){var G="",B=L.getElementsByTagName("to");if(B.length>0){var z=B[0];if(z.hasChildNodes()){var U=z.childNodes[0];U&&(G=U.nodeValue||"")}}var V="",Y=L.getElementsByTagName("read");if(Y.length>0){var X=Y[0];if(X.hasChildNodes()){var Q=X.childNodes[0];Q&&(V=Q.nodeValue||"")}}var K=D+"\n"+G,q=void 0;I.has(K)?q=I.get(K):(q=[],I.set(K,q)),q.push(V)}}}var W=!0,Z=!1,J=void 0;try{for(var $,tt=I.keys()[Symbol.iterator]();!(W=($=tt.next()).done);W=!0){var et=$.value,nt=et.split("\n");if(2===nt.length){var rt=I.get(et).join(o.b),ot=s.get(nt[0]),it=s.get(nt[1]);e.createEdge(ot,it).setEdgeLabel(rt)}}}catch(t){Z=!0,J=t}finally{try{W||null==tt.return||tt.return()}finally{if(Z)throw J}}return e},objectify:function(t){var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=t.getStartNode(),i=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created with flap.js 1.0.0--\x3e<structure></structure>',"application/xml"),a=i.getElementsByTagName("structure")[0],u=i.createElement("type");u.innerHTML="fa",a.appendChild(u);var l=i.createElement("automaton");a.appendChild(l);for(var s=new Map,c=0;c<n;++c){var f=e[c];s.set(f,c);var p=i.createElement("state");p.id=""+c,p.setAttribute("name",f.getNodeLabel()),l.appendChild(p);var h=i.createElement("x");h.innerHTML=""+(f.x||0),p.appendChild(h);var y=i.createElement("y");y.innerHTML=""+(f.y||0),p.appendChild(y),o===f&&p.appendChild(i.createElement("initial")),f.getNodeAccept()&&p.appendChild(i.createElement("final"))}var v=!0,b=!1,d=void 0;try{for(var g,m=r[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var _=g.value,w=_.getEdgeSymbolsFromLabel(),S=!0,E=!1,O=void 0;try{for(var k,C=w[Symbol.iterator]();!(S=(k=C.next()).done);S=!0){var T=k.value,j=i.createElement("transition");l.appendChild(j);var P=i.createElement("from");P.innerHTML=""+(s.get(_.getEdgeFrom())||0),j.appendChild(P);var x=i.createElement("to");x.innerHTML=""+(s.get(_.getEdgeTo())||0),j.appendChild(x);var M=i.createElement("read");M.innerHTML=""+(T||""),j.appendChild(M)}}catch(t){E=!0,O=t}finally{try{S||null==C.return||C.return()}finally{if(E)throw O}}}}catch(t){b=!0,d=t}finally{try{v||null==m.return||m.return()}finally{if(b)throw d}}return i}}},function(t,e,n){"use strict";var r=n(195);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for machine controller");if(!n)throw new Error("Missing machine builder for machine controller");this._module=e,this._machineBuilder=n}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){this._machineBuilder.initialize(t)}},{key:"destroy",value:function(t){this._machineBuilder.destroy(t)}},{key:"update",value:function(t){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(184);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"getDefaultLabel",value:function(t){return t instanceof r.a?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(t){return t instanceof r.a?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&o(e.prototype,n),i&&o(e,i),t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Math.PI/6,f="forward",p=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-c))+" "+(t.position.y-t.length*Math.cos(t.angle-c))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+c))+" "+(t.position.y-t.length*Math.cos(t.angle+c)),stroke:t.color,fill:"none"}))},h=function(t){return o.a.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,n){return o.a.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle",fill:t.color},e)}))},y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.directed||"undirected",r=n===f||"both"===n?this.props.forwardEndpointRenderer||this.props.endpointRenderer||p:null,i="backward"===n||"both"===n?this.props.backwardEndpointRenderer||this.props.endpointRenderer||p:null,a=this.props.labelRenderer||h,u=this.props.from,l=this.props.to,s=this.props.center,c=this.props.label||"",y=this.props.direction||0,v=this.props.color||"#000000",b=!1,d=null,g=u.x-l.x,m=u.y-l.y,_=u.x-s.x,w=u.y-s.y,S=Math.atan2(m,g),E=Math.atan2(w,_);if(Math.abs(S-E)<=.01)e=Math.atan2(s.x-l.x,s.y-l.y)+Math.PI,t=Math.atan2(s.x-u.x,s.y-u.y)+Math.PI,d="L "+l.x+" "+l.y,b=!1;else{var O=(4*s.x-u.x-l.x)/2,k=(4*s.y-u.y-l.y)/2;e=Math.atan2(O-l.x,k-l.y)+Math.PI,t=Math.atan2(O-u.x,k-u.y)+Math.PI,d="Q "+O+" "+k+" "+l.x+" "+l.y,b=k>s.y+4}return o.a.createElement("g",null,o.a.createElement("path",{d:"M "+u.x+" "+u.y+" "+d,stroke:v,fill:"none"}),r&&o.a.createElement(r,{position:l,angle:e,length:10,color:v}),i&&o.a.createElement(i,{position:u,angle:t,length:10,color:v}),a&&o.a.createElement(a,{position:s,labels:c.split("\n"),direction:y,reverse:b,color:v}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.b=y},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=u(e).call(this,t))||"object"!==i(o)&&"function"!=typeof o?s(r):o).ref=null,n._timeout=null,n.onMouseDown=n.onMouseDown.bind(s(s(n))),n.onAnyMouseUp=n.onAnyMouseUp.bind(s(s(n))),n}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()},50)}},{key:"render",value:function(){var t=this;return o.a.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}])&&a(n.prototype,r),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(132),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.panel_divider+" "+this.props.className,style:this.props.style})}}])&&l(n.prototype,r),i&&l(n,i),e}();e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(133),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=s(e).call(this,t))||"object"!==u(o)&&"function"!=typeof o?f(r):o).state={checked:t.initial||!1},n.onChange=n.onChange.bind(f(f(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"setChecked",value:function(t){this.setState({checked:t})}},{key:"isChecked",value:function(){return this.state.checked}},{key:"onChange",value:function(t){var e=t.target.checked;this.state.checked!==e&&this.setState({checked:e})}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.checkbox_container+" "+this.props.className,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:this.props.id+"-checkbox",name:this.props.id+"-checkbox",value:this.props.value,checked:this.state.checked,disabled:this.props.disabled,onChange:this.onChange}),o.a.createElement("label",{htmlFor:this.props.id+"-checkbox"},this.props.title))}}])&&l(n.prototype,r),i&&l(n,i),e}();e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(134),a=n.n(i),u=n(3),l=n(31),s=n(212);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var v=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=p(e).call(this,t))||"object"!==c(o)&&"function"!=typeof o?y(r):o).onChange=n.onChange.bind(y(y(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o.a.Component),n=e,(r=[{key:"onChange",value:function(t){this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var t=this,e=this.props.mode||0;return o.a.createElement("div",{id:this.props.id,className:a.a.tray_container+" "+this.props.className,style:this.props.style},o.a.createElement(u.a,{className:a.a.tray_button+(0===e?" active ":""),onClick:function(){return t.onChange(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(l.a,null)),o.a.createElement(u.a,{className:a.a.tray_button+(1===e?" active ":""),onClick:function(){return t.onChange(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(s.a,null)))}}])&&f(n.prototype,r),i&&f(n,i),e}();e.a=v},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(135),a=n.n(i),u=n(213);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=c(e).call(this,t))||"object"!==l(o)&&"function"!=typeof o?p(r):o).ref=null,n.state={forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(p(p(n))),n.onMouseLeave=n.onMouseLeave.bind(p(p(n))),n.onClick=n.onClick.bind(p(p(n))),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(p(p(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseEnter",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!0)}},{key:"onMouseLeave",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!1)}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({forceActive:!1}),this.props.app.getSession().getCurrentModule().clear(this.props.app,!0),this.props.inputController.setTrashMode(!1)):this.setState(function(t,n){var r=!t.forceActive;return n.inputController.setTrashMode(r),e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{forceActive:r}})}},{key:"onAnyMouseDownNotConsumed",value:function(t){this.state.forceActive&&this.ref!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.props.inputController.setTrashMode(!1),this.setState({forceActive:!1}))}},{key:"render",value:function(){var t=this,e=this.props.inputController,n=this.props.graphController,r=e.getInputAdapter(),i=e.isTrashMode(),l=!i&&(n.getGraph().isEmpty()||r.isUsingTouch()&&r.isDragging());return o.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:a.a.trash_container+(i?" active ":"")+(l?" hide ":"")+" "+this.props.className,style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(u.a,null))}}])&&s(n.prototype,r),i&&s(n,i),e}();e.a=h},function(t,e,n){"use strict";var r=n(194);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,u(e).call(this)))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"node"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){var o=t.getSelectionBox();return t.isTrashMode()?(e.prevX=r.x,e.prevY=r.y,o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0):(t.isMoveMode()&&e.openLabelEditor(r,r.getNodeLabel()),!1)}},{key:"onDragStart",value:function(t,e,n,r){if(t.isMoveMode())e.prevX=r.x,e.prevY=r.y;else{var o=t.getPicker(),i=e.getGraph().createEdge(r,n);i.setEdgeLabel(e.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(i,"endpoint"),t.isNewEdge=!0;var a=i.getQuadratic();e.prevQuad.radians=a.radians,e.prevQuad.length=a.length,e.prevEdgeTo=null}return!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t._snapToGrid){var l=t._snapSize;a=Math.round(a/l)*l,u=Math.round(u/l)*l}return o.hasSelection()?e.moveMultipleNodesTo(n,o.getSelection(i),a,u):e.moveNodeTo(n,r,a,u),!0}},{key:"onDragStop",value:function(t,e,n,r){var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t.isTrashMode())return o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0;if(o.hasSelection()){var l=a-e.prevX,s=u-e.prevY;e.onGraphIntentMoveAllNodes(o.getSelection(i),l,s)}else e.onGraphIntentMoveNode(r,a,u,e.prevX,e.prevY);return!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189),o=n(183);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=u(this,l(e).call(this,"initial"))).ghostInitialMarker=null,t}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(i=[{key:"onDragStart",value:function(t,e,n,r){return this.ghostInitialMarker=n,!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getPicker(),i=e.getGraph(),a=n.x,u=n.y,l=o.getPickHandler("node").getTargetAt(i,a,u)||n;return this.ghostInitialMarker=l,!0}},{key:"onDragStop",value:function(t,e,n,r){var i=e.getGraph();if(this.ghostInitialMarker instanceof o.a){var a=i.getStartNode();i.setStartNode(this.ghostInitialMarker),e.applyAutoRename(),e.onGraphIntentChangeInitial(this.ghostInitialMarker,a)}return this.ghostInitialMarker=null,!0}}])&&a(n.prototype,i),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"edge"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.openLabelEditor(r,r.getEdgeLabel()),!0}},{key:"onDragStart",value:function(t,e,n,r){if(r.isPlaceholder())return!1;var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEdgeTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.onGraphIntentMoveEdge(r,r.getQuadratic(),e.prevQuad),!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189),o=n(183);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,"endpoint"))}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(i=[{key:"onAction",value:function(t,e,n,r){return!!t.isTrashMode()&&(e.deleteTargetEdge(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,e.prevEdgeTo=r.getEdgeTo(),t.isNewEdge=!1,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEndpointTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){var i=e.getGraph();if(t.isTrashMode())return e.deleteTargetEdge(r),!0;if(r.getEdgeTo()instanceof o.a){var a=i.formatEdge(r);return a!==r?(e.openLabelEditor(a,a.getEdgeLabel()),i.deleteEdge(r),!0):(t.isNewEdge?e.openLabelEditor(a,"",function(t,n){return e.onGraphIntentFinishEdge(t)}):e.openLabelEditor(r,r.getEdgeLabel()),t.isNewEdge?(t.isNewEdge=!1,e.onGraphIntentCreateEdge(r)):null!==e.prevEdgeTo&&e.onGraphIntentChangeDestination(r,r.getEdgeTo(),e.prevEdgeTo,e.prevQuad),!0)}return t.shouldDestroyPointlessEdges?(t.isNewEdge?i.deleteEdge(r):e.deleteTargetEdge(r),!0):(r.changeDestinationNode(null),r.getEdgeLabel().length<=0&&e.openLabelEditor(r,r.getEdgeLabel()),!0)}}])&&a(n.prototype,i),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(217);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"isTargetable",value:function(t,e,n,r){return"none"===r}},{key:"onDblAction",value:function(t,e,n,r){var o=n.x,i=n.y;if(t._snapToGrid){var a=t._snapSize;o=Math.round(o/a)*a,i=Math.round(i/a)*a}return e.createNode(o,i),!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"node"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){return!t.isMoveMode()&&(e.toggleNode(r),!0)}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,u=t.getNodes()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,s=l.getNodeSize(),c=e-l.x,f=n-l.y;if(c*c+f*f<s*s)return l}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return null}},{key:"getTargetType",value:function(){return"node"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s.getCenterPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<144)return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getTargetType",value:function(){return"edge"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s.getEndPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<36)return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getTargetType",value:function(){return"endpoint"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r=t.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=e-(r.x+i),u=n-r.y;return a*a+u*u<144?r:null}},{key:"getTargetType",value:function(){return"initial"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=u(this,l(e).call(this)),!t)throw new Error("Missing module for input controller");if(!n)throw new Error("Missing inputAdapter for input controller");return r._module=t,r._inputAdapter=n,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o),n=e,(r=[{key:"initialize",value:function(t){}},{key:"destroy",value:function(t){}},{key:"update",value:function(t){}},{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){return!1}},{key:"onDragStop",value:function(t){return!1}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getModule",value:function(){return this._module}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]}var e,n,r;return e=t,(n=[{key:"getSelectionBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,n=Math.max(e.toX,e.fromX),r=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,n,r,o,i){var a=Math.min(e,r),u=Math.min(n,o),l=Math.max(e,r),s=Math.max(n,o),c=!0,f=!1,p=void 0;try{for(var h,y=t.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.x>=a&&v.x<l&&v.y>=u&&v.y<s&&i.push(v)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}(t,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this._boundingBox.visible}}])&&f(e.prototype,n),r&&f(e,r),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType="",this._prevX=0,this._prevY=0,this._pickHandlers=new Map}var e,n,r;return e=t,(n=[{key:"addPickHandler",value:function(t){return this._pickHandlers.set(t.getTargetType(),t),this}},{key:"removePickHandler",value:function(t){return this._pickHandlers.delete(t.getTargetType()),this}},{key:"getPickHandler",value:function(t){return this._pickHandlers.get(t)}},{key:"setInitialTarget",value:function(t,e){this.initialTarget=t,this.initialTargetType=e}},{key:"updateHoverTarget",value:function(t,e,n){this._prevX===e&&this._prevY===n||(this._prevX=e,this._prevY=n,this.updateTarget(t,e,n),this.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"updateInitialTarget",value:function(t,e,n){this.updateTarget(t,e,n),this.setInitialTarget(this.target,this.targetType)}},{key:"updateTarget",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,u=this._pickHandlers.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(this.target=l.getTargetAt(t,e,n),this.target)return void(this.targetType=l.getTargetType())}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return this.target=null,this.targetType="none",this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"isTarget",value:function(t){return this.target==t}},{key:"getPickHandlers",value:function(){return this._pickHandlers.values()}}])&&h(e.prototype,n),r&&h(e,r),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=!0,S=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=d(this,m(e).call(this,t,n)))._picker=new y,r._selectionBox=new p,r._graphController=null,r.isNewEdge=!1,r.shouldDestroyPointlessEdges=w,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r._snapToGrid=!1,r._snapSize=48,r._inputHandlers=[],r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,c),n=e,(r=[{key:"addInputHandler",value:function(t){return this._inputHandlers.push(t),this}},{key:"removeInputHandler",value:function(t){return this._inputHandlers.splice(this._inputHandlers.indexOf(t),1),this}},{key:"initialize",value:function(t){g(m(e.prototype),"initialize",this).call(this,t),this._module=t,this._graphController=t.getGraphController()}},{key:"destroy",value:function(t){g(m(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){g(m(e.prototype),"update",this).call(this,t);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();r.updateHoverTarget(n,o,i)}},{key:"setDisabled",value:function(t){this._disabled=t}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onPreInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.updateInitialTarget(n,t.x,t.y);var o=r.initialTarget,i=r.initialTargetType;return this._selectionBox.hasSelection()&&("node"==i&&this._selectionBox.isTargetInSelection(o)||this._selectionBox.clearSelection()),g(m(e.prototype),"onPreInputEvent",this).call(this,t)}},{key:"onInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onInputEvent",this).call(this,t)}},{key:"onDblInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onDblInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDblAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDblInputEvent",this).call(this,t)}},{key:"onDragStart",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragStart",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isNewEdge=!1,this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStart(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragStart",this).call(this,t)}},{key:"onDragMove",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragMove",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragMove(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragMove",this).call(this,t)}},{key:"onDragStop",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragStop",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStop(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragStop",this).call(this,t)}},{key:"onPostInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onPostInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,t.x,t.y),g(m(e.prototype),"onPostInputEvent",this).call(this,t)}},{key:"setTrashMode",value:function(t){this._trashMode=t,t?this._module.getApp()._drawer.setViewportColor("var(--color-viewport-error)"):this._module.getApp()._drawer.setViewportColor(null)}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(t){this._swapMouseScheme=!t}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var t=this._inputAdapter.isAltInput();return this._swapMouseScheme?!t:t}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}},{key:"getSelectionBox",value:function(){return this._selectionBox}},{key:"getInputHandlers",value:function(){return this._inputHandlers}}])&&b(n.prototype,r),o&&b(n,o),e}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(e,n,r,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for graph controller");if(!n)throw new Error("Missing graph for graph controller");if(!r)throw new Error("Missing graph labeler for graph controller");if(!o)throw new Error("Missing graph parser for graph controller");this._module=e,this._graph=n,this._labeler=r,this._parser=o}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){}},{key:"destroy",value:function(t){}},{key:"update",value:function(t){}},{key:"getGraphParser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"JSON",e=this._parser;if(e&&t in e)return e[t];throw new Error("Unsupported type for graph parser '"+t+"'")}},{key:"getGraphLabeler",value:function(){return this._labeler}},{key:"getGraph",value:function(){return this._graph}},{key:"getModule",value:function(){return this._module}}])&&E(e.prototype,n),r&&E(e,r),t}(),k=n(200),C=n(184),T=n(192);function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cachedGraphHash=0,this._refreshTicks=e,this._elapsedTicks=1/0,this._listeners=[]}var e,n,r;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(t){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var e=t.getHashCode(!1);if(e!==this._cachedGraphHash){this._cachedGraphHash=e;var n=!0,r=!1,o=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){(0,i.value)(t)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}}}])&&j(e.prototype,n),r&&j(e,r),t}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var D=!0,F=30,R=function(t){function e(t,n,r,o){var i,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(i=!(u=I(e).call(this,t,n,r,o))||"object"!==x(u)&&"function"!=typeof u?L(a):u).inputController=null,i._graphChangeHandler=new P(F),i.getGraphLabeler().setGraphController(L(L(i))),i.prevQuad={radians:0,length:0,x:0,y:0},i.prevEdgeTo=null,i.prevX=0,i.prevY=0,i.shouldAutoLabel=D,i.registerEvent("tryCreateWhileTrash"),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,O),n=e,(r=[{key:"initialize",value:function(t){N(I(e.prototype),"initialize",this).call(this,t),this._module=t,this.inputController=t.getInputController()}},{key:"destroy",value:function(t){N(I(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){N(I(e.prototype),"update",this).call(this,t),this._graphChangeHandler.update(this._graph)}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"applyAutoLayout",value:function(){T.a.applyLayout(this.getGraph()),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labeler,e=this._graph;if(!e.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeCustom()||u.setNodeLabel("")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,s=!1,c=void 0;try{for(var f,p=e.getNodes()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;h.getNodeCustom()||h.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}}},{key:"onGraphIntentImport",value:function(){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentCreateEdge",value:function(t){}},{key:"onGraphIntentFinishEdge",value:function(t){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveEdge",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeDestination",value:function(t,e,n,r){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeInitial",value:function(t,e){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveNode",value:function(t,e,n,r,o){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveAllNodes",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentDeleteNodes",value:function(t,e,n,r){this.shouldAutoLabel&&this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(t,e){t.setNodeLabel(e),t.setNodeCustom(!0),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this.getGraph().createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this.getModule().getApp().getUndoManager().captureEvent(),n}},{key:"toggleNode",value:function(t){var e=!t.getNodeAccept();t.setNodeAccept(e),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteSelectedNodes",value:function(t){var e=this.inputController.getSelectionBox(),n=e.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this.getGraph().deleteNode(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}e.clearSelection(),this.onGraphIntentDeleteNodes(t,n,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNode",value:function(t){this.getGraph().deleteNode(t),this.onGraphIntentDeleteNodes(t,[t],this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.deleteNode(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.onGraphIntentDeleteNodes(t[0],t,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}}},{key:"deleteTargetEdge",value:function(t){this.getGraph().deleteEdge(t),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(t,e,n,r){var o=e.getNodeSize(),i=!0,a=!1,u=void 0;try{for(var l,s=this.getGraph().getNodes()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(e!==c){var f=n-c.x,p=r-c.y,h=Math.atan2(p,f),y=2*o,v=c.x+Math.cos(h)*y-n,b=c.y+Math.sin(h)*y-r;f*f+p*p<o*o*4&&(n+=v,r+=b)}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}e.x=n,e.y=r}},{key:"moveMultipleNodesTo",value:function(t,e,n,r){var o=t.getInputEventPosition(),i=n-o.x,a=r-o.y,u=!0,l=!1,s=void 0;try{for(var c,f=e[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;p.x+=i,p.y+=a}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}t.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(t,e,n,r){e.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(t,e,n,r){var o=this.inputController.getPicker().getPickHandler("node").getTargetAt(this.getGraph(),n,r)||t;if(e.changeDestinationNode(o),e.isSelfLoop()){var i=e.getEdgeFrom(),a=i.x-n,u=i.y-r,l=Math.atan2(u,a)+Math.PI;e.setQuadraticRadians(l)}else e.setQuadraticRadians(this.prevQuad.radians).setQuadraticLength(this.prevQuad.length)}},{key:"openLabelEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getModule().getInputManager().getLabelEditorManager().getLabelEditorComponent(),i=n;o.openEditor(t,n,function(t,n){(!n||n.length<=0)&&t instanceof C.a?e._graph.deleteEdge(t):(t instanceof C.a?t.setEdgeLabel(n):t.setNodeLabel(n),(!i||i.length>0&&n!==i)&&e.getModule().getApp().getUndoManager().captureEvent(),r&&r(t,n))},function(t){(!i||i.length<=0)&&t instanceof C.a&&e._graph.deleteEdge(t)})}},{key:"focusOnNode",value:function(t){this.inputController.getInputAdapter().getViewportAdapter().setOffset(-t.x,-t.y)}},{key:"focusOnEdge",value:function(t){var e=t.getCenterPoint();this.inputController.getInputAdapter().getViewportAdapter().setOffset(-e.x,-e.y)}},{key:"focusOnNodes",value:function(t){var e=t.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n+=s.x,r+=s.y}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewportAdapter().setOffset(-n/e,-r/e)}}])&&M(n.prototype,r),o&&M(n,o),e}();k.a.mixin(R);var H=R,G=n(186);function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=U(this,V(e).call(this)))._inputController=t,o._graphController=n,o._selectionBox=r,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,G["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return!this._inputController.isMoveMode()&&(this._selectionBox.beginSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragMove",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragStop",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y),!0)}}])&&z(n.prototype,r),o&&z(n,o),e}();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=q(this,W(e).call(this)))._prevX=0,t._prevY=0,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,G["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return this._prevX=t.x,this._prevY=t.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._prevX,n=t.y-this._prevY;return t.getInputAdapter().getViewportAdapter().addOffset(e,n,!0),!0}},{key:"onDragStop",value:function(t){return!0}}])&&K(n.prototype,r),o&&K(n,o),e}(),$=n(0),tt=n.n($),et=n(131),nt=n.n(et),rt=n(185);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var st=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=at(e).call(this,t))||"object"!==ot(o)&&"function"!=typeof o?lt(r):o).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(lt(lt(n))),n.onFocus=n.onFocus.bind(lt(lt(n))),n.onBlur=n.onBlur.bind(lt(lt(n))),n.onKeyDown=n.onKeyDown.bind(lt(lt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,tt.a.Component),n=e,(r=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target,n=e.selectionStart,r=e.value;this.formatter&&(r=this.formatter(r)),this.setState({value:r},function(){e.selectionEnd=n})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e)),this.setState(function(t,n){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,r=this.multiLine,o=this.props.disabled,i=this.state.value;return tt.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r?tt.a.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):tt.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}])&&it(n.prototype,r),o&&it(n,o),e}();function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=pt(e).call(this,t))||"object"!==ct(o)&&"function"!=typeof o?yt(r):o).ref=null,n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(yt(yt(n))),n.onInputBlur=n.onInputBlur.bind(yt(yt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,tt.a.Component),n=e,(r=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof rt.a))throw new Error("Can only open editor for GraphElements");this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o;var i=this.props.labeler.getLabelFormatter(this._target);this.inputComponent.setFormatter(i),this.setState({open:!0},function(){null!==n&&e.inputComponent.resetValue(n),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,r=this.props.style||{},o=this.props.viewport;if(n){var i=n.getCenterPoint(),a=o.getElement(),u=a.getBoundingClientRect(),l=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(a,i.x+o.getOffsetX(),i.y+o.getOffsetY()),s=l.x,c=l.y,f=-this.ref.offsetWidth/2-u.left,p=-this.ref.offsetHeight/2-u.top;r.top=c+p+"px",r.left=s+f+"px"}return tt.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:nt.a.editor_container+(e?" open ":"")+" "+this.props.className,style:r},tt.a.createElement(st,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),tt.a.createElement("div",{className:nt.a.tray_container},this.props.children))}}])&&ft(n.prototype,r),o&&ft(n,o),e}(),bt=n(10);function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._labelEditorComponent=tt.a.createRef(),this._labelEditorRenderer=null,this._labeler=null}var e,n,r;return e=t,(n=[{key:"setLabelEditorRenderer",value:function(t){return this._labelEditorRenderer=t,this}},{key:"setLabeler",value:function(t){return this._labeler=t,this}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=t.getApp().getInputAdapter().getViewportAdapter(),o=this._labelEditorRenderer,i=this._labeler;t.getApp().getRenderManager().addRenderer(bt.d,function(t){return tt.a.createElement(vt,{ref:e._labelEditorComponent,labeler:i,viewport:r,saveOnExit:!0},o&&tt.a.createElement(o,{currentModule:n,parent:e._labelEditorComponent.current}))})}},{key:"onSessionStop",value:function(t){this._labeler=null,this._labelEditorRenderer=null}},{key:"getLabelEditorComponent",value:function(){return this._labelEditorComponent.current}}])&&dt(e.prototype,n),r&&dt(e,r),t}(),mt=n(21);function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wt=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graphController=new H(e,n,r,o),this._labelEditorManager=new gt(e.getApp()).setLabelEditorRenderer(i).setLabeler(r),this._inputController=null,this._selectionBoxInputHandler=null,this._viewportInputHandler=null}var e,n,r;return e=t,(n=[{key:"setGraphLabeler",value:function(t){return this._graphLabeler=t,this}},{key:"setGraphParser",value:function(t){return this._graphParser=t,this}},{key:"update",value:function(t){var e=this.getInputController(),n=this.getGraphController();e.update(t),n.update(t)}},{key:"onSessionStart",value:function(t){var e=this,n=t.getApp(),r=t.getCurrentModule();this._inputController=new S(r,r.getApp().getInputAdapter()),this._selectionBoxInputHandler=new X(this._inputController,this._graphController,this._inputController.getSelectionBox()),this._viewportInputHandler=new J,r.getApp().getInputAdapter().addInputHandler(this._inputController).addInputHandler(this._selectionBoxInputHandler).addInputHandler(this._viewportInputHandler);var o=this.getInputController(),i=this.getGraphController();o.initialize(r),i.initialize(r),this._labelEditorManager.onSessionStart(t);this._graphController.on("tryCreateWhileTrash",function(){e._inputController.isTrashMode()&&n.getNotificationManager().pushNotification(I18N.toString("message.warning.cannotmodify"),mt.c,"tryCreateWhileTrash",null,!0)})}},{key:"onSessionStop",value:function(t){t.getApp().getInputAdapter().removeInputHandler(this._inputController).removeInputHandler(this._selectionBoxInputHandler).removeInputHandler(this._viewportInputHandler),this._labelEditorManager.onSessionStop(t);var e=t.getCurrentModule(),n=this.getInputController();this.getGraphController().destroy(e),n.destroy(e)}},{key:"getLabelEditorManager",value:function(){return this._labelEditorManager}},{key:"getGraphParser",value:function(){return this._graphController.getGraphParser()}},{key:"getGraphLabeler",value:function(){return this._graphController.getGraphLabeler()}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getInputController",value:function(){return this._inputController}}])&&_t(e.prototype,n),r&&_t(e,r),t}();e.a=wt},function(t,e,n){"use strict";var r=n(26),o=n(0),i=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,s(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),i.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&u(n.prototype,r),o&&u(n,o),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,v(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.a.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),i.a.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&h(n.prototype,r),o&&h(n,o),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),i.a.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&m(n.prototype,r),o&&m(n,o),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t,e,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return I});var x="png",M=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=C(this,j(e).call(this)))._imageType=n,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,r["a"]),n=e,(o=[{key:"exportTarget",value:function(t,e){var n=e,r=n.getCurrentModule(),o=n.getProjectName(),i=n.getApp().getWorkspaceComponent().getSVGElement(),a=i.viewBox.baseVal,u=a.width,l=a.height,s=this.processSVGForExport(i,u,l,r);return Promise.resolve({name:o+"."+this._imageType,type:"image",data:s,width:u,height:l,"image-type":this._imageType})}},{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getApp().getInputAdapter().getViewportAdapter(),a=i.getOffsetX(),u=i.getOffsetY(),l=o.getGraph().getBoundingRect(),s=l.minX+a-30,c=l.minY+u-0,f=l.width+60,p=l.height+0,h=t.cloneNode(!0);h.setAttribute("viewBox",s+" "+c+" "+f+" "+p),h.setAttribute("width",e),h.setAttribute("height",n),h.setAttribute("font-size","16px"),h.setAttribute("font-family","monospace"),h.setAttribute("style",".graph-ui {display: none;}");for(var y=h.getElementsByClassName("graph-ui");y.length>0;){y[0].remove()}return h}},{key:"getIconClass",value:function(){switch(this._imageType){case x:return f;case"jpg":return d;case"svg":return E;default:return null}}},{key:"getLabel",value:function(){switch(this._imageType){case x:return I18N.toString("file.export.png");case"jpg":return I18N.toString("file.export.jpg");case"svg":return I18N.toString("file.export.svg");default:return T(j(e.prototype),"getLabel",this).call(this)}}},{key:"getTitle",value:function(){switch(this._imageType){case x:return I18N.toString("file.export.png.hint");case"jpg":return I18N.toString("file.export.jpg.hint");case"svg":return I18N.toString("file.export.svg.hint");default:return T(j(e.prototype),"getTitle",this).call(this)}}},{key:"getImageType",value:function(){return this._imageType}}])&&k(n.prototype,o),i&&k(n,i),e}(),N=[new M(x),new M("jpg"),new M("svg")];function I(t){for(var e=0;e<N.length;e++){var n=N[e];t.registerExporter(n,"image-"+n.getImageType())}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||e+1,i=this.props.toY||n+1,a=r-e,u=i-n;return o.a.createElement("g",{className:"graph-selection-container"},t&&o.a.createElement("rect",{className:"graph-selection",x:a<0?r:e,y:u<0?i:n,width:a<0?-a:a,height:u<0?-u:u}))}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=[8,6],d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,y(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e=this.props.target,n=0,r=0,i=4;switch(this.props.type){case"node":n=e.x||0,r=e.y||0,i=16;break;case"edge":n=(t=e.getCenterPoint()).x||0,r=t.y||0,i=12;break;case"endpoint":n=(t=e.getEndPoint()).x||0,r=t.y||0,i=6;break;case"initial":n=e.x+-24,r=e.y||0,i=12}return o.a.createElement("g",{className:"graph-highlight-container"},o.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:n,cy:r,r:i+4,strokeDashoffset:this.props.offset||0,strokeDasharray:b,strokeWidth:3,fill:"none"}))}}])&&p(n.prototype,r),i&&p(n,i),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getGraphController(),n=t.getInputController(),r=e.getGraph(),i=n.getSelectionBox(),a=i.getSelectionBox();return o.a.createElement("g",null,i&&i.hasSelection()&&i.getSelection(r).map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:t,type:"node"})}),a&&o.a.createElement(c,{visible:a.visible,fromX:a.fromX,fromY:a.fromY,toX:a.toX,toY:a.toY}))}}])&&m(n.prototype,r),i&&m(n,i),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,T(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=e.getPicker(),r=e.getSelectionBox();return o.a.createElement("g",null,o.a.createElement(E,{currentModule:t}),t._tester&&t._tester.targets&&t._tester.targets.map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:"highlight-test graph-gui",target:t,type:"node",offset:"6"})}),n&&n.hasTarget()&&!r.isTargetInSelection(n.target)&&o.a.createElement(d,{className:e.isTrashMode()?"highlight-error":"highlight-select",target:n.target,type:n.targetType}))}}])&&k(n.prototype,r),i&&k(n,i),e}();e.a=P},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(139),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&l(n.prototype,r),i&&l(n,i),e}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=v(e).call(this,t))||"object"!==h(o)&&"function"!=typeof o?d(r):o).onTapeStepBackward=n.onTapeStepBackward.bind(d(d(n))),n.onTapeStepForward=n.onTapeStepForward.bind(d(d(n))),n.onTapeFinish=n.onTapeFinish.bind(d(d(n))),n.onTapeReset=n.onTapeReset.bind(d(d(n))),n.onTapeSkipForward=n.onTapeSkipForward.bind(d(d(n))),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(d(d(n))),n.onTapeStop=n.onTapeStop.bind(d(d(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o.a.Component),n=e,(r=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?o.a.createElement("div",{id:this.props.id,className:a.a.tape_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),o.a.createElement("button",{onClick:this.onTapeStepForward},"STEP"),o.a.createElement("button",{onClick:this.onTapeReset},"RESET"),o.a.createElement("button",{onClick:this.onTapeFinish},"TO END")),o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),o.a.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),o.a.createElement("button",{onClick:this.onTapeStop},"STOP")),o.a.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")),o.a.createElement(p,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map(function(n,r){var i,a;i=e===r,a=e===r-1;var u=t.getTapeSourceStatesByIndex(r),l=null===u;return o.a.createElement("div",{key:n+":"+r,className:"tape-row-entry"+(i?" active ":"")+(a?" active-read ":"")+(l?" disabled ":""),onClick:function(e){return l?null:t.setCurrentTapeIndex(r)}},u&&o.a.createElement("span",{className:"tape-row-states"},u.map(function(t){return o.a.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())})),o.a.createElement("label",{className:"tape-row-symbol"},n))}),t.isTapeRightInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")))):null}}])&&y(n.prototype,r),i&&y(n,i),e}();e.a=g},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]}var e,n,o;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._listeners[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){(0,o.value)(t)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._machineChangeHandler=new o,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){t.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(t){t.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){this.attemptBuildMachine(t,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuildGraph",value:function(t,e){throw new Error("Missing graph build operation")}},{key:"attemptBuildMachine",value:function(t,e,n,r){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(9),a=n(244),u=n(220),l=n(224),s=n(248),c=n(187),f=n(221),p=n(188),h=n(195);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=d(this,g(e).call(this)))._machine=new c.c,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,s["a"]),n=e,(r=[{key:"attemptBuildGraph",value:function(t,e){var n;e.clear();var r,o,i,a=!0,u=!1,l=void 0;try{for(var s,c=t.getStates()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;(n=e.createNode(0,0)).setNodeLabel(f.getStateLabel()),t.isFinalState(f)&&n.setNodeAccept(!0)}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}var p=!0,h=!1,y=void 0;try{for(var v,b=t.getTransitions()[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var d=v.value,g=e.getNodesByLabel(d[0]);if(g&&!(g.length<=0)){g[0],i=d[1];var m=e.getNodesByLabel(d[2]);if(m&&!(m.length<=0))o=m[0],(r=e.createEdge(o,void 0)).setEdgeLabel(i),r!=e.formatEdge(r)&&e.deleteEdge(r)}}}catch(t){h=!0,y=t}finally{try{p||null==b.return||b.return()}finally{if(h)throw y}}var _=t.getStartState(),w=e.getNodesByLabel(_);return w&&w.length>0&&e.setStartNode(w[0]),e}},{key:"attemptBuildMachine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.length=0,r.length=0;var o=e.isDeterministic();e.clear();var i=new Map,a=new Map,u=new Set,l=[],s=[],y=t.getNodes(),b=t.getEdges(),d=t.getStartNode(),g=!0,m=!1,_=void 0;try{for(var w,S=y[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var E=w.value,O=E.getNodeLabel(),k=new c.b(O,E);e.addState(k),E.getNodeAccept()&&e.setFinalState(k,!0),d===E&&e.setStartState(k),i.has(O)?i.get(O).push(k):i.set(O,[k]),a.set(k,new Map)}}catch(t){m=!0,_=t}finally{try{g||null==S.return||S.return()}finally{if(m)throw _}}var C=!0,T=!1,j=void 0;try{for(var P,x=b[Symbol.iterator]();!(C=(P=x.next()).done);C=!0){var M=P.value,N=M.getEdgeFrom(),I=M.getEdgeTo();if(!M.isPlaceholder()&&N instanceof f.a&&I instanceof f.a){var A=e.getStateByID(N.getGraphElementID()),L=e.getStateByID(I.getGraphElementID());if(!A||!L)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var D=M.getEdgeSymbolsFromLabel(),F=!0,R=!1,H=void 0;try{for(var G,B=D[Symbol.iterator]();!(F=(G=B.next()).done);F=!0){var z=G.value;if(z){z===p.a?s.push(M):u.add(z);var U=void 0;switch(z){case p.a:U=c.a;break;default:U=z}var V=a.get(A),Y=V.get(U);Y||V.set(U,Y=new Array),Y.push(M),e.addTransition(A,L,U)}}}catch(t){R=!0,H=t}finally{try{F||null==B.return||B.return()}finally{if(R)throw H}}}else l.push(M)}}catch(t){T=!0,j=t}finally{try{C||null==x.return||x.return()}finally{if(T)throw j}}var X=!0,Q=!1,K=void 0;try{for(var q,W=i.entries()[Symbol.iterator]();!(X=(q=W.next()).done);X=!0){var Z=v(q.value,2),J=Z[0],$=Z[1];$.length>1&&n.push({name:"duplicate_state",label:J,nodes:$.map(function(t){return t.getSource()})})}}catch(t){Q=!0,K=t}finally{try{X||null==W.return||W.return()}finally{if(Q)throw K}}l.length>0&&n.push({name:"incomplete_transition",edges:l});var tt=Object(h.a)(t);if(tt&&tt.length>0&&r.push({name:"unreachable_state",nodes:tt}),o){s.length>0&&n.push({name:"empty_transition",edges:s});var et=[],nt=!0,rt=!1,ot=void 0;try{for(var it,at=a.entries()[Symbol.iterator]();!(nt=(it=at.next()).done);nt=!0){var ut=v(it.value,2),lt=(k=ut[0],ut[1]),st=!0,ct=!1,ft=void 0;try{for(var pt,ht=u[Symbol.iterator]();!(st=(pt=ht.next()).done);st=!0){var yt=pt.value,vt=lt.get(yt);vt?1!==vt.length&&n.push({name:"duplicate_transition",edges:vt,symbol:yt}):et.push(yt)}}catch(t){ct=!0,ft=t}finally{try{st||null==ht.return||ht.return()}finally{if(ct)throw ft}}et.length>0&&(n.push({name:"missing_transition",node:k.getSource(),symbols:et.slice()}),et.length=0)}}catch(t){rt=!0,ot=t}finally{try{nt||null==at.return||at.return()}finally{if(rt)throw ot}}}return n.length<=0?this._machine:null}},{key:"getMachine",value:function(){return this._machine}}])&&b(n.prototype,r),o&&b(n,o),e}(),w=n(219),S=n(192);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=k(this,T(e).call(this,t,new _))).graphController=null,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,l["a"]),n=e,(r=[{key:"initialize",value:function(t){C(T(e.prototype),"initialize",this).call(this,t),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){C(T(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){C(T(e.prototype),"update",this).call(this,t)}},{key:"getMachineType",value:function(){return this._machineBuilder.getMachine().isDeterministic()?"DFA":"NFA"}},{key:"setMachineType",value:function(t){this._machineBuilder.getMachine().setDeterministic("DFA"===t)}},{key:"changeMachineTo",value:function(t){this.getMachineType()!=t&&this.setMachineType(t)}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.getNodeLabel()==e)return u}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(t,e){this._machineBuilder.attemptBuildGraph(e,t),S.a.applyLayout(t)}},{key:"convertMachineTo",value:function(t){var e=this.getMachineType();if(e!==t)if("DFA"==t&&"NFA"==e){var n=Object(w.a)(this.getMachineBuilder().getMachine());this.setGraphToMachine(this.graphController.getGraph(),n),this.setMachineType(t)}else{if("NFA"!=t||"DFA"!=e)throw new Error("Conversion scheme between '"+e+"' to '"+t+"' is not supported");this.changeMachineTo(t)}}},{key:"invertMachine",value:function(){var t=this.getMachineBuilder().getMachine(),e=Object(w.b)(t,t),n=!0,r=!1,o=void 0;try{for(var i,a=e.getStates()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getSource().setNodeAccept(t.isFinalState(u))}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this._machineBuilder.getMachine().getStateCount()}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(e=i.getEdges()[a]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length,u=0;u<a;++u)(r=(n=i.getEdges()[u]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}}])&&O(n.prototype,r),o&&O(n,o),e}(),x=n(202),M=n(225),N="ε";function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R="q";function H(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split(p.b),r=new Set,o="",i=0,a=n.length,u=0;u<a;++u)if(1!==(i=(o=n[u].trim()).length)){if(i>1){var l=!0,s=!1,c=void 0;try{for(var f,h=o.split("")[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var y=f.value;y=y.trim(),r.has(y)||r.add(y)}}catch(t){s=!0,c=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw c}}}}else r.add(o);return r.size<=0?e?null:N:Array.from(r).join(p.b)}var G=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=L(this,D(e).call(this)))._prefix=R,t._graphController=null,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,M["a"]),n=e,(r=[{key:"setGraphController",value:function(t){return this._graphController=t,this}},{key:"setDefaultNodeLabelPrefix",value:function(t){this._prefix=t}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var t=this._graphController.getGraph(),e=[],n=0,r=t.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;t.getNodesByLabel(o,e).length>0;)e.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(t){return t||""}}},{key:"getEdgeLabelFormatter",value:function(){return H}}])&&A(n.prototype,r),o&&A(n,o),e}(),B=n(222);n(140);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,Y(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.getNodeLabel();return o.a.createElement("g",{className:"graph-node-container"},o.a.createElement("circle",{className:"graph-node",cx:t.x,cy:t.y,r:t.getNodeSize(),fill:"#FEE781",stroke:"#000000"}),t.getNodeAccept()&&o.a.createElement("circle",{className:"graph-node-inner",cx:t.x,cy:t.y,r:.75*t.getNodeSize(),fill:"none",stroke:"#000000"}),o.a.createElement("text",{className:"graph-node-label",x:t.x,y:t.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(e.length-2,0)/6,.5)+"em"},textAnchor:"middle"},e))}}])&&U(n.prototype,r),i&&U(n,i),e}(),K=n(226);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,J(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke||"#000000",n=t.getStartPoint(),r=t.getEndPoint(),i=t.getCenterPoint(),a=t.getEdgeSymbolsFromLabel(),u=t.getEdgeDirection();return o.a.createElement("g",{className:"graph-edge-container"},o.a.createElement(K.b,{directed:K.a,from:n,to:r,center:i,label:a.join("\n"),direction:u,color:e}))}}])&&W(n.prototype,r),i&&W(n,i),e}();function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var at=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,ot(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.x+(t instanceof f.a?0:24),n=t.y;return o.a.createElement("g",{className:"graph-initial-container"},o.a.createElement("path",{className:"graph-initial",d:"M"+(e-16)+" "+n+" L"+(e-32)+" "+(n-16)+" L"+(e-32)+" "+(n+16)+" Z",fill:"none",stroke:"#000000"}))}}])&&nt(n.prototype,r),i&&nt(n,i),e}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,ct(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=t.getGraphController().getGraph();return o.a.createElement("g",null,!n.isEmpty()&&o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{className:"graph-ui",x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"var(--color-viewport-back-detail)"}),o.a.createElement("line",{className:"graph-ui",x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"var(--color-viewport-back-detail)"})),n.getNodes().map(function(t,e){return o.a.createElement(Q,{key:t.getGraphElementID()||e,node:t})}),n.getEdges().map(function(t,e){return o.a.createElement(tt,{key:t.getGraphElementID()||e,edge:t})}),n.getStartNode()&&(null==e.getInputHandlers()[3].ghostInitialMarker?o.a.createElement(at,{node:n.getStartNode()}):o.a.createElement(at,{node:e.getInputHandlers()[3].ghostInitialMarker})))}}])&&lt(n.prototype,r),i&&lt(n,i),e}(),ht=n(141),yt=n.n(ht),vt=n(184),bt=n(183),dt=n(227);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return!e||"object"!==gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et=["0","1"],Ot=[p.a],kt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_t(this,wt(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,o.a.Component),n=e,(r=[{key:"renderSymbol",value:function(t){var e=this.props.parent;if(!e)return null;var n=e.inputComponent;return o.a.createElement(dt.a,{key:t,parent:n,title:t,onClick:function(e){return n.appendValue(t,p.b)}})}},{key:"render",value:function(){var t=this,e=this.props.parent,n=this.props.currentModule.getMachineController().getAlphabet(),r=e&&e.getTarget()instanceof vt.a,i=e&&e.getTarget()instanceof bt.a,a=!n||n.length<=1;return o.a.createElement("div",{className:yt.a.tray_container},r&&o.a.createElement("span",null,o.a.createElement("span",{className:yt.a.tray_used},n.map(function(e){return t.renderSymbol(e)})),o.a.createElement("span",{className:yt.a.tray_default},a&&Et.map(function(e){return t.renderSymbol(e)}),Ot.map(function(e){return t.renderSymbol(e)}))),i&&o.a.createElement("span",null,o.a.createElement(dt.a,{parent:e.inputComponent,title:e.getTarget().getNodeCustom()?"Custom":"Auto",onClick:function(){e.getTarget().setNodeCustom(!e.getTarget().getNodeCustom())}}),o.a.createElement(dt.a,{parent:e.inputComponent,title:e.getTarget().getNodeAccept()?"Accept":"Reject",onClick:function(){e.getTarget().setNodeAccept(!e.getTarget().getNodeAccept())}})))}}])&&mt(n.prototype,r),i&&mt(n,i),e}(),Ct=n(246),Tt=n(142),jt=n.n(Tt),Pt=n(20),xt=n(228),Mt=n(28),Nt=n(143),It=n.n(Nt),At=n(3),Lt=n(196),Dt=n(229),Ft=n(144),Rt=n.n(Ft);function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Bt(e).call(this,t))||"object"!==Ht(o)&&"function"!=typeof o?Ut(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(Ut(Ut(n))),n.onFocus=n.onFocus.bind(Ut(Ut(n))),n.onBlur=n.onBlur.bind(Ut(Ut(n))),n.onKeyDown=n.onKeyDown.bind(Ut(Ut(n))),n.onKeyUp=n.onKeyUp.bind(Ut(Ut(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,n=t?t.getNodeLabel():"",r=!!t&&(t.getNodeCustom()||null!==e&&e!==n),i=!!t&&t.getNodeAccept(),a=null===e?n:e;return o.a.createElement("div",{id:this.props.id,className:Rt.a.element_container+(r?" custom ":"")+(!t.getNodeCustom()&&a.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{spellCheck:!1,style:{width:a.length+"ch"},value:a,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&Gt(n.prototype,r),i&&Gt(n,i),e}();function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Wt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Qt(e).call(this,t))||"object"!==Yt(o)&&"function"!=typeof o?qt(r):o)._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(qt(qt(n))),n.onElementFocus=n.onElementFocus.bind(qt(qt(n))),n.onElementBlur=n.onElementBlur.bind(qt(qt(n))),n.onElementChange=n.onElementChange.bind(qt(qt(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(e,o.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=e.createNode(this._prevX,this._prevY);e.focusOnNode(n)}},{key:"onElementFocus",value:function(t,e){this._prevX=e.props.node.x,this._prevY=e.props.node.y,this.props.graphController.focusOnNode(e.props.node)}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();if(n.length>0)i.getNodesByLabel(n).length<=0&&o.renameNode(r,n);else r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(t,e,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return o.a.createElement("div",{id:this.props.id,className:It.a.list_container,style:this.props.style},o.a.createElement("div",{className:It.a.element_list},o.a.createElement(Dt.a,{className:It.a.first_marker}),e.map(function(e){return o.a.createElement(Vt,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})})),o.a.createElement(At.a,{className:It.a.add_button,title:"Add State",onClick:this.onElementAdd},o.a.createElement(Lt.a,null)))}}])&&Xt(n.prototype,r),i&&Xt(n,i),e}(),Zt=n(145),Jt=n.n(Zt),$t=n(146),te=n.n($t);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ae=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=re(e).call(this,t))||"object"!==ee(o)&&"function"!=typeof o?ie(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(ie(ie(n))),n.onFocus=n.onFocus.bind(ie(ie(n))),n.onBlur=n.onBlur.bind(ie(ie(n))),n.onKeyDown=n.onKeyDown.bind(ie(ie(n))),n.onKeyUp=n.onKeyUp.bind(ie(ie(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(e,o.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,r=this.props.used||!1;return o.a.createElement("div",{id:this.props.id,className:te.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&ne(n.prototype,r),i&&ne(n,i),e}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pe=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=se(e).call(this,t))||"object"!==ue(o)&&"function"!=typeof o?fe(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(fe(fe(n))),n.onElementFocus=n.onElementFocus.bind(fe(fe(n))),n.onElementBlur=n.onElementBlur.bind(fe(fe(n))),n.onElementChange=n.onElementChange.bind(fe(fe(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,o.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&(r.getMachineBuilder().getMachine().isSymbol(n)&&n!==e.props.symbol))throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;s&&n.push(o.a.createElement(ae,{key:s,symbol:s,used:t.isUsedSymbol(s),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getAlphabet();return o.a.createElement("div",{id:this.props.id,className:Jt.a.list_container,style:this.props.style},o.a.createElement("div",{className:Jt.a.element_list},this.renderAlphabetList(e,n),o.a.createElement(ae,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),o.a.createElement(At.a,{className:Jt.a.add_button,title:"Add Symbol",onClick:this.onElementAdd},o.a.createElement(Lt.a,null)))}}])&&le(n.prototype,r),i&&le(n,i),e}(),he=n(147),ye=n.n(he);function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return!e||"object"!==ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _e=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=de(this,ge(e).call(this,t)))._cachedMachineHash=0,n._cachedMachineComponents=[],n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentWillUnmount",value:function(){this._cachedMachineHash=0,this._cachedMachineComponents.length=0}},{key:"renderTransitionEntry",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n,!0),a="",u=!1;if(i.length<=0){if(!r)return null;if(u=!0,a="-",n===c.a)return null}else if(1===i.length)u=!1,a=i[0].getStateLabel(),r||(a="{"+a+"}");else{r&&(u=!0);var l="",s=!0,f=!1,h=void 0;try{for(var y,v=i[Symbol.iterator]();!(s=(y=v.next()).done);s=!0){var b=y.value;l.length>0&&(l+=","),l+=b.getStateLabel()}}catch(t){f=!0,h=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw h}}a="{"+l+"}"}return n===c.a&&(n=p.a,r&&(u=!0)),o.a.createElement("tr",{key:e.getStateID()+":"+n},o.a.createElement("td",{className:ye.a.chart_key+(u?" error ":"")},"("+e.getStateLabel()+","+n+")"),o.a.createElement("td",{className:ye.a.chart_value+(u?" error ":"")},a))}},{key:"renderTransitionTable",value:function(t){var e=t.getHashCode();if(e===this._cachedMachineHash)return this._cachedMachineComponents;this._cachedMachineHash=e;var n=this._cachedMachineComponents=[],r=!0,o=!1,i=void 0;try{for(var a,u=t.getStates()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,s=null;(s=this.renderTransitionEntry(t,l,c.a))&&n.push(s);var f=!0,p=!1,h=void 0;try{for(var y,v=t.getAlphabet()[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;(s=this.renderTransitionEntry(t,l,b))&&n.push(s)}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},{key:"render",value:function(){var t=this.props.machineController,e=t.getMachineBuilder().getMachine(),n="DFA"===t.getMachineType();return o.a.createElement("div",{id:this.props.id,className:ye.a.chart_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Q×Σ"),o.a.createElement("th",null,n?o.a.createElement("span",null,"Q"):o.a.createElement("span",null,o.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),o.a.createElement("span",null,"(Q)")))),this.renderTransitionTable(e))))}}])&&be(n.prototype,r),i&&be(n,i),e}(),we=n(148),Se=n.n(we);function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var je="symbols",Pe=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=ke(e).call(this,t))||"object"!==Ee(o)&&"function"!=typeof o?Te(r):o).state={rowAxis:je},n.onRowAxisSwitch=n.onRowAxisSwitch.bind(Te(Te(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(e,o.a.Component),n=e,(r=[{key:"onRowAxisSwitch",value:function(t){this.setState(function(t,e){return{rowAxis:t.rowAxis===je?"states":je}})}},{key:"renderTableEntryForSymbolAxis",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n),a="",u=!1;if(i.length<=0)r&&n!==c.a&&(u=!0),a="-";else if(1===i.length)r&&n===c.a&&(u=!0),a=i[0].getStateLabel();else{r&&(u=!0);var l="",s=!0,f=!1,p=void 0;try{for(var h,y=i[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;l.length>0&&(l+=","),l+=v.getStateLabel()}}catch(t){f=!0,p=t}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}a="{"+l+"}"}var b=r&&n===c.a;return o.a.createElement("td",{key:e.getStateID()+":"+n,className:Se.a.table_entry+(u?" error ":"")+(b?" disabled ":"")},a)}},{key:"renderTableEntries",value:function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var u,l=t.getStates()[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value,f=[];switch(e){case je:var h=!0,y=!1,v=void 0;try{for(var b,d=t.getAlphabet()[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;f.push(this.renderTableEntryForSymbolAxis(t,s,g))}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}f.push(this.renderTableEntryForSymbolAxis(t,s,c.a));break;case"states":var m=!0,_=!1,w=void 0;try{for(var S,E=t.getStates()[Symbol.iterator]();!(m=(S=E.next()).done);m=!0){var O=S.value,k=t.getTransitionSymbols(s,O),C="";if(k){var T=!0,j=!1,P=void 0;try{for(var x,M=k[Symbol.iterator]();!(T=(x=M.next()).done);T=!0){var N=x.value;C.length>0&&(C+="\n"),N===c.a?C+=p.a:C+=N}}catch(t){j=!0,P=t}finally{try{T||null==M.return||M.return()}finally{if(j)throw P}}}else C="-";f.push(o.a.createElement("td",{key:s.getStateID()+":"+O.getStateID()},C))}}catch(t){_=!0,w=t}finally{try{m||null==E.return||E.return()}finally{if(_)throw w}}break;default:throw new Error("Unknown row axis type '"+e+"'")}n.push(o.a.createElement("tr",{key:s.getStateID()},o.a.createElement("th",{scope:"row",className:Se.a.table_axis_header+" row"},s.getStateLabel()),f))}}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"renderTableAxis",value:function(t,e){var n=[],r=t.isDeterministic();switch(e){case je:var i=!0,a=!1,u=void 0;try{for(var l,s=t.getAlphabet()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f=l.value;n.push(o.a.createElement("th",{key:f,scope:"col",className:Se.a.table_axis_header+" col"},f))}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return n.push(o.a.createElement("th",{key:c.a,scope:"col",className:Se.a.table_axis_header+(r?" disabled ":"")+" col"},p.a)),n;case"states":var h=!0,y=!1,v=void 0;try{for(var b,d=t.getStates()[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;n.push(o.a.createElement("th",{key:g.getStateID(),scope:"col",className:Se.a.table_axis_header+" col"},g.getStateLabel()))}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}return n;default:throw new Error("Unknown row axis type '"+e+"'")}}},{key:"render",value:function(){var t=this.state.rowAxis,e=this.props.machineController.getMachineBuilder().getMachine();return o.a.createElement("div",{id:this.props.id,className:Se.a.table_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("button",{onClick:this.onRowAxisSwitch},t===je?"Q/Σ":"Q/Q")),this.renderTableAxis(e,t)),this.renderTableEntries(e,t))))}}])&&Oe(n.prototype,r),i&&Oe(n,i),e}(),xe=n(149),Me=n.n(xe),Ne=n(33);function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Re=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Le(e).call(this,t))||"object"!==Ie(o)&&"function"!=typeof o?Fe(r):o).onAutoStatePrefixSubmit=n.onAutoStatePrefixSubmit.bind(Fe(Fe(n))),n.onAutoStatePrefixFormat=n.onAutoStatePrefixFormat.bind(Fe(Fe(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)}(e,o.a.Component),n=e,(r=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var n=this.props.graphController,r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=t&&(r.setDefaultNodeLabelPrefix(t),n.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return o.a.createElement("div",{id:this.props.id,className:Me.a.select_container+" "+this.props.className,style:this.props.style},o.a.createElement("label",{className:Me.a.select_label},"State Labels"),o.a.createElement(Ne.a,{className:Me.a.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),o.a.createElement("select",{className:Me.a.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},o.a.createElement("option",null,"0-9"),o.a.createElement("option",null,"a-z"),o.a.createElement("option",null,"A-Z")))}}])&&Ae(n.prototype,r),i&&Ae(n,i),e}();function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ve=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Be(e).call(this,t))||"object"!==He(o)&&"function"!=typeof o?Ue(r):o).onMachineTypeChange=n.onMachineTypeChange.bind(Ue(Ue(n))),n.onAutoLayoutApply=n.onAutoLayoutApply.bind(Ue(Ue(n))),n.onAutoLayoutChange=n.onAutoLayoutChange.bind(Ue(Ue(n))),n.onAutoLabelChange=n.onAutoLabelChange.bind(Ue(Ue(n))),n.onSnapToGridChange=n.onSnapToGridChange.bind(Ue(Ue(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMachineTypeChange",value:function(t){var e=t.target.value,n=this.props.session.getCurrentModule().getMachineController().getMachineBuilder().getMachine();switch(e){case"DFA":n.setDeterministic(!0);break;case"NFA":n.setDeterministic(!1);break;default:throw new Error("Unknown machine type '"+e+"'")}}},{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"render",value:function(){var t=this.props.drawer,n=this.props.session.getCurrentModule(),r=n.getGraphController(),a=n.getMachineController(),u=a.getMachineBuilder().getMachine().isDeterministic()?"DFA":"NFA",l=r.shouldAutoRenameNodes(),s=t.isDrawerFullscreen();return o.a.createElement(i.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement("select",{className:jt.a.machine_type_select,value:u,onChange:this.onMachineTypeChange},o.a.createElement("option",null,"DFA"),o.a.createElement("option",null,"NFA")),o.a.createElement(xt.a,null),o.a.createElement(Pt.a,{title:"States",initial:!0,full:s},o.a.createElement(Wt,{graphController:r})),o.a.createElement(Pt.a,{title:"Alphabet",initial:!0,full:s},o.a.createElement(pe,{machineController:a})),o.a.createElement(xt.a,null),o.a.createElement(Pt.a,{title:"Transition Chart",full:s,disabled:r.getGraph().getEdgeCount()<=0},o.a.createElement(_e,{machineController:a})),o.a.createElement(Pt.a,{title:"Transition Table",full:s,disabled:r.getGraph().getNodeCount()<=0},o.a.createElement(Pe,{machineController:a})),o.a.createElement(xt.a,null),o.a.createElement(Re,{graphController:r}),o.a.createElement("button",{className:jt.a.autolayout_button,onClick:this.onAutoLayoutApply,disabled:r.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),o.a.createElement(xt.a,null),o.a.createElement(Mt.a,{id:"overview-auto-label",checked:l,title:"Auto rename nodes",onChange:this.onAutoLabelChange}),o.a.createElement(Mt.a,{id:"overview-auto-layout",checked:!1,title:"Auto layout nodes",disabled:!0,onChange:this.onAutoLayoutChange}),o.a.createElement(Mt.a,{id:"overview-snap-grid",checked:!1,title:"Snap-to-grid",disabled:!0,onChange:this.onSnapToGridChange}))}}])&&Ge(n.prototype,r),a&&Ge(n,a),e}();Object.defineProperty(Ve,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});var Ye=Ve,Xe=n(150),Qe=n.n(Xe),Ke=n(151),qe=n.n(Ke),We=n(8),Ze=n(204),Je=n(29),$e=n(205),tn=n(18),en=n(30),nn=n(206),rn=n(207),on=n(191),an=n(152),un=n.n(an),ln=n(208),sn=n(209),cn=n(210),fn=n(211);function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var dn="default",gn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=yn(e).call(this,t))||"object"!==pn(o)&&"function"!=typeof o?bn(r):o).inputElement=null,n.state={value:n.props.defaultValue||"",status:dn},n.onChange=n.onChange.bind(bn(bn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,o.a.Component),n=e,(r=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==dn?this.setState({status:dn},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=t.target.value;this.state.value!==e&&this.setState({value:e,status:dn})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,n=this.props.onTest,r=this.props.active,i=this.props.placeholder,a=this.state.status;return o.a.createElement("div",{id:this.props.id,className:un.a.test_item_container+(r?" active ":"")+" "+a+" "+this.props.className,style:this.props.style},o.a.createElement(At.a,{className:un.a.test_button,title:"Test",disabled:!n,onClick:function(e){return n(e,t)}},"success"===a?o.a.createElement(sn.a,null):"failure"===a?o.a.createElement(cn.a,null):"working"===a?o.a.createElement(fn.a,null):o.a.createElement(on.a,null)),o.a.createElement("div",{className:un.a.test_input},o.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:i,value:this.state.value,onChange:this.onChange}),o.a.createElement("label",null,this.props.subtitle)),o.a.createElement(At.a,{className:un.a.delete_button,title:"Delete",disabled:!e,onClick:function(n){return e(n,t)}},o.a.createElement(ln.a,null)))}}])&&hn(n.prototype,r),i&&hn(n,i),e}();function mn(t){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var On=[".txt"],kn="test.txt",Cn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=wn(e).call(this,t))||"object"!==mn(o)&&"function"!=typeof o?En(r):o)._testList=[],n._testName=kn,n.onTestNew=n.onTestNew.bind(En(En(n))),n.onTestUpload=n.onTestUpload.bind(En(En(n))),n.onTestDownload=n.onTestDownload.bind(En(En(n))),n.onTestClose=n.onTestClose.bind(En(En(n))),n.onTestAdd=n.onTestAdd.bind(En(En(n))),n.onTestDelete=n.onTestDelete.bind(En(En(n))),n.onTestTest=n.onTestTest.bind(En(En(n))),n.onTestRunAll=n.onTestRunAll.bind(En(En(n))),n.onGraphChange=n.onGraphChange.bind(En(En(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._testList[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.ref.resetStatus()}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,n=new FileReader;n.onload=function(r){try{e._testName=t.name,e._testList.length=0;var o=r.target.result.split("\n"),i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;(c=c.trim()).length>0&&e._testList.push({id:Object(We.c)(),defaultValue:c,ref:null})}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}e._testList.length<=0&&e.onTestAdd(null)}catch(t){n.abort()}},n.readAsText(t)}},{key:"onTestDownload",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._testList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.ref;u&&e.push(u.getValue())}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Object(Ze.a)(this._testName,e.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._testList.length=0}},{key:"onTestAdd",value:function(t){this._testList.push({id:Object(We.c)(),defaultValue:"",ref:null})}},{key:"onTestRunAll",value:function(t){var e=this,n=0;!function t(){var r=e._testList[n];e.onTestTest(null,r.ref,!0,function(){++n<e._testList.length&&t()})}()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestTest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n||this.props.immediate,i=this.props.tester,a=e.getValue();e.setState({status:"working"});var u=this.props.graphController,l=this.props.machineController;if(i.startTest(a,u,l).then(function(t){e.setState({status:t?"success":"failure"})},function(t){e.setState({status:dn})}),o){var s=i.runTest(u,l,!0);r&&s.then(r)}}},{key:"isEmpty",value:function(){return this._testList.length<=0}},{key:"render",value:function(){var t=this,e=this.props.tester,n=this.props.graphController,r=this.isEmpty(),i=e&&e.isTesting();return o.a.createElement("div",{id:this.props.id,className:qe.a.test_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:qe.a.test_control_tray},o.a.createElement(At.a,{className:qe.a.test_control_button,title:I18N.toString("action.testing.new"),onClick:this.onTestNew},o.a.createElement($e.a,null)),o.a.createElement(Je.a,{className:qe.a.test_control_button,title:I18N.toString("action.testing.import"),accept:On.join(","),onUpload:this.onTestUpload},o.a.createElement(tn.a,null)),o.a.createElement(At.a,{className:qe.a.test_control_button,title:I18N.toString("action.testing.save"),disabled:r,onClick:this.onTestDownload},o.a.createElement(en.a,null)),o.a.createElement(At.a,{className:qe.a.test_control_button,title:I18N.toString("action.testing.clear"),disabled:r,onClick:this.onTestClose},o.a.createElement(nn.a,null))),o.a.createElement("div",{className:qe.a.test_list_container+(r?" empty ":"")+(i?" disabled ":"")},o.a.createElement(At.a,{className:qe.a.test_list_add,title:"Add",onClick:this.onTestAdd},o.a.createElement(rn.a,null),o.a.createElement("span",{className:qe.a.test_list_count},r?"":""+this._testList.length)),o.a.createElement("div",{className:qe.a.test_list_scroll_container},o.a.createElement("div",{className:qe.a.test_list},this._testList.map(function(r,i){var a=r.id,u=r.defaultValue||"",l=t.onTestTest;return e&&!n.getGraph().isEmpty()||(l=null),o.a.createElement(gn,{key:a,ref:function(t){return r.ref=t},defaultValue:u,onTest:l,onDelete:function(e,n){t._testList.splice(i,1),t.onTestDelete(e,n)}})}))),o.a.createElement(At.a,{className:qe.a.test_list_runall,title:"Run All",onClick:this.onTestRunAll},o.a.createElement(on.a,null))))}}])&&_n(n.prototype,r),i&&_n(n,i),e}(),Tn=n(6);function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var In=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=xn(e).call(this,t))||"object"!==jn(o)&&"function"!=typeof o?Nn(r):o).onClick=n.onClick.bind(Nn(Nn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification;switch(t.target.value){case"convert":this.props.machineController.convertMachineTo("DFA"),e.close()}}},{key:"render",value:function(){var t=this.props.machineController.countStates();return o.a.createElement(Tn.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Tn.d,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),o.a.createElement("p",null,"".concat(t," states -> ").concat(Math.pow(2,t)," states")),o.a.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}])&&Pn(n.prototype,r),i&&Pn(n,i),e}();function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dn(t){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Hn=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Dn(e).call(this,t))||"object"!==An(o)&&"function"!=typeof o?Rn(r):o)._targetIndex=0,n._targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n._targetLabel.length>0&&(n._targetLabel+=", "),n._targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(Rn(Rn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this._targetIndex<i){var a=o[this._targetIndex++];this._targetIndex>=i&&(this._targetIndex=0),r.focusOnNode(a)}break;case"deleteall":var u=n.targets;r.deleteTargetNodes(u),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){var t=this.props.message;return o.a.createElement(Tn.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Tn.b,notification:this.props.notification},o.a.createElement("p",null,t.text+": "+this._targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Ln(n.prototype,r),i&&Ln(n,i),e}();function Gn(t){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Un(t,e){return(Un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Yn="→",Xn=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=zn(e).call(this,t))||"object"!==Gn(o)&&"function"!=typeof o?Vn(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getEdgeFrom().getNodeLabel()+", "+f.getEdgeLabel()+") "+Yn+" "+(f.getEdgeTo()instanceof bt.a?f.getEdgeTo().getNodeLabel():"null")}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(Vn(Vn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Un(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),r.focusOnEdge(a)}break;case"deleteall":var u=n.targets;r.deleteTargetEdges(u),e.close()}}},{key:"render",value:function(){return o.a.createElement(Tn.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Tn.b,notification:this.props.notification},o.a.createElement("p",null,this.props.message.text+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Bn(n.prototype,r),i&&Bn(n,i),e}();function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Jn=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=qn(e).call(this,t))||"object"!==Qn(o)&&"function"!=typeof o?Zn(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.targetLabel+=" for "+t.message.symbol,n.onClick=n.onClick.bind(Zn(Zn(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.message,n=this.props.graphController;switch(t.target.value){case"locate":var r=e.targets,o=r.length;if(o>0&&this.targetIndex<o){var i=r[this.targetIndex++];this.targetIndex>=o&&(this.targetIndex=0),n.focusOnNode(i)}}}},{key:"render",value:function(){return o.a.createElement(Tn.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Tn.b,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}])&&Kn(n.prototype,r),i&&Kn(n,i),e}();function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var or=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=er(e).call(this,t))||"object"!==$n(o)&&"function"!=typeof o?rr(r):o).targetIndex=0,n.targetLabel="";var i=t.message,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(rr(rr(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n[this.targetIndex++];this.targetIndex>=n.length&&(this.targetIndex=0),r.focusOnNode(o);break;case"deleteall":var i=n;r.deleteTargetNodes(i),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){return o.a.createElement(Tn.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:Tn.d,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&tr(n.prototype,r),i&&tr(n,i),e}(),ir="machine-convert",ar="machine-state",ur="machine-transition",lr="machine-state-missing",sr="machine-state-unreachable";function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=pr(e).call(this,t))||"object"!==cr(o)&&"function"!=typeof o?yr(r):o).state={stepMode:!1},n.onStepTestChange=n.onStepTestChange.bind(yr(yr(n))),n.onAutoErrorCheckChange=n.onAutoErrorCheckChange.bind(yr(yr(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.session,n=t.getApp(),r=t.getCurrentModule()._tester;r.on("startTest",function(t){n._viewport.setCurrentView(1),n._drawer.setDrawerSoloClass(e),n._drawer.closeDrawer()}),r.on("stopTest",function(t){n._viewport.setCurrentView(0),n._drawer.setDrawerSoloClass(null),n._drawer.openDrawer()})}},{key:"onStepTestChange",value:function(t){this.setState(function(t,e){return{stepMode:!t.stepMode}})}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),n=e.isErrorChecking();e.setErrorChecking(!n),n&&this.props.session.getApp().getNotificationManager().clearNotifications("machine-error")}},{key:"render",value:function(){var t=this.props.session.getCurrentModule(),n=t.getGraphController(),r=t.getMachineController(),a=t.getStringTester(),u=t.getErrorChecker(),l=this.state.stepMode,s=u.isErrorChecking();return o.a.createElement(i.a,{id:this.props.id,className:Qe.a.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(Cn,{tester:a,graphController:n,machineController:r,immediate:!l}),o.a.createElement(Mt.a,{id:"testing-step-test",checked:l,onChange:this.onStepTestChange,title:"Step testing"}),o.a.createElement(Mt.a,{id:"testing-error-check",checked:s,onChange:this.onAutoErrorCheckChange,title:"Auto error checking"}))}}])&&fr(n.prototype,r),a&&fr(n,a),e}();Object.defineProperty(vr,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});var br=vr,dr=n(153),gr=n.n(dr),mr=n(223),_r=n(230);function wr(t){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Or(t,e){return(Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Cr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Er(e).call(this,t))||"object"!==wr(o)&&"function"!=typeof o?kr(r):o).optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(kr(kr(n))),n.onConvertToNFA=n.onConvertToNFA.bind(kr(kr(n))),n.onInvertDFA=n.onInvertDFA.bind(kr(kr(n))),n.onOptimizeMachine=n.onOptimizeMachine.bind(kr(kr(n))),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}(e,o.a.Component),n=e,(r=[{key:"onDeleteAllUnreachable",value:function(t){var e=this.props.session.getCurrentModule().getGraphController(),n=Object(mr.a)(e.getGraph());e.deleteTargetNodes(n)}},{key:"onConvertToDFA",value:function(t){var e=this.props.session,n=e.getCurrentModule(),r={graphController:n.getGraphController(),machineController:n.getMachineController()};e.getApp().getNotificationManager().pushNotification(I18N.toString("message.warning.convertNFAToDFA"),ir,"machine-convert",r,!0)}},{key:"onConvertToNFA",value:function(t){this.props.session.getCurrentModule().getMachineController().convertMachineTo("NFA")}},{key:"onInvertDFA",value:function(t){this.props.session.getCurrentModule().getMachineController().invertMachine()}},{key:"onOptimizeMachine",value:function(t){this.optimizeUnreachOption.isChecked()&&this.onDeleteAllUnreachable(t)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.isChecked()||this.optimizeUnreachOption&&this.optimizeUnreachOption.isChecked()}},{key:"render",value:function(){var t=this,n=this.props.session.getCurrentModule().getMachineController();return o.a.createElement(i.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(Pt.a,{title:"Optimizations",initial:!0},o.a.createElement(_r.a,{ref:function(e){return t.optimizeUnreachOption=e},id:"opt-unreach",title:"Unreachables",value:"unreach"}),o.a.createElement(_r.a,{ref:function(e){return t.optimizeRedundOption=e},disabled:!0,id:"opt-redund",title:"Redundant States",value:"redund"}),o.a.createElement("button",{className:gr.a.analysis_button,onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize"),"DFA"==n.getMachineType()?o.a.createElement("button",{className:gr.a.analysis_button,onClick:this.onConvertToNFA},I18N.toString("action.overview.convertnfa")):"NFA"==n.getMachineType()?o.a.createElement("button",{className:gr.a.analysis_button,onClick:this.onConvertToDFA},I18N.toString("action.overview.convertdfa")):null),o.a.createElement(Pt.a,{title:"Related Machines"},"DFA"===n.getMachineType()&&o.a.createElement("button",{className:gr.a.analysis_button,onClick:this.onInvertDFA},"Flip all accept states")))}}])&&Sr(n.prototype,r),a&&Sr(n,a),e}();Object.defineProperty(Cr,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}});var Tr=Cr,jr=n(200);function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=n,this._right=r,this._index=0}var e,n,r;return e=t,(n=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}])&&Pr(e.prototype,n),r&&Pr(e,r),t}();function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ar(t,e,n){return e&&Ir(t.prototype,e),n&&Ir(t,n),t}function Lr(t,e){return!e||"object"!==Mr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fr(t,e){return(Fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rr=function(t){function e(t,n,r){var o;return Nr(this,e),(o=Lr(this,Dr(e).call(this,t.getTestString(),!1,!0)))._tester=t,o._graphController=n,o._machineController=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fr(t,e)}(e,xr),Ar(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}]),e}(),Hr=function(){function t(){Nr(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")}return Ar(t,[{key:"startTest",value:function(t,e,n){var r=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new Rr(this,e,n),this.emit("startTest",this),new Promise(function(t,e){r._resolve=t,r._reject=e}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var a=!1;do{a=n.stepForward(t,e,!r)}while(a);o(n._cachedResult)}).then(function(t){return r?n.stopTest():t})}},{key:"stepForward",value:function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var r,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){r=[],o=[];var a=n.getStartState(),u=!0,l=!1,s=void 0;try{for(var c,f=n.doClosureTransition(a)[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;r.push({state:p,index:0})}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}}else{var h=this._cachePath[this._testIndex-1];r=h.states.slice(),o=h.symbols.slice();var y=this._testString[this._testIndex-1];Object(w.e)(n,y,r,o)}i&&(this._cachedResult=Object(w.e)(n,null,r,o));var v=new Set,b=!0,d=!1,g=void 0;try{for(var m,_=r[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var S=m.value,E=S.state.getSource();if(!E)throw new Error("Could not find node '"+S.state+"'");v.add(E)}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}var O={targets:Array.from(v),states:r,symbols:o};this._cachePath.push(O)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}},{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}}]),t}();jr.a.mixin(Hr);var Gr=Hr,Br=n(21);function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ur=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graphController=n,this._machineController=r,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),r.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)}var e,n,r;return e=t,(n=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController},e=this._machineController.getMachineBuilder(),n=e.getMachineErrors(),r=e.getMachineWarnings(),o=this._app.getNotificationManager();if(o.clearNotifications("machine-error"),n.length<=0&&r.length<=0)o.pushNotification(I18N.toString("message.error.none"),Br.b,"machine-error",null,!1);else{var i=!0,a=!1,u=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;switch(c.name){case"unreachable_state":o.pushNotification(c.nodes,sr,"machine-error",t,!1)}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}var f=!0,p=!1,h=void 0;try{for(var y,v=n[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;switch(b.name){case"duplicate_state":o.pushNotification({text:"Found duplicate nodes of similar names",targets:b.nodes},ar,"machine-error",t,!1);break;case"incomplete_transition":o.pushNotification({text:I18N.toString("message.error.incomplete"),targets:b.edges},ur,"machine-error",t,!1);break;case"duplicate_transition":o.pushNotification({text:I18N.toString("message.error.dupe"),targets:b.edges},ur,"machine-error",t,!1);break;case"missing_transition":o.pushNotification({targets:[b.node],symbol:b.symbols},lr,"machine-error",t,!1);break;case"empty_transition":o.pushNotification({text:I18N.toString("message.error.empty"),targets:b.edges},ur,"machine-error",t,!1)}}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}])&&zr(e.prototype,n),r&&zr(e,r),t}(),Vr=n(27),Yr=n.n(Vr),Xr=n(231),Qr=n(232),Kr=n(198);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zr(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jr(t){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $r(t,e){return($r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var to=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zr(this,Jr(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=e.getInputController(),i=e.getGraphController(),a=r.isActionMode();return o.a.createElement("div",{id:this.props.id,className:Yr.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(Kr.a,{className:Yr.a.view_widget,style:{right:0},viewportAdapter:n.getInputAdapter().getViewportAdapter()}),o.a.createElement("div",{className:Yr.a.view_widget,style:{bottom:0,left:0}},o.a.createElement(Xr.a,{mode:a?0:1,onChange:function(t){return r.setInputScheme(0===t)}})),o.a.createElement("div",{className:Yr.a.view_widget,style:{bottom:0,right:0}},o.a.createElement(Qr.a,{app:n,inputController:r,graphController:i})))}}])&&Wr(n.prototype,r),i&&Wr(n,i),e}(),eo=n(247);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oo(t,e){return!e||"object"!==no(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function io(t){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uo=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oo(this,io(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!0)}},{key:"componentWillUnmount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!1)}},{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=e._tester;return o.a.createElement("div",{id:this.props.id,className:Yr.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(Kr.a,{className:Yr.a.view_widget,style:{right:0},viewportAdapter:n.getInputAdapter().getViewportAdapter()}),o.a.createElement("div",{className:Yr.a.view_widget,style:{bottom:0}},o.a.createElement(eo.a,{value:r?r.getTapeContext():null})))}}])&&ro(n.prototype,r),i&&ro(n,i),e}(),lo=n(32),so=n(10),co=n(233),fo=n(234),po=n(235),ho=n(236),yo=n(237),vo=n(238),bo=n(239),go=n(240),mo=n(241),_o=n(242),wo=n(243),So=n(218);function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oo=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graphController=e,this._machineController=n,this._currentSymbols=[],this._currentNode=null,this._nextEdges=[],this._prevEdges=[],this._expectedString=null}var e,n,r;return e=t,(n=[{key:"setExpectedString",value:function(t){this._expectedString=t}},{key:"updateNextEdges",value:function(){var t=this._graphController.getGraph(),e=this._currentNode;this._nextEdges.length=0;var n=!0,r=!1,o=void 0;try{for(var i,a=t.getEdges()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getEdgeFrom()===e&&this._nextEdges.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"nextEdge",value:function(t){if(!this._nextEdges.includes(t))throw new Error("Must use edge from this._nextEdges");if(!(this._nextEdges.length<=0)){this._prevEdges.push(t);var e=t.getEdgeSymbolsFromLabel();this._currentSymbols.push(e[0]),this._currentNode=t.getEdgeTo(),this.updateNextEdges()}}},{key:"prevEdge",value:function(){if(!(this._prevEdges.length<=0)){var t=this._prevEdges.pop();this._currentNode=t.getEdgeFrom(),this.updateNextEdges()}}},{key:"getPrevEdges",value:function(){return this._prevEdges}},{key:"getNextEdges",value:function(){return this._nextEdges}},{key:"getExpectedString",value:function(){return this._expectedString}},{key:"getCurrentSymbols",value:function(){return this._currentSymbols}},{key:"getCurrentNode",value:function(){return this._currentNode}},{key:"getCurrentString",value:function(){return this._currentSymbols.join("")}},{key:"isAcceptedString",value:function(){return this._expectedString?this._expectedString===this._currentSymbols.join(""):null!==this._currentNode&&this._currentNode.getNodeAccept()}}])&&Eo(e.prototype,n),r&&Eo(e,r),t}();function ko(t){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e){return!e||"object"!==ko(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Po(t,e){return(Po=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xo=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),To(this,jo(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Po(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!0)}},{key:"componentWillUnmount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!1)}},{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=this.props.viewport,i=e._stepTracer;return o.a.createElement("div",{id:this.props.id,className:Yr.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(Kr.a,{className:Yr.a.view_widget,style:{right:0},viewportAdapter:n.getInputAdapter().getViewportAdapter()}),o.a.createElement("div",{className:Yr.a.view_widget,style:{bottom:0}},i.getCurrentSymbols().join(""),o.a.createElement("button",null,"Next"),o.a.createElement("button",{onClick:function(t){r.setCurrentView(0)}},"Back")))}}])&&Co(n.prototype,r),i&&Co(n,i),e}();function Mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var No=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._broadcastManager=null}var e,n,r;return e=t,(n=[{key:"setBroadcastManager",value:function(t){return this._broadcastManager=t,this}},{key:"onBroadcastMessage",value:function(t,e,n,r){return!1}},{key:"getBroadcastManager",value:function(){return this._broadcastManager}}])&&Mo(e.prototype,n),r&&Mo(e,r),t}();function Io(t){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lo(t,e){return!e||"object"!==Io(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fo(t,e){return(Fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ro=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lo(this,Do(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fo(t,e)}(e,No),n=e,(r=[{key:"testEquivalence",value:function(t){this._broadcastManager.sendMessageTo(t,"fsa-machine-request")}},{key:"onBroadcastMessage",value:function(t,e,n,r){if("fsa-machine-request"===t){var o=this._broadcastManager.getApp().getSession().getCurrentModule().getGraphController().getGraph(),i=B.JSON.objectify(o);return this._broadcastManager.sendMessageTo(e,"fsa-machine-response",{graphData:i}),!0}if("fsa-machine-response"===t){var a=this._broadcastManager.getApp().getSession().getCurrentModule().getMachineController(),u=r.graphData,l=B.JSON.parse(u),s=a.getMachineBuilder().attemptBuild(l,new c.c),f=a.getMachineBuilder().getMachine(),p=Object(w.c)(s,f);return window.alert("The machines are "+(p?"EQUAL":"NOT EQUAL")+"!"),!0}return!1}}])&&Ao(n.prototype,r),o&&Ao(n,o),e}(),Ho=n(199);function Go(t){return(Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e){return!e||"object"!==Go(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uo(t){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vo(t,e){return(Vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yo=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=zo(this,Uo(e).call(this,t)))._graphParser=n,r._prevGraphHash=0,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vo(t,e)}(e,Ho["a"]),n=e,(r=[{key:"onParseSession",value:function(t,e){return JSON.parse(e)}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph();this._graphParser.parse(e.graphData,i),function(t,e,n){var r=n.type;r&&e.setMachineType(r);var o=n.symbols;if(o&&Array.isArray(o)){e.clearCustomSymbols();var i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;e.addCustomSymbol(c)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}}var f=n.statePrefix;f&&t.getGraphLabeler().setDefaultNodeLabelPrefix(f)}(n,r,o,e.machineData)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&Bo(n.prototype,r),o&&Bo(n,o),e}();function Xo(t){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ko(t,e){return!e||"object"!==Xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qo(t){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wo(t,e){return(Wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zo=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ko(this,qo(e).call(this)))._app=t,r._graphParser=n,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wo(t,e)}(e,Ho["a"]),n=e,(r=[{key:"onParseSession",value:function(t,e){return(new DOMParser).parseFromString(e,"text/xml")}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule().getGraphController().getGraph();this._graphParser.parse(e,n)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&Qo(n.prototype,r),o&&Qo(n,o),e}(),Jo=n(26),$o=n(197);function ti(t){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ni(t,e){return!e||"object"!==ti(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ri(t){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oi(t,e){return(oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ii=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ni(this,ri(e).call(this,".fsa.json")))._graphParser=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oi(t,e)}(e,Jo["a"]),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph(),a=this._graphParser.objectify(i);e.graphData=a,e.machineData={type:o.getMachineType(),symbols:o.getCustomSymbols(),statePrefix:r.getGraphLabeler().getDefaultNodeLabelPrefix()}}},{key:"getIconClass",value:function(){return $o.a}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}}])&&ei(n.prototype,r),o&&ei(n,o),e}();function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function li(t,e){return!e||"object"!==ai(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,e){return(ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fi=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),li(this,si(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ci(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"}))}}])&&ui(n.prototype,r),i&&ui(n,i),e}();function pi(t){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yi(t,e){return!e||"object"!==pi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var di=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=yi(this,vi(e).call(this,".jff")))._graphParser=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,Jo["a"]),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule().getGraphController().getGraph();e.graphData=this._graphParser.objectify(n)}},{key:"onStringifySession",value:function(t,e){return(new XMLSerializer).serializeToString(e.graphData)}},{key:"getIconClass",value:function(){return fi}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}}])&&hi(n.prototype,r),o&&hi(n,o),e}(),gi=n(245);function mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _i=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._inputManager=new a.a(this,new x.a,new G,B,kt),e.getRenderManager().addRenderer(so.c,function(t){return o.a.createElement(u.a,{ref:function(t){return e._workspace.current=t}},o.a.createElement(pt,{currentModule:n,parent:t.workspace}),n._inputManager.getInputController()&&o.a.createElement(Ct.a,{currentModule:n}))}),this._machineController=new P(this),this._errorChecker=new Ur(e,this._inputManager.getGraphController(),this._machineController),this._tester=new Gr,this._stepTracer=new Oo(this.getGraphController(),this.getMachineController()),this._broadcastHandler=new Ro}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){var e,n=this;this._inputManager.onSessionStart(t.getSession()),this._inputManager.getInputController().getPicker().addPickHandler(this._initialPickHandler=new wo.a).addPickHandler(this._endpointPickHandler=new _o.a).addPickHandler(this._nodePickHandler=new go.a).addPickHandler(this._edgePickHandler=new mo.a),this._inputManager.getInputController().addInputHandler(this._nodeInputHandler=new fo.a).addInputHandler(this._edgeInputHandler=new ho.a).addInputHandler(this._endpointInputHandler=new yo.a).addInputHandler(this._initialInputHandler=new po.a).addInputHandler(this._createInputHandler=new vo.a).addInputHandler(this._acceptInputHandler=new bo.a),(e=t.getNotificationManager()).registerNotificationLayout(ir,In),e.registerNotificationLayout(lr,Jn),e.registerNotificationLayout(sr,or),e.registerNotificationLayout(ar,Hn),e.registerNotificationLayout(ur,Xn),t.getExportManager().registerExporter(new ii(B.JSON),"session").registerExporter(new di(B.XML),"jflap"),Object(gi.a)(t.getExportManager()),t.getImportManager().addImporter(new Yo(t,B.JSON),".fsa.json",".json").addImporter(new Zo(t,B.XML),".jff"),t.getViewportManager().addViewClass(to).addViewClass(uo).addViewClass(xo),t.getDrawerManager().addPanelClass(function(t){return o.a.createElement(i.a,{id:t.id,className:t.className,style:t.style,title:"Finite State Automata"},o.a.createElement("p",null,"Brought to you with ❤ by the Flap.js team."),o.a.createElement("p",null,"<- Tap on a tab to begin!"))}).addPanelClass(Ye).addPanelClass(br).addPanelClass(Tr),t.getHotKeyManager().registerHotKey("Export to PNG",[lo.a,"KeyP"],function(){t.getExportManager().tryExportFile("image-png",t.getSession())}).registerHotKey("Save as JSON",[lo.a,"KeyS"],function(){t.getExportManager().tryExportFile("session",t.getSession())}).registerHotKey("New",[lo.a,"KeyN"],function(){n.clear(t)}).registerHotKey("Undo",[lo.a,"KeyZ"],function(){t.getUndoManager().undo()}).registerHotKey("Redo",[lo.a,lo.b,"KeyZ"],function(){t.getUndoManager().redo()}),t.getUndoManager().setEventHandlerFactory(function(){return new co.a(n._inputManager.getGraphController(),n._inputManager.getGraphParser())}),t.getTooltipManager().addTooltip(I18N.toString("message.workspace.empty")).addTooltip("If you need help, try the '?' at the top.").addTooltip("Or you can choose to do nothing.").addTooltip("I can't do anything about that.").addTooltip("You really should consider doing something though, for the sake of both of us.").addTooltip("Of course, it is your free will.").addTooltip("You do you.").addTooltip("Please do something.").addTooltip("I need my job.").addTooltip(I18N.toString("message.workspace.empty")),t.getBroadcastManager().addMessageHandler(this._broadcastHandler),this.getMachineController().initialize(this)}},{key:"update",value:function(t){this._inputManager.update(this),this.getMachineController().update(this)}},{key:"destroy",value:function(t){this._inputManager.onSessionStop(t.getSession()),this.getMachineController().destroy(this)}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];So.a(t,e,function(){return t.getToolbarComponent().closeBar()})}},{key:"getInputManager",value:function(){return this._inputManager}},{key:"getInputController",value:function(){return this._inputManager.getInputController()}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._inputManager.getGraphController()}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getStepTracer",value:function(){return this._stepTracer}},{key:"getBroadcastHandler",value:function(){return this._broadcastHandler}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModuleName",value:function(){return"fsa2"}},{key:"getLocalizedModuleName",value:function(){return this._machineController.getMachineType()}},{key:"getApp",value:function(){return this._app}}])&&mi(e.prototype,n),r&&mi(e,r),t}();e.default=_i}])]);
//# sourceMappingURL=sourcemap/module_fsa2.bundle.js.map