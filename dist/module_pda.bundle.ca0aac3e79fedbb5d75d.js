(window.webpackJsonp=window.webpackJsonp||[]).push([[5],Array(183).concat([function(t,e,n){"use strict";var r=n(185);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,l(e).call(this,t))).x=r,n.y=o,n._label="",n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(o=[{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=this.x,t.y=this.y,t}},{key:"setNodeLabel",value:function(t){return this._label=t,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?u(l(e.prototype),"getHashString",this).call(this,t)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:u(l(e.prototype),"getHashString",this).call(this,t)+":"+this._label}}])&&i(n.prototype,o),c&&i(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(185);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,l(e).call(this,t)))._from=n,r._to=o,r._label="",r}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(o=[{key:"changeDestinationNode",value:function(t){this._to=t}},{key:"setEdgeFrom",value:function(t){if(!t)throw new Error("Source of edge cannot be null");return this._from=t,this}},{key:"setEdgeTo",value:function(t){return this._to=t,this}},{key:"setEdgeLabel",value:function(t){return this._label=t,this}},{key:"getEdgeDirection",value:function(){var t=this._from,e=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=e.y-t.y,i=e.x-t.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from;return t.x=e.x,t.y=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;t.x=e.x+r,t.y=e.y+r}else t.x=e.x+(n.x-e.x)/2,t.y=e.y+(n.y-e.y)/2;return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var e=this._from,n=this.getPlaceholderLength();t.x=e.x+n,t.y=e.y+n}else{var r=this._to;t.x=r.x,t.y=r.y}return t}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(t):"",r=this._to?this._to.getHashString?this._to.getHashString(t):"0":"";return u(l(e.prototype),"getHashString",this).call(this,t)+":"+n+","+r+"."+this._label}}])&&i(n.prototype,o),c&&i(n,c),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e}var e,n,o;return e=t,(n=[{key:"setGraphElementID",value:function(t){return this._id=t,this}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=t.y=0,t}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._id}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},,,function(t,e,n){"use strict";var r=n(217);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=a(this,u(e).call(this)),!t)throw new Error("Missing target type for graph element input handler");return n._targetType=t,n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"isTargetable",value:function(t,e,n,r){return r===this._targetType}},{key:"getTargetType",value:function(){return this._targetType}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"getTargetAt",value:function(t,e,n){return null}},{key:"getTargetType",value:function(){return null}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"applyLayout",value:function(t){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var e=function(t){var e=[],n=t.getStartNode();e.push(n);for(var r=0;r<e.length;r++){var o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s._from==e[r]&&(e.includes(s._to)||e.push(s._to))}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}(t);var n=t.getNodes().filter(function(t){return!e.includes(t)}),r=e.length,o=n.length,i=t.getNodes().length,a=Math.max(r,o);if(0!=i){var u;u=r<10&&o<10?a/4*50+30:a/5*40+30;var l=0;if(1==r){var s=2*Math.PI/i,c=!0,f=!1,p=void 0;try{for(var h,y=t.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.y=Math.sin(s*l+Math.PI)*u,v.x=Math.cos(s*l+Math.PI)*u,l+=1}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}else{var b=2*Math.PI/r,d=2*Math.PI/o;l=0;var g=!0,m=!1,_=void 0;try{for(var w,S=e[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var E=w.value;E.y=Math.sin(b*l+Math.PI)*u,E.x=Math.cos(b*l+Math.PI)*u,l+=1}}catch(t){m=!0,_=t}finally{try{g||null==S.return||S.return()}finally{if(m)throw _}}l=0;var k=!0,O=!1,C=void 0;try{for(var P,j=n[Symbol.iterator]();!(k=(P=j.next()).done);k=!0){var x=P.value;x.y=Math.sin(d*l+Math.PI)*(u+100),x.x=Math.cos(d*l+Math.PI)*(u+100),l+=1}}catch(t){O=!0,C=t}finally{try{k||null==j.return||j.return()}finally{if(O)throw C}}}}}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputHandlers=[]}var e,n,o;return e=t,(n=[{key:"addInputHandler",value:function(t){return this._inputHandlers.push(t),this}},{key:"removeInputHandler",value:function(t){var e=this._inputHandlers.indexOf(t);return e>=0&&this._inputHandlers.splice(e,1),this}},{key:"clearInputHandlers",value:function(){this._inputHandlers.length=0}},{key:"handleEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var u,l=this._inputHandlers[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=s[t];if("function"==typeof c&&c.apply(s,n))return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getInputHandlers",value:function(){return this._inputHandlers}},{key:"hasInputHandlers",value:function(){return this._inputHandlers.length>0}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t){if(t.getNodeCount()<=1)return[];var e=t.getEdges(),n=t.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,u=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.getEdgeFrom()===i){var p=n.indexOf(f.getEdgeTo());if(p>=0){var h=n.splice(p,1)[0];o.push(h)}}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return n}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(136),a=n.n(i),u=n(137),l=n.n(u),s=n(3),c=n(214),f=n(215);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var d=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=y(e).call(this,t))||"object"!==p(o)&&"function"!=typeof o?b(r):o).onZoomIn=n.onZoomIn.bind(b(b(n))),n.onZoomOut=n.onZoomOut.bind(b(b(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"onZoomIn",value:function(t){var e=this.props.viewport,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewport,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewport.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:l.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(c.a,null)),o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(f.a,null)),o.a.createElement("label",{className:l.a.zoom_label},t))}}])&&h(n.prototype,r),i&&h(n,i),e}(),g=n(138),m=n.n(g),_=n(216);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var C=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=E(e).call(this,t))||"object"!==w(o)&&"function"!=typeof o?O(r):o).onClick=n.onClick.bind(O(O(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,o.a.Component),n=e,(r=[{key:"onClick",value:function(t){this.props.viewport.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewport;return o.a.createElement(s.a,{id:this.props.id,className:m.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(_.a,null))}}])&&S(n.prototype,r),i&&S(n,i),e}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,T(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.viewportAdapter;return o.a.createElement("div",{id:this.props.id,className:a.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(d,{className:a.a.navbar_widget_container,viewport:t}),o.a.createElement(C,{className:a.a.navbar_widget,viewport:t}))}}])&&j(n.prototype,r),i&&j(n,i),e}();e.a=N},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"importFileData",value:function(t,e,n){return Promise.resolve(n)}},{key:"getDataType",value:function(){return"text"}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,l(e).call(this)))._app=t,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o),n=e,(r=[{key:"onParseSession",value:function(t,e){return e}},{key:"onPreImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){}},{key:"onPostImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"importFileData",value:function(t,e,n){var r,o=this._app,i=o.getSession(),a=i.getCurrentModule(),u=this.onParseSession(i,n);return this.onPreImportSession(i),this.onImportSession(i,u),r=t?t.substring(0,t.length-e.length):u._metadata.name,o.getSession().setProjectName(r),this.onPostImportSession(i),a}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r={__eventListeners:null,mixin:function(t){var e=t.prototype;Object.assign(e,r),delete e.mixin},registerEvent:function(t){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(t))throw new Error("Already registered event '"+t+"'");this.__eventListeners.set(t,[])},unregisterEvent:function(t){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.delete(t)}},addEventListener:function(t,e){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).push(e)},removeEventListener:function(t,e){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unknown event '"+t+"'");for(var n=this.__eventListeners.get(t),r=!1,o=n.length;o--;)n[o]===e&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+t+"'")}},clearEventListeners:function(t){if(this.__eventListeners)if(t){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).length=0}else this.__eventListeners.clear()},countEventListeners:function(t){return this.__eventListeners&&this.__eventListeners.has(t)?this.__eventListeners.get(t).length:0},getEventListeners:function(t){return this.__eventListeners?this.__eventListeners.get(t):null},on:function(t,e){this.addEventListener(t,e)},once:function(t,e){var n=this;this.addEventListener(t,function r(){try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e.apply(null,i)}finally{n.removeEventListener(t,r)}})},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");o=this.__eventListeners.get(t);for(var i=null,a=o.length;a--;){try{i=o[a].apply(null,n)}catch(t){continue}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[t].concat(n))}},onEventProcessed:function(t){}};e.a=r},function(t,e,n){"use strict";var r=n(184),o=n(8);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,s(e).call(this,t,n,null)))._quad={radians:0,length:0,coords:{x:0,y:0}},r.changeDestinationNode(o),r}var n,i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["a"]),n=e,(i=[{key:"setQuadraticRadians",value:function(t){return this._quad.radians=t,this}},{key:"setQuadraticLength",value:function(t){return this._quad.length=t,this}},{key:"setQuadraticByCoords",value:function(t,e){var n=this._from,r=this._to,o=n.x,i=n.y,a=r.x-o,u=r.y-i,l=o+a/2,s=i+u/2,c=Math.atan2(-u,a);a=t-l,u=e-s;var f=Math.PI,p=f/2,h=Math.atan2(u,a)+c,y=Math.sqrt(a*a+u*u);y<0&&(y=0);var v=h- -p,b=h-p,d=f/20;return Math.abs(y)<8?(h=0,y=0):v<d&&v>-d?h=-p:-b<d&&-b>-d&&(h=p),this._quad.radians=h,this._quad.length=y,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var t=this._from,e=this._to,n=this._quad.coords;return null==t||null==e?(n.x=0,n.y=0):Object(o.a)(t.x,t.y,e.x,e.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var t=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();t=Math.atan2(n.y,n.x)+Math.PI/2}else t=l(s(e.prototype),"getEdgeDirection",this).call(this);return t}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize();return t.x=e.x+r*a,t.y=e.y+i*a,t}if(n.getNodeSize&&this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var u=this.getQuadraticAsCoords(),l=t.x+u.x,s=t.y+u.y;return Object(o.a)(e.x,e.y,l,s,e.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,t),t.x+=e.x,t.y+=e.y,t}return Object(o.a)(e.x,e.y,n.x,n.y,e.getNodeSize(),0,t),t.x+=e.x,t.y+=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize()+this.getPlaceholderLength()/2;return t.x=e.x+r*a,t.y=e.y+i*a,t}if(Object(o.b)(e.x,e.y,n.x,n.y,t),this.isQuadratic()){var u=this.getQuadraticAsCoords();t.x+=u.x,t.y+=u.y}return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize()+this.getPlaceholderLength();return t.x=e.x+r*a,t.y=e.y+i*a,t}if(n.getNodeSize){if(this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var u=this.getQuadraticAsCoords(),l=t.x+u.x,s=t.y+u.y;return Object(o.a)(n.x,n.y,l,s,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,t),t.x+=n.x,t.y+=n.y,t}return Object(o.a)(n.x,n.y,e.x,e.y,n.getNodeSize(),0,t),t.x+=n.x,t.y+=n.y,t}return n}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?l(s(e.prototype),"getHashString",this).call(this,t)+":"+this._quad.radians+","+this._quad.length:l(s(e.prototype),"getHashString",this).call(this,t)}},{key:"getSelfLoopHeight",value:function(){return this._from.getNodeSize()}},{key:"formatAsSelfLoop",value:function(){this.setQuadraticRadians(-Math.PI/2),this.setQuadraticLength(this._from.getNodeSize()+this.getSelfLoopHeight())}},{key:"formatAsPlaceholder",value:function(t){if(t){var e=this._from.x-t.x,n=this._from.y-t.y,r=-Math.atan2(e,n)-Math.PI/2;this._quad.radians=r}else this._quad.radians=0}},{key:"changeDestinationNode",value:function(t){var n=this._to;n!==t&&(l(s(e.prototype),"changeDestinationNode",this).call(this,t),this.isPlaceholder()?this.formatAsPlaceholder(n):this.isSelfLoop()&&this.formatAsSelfLoop())}}])&&a(n.prototype,i),f&&a(n,f),e}();e.a=f},,function(t,e,n){"use strict";var r=n(183),o=n(184),i=n(8);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodeClass=e,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map}var e,n,u;return e=t,(n=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,i=!0,a=!1,u=void 0;try{for(var l,s=this._nodeMapping.values()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,f=c.x,p=c.y,h=c.getNodeSize();h>o&&(o=h),t=Math.min(t,f),n=Math.max(n,f),e=Math.min(e,p),r=Math.max(r,p)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}t-=o,e-=o,n+=o,r+=o;var y=Number.MAX_VALUE,v=Number.MAX_VALUE,b=Number.MIN_VALUE,d=Number.MIN_VALUE,g={x:0,y:0},m={x:0,y:0},_={x:0,y:0},w=!0,S=!1,E=void 0;try{for(var k,O=this._edgeMapping.values()[Symbol.iterator]();!(w=(k=O.next()).done);w=!0){var C=k.value;C.getStartPoint(g),C.getEndPoint(m),C.getCenterPoint(_);var P=g.x,j=g.y,x=m.x,T=m.y,M=_.x,N=_.y;y=Math.min(y,P,x,M),b=Math.max(b,P,x,M),v=Math.min(v,j,T,N),d=Math.max(d,j,T,N)}}catch(t){S=!0,E=t}finally{try{w||null==O.return||O.return()}finally{if(S)throw E}}var I={minX:Math.min(t,y),minY:Math.min(e,v),maxX:Math.max(n,b),maxY:Math.max(r,d),width:0,height:0};return I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I}},{key:"getHashCode",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="",n=!0,r=!1,o=void 0;try{for(var a,u=this._nodeMapping.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){e+=a.value.getHashString(t)+","}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}e+="|";var l=!0,s=!1,c=void 0;try{for(var f,p=this._edgeMapping.values()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){e+=f.value.getHashString(t)+","}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}return Object(i.e)(e)}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||Object(i.c)(),t,e))}},{key:"addNode",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._nodeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteNode",value:function(t){var e=t.getGraphElementID();if(this._nodeMapping.has(e)){this._nodeMapping.delete(e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=this.getEdges()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.getEdgeFrom()===t?n.push(l):l.getEdgeTo()===t&&l.setEdgeTo(null)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}for(var s=0;s<n.length;s++){var c=n[s];this.deleteEdge(c)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(t){return this._nodeMapping.has(t)?this._nodeMapping.get(t):null}},{key:"getNodesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(t){return t}},{key:"createEdge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||Object(i.c)(),t,e))}},{key:"addEdge",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._edgeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteEdge",value:function(t){var e=t.getGraphElementID();this._edgeMapping.has(e)&&this._edgeMapping.delete(e)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(t){return this._edgeMapping.has(t)?this._edgeMapping.get(t):null}},{key:"getEdgesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getEdges()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getEdgeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}])&&a(e.prototype,n),u&&a(e,u),t}();e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function r(t,e){o(t,"data:text/plain; charset=utf-8,"+encodeURIComponent(e))}function o(t,e){var n=document.createElement("a"),r=e.indexOf(";");e=e.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+t+";"+e.substring(r+1),n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"isTargetable",value:function(t,e,n,r){return!1}},{key:"onAction",value:function(t,e,n,r){return!1}},{key:"onDblAction",value:function(t,e,n,r){return!1}},{key:"onDragStart",value:function(t,e,n,r){return!1}},{key:"onDragMove",value:function(t,e,n,r){return!1}},{key:"onDragStop",value:function(t,e,n,r){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e?t.getUndoManager().captureEvent():(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(130),a=n.n(i),u=n(193);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputAdapter=e,this._element=n,this._viewportAdapter=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}}var e,n,r;return e=t,(n=[{key:"setPosition",value:function(t,e){return this._x=t,this._y=e,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(t,e){this._inputpos.x=t,this._inputpos.y=e}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var t=this._inputpos,e=t.x-this._x,n=t.y-this._y;return e*e+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&l(e.prototype,n),r&&l(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1}var e,n,r;return e=t,(n=[{key:"setElement",value:function(t){return this._element=t,this}},{key:"setMinScale",value:function(t){return this._minScale=t,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(t){return this._maxScale=t,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(t){return this._offsetDamping=t,this}},{key:"update",value:function(){var t=this._nextOffsetX-this._offsetX;this._offsetX+=t*this._offsetDamping;var e=this._nextOffsetY-this._offsetY;this._offsetY+=e*this._offsetDamping}},{key:"transformScreenToView",value:function(t,e){if(!this._element)return{x:t-this._offsetX,y:e-this._offsetY};var n=this._element.getScreenCTM();return{x:(t-n.e)/n.a-this._offsetX,y:(e-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=t,this._nextOffsetY=this._offsetY=e):(this._nextOffsetX=t,this._nextOffsetY=e)}},{key:"addOffset",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=t,this._offsetY+=e,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=t,this._nextOffsetY+=e)}},{key:"setScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,t))}},{key:"addScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,this._scaleFactor+t))}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}])&&c(e.prototype,n),r&&c(e,r),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=600,m=600,_=1/300,w=16,S=324,E=function(t){function e(){var t,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(r=v(e).call(this))||"object"!==p(r)&&"function"!=typeof r?d(n):r)._contexts=[],t._activeDragHandler=null,t._element=null,t._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},t._pointer=null,t._viewportAdapter=new f,t._dragging=!1,t._altinput=!1,t._holdInputDelay=g,t._dblInputDelay=m,t._scrollSensitivity=_,t._minTapRadius=16*w,t._draggingRadiusSqu=w+S,t._prevEmptyInput=!1,t._prevEmptyTime=0,t._prevEmptyX=0,t._prevEmptyY=0,t.onContextMenu=t.onContextMenu.bind(d(d(t))),t.onMouseDown=t.onMouseDown.bind(d(d(t))),t.onMouseMove=t.onMouseMove.bind(d(d(t))),t.onTouchStart=t.onTouchStart.bind(d(d(t))),t.onWheel=t.onWheel.bind(d(d(t))),t.onMouseDownThenMove=t.onMouseDownThenMove.bind(d(d(t))),t.onMouseDownThenUp=t.onMouseDownThenUp.bind(d(d(t))),t.onTouchStartThenMove=t.onTouchStartThenMove.bind(d(d(t))),t.onTouchStartThenEnd=t.onTouchStartThenEnd.bind(d(d(t))),t.onDelayedInputDown=t.onDelayedInputDown.bind(d(d(t))),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,u["a"]),n=e,(r=[{key:"bindContext",value:function(t){if(!(t instanceof u.a))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.unshift(t),this}},{key:"bindContextAsLast",value:function(t){if(!(t instanceof u.a))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.push(t),this}},{key:"unbindContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this._contexts.indexOf(t);return e>=0?(this._contexts.splice(e,1),t):null}return this._contexts.shift()}},{key:"clearContexts",value:function(){this._contexts.length=0}},{key:"hasContexts",value:function(){return this._contexts.length>0}},{key:"getCurrentContext",value:function(){return this._contexts.length>0?this._contexts[this._contexts.length-1]:this}},{key:"initialize",value:function(t){if(!(t instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewportAdapter.setElement(this._element=t),this._pointer=new s(this,this._element,this._viewportAdapter),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._element&&this._viewportAdapter.update()}},{key:"handleEvent",value:function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=!0,u=!1,l=void 0;try{for(var s,c=this._contexts[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,p=f.handleEvent.apply(f,[t].concat(o));if(p)return p}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return(n=y(v(e.prototype),"handleEvent",this)).call.apply(n,[this,t].concat(o))}},{key:"onMouseDown",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=t.ctrlKey?2:t.button;return this.onInputDown(t.clientX,t.clientY,n)&&(e._mousemove=this.onMouseDownThenMove,e._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",e._mousemove),document.addEventListener("mouseup",e._mouseup)),!1}},{key:"onMouseMove",value:function(t){var e=this._viewportAdapter.transformScreenToView(t.clientX,t.clientY),n=this._pointer;n.setPosition(e.x,e.y),this.handleEvent("onMoveInputEvent",n)&&(t.stopPropagation(),t.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(t){return t.stopPropagation(),t.preventDefault(),this.onInputMove(t.clientX,t.clientY),!1}},{key:"onMouseDownThenUp",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;return e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null),this.onInputUp(t.clientX,t.clientY),!1}},{key:"onTouchStart",value:function(t){if(1==t.changedTouches.length){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(e._touchmove=this.onTouchStartThenMove,e._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",e._touchmove),document.addEventListener("touchend",e._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches[0];return this.onInputMove(e.clientX,e.clientY),!1}},{key:"onContextMenu",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"onWheel",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._pointer,n=t.deltaY*this._scrollSensitivity,r=this._viewportAdapter.getScale(),o=r+n;return this.handleEvent("onZoomChange",e,o,r)||this._viewportAdapter.setScale(o),!1}},{key:"onInputDown",value:function(t,e,n){var r=this._cursor,o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==n,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(t,e){var n=this._pointer,r=this._viewportAdapter.transformScreenToView(t,e);if(n.setPosition(r.x,r.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(n);else if(n.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=n.getInputEventPosition(),i=this.handleEvent("onDragStart",n,o.x,o.y);i?this._activeDragHandler=i:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(t,e){var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var a=t-this._prevEmptyX,u=e-this._prevEmptyY,l=a*a+u*u,s=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&l<this._minTapRadius&&s<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=t,this._prevEmptyY=e)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var t=this._pointer,e=this._cursor;e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=e._timer;n&&(clearTimeout(n),e._timer=null),t.endInput(),this.handleEvent("onPostInputEvent",t)}},{key:"getContexts",value:function(){return this._contexts}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}])&&h(n.prototype,r),o&&h(n,o),e}(),k=n(186);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=.4,M=.1,N=10,I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=P(this,j(e).call(this,t)))._ref=o.a.createRef(),n._inputAdapter=new E,n._inputAdapter.getViewportAdapter().setMinScale(M).setMaxScale(N).setOffsetDamping(T),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,o.a.Component),n=e,(r=[{key:"addInputHandler",value:function(t){if(!(t instanceof k.a))throw new Error("input handler must be an instanceof AbstractInputHandler");return this._inputAdapter.addInputHandler(t),this}},{key:"componentDidMount",value:function(){this._inputAdapter.initialize(this._ref.current)}},{key:"componentWillUnmount",value:function(){this._inputAdapter.destroy()}},{key:"componentDidUpdate",value:function(){this._inputAdapter.update()}},{key:"getSVGTransformString",value:function(){var t=this._inputAdapter.getViewportAdapter();return"translate("+t.getOffsetX()+" "+t.getOffsetY()+")"}},{key:"getSVGViewBoxString",value:function(t){var e=this._inputAdapter.getViewportAdapter(),n=t*Math.max(Number.MIN_VALUE,e.getScale()),r=n/2;return-r+" "+-r+" "+n+" "+n}},{key:"getSVGElement",value:function(){return this._ref.current}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"render",value:function(){var t=this.getSVGViewBoxString(this.props.viewSize||300),e=this.getSVGTransformString();return o.a.createElement("svg",{ref:this._ref,id:this.props.id,className:a.a.viewport_component+" "+this.props.className,style:this.props.style,viewBox:t},o.a.createElement("g",{transform:e},this.props.children))}}])&&C(n.prototype,r),i&&C(n,i),e}();e.a=I},,,function(t,e,n){"use strict";var r=n(195);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for machine controller");if(!n)throw new Error("Missing machine builder for machine controller");this._module=e,this._machineBuilder=n}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){this._machineBuilder.initialize(t)}},{key:"destroy",value:function(t){this._machineBuilder.destroy(t)}},{key:"update",value:function(t){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(184);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"getDefaultLabel",value:function(t){return t instanceof r.a?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(t){return t instanceof r.a?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&o(e.prototype,n),i&&o(e,i),t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Math.PI/6,f="forward",p=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-c))+" "+(t.position.y-t.length*Math.cos(t.angle-c))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+c))+" "+(t.position.y-t.length*Math.cos(t.angle+c)),stroke:t.color,fill:"none"}))},h=function(t){return o.a.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map(function(e,n){return o.a.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle",fill:t.color},e)}))},y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.directed||"undirected",r=n===f||"both"===n?this.props.forwardEndpointRenderer||this.props.endpointRenderer||p:null,i="backward"===n||"both"===n?this.props.backwardEndpointRenderer||this.props.endpointRenderer||p:null,a=this.props.labelRenderer||h,u=this.props.from,l=this.props.to,s=this.props.center,c=this.props.label||"",y=this.props.direction||0,v=this.props.color||"#000000",b=!1,d=null,g=u.x-l.x,m=u.y-l.y,_=u.x-s.x,w=u.y-s.y,S=Math.atan2(m,g),E=Math.atan2(w,_);if(Math.abs(S-E)<=.01)e=Math.atan2(s.x-l.x,s.y-l.y)+Math.PI,t=Math.atan2(s.x-u.x,s.y-u.y)+Math.PI,d="L "+l.x+" "+l.y,b=!1;else{var k=(4*s.x-u.x-l.x)/2,O=(4*s.y-u.y-l.y)/2;e=Math.atan2(k-l.x,O-l.y)+Math.PI,t=Math.atan2(k-u.x,O-u.y)+Math.PI,d="Q "+k+" "+O+" "+l.x+" "+l.y,b=O>s.y+4}return o.a.createElement("g",null,o.a.createElement("path",{d:"M "+u.x+" "+u.y+" "+d,stroke:v,fill:"none"}),r&&o.a.createElement(r,{position:l,angle:e,length:10,color:v}),i&&o.a.createElement(i,{position:u,angle:t,length:10,color:v}),a&&o.a.createElement(a,{position:s,labels:c.split("\n"),direction:y,reverse:b,color:v}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.b=y},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=u(e).call(this,t))||"object"!==i(o)&&"function"!=typeof o?s(r):o).ref=null,n._timeout=null,n.onMouseDown=n.onMouseDown.bind(s(s(n))),n.onAnyMouseUp=n.onAnyMouseUp.bind(s(s(n))),n}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()},50)}},{key:"render",value:function(){var t=this;return o.a.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}])&&a(n.prototype,r),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(132),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.panel_divider+" "+this.props.className,style:this.props.style})}}])&&l(n.prototype,r),i&&l(n,i),e}();e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}();e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(133),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=s(e).call(this,t))||"object"!==u(o)&&"function"!=typeof o?f(r):o).state={checked:t.initial||!1},n.onChange=n.onChange.bind(f(f(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),n=e,(r=[{key:"setChecked",value:function(t){this.setState({checked:t})}},{key:"isChecked",value:function(){return this.state.checked}},{key:"onChange",value:function(t){var e=t.target.checked;this.state.checked!==e&&this.setState({checked:e})}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.checkbox_container+" "+this.props.className,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:this.props.id+"-checkbox",name:this.props.id+"-checkbox",value:this.props.value,checked:this.state.checked,disabled:this.props.disabled,onChange:this.onChange}),o.a.createElement("label",{htmlFor:this.props.id+"-checkbox"},this.props.title))}}])&&l(n.prototype,r),i&&l(n,i),e}();e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(134),a=n.n(i),u=n(3),l=n(31),s=n(212);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var v=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=p(e).call(this,t))||"object"!==c(o)&&"function"!=typeof o?y(r):o).onChange=n.onChange.bind(y(y(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o.a.Component),n=e,(r=[{key:"onChange",value:function(t){this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var t=this,e=this.props.mode||0;return o.a.createElement("div",{id:this.props.id,className:a.a.tray_container+" "+this.props.className,style:this.props.style},o.a.createElement(u.a,{className:a.a.tray_button+(0===e?" active ":""),onClick:function(){return t.onChange(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(l.a,null)),o.a.createElement(u.a,{className:a.a.tray_button+(1===e?" active ":""),onClick:function(){return t.onChange(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(s.a,null)))}}])&&f(n.prototype,r),i&&f(n,i),e}();e.a=v},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(135),a=n.n(i),u=n(213);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=c(e).call(this,t))||"object"!==l(o)&&"function"!=typeof o?p(r):o).ref=null,n.state={forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(p(p(n))),n.onMouseLeave=n.onMouseLeave.bind(p(p(n))),n.onClick=n.onClick.bind(p(p(n))),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(p(p(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"onMouseEnter",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!0)}},{key:"onMouseLeave",value:function(t){this.state.forceActive||this.props.inputController.setTrashMode(!1)}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({forceActive:!1}),this.props.app.getSession().getCurrentModule().clear(this.props.app,!0),this.props.inputController.setTrashMode(!1)):this.setState(function(t,n){var r=!t.forceActive;return n.inputController.setTrashMode(r),e._doubleTapTimeout=setTimeout(function(){e._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{forceActive:r}})}},{key:"onAnyMouseDownNotConsumed",value:function(t){this.state.forceActive&&this.ref!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.props.inputController.setTrashMode(!1),this.setState({forceActive:!1}))}},{key:"render",value:function(){var t=this,e=this.props.inputController,n=this.props.graphController,r=e.getInputAdapter(),i=e.isTrashMode(),l=!i&&(n.getGraph().isEmpty()||r.isUsingTouch()&&r.isDragging());return o.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:a.a.trash_container+(i?" active ":"")+(l?" hide ":"")+" "+this.props.className,style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(u.a,null))}}])&&s(n.prototype,r),i&&s(n,i),e}();e.a=h},function(t,e,n){"use strict";var r=n(194);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,u(e).call(this)))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"node"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){var o=t.getSelectionBox();return t.isTrashMode()?(e.prevX=r.x,e.prevY=r.y,o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0):(t.isMoveMode()&&e.openLabelEditor(r,r.getNodeLabel()),!1)}},{key:"onDragStart",value:function(t,e,n,r){if(t.isMoveMode())e.prevX=r.x,e.prevY=r.y;else{var o=t.getPicker(),i=e.getGraph().createEdge(r,n);i.setEdgeLabel(e.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(i,"endpoint"),t.isNewEdge=!0;var a=i.getQuadratic();e.prevQuad.radians=a.radians,e.prevQuad.length=a.length,e.prevEdgeTo=null}return!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t._snapToGrid){var l=t._snapSize;a=Math.round(a/l)*l,u=Math.round(u/l)*l}return o.hasSelection()?e.moveMultipleNodesTo(n,o.getSelection(i),a,u):e.moveNodeTo(n,r,a,u),!0}},{key:"onDragStop",value:function(t,e,n,r){var o=t.getSelectionBox(),i=e.getGraph(),a=n.x,u=n.y;if(t.isTrashMode())return o.hasSelection()?e.deleteSelectedNodes(r):e.deleteTargetNode(r),!0;if(o.hasSelection()){var l=a-e.prevX,s=u-e.prevY;e.onGraphIntentMoveAllNodes(o.getSelection(i),l,s)}else e.onGraphIntentMoveNode(r,a,u,e.prevX,e.prevY);return!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189),o=n(183);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=u(this,l(e).call(this,"initial"))).ghostInitialMarker=null,t}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(i=[{key:"onDragStart",value:function(t,e,n,r){return this.ghostInitialMarker=n,!0}},{key:"onDragMove",value:function(t,e,n,r){var o=t.getPicker(),i=e.getGraph(),a=n.x,u=n.y,l=o.getPickHandler("node").getTargetAt(i,a,u)||n;return this.ghostInitialMarker=l,!0}},{key:"onDragStop",value:function(t,e,n,r){var i=e.getGraph();if(this.ghostInitialMarker instanceof o.a){var a=i.getStartNode();i.setStartNode(this.ghostInitialMarker),e.applyAutoRename(),e.onGraphIntentChangeInitial(this.ghostInitialMarker,a)}return this.ghostInitialMarker=null,!0}}])&&a(n.prototype,i),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"edge"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.openLabelEditor(r,r.getEdgeLabel()),!0}},{key:"onDragStart",value:function(t,e,n,r){if(r.isPlaceholder())return!1;var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEdgeTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){return t.isTrashMode()?e.deleteTargetEdge(r):e.onGraphIntentMoveEdge(r,r.getQuadratic(),e.prevQuad),!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189),o=n(183);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,"endpoint"))}var n,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["a"]),n=e,(i=[{key:"onAction",value:function(t,e,n,r){return!!t.isTrashMode()&&(e.deleteTargetEdge(r),!0)}},{key:"onDragStart",value:function(t,e,n,r){var o=r.getQuadratic();return e.prevQuad.radians=o.radians,e.prevQuad.length=o.length,e.prevEdgeTo=r.getEdgeTo(),t.isNewEdge=!1,!0}},{key:"onDragMove",value:function(t,e,n,r){return e.moveEndpointTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(t,e,n,r){var i=e.getGraph();if(t.isTrashMode())return e.deleteTargetEdge(r),!0;if(r.getEdgeTo()instanceof o.a){var a=i.formatEdge(r);return a!==r?(e.openLabelEditor(a,a.getEdgeLabel()),i.deleteEdge(r),!0):(t.isNewEdge?e.openLabelEditor(a,"",function(t,n){return e.onGraphIntentFinishEdge(t)}):e.openLabelEditor(r,r.getEdgeLabel()),t.isNewEdge?(t.isNewEdge=!1,e.onGraphIntentCreateEdge(r)):null!==e.prevEdgeTo&&e.onGraphIntentChangeDestination(r,r.getEdgeTo(),e.prevEdgeTo,e.prevQuad),!0)}return t.shouldDestroyPointlessEdges?(t.isNewEdge?i.deleteEdge(r):e.deleteTargetEdge(r),!0):(r.changeDestinationNode(null),r.getEdgeLabel().length<=0&&e.openLabelEditor(r,r.getEdgeLabel()),!0)}}])&&a(n.prototype,i),c&&a(n,c),e}();e.a=c},function(t,e,n){"use strict";var r=n(217);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"isTargetable",value:function(t,e,n,r){return"none"===r}},{key:"onDblAction",value:function(t,e,n,r){var o=n.x,i=n.y;if(t._snapToGrid){var a=t._snapSize;o=Math.round(o/a)*a,i=Math.round(i/a)*a}return e.createNode(o,i),!0}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(189);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this,"node"))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"onAction",value:function(t,e,n,r){return!t.isMoveMode()&&(e.toggleNode(r),!0)}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,u=t.getNodes()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,s=l.getNodeSize(),c=e-l.x,f=n-l.y;if(c*c+f*f<s*s)return l}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return null}},{key:"getTargetType",value:function(){return"node"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s.getCenterPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<144)return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getTargetType",value:function(){return"edge"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s.getEndPoint(r);var c=e-r.x,f=n-r.y;if(c*c+f*f<36)return s}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getTargetType",value:function(){return"endpoint"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";var r=n(190);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).call(this))}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(o=[{key:"getTargetAt",value:function(t,e,n){var r=t.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=e-(r.x+i),u=n-r.y;return a*a+u*u<144?r:null}},{key:"getTargetType",value:function(){return"initial"}}])&&i(n.prototype,o),s&&i(n,s),e}();e.a=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=u(this,l(e).call(this)),!t)throw new Error("Missing module for input controller");if(!n)throw new Error("Missing inputAdapter for input controller");return r._module=t,r._inputAdapter=n,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o),n=e,(r=[{key:"initialize",value:function(t){}},{key:"destroy",value:function(t){}},{key:"update",value:function(t){}},{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){return!1}},{key:"onDragStop",value:function(t){return!1}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getModule",value:function(){return this._module}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]}var e,n,r;return e=t,(n=[{key:"getSelectionBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var e=this._boundingBox,n=Math.max(e.toX,e.fromX),r=Math.max(e.toY,e.fromY),o=Math.min(e.toX,e.fromX),i=Math.min(e.toY,e.fromY);this.clearSelection(),function(t,e,n,r,o,i){var a=Math.min(e,r),u=Math.min(n,o),l=Math.max(e,r),s=Math.max(n,o),c=!0,f=!1,p=void 0;try{for(var h,y=t.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.x>=a&&v.x<l&&v.y>=u&&v.y<s&&i.push(v)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}(t,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this._boundingBox.visible}}])&&f(e.prototype,n),r&&f(e,r),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType="",this._prevX=0,this._prevY=0,this._pickHandlers=new Map}var e,n,r;return e=t,(n=[{key:"addPickHandler",value:function(t){return this._pickHandlers.set(t.getTargetType(),t),this}},{key:"removePickHandler",value:function(t){return this._pickHandlers.delete(t.getTargetType()),this}},{key:"getPickHandler",value:function(t){return this._pickHandlers.get(t)}},{key:"setInitialTarget",value:function(t,e){this.initialTarget=t,this.initialTargetType=e}},{key:"updateHoverTarget",value:function(t,e,n){this._prevX===e&&this._prevY===n||(this._prevX=e,this._prevY=n,this.updateTarget(t,e,n),this.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"updateInitialTarget",value:function(t,e,n){this.updateTarget(t,e,n),this.setInitialTarget(this.target,this.targetType)}},{key:"updateTarget",value:function(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,u=this._pickHandlers.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(this.target=l.getTargetAt(t,e,n),this.target)return void(this.targetType=l.getTargetType())}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return this.target=null,this.targetType="none",this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"isTarget",value:function(t){return this.target==t}},{key:"getPickHandlers",value:function(){return this._pickHandlers.values()}}])&&h(e.prototype,n),r&&h(e,r),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=!0,S=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=d(this,m(e).call(this,t,n)))._picker=new y,r._selectionBox=new p,r._graphController=null,r.isNewEdge=!1,r.shouldDestroyPointlessEdges=w,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r._snapToGrid=!1,r._snapSize=48,r._inputHandlers=[],r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,c),n=e,(r=[{key:"addInputHandler",value:function(t){return this._inputHandlers.push(t),this}},{key:"removeInputHandler",value:function(t){return this._inputHandlers.splice(this._inputHandlers.indexOf(t),1),this}},{key:"initialize",value:function(t){g(m(e.prototype),"initialize",this).call(this,t),this._module=t,this._graphController=t.getGraphController()}},{key:"destroy",value:function(t){g(m(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){g(m(e.prototype),"update",this).call(this,t);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();r.updateHoverTarget(n,o,i)}},{key:"setDisabled",value:function(t){this._disabled=t}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onPreInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.updateInitialTarget(n,t.x,t.y);var o=r.initialTarget,i=r.initialTargetType;return this._selectionBox.hasSelection()&&("node"==i&&this._selectionBox.isTargetInSelection(o)||this._selectionBox.clearSelection()),g(m(e.prototype),"onPreInputEvent",this).call(this,t)}},{key:"onInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onInputEvent",this).call(this,t)}},{key:"onDblInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onDblInputEvent",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDblAction(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDblInputEvent",this).call(this,t)}},{key:"onDragStart",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragStart",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isNewEdge=!1,this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStart(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragStart",this).call(this,t)}},{key:"onDragMove",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragMove",this).call(this,t);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragMove(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragMove",this).call(this,t)}},{key:"onDragStop",value:function(t){if(this._disabled)return g(m(e.prototype),"onDragStop",this).call(this,t);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),t.x,t.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,u=!1,l=void 0;try{for(var s,c=this._inputHandlers[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.isTargetable(this,t,o,i)&&f.onDragStop(this,n,t,o))return!0}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return g(m(e.prototype),"onDragStop",this).call(this,t)}},{key:"onPostInputEvent",value:function(t){if(this._disabled)return g(m(e.prototype),"onPostInputEvent",this).call(this,t);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,t.x,t.y),g(m(e.prototype),"onPostInputEvent",this).call(this,t)}},{key:"setTrashMode",value:function(t){this._trashMode=t,t?this._module.getApp()._drawer.setViewportColor("var(--color-viewport-error)"):this._module.getApp()._drawer.setViewportColor(null)}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(t){this._swapMouseScheme=!t}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var t=this._inputAdapter.isAltInput();return this._swapMouseScheme?!t:t}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}},{key:"getSelectionBox",value:function(){return this._selectionBox}},{key:"getInputHandlers",value:function(){return this._inputHandlers}}])&&b(n.prototype,r),o&&b(n,o),e}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(e,n,r,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for graph controller");if(!n)throw new Error("Missing graph for graph controller");if(!r)throw new Error("Missing graph labeler for graph controller");if(!o)throw new Error("Missing graph parser for graph controller");this._module=e,this._graph=n,this._labeler=r,this._parser=o}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){}},{key:"destroy",value:function(t){}},{key:"update",value:function(t){}},{key:"getGraphParser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"JSON",e=this._parser;if(e&&t in e)return e[t];throw new Error("Unsupported type for graph parser '"+t+"'")}},{key:"getGraphLabeler",value:function(){return this._labeler}},{key:"getGraph",value:function(){return this._graph}},{key:"getModule",value:function(){return this._module}}])&&E(e.prototype,n),r&&E(e,r),t}(),O=n(200),C=n(184),P=n(192);function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cachedGraphHash=0,this._refreshTicks=e,this._elapsedTicks=1/0,this._listeners=[]}var e,n,r;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(t){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var e=t.getHashCode(!1);if(e!==this._cachedGraphHash){this._cachedGraphHash=e;var n=!0,r=!1,o=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){(0,i.value)(t)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}}}])&&j(e.prototype,n),r&&j(e,r),t}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var D=!0,F=30,B=function(t){function e(t,n,r,o){var i,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(i=!(u=I(e).call(this,t,n,r,o))||"object"!==T(u)&&"function"!=typeof u?A(a):u).inputController=null,i._graphChangeHandler=new x(F),i.getGraphLabeler().setGraphController(A(A(i))),i.prevQuad={radians:0,length:0,x:0,y:0},i.prevEdgeTo=null,i.prevX=0,i.prevY=0,i.shouldAutoLabel=D,i.registerEvent("tryCreateWhileTrash"),i}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,k),n=e,(r=[{key:"initialize",value:function(t){N(I(e.prototype),"initialize",this).call(this,t),this._module=t,this.inputController=t.getInputController()}},{key:"destroy",value:function(t){N(I(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){N(I(e.prototype),"update",this).call(this,t),this._graphChangeHandler.update(this._graph)}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"applyAutoLayout",value:function(){P.a.applyLayout(this.getGraph()),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labeler,e=this._graph;if(!e.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeCustom()||u.setNodeLabel("")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,s=!1,c=void 0;try{for(var f,p=e.getNodes()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;h.getNodeCustom()||h.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}}},{key:"onGraphIntentImport",value:function(){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentCreateEdge",value:function(t){}},{key:"onGraphIntentFinishEdge",value:function(t){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveEdge",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeDestination",value:function(t,e,n,r){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentChangeInitial",value:function(t,e){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveNode",value:function(t,e,n,r,o){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentMoveAllNodes",value:function(t,e,n){this.getModule().getApp().getUndoManager().captureEvent()}},{key:"onGraphIntentDeleteNodes",value:function(t,e,n,r){this.shouldAutoLabel&&this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(t,e){t.setNodeLabel(e),t.setNodeCustom(!0),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this.getGraph().createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this.getModule().getApp().getUndoManager().captureEvent(),n}},{key:"toggleNode",value:function(t){var e=!t.getNodeAccept();t.setNodeAccept(e),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteSelectedNodes",value:function(t){var e=this.inputController.getSelectionBox(),n=e.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this.getGraph().deleteNode(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}e.clearSelection(),this.onGraphIntentDeleteNodes(t,n,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNode",value:function(t){this.getGraph().deleteNode(t),this.onGraphIntentDeleteNodes(t,[t],this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.deleteNode(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.onGraphIntentDeleteNodes(t[0],t,this.prevX,this.prevY),this.getModule().getApp().getUndoManager().captureEvent()}}},{key:"deleteTargetEdge",value:function(t){this.getGraph().deleteEdge(t),this.getModule().getApp().getUndoManager().captureEvent()}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(t,e,n,r){var o=e.getNodeSize(),i=!0,a=!1,u=void 0;try{for(var l,s=this.getGraph().getNodes()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(e!==c){var f=n-c.x,p=r-c.y,h=Math.atan2(p,f),y=2*o,v=c.x+Math.cos(h)*y-n,b=c.y+Math.sin(h)*y-r;f*f+p*p<o*o*4&&(n+=v,r+=b)}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}e.x=n,e.y=r}},{key:"moveMultipleNodesTo",value:function(t,e,n,r){var o=t.getInputEventPosition(),i=n-o.x,a=r-o.y,u=!0,l=!1,s=void 0;try{for(var c,f=e[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;p.x+=i,p.y+=a}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}t.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(t,e,n,r){e.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(t,e,n,r){var o=this.inputController.getPicker().getPickHandler("node").getTargetAt(this.getGraph(),n,r)||t;if(e.changeDestinationNode(o),e.isSelfLoop()){var i=e.getEdgeFrom(),a=i.x-n,u=i.y-r,l=Math.atan2(u,a)+Math.PI;e.setQuadraticRadians(l)}else e.setQuadraticRadians(this.prevQuad.radians).setQuadraticLength(this.prevQuad.length)}},{key:"openLabelEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getModule().getInputManager().getLabelEditorManager().getLabelEditorComponent(),i=n;o.openEditor(t,n,function(t,n){(!n||n.length<=0)&&t instanceof C.a?e._graph.deleteEdge(t):(t instanceof C.a?t.setEdgeLabel(n):t.setNodeLabel(n),(!i||i.length>0&&n!==i)&&e.getModule().getApp().getUndoManager().captureEvent(),r&&r(t,n))},function(t){(!i||i.length<=0)&&t instanceof C.a&&e._graph.deleteEdge(t)})}},{key:"focusOnNode",value:function(t){this.inputController.getInputAdapter().getViewportAdapter().setOffset(-t.x,-t.y)}},{key:"focusOnEdge",value:function(t){var e=t.getCenterPoint();this.inputController.getInputAdapter().getViewportAdapter().setOffset(-e.x,-e.y)}},{key:"focusOnNodes",value:function(t){var e=t.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n+=s.x,r+=s.y}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewportAdapter().setOffset(-n/e,-r/e)}}])&&M(n.prototype,r),o&&M(n,o),e}();O.a.mixin(B);var R=B,H=n(186);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=V(this,U(e).call(this)))._inputController=t,o._graphController=n,o._selectionBox=r,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,H["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return!this._inputController.isMoveMode()&&(this._selectionBox.beginSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragMove",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y),!0)}},{key:"onDragStop",value:function(t){return!!this._selectionBox.isSelecting()&&(this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y),!0)}}])&&z(n.prototype,r),o&&z(n,o),e}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=q(this,Z(e).call(this)))._prevX=0,t._prevY=0,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,H["a"]),n=e,(r=[{key:"onDragStart",value:function(t){return this._prevX=t.x,this._prevY=t.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._prevX,n=t.y-this._prevY;return t.getInputAdapter().getViewportAdapter().addOffset(e,n,!0),!0}},{key:"onDragStop",value:function(t){return!0}}])&&Q(n.prototype,r),o&&Q(n,o),e}(),$=n(0),tt=n.n($),et=n(131),nt=n.n(et),rt=n(185);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var st=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=at(e).call(this,t))||"object"!==ot(o)&&"function"!=typeof o?lt(r):o).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(lt(lt(n))),n.onFocus=n.onFocus.bind(lt(lt(n))),n.onBlur=n.onBlur.bind(lt(lt(n))),n.onKeyDown=n.onKeyDown.bind(lt(lt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,tt.a.Component),n=e,(r=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout(function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState(function(t,e){return{value:t.prevValue}});e.props.onBlur&&e.props.onBlur(t)}},30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState(function(t,e){return{value:t.prevValue}},function(){e._submit=!1,e.inputElement.blur()}),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target,n=e.selectionStart,r=e.value;this.formatter&&(r=this.formatter(r)),this.setState({value:r},function(){e.selectionEnd=n})}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e)),this.setState(function(t,n){return{value:e}}))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=t;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.formatter&&(e=this.formatter(e)),this.setState({value:e})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,r=this.multiLine,o=this.props.disabled,i=this.state.value;return tt.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r?tt.a.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):tt.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:o,placeholder:e,maxLength:n,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}])&&it(n.prototype,r),o&&it(n,o),e}();function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=pt(e).call(this,t))||"object"!==ct(o)&&"function"!=typeof o?yt(r):o).ref=null,n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(yt(yt(n))),n.onInputBlur=n.onInputBlur.bind(yt(yt(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,tt.a.Component),n=e,(r=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof rt.a))throw new Error("Can only open editor for GraphElements");this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o;var i=this.props.labeler.getLabelFormatter(this._target);this.inputComponent.setFormatter(i),this.setState({open:!0},function(){null!==n&&e.inputComponent.resetValue(n),e.inputComponent.focus()})}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,r=this.props.style||{},o=this.props.viewport;if(n){var i=n.getCenterPoint(),a=o.getElement(),u=a.getBoundingClientRect(),l=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(a,i.x+o.getOffsetX(),i.y+o.getOffsetY()),s=l.x,c=l.y,f=-this.ref.offsetWidth/2-u.left,p=-this.ref.offsetHeight/2-u.top;r.top=c+p+"px",r.left=s+f+"px"}return tt.a.createElement("div",{ref:function(e){return t.ref=e},id:this.props.id,className:nt.a.editor_container+(e?" open ":"")+" "+this.props.className,style:r},tt.a.createElement(st,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),tt.a.createElement("div",{className:nt.a.tray_container},this.props.children))}}])&&ft(n.prototype,r),o&&ft(n,o),e}(),bt=n(10);function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._labelEditorComponent=tt.a.createRef(),this._labelEditorRenderer=null,this._labeler=null}var e,n,r;return e=t,(n=[{key:"setLabelEditorRenderer",value:function(t){return this._labelEditorRenderer=t,this}},{key:"setLabeler",value:function(t){return this._labeler=t,this}},{key:"onSessionStart",value:function(t){var e=this,n=t.getCurrentModule(),r=t.getApp().getInputAdapter().getViewportAdapter(),o=this._labelEditorRenderer,i=this._labeler;t.getApp().getRenderManager().addRenderer(bt.d,function(t){return tt.a.createElement(vt,{ref:e._labelEditorComponent,labeler:i,viewport:r,saveOnExit:!0},o&&tt.a.createElement(o,{currentModule:n,parent:e._labelEditorComponent.current}))})}},{key:"onSessionStop",value:function(t){this._labeler=null,this._labelEditorRenderer=null}},{key:"getLabelEditorComponent",value:function(){return this._labelEditorComponent.current}}])&&dt(e.prototype,n),r&&dt(e,r),t}(),mt=n(21);function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wt=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graphController=new R(e,n,r,o),this._labelEditorManager=new gt(e.getApp()).setLabelEditorRenderer(i).setLabeler(r),this._inputController=null,this._selectionBoxInputHandler=null,this._viewportInputHandler=null}var e,n,r;return e=t,(n=[{key:"setGraphLabeler",value:function(t){return this._graphLabeler=t,this}},{key:"setGraphParser",value:function(t){return this._graphParser=t,this}},{key:"update",value:function(t){var e=this.getInputController(),n=this.getGraphController();e.update(t),n.update(t)}},{key:"onSessionStart",value:function(t){var e=this,n=t.getApp(),r=t.getCurrentModule();this._inputController=new S(r,r.getApp().getInputAdapter()),this._selectionBoxInputHandler=new Y(this._inputController,this._graphController,this._inputController.getSelectionBox()),this._viewportInputHandler=new J,r.getApp().getInputAdapter().addInputHandler(this._inputController).addInputHandler(this._selectionBoxInputHandler).addInputHandler(this._viewportInputHandler);var o=this.getInputController(),i=this.getGraphController();o.initialize(r),i.initialize(r),this._labelEditorManager.onSessionStart(t);this._graphController.on("tryCreateWhileTrash",function(){e._inputController.isTrashMode()&&n.getNotificationManager().pushNotification(I18N.toString("message.warning.cannotmodify"),mt.c,"tryCreateWhileTrash",null,!0)})}},{key:"onSessionStop",value:function(t){t.getApp().getInputAdapter().removeInputHandler(this._inputController).removeInputHandler(this._selectionBoxInputHandler).removeInputHandler(this._viewportInputHandler),this._labelEditorManager.onSessionStop(t);var e=t.getCurrentModule(),n=this.getInputController();this.getGraphController().destroy(e),n.destroy(e)}},{key:"getLabelEditorManager",value:function(){return this._labelEditorManager}},{key:"getGraphParser",value:function(){return this._graphController.getGraphParser()}},{key:"getGraphLabeler",value:function(){return this._graphController.getGraphLabeler()}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getInputController",value:function(){return this._inputController}}])&&_t(e.prototype,n),r&&_t(e,r),t}();e.a=wt},function(t,e,n){"use strict";var r=n(26),o=n(0),i=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,s(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),i.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&u(n.prototype,r),o&&u(n,o),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,v(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),i.a.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),i.a.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&h(n.prototype,r),o&&h(n,o),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){return i.a.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},i.a.createElement("g",null,i.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),i.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),i.a.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),i.a.createElement("g",null,i.a.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),i.a.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),i.a.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&m(n.prototype,r),o&&m(n,o),e}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return I});var T="png",M=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=C(this,j(e).call(this)))._imageType=n,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,r["a"]),n=e,(o=[{key:"exportTarget",value:function(t,e){var n=e,r=n.getCurrentModule(),o=n.getProjectName(),i=n.getApp().getWorkspaceComponent().getSVGElement(),a=i.viewBox.baseVal,u=a.width,l=a.height,s=this.processSVGForExport(i,u,l,r);return Promise.resolve({name:o+"."+this._imageType,type:"image",data:s,width:u,height:l,"image-type":this._imageType})}},{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getApp().getInputAdapter().getViewportAdapter(),a=i.getOffsetX(),u=i.getOffsetY(),l=o.getGraph().getBoundingRect(),s=l.minX+a-30,c=l.minY+u-0,f=l.width+60,p=l.height+0,h=t.cloneNode(!0);h.setAttribute("viewBox",s+" "+c+" "+f+" "+p),h.setAttribute("width",e),h.setAttribute("height",n),h.setAttribute("font-size","16px"),h.setAttribute("font-family","monospace"),h.setAttribute("style",".graph-ui {display: none;}");for(var y=h.getElementsByClassName("graph-ui");y.length>0;){y[0].remove()}return h}},{key:"getIconClass",value:function(){switch(this._imageType){case T:return f;case"jpg":return d;case"svg":return E;default:return null}}},{key:"getLabel",value:function(){switch(this._imageType){case T:return I18N.toString("file.export.png");case"jpg":return I18N.toString("file.export.jpg");case"svg":return I18N.toString("file.export.svg");default:return P(j(e.prototype),"getLabel",this).call(this)}}},{key:"getTitle",value:function(){switch(this._imageType){case T:return I18N.toString("file.export.png.hint");case"jpg":return I18N.toString("file.export.jpg.hint");case"svg":return I18N.toString("file.export.svg.hint");default:return P(j(e.prototype),"getTitle",this).call(this)}}},{key:"getImageType",value:function(){return this._imageType}}])&&O(n.prototype,o),i&&O(n,i),e}(),N=[new M(T),new M("jpg"),new M("svg")];function I(t){for(var e=0;e<N.length;e++){var n=N[e];t.registerExporter(n,"image-"+n.getImageType())}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||e+1,i=this.props.toY||n+1,a=r-e,u=i-n;return o.a.createElement("g",{className:"graph-selection-container"},t&&o.a.createElement("rect",{className:"graph-selection",x:a<0?r:e,y:u<0?i:n,width:a<0?-a:a,height:u<0?-u:u}))}}])&&a(n.prototype,r),i&&a(n,i),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=[8,6],d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,y(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t,e=this.props.target,n=0,r=0,i=4;switch(this.props.type){case"node":n=e.x||0,r=e.y||0,i=16;break;case"edge":n=(t=e.getCenterPoint()).x||0,r=t.y||0,i=12;break;case"endpoint":n=(t=e.getEndPoint()).x||0,r=t.y||0,i=6;break;case"initial":n=e.x+-24,r=e.y||0,i=12}return o.a.createElement("g",{className:"graph-highlight-container"},o.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:n,cy:r,r:i+4,strokeDashoffset:this.props.offset||0,strokeDasharray:b,strokeWidth:3,fill:"none"}))}}])&&p(n.prototype,r),i&&p(n,i),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,w(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getGraphController(),n=t.getInputController(),r=e.getGraph(),i=n.getSelectionBox(),a=i.getSelectionBox();return o.a.createElement("g",null,i&&i.hasSelection()&&i.getSelection(r).map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:t,type:"node"})}),a&&o.a.createElement(c,{visible:a.visible,fromX:a.fromX,fromY:a.fromY,toX:a.toX,toY:a.toY}))}}])&&m(n.prototype,r),i&&m(n,i),e}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,P(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=e.getPicker(),r=e.getSelectionBox();return o.a.createElement("g",null,o.a.createElement(E,{currentModule:t}),t._tester&&t._tester.targets&&t._tester.targets.map(function(t,e){return o.a.createElement(d,{key:t.getGraphElementID(),className:"highlight-test graph-gui",target:t,type:"node",offset:"6"})}),n&&n.hasTarget()&&!r.isTargetInSelection(n.target)&&o.a.createElement(d,{className:e.isTrashMode()?"highlight-error":"highlight-select",target:n.target,type:n.targetType}))}}])&&O(n.prototype,r),i&&O(n,i),e}();e.a=x},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(139),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&l(n.prototype,r),i&&l(n,i),e}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=v(e).call(this,t))||"object"!==h(o)&&"function"!=typeof o?d(r):o).onTapeStepBackward=n.onTapeStepBackward.bind(d(d(n))),n.onTapeStepForward=n.onTapeStepForward.bind(d(d(n))),n.onTapeFinish=n.onTapeFinish.bind(d(d(n))),n.onTapeReset=n.onTapeReset.bind(d(d(n))),n.onTapeSkipForward=n.onTapeSkipForward.bind(d(d(n))),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(d(d(n))),n.onTapeStop=n.onTapeStop.bind(d(d(n))),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o.a.Component),n=e,(r=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?o.a.createElement("div",{id:this.props.id,className:a.a.tape_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),o.a.createElement("button",{onClick:this.onTapeStepForward},"STEP"),o.a.createElement("button",{onClick:this.onTapeReset},"RESET"),o.a.createElement("button",{onClick:this.onTapeFinish},"TO END")),o.a.createElement("div",{className:a.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),o.a.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),o.a.createElement("button",{onClick:this.onTapeStop},"STOP")),o.a.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")),o.a.createElement(p,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map(function(n,r){var i,a;i=e===r,a=e===r-1;var u=t.getTapeSourceStatesByIndex(r),l=null===u;return o.a.createElement("div",{key:n+":"+r,className:"tape-row-entry"+(i?" active ":"")+(a?" active-read ":"")+(l?" disabled ":""),onClick:function(e){return l?null:t.setCurrentTapeIndex(r)}},u&&o.a.createElement("span",{className:"tape-row-states"},u.map(function(t){return o.a.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())})),o.a.createElement("label",{className:"tape-row-symbol"},n))}),t.isTapeRightInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")))):null}}])&&y(n.prototype,r),i&&y(n,i),e}();e.a=g},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]}var e,n,o;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._listeners[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){(0,o.value)(t)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._machineChangeHandler=new o,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){t.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(t){t.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){this.attemptBuildMachine(t,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuildGraph",value:function(t,e){throw new Error("Missing graph build operation")}},{key:"attemptBuildMachine",value:function(t,e,n,r){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=a},,function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"JSON",function(){return kt});var o=n(0),i=n.n(o),a=n(9),u=n(244),l=n(224),s=n(248),c=n(185),f=n(8);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(this,t),this._label=e,this._src=n,this._id=n instanceof c.a?n.getGraphElementID():Object(f.c)()}return b(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),t}(),g=function(){function t(e,n){y(this,t),this._from=e,this._to=n,this._symbols=new Map}return b(t,[{key:"copy",value:function(){var e=new t;throw e._from=this._from,e._to=this._to,new Error("Not yet implemented")}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t,e,n){var r=new m(t,e,n);this._symbols.set(r.getHashString(),r)}},{key:"hasSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!0,o=!1,i=void 0;try{for(var a,u=this._symbols.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.getReadSymbol()===t&&!(e&&l.getPopSymbol()!==e||n&&l.getPushSymbol()!==n))return!0}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return!1}},{key:"getSymbolsByReadPop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0,o=!1,i=void 0;try{for(var a,u=this._symbols.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.getReadSymbol()===t&&(e&&l.getPopSymbol()!==e||n.push(l))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},{key:"getSymbols",value:function(){return this._symbols.values()}},{key:"getHashString",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var o,i=this._symbols.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){t+=o.value.getHashString()+","}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return this._from.getHashString()+":"+t+":"+this._to.getHashString()}}]),t}(),m=function(){function t(e,n,r){y(this,t),this._read=e,this._pop=n,this._push=r}return b(t,[{key:"getReadSymbol",value:function(){return this._read}},{key:"getPopSymbol",value:function(){return this._pop}},{key:"getPushSymbol",value:function(){return this._push}},{key:"getHashString",value:function(){return this._read+";"+this._pop+";"+this._push}}]),t}();function _(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n.push(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,f=void 0;try{for(var p,h=e[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value,v=n.indexOf(y);if(-1===v)return!1;n.splice(v,1)}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}return n.length<=0}var w=function(){function t(){y(this,t),this._states=new Map,this._alphabet=new Map,this._stackAlphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._customStackSymbols=new Set,this._startState=null,this._errors=[]}return b(t,[{key:"copy",value:function(t){if(t!==this){this.clear();var e=!0,n=!1,r=void 0;try{for(var o,i=t._states.entries()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=h(o.value,2),u=a[0],l=(b=a[1]).copy();this._states.set(u,l),t.isStartState(b)&&(this._startState=l),t.isFinalState(b)&&this._finalStates.add(l)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,c=!1,f=void 0;try{for(var p,y=t._alphabet.entries()[Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var v=h(p.value,2),b=(u=v[0],v[1]);this._alphabet.set(u,b)}}catch(t){c=!0,f=t}finally{try{s||null==y.return||y.return()}finally{if(c)throw f}}var d=!0,g=!1,m=void 0;try{for(var _,w=t._stackAlphabet.entries()[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var S=h(_.value,2);u=S[0],b=S[1];this._stackAlphabet.set(u,b)}}catch(t){g=!0,m=t}finally{try{d||null==w.return||w.return()}finally{if(g)throw m}}var E=!0,k=!1,O=void 0;try{for(var C,P=t._transitions.entries()[Symbol.iterator]();!(E=(C=P.next()).done);E=!0){var j=h(C.value,2),x=(u=j[0],(b=j[1]).copy());x._from=this._states.get(b.getSourceState().getStateID()),x._to=this._states.get(b.getDestinationState().getStateID()),this._transitions.set(u,x)}}catch(t){k=!0,O=t}finally{try{E||null==P.return||P.return()}finally{if(k)throw O}}var T=!0,M=!1,N=void 0;try{for(var I,L=t._customSymbols[Symbol.iterator]();!(T=(I=L.next()).done);T=!0){var A=I.value;this._customSymbols.add(A)}}catch(t){M=!0,N=t}finally{try{T||null==L.return||L.return()}finally{if(M)throw N}}var D=!0,F=!1,B=void 0;try{for(var R,H=t._customStackSymbols[Symbol.iterator]();!(D=(R=H.next()).done);D=!0){var G=R.value;this._customStackSymbols.add(G)}}catch(t){F=!0,B=t}finally{try{D||null==H.return||H.return()}finally{if(F)throw B}}var z=!0,V=!1,U=void 0;try{for(var X,Y=t._errors[Symbol.iterator]();!(z=(X=Y.next()).done);z=!0){var K=X.value;this._errors.push(K)}}catch(t){V=!0,U=t}finally{try{z||null==Y.return||Y.return()}finally{if(V)throw U}}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._stackAlphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._customStackSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"validate",value:function(){return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new d(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){if(o.value.getStateLabel()==t)return!0}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"getStatesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getStateLabel()==t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,n,r,o){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null read symbol - use the empty symbol instead");if(!r)throw new Error("Cannot add transition for null pop symbol - use the empty symbol instead");if(!o)throw new Error("Cannot add transition for null push symbol - use the empty symbol instead");var i=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(i)){var a=this._transitions.get(i);if(a.hasSymbol(n,r,o))return!1;a.addSymbol(n,r,o)}else{var u=new g(t,e);u.addSymbol(n,r,o),this._transitions.set(i,u)}return this._incrSymbolCount(n),this._incrStackSymbolCount(r),this._incrStackSymbolCount(o),!0}},{key:"removeTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(r))return!1;var o=this._transitions.get(r).getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var a=!0,u=!1,l=void 0;try{for(var s,c=o[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;this._decrSymbolCount(f)}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(t,e){var n=t.getStateID()+"->"+e.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if("&empty"!==t){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_incrStackSymbolCount",value:function(t){if("&empty"!==t){var e=this._stackAlphabet.get(t)||0;this._stackAlphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if("&empty"!==t){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"_decrStackSymbolCount",value:function(t){if(!this._stackAlphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if("&empty"!==t){var e=this._stackAlphabet.get(t);e<=1?this.isCustomStackSymbol(t)?this._stackAlphabet.set(t,0):this._stackAlphabet.delete(t):this._stackAlphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if("&empty"===t)throw new Error("Cannot change the empty symbol");if("&empty"===e)throw new Error("Cannot change to the empty symbol");if(this._stackAlphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");throw new Error("Not yet implemented")}},{key:"removeSymbol",value:function(t){throw new Error("Not yet implemented")}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("&empty"===t)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"changeStackSymbol",value:function(t,e){if("&empty"===t)throw new Error("Cannot change the empty symbol");if("&empty"===e)throw new Error("Cannot change to the empty symbol");if(this._stackAlphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");throw new Error("Not yet implemented")}},{key:"removeStackSymbol",value:function(t){throw new Error("Not yet implemented")}},{key:"setCustomStackSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("&empty"===t)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customStackSymbols.has(t)||(this._customStackSymbols.add(t),this._stackAlphabet.has(t)||this._stackAlphabet.set(t,0)):this._customStackSymbols.has(t)&&(this._customStackSymbols.delete(t),this._stackAlphabet.has(t)&&this._stackAlphabet.get(t)<=0&&this._stackAlphabet.delete(t))}},{key:"isCustomStackSymbol",value:function(t){return this._customStackSymbols.has(t)}},{key:"getCustomStackSymbols",value:function(){return this._customStackSymbols}},{key:"clearCustomStackSymbols",value:function(){this._customStackSymbols.clear()}},{key:"isUsedStackSymbol",value:function(t){return this._stackAlphabet.has(t)&&this._stackAlphabet.get(t)>0}},{key:"isStackSymbol",value:function(t){return this._stackAlphabet.has(t)}},{key:"getStackAlphabet",value:function(){return this._stackAlphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!(t instanceof d))throw new Error("Invalid state instance type '"+p(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e="&empty");var o=t.getStateID()+"->",i=!0,a=!1,u=void 0;try{for(var l,s=this._transitions.keys()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(c.startsWith(o)){var f=this._transitions.get(c),h=f.getDestinationState(),y=[];f.getSymbolsByReadPop(e,n[n.length-1],y),f.getSymbolsByReadPop(e,"&empty",y);for(var v=0;v<y.length;v++){var b=y[v],g=n.slice(),m=b.getPopSymbol(),_=b.getPushSymbol();"&empty"!==m&&g.pop(),"&empty"!==_&&g.push(_),r.push([h,g])}}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return r}},{key:"doTerminalTransition",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e="&empty");var o=t.getStateID()+"->",i=!0,a=!1,u=void 0;try{for(var l,s=this._transitions.keys()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(c.startsWith(o)){var f=this._transitions.get(c),p=f.getDestinationState(),h=[];f.getSymbolsByReadPop(e,n[n.length-1],h),f.getSymbolsByReadPop(e,"&empty",h);for(var y=0;y<h.length;y++){var v=h[y],b=n.slice(),d=v.getPopSymbol(),g=v.getPushSymbol();if("&empty"!==d){if(0==n.length)continue;b.pop()}"&empty"!==g&&b.push(g);var m=this.doClosureTransition(p,b),w=!0,S=!1,E=void 0;try{for(var k,O=m[Symbol.iterator]();!(w=(k=O.next()).done);w=!0){var C=k.value,P=!1,j=!0,x=!1,T=void 0;try{for(var M,N=r[Symbol.iterator]();!(j=(M=N.next()).done);j=!0){var I=M.value;if(I[0]===C[0]&&_(I[1],C[1])){P=!0;break}}}catch(t){x=!0,T=t}finally{try{j||null==N.return||N.return()}finally{if(x)throw T}}P||r.push(C)}}catch(t){S=!0,E=t}finally{try{w||null==O.return||O.return()}finally{if(S)throw E}}}}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return r}},{key:"doClosureTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return n;n.push([t,e]);for(var r=0;r<n.length;++r){var o=n[r],i=o[0],a=o[1],u=this.getOutgoingTransitions(i),l=!0,s=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value,y=h[1],v=h[3],b=h[4];if("&empty"===y&&(v===a[a.length-1]||"&empty"===v)){var d=a.slice(),g=h[2];"&empty"!==v&&d.pop(),"&empty"!==b&&d.push(b);var m=!1,w=!0,S=!1,E=void 0;try{for(var k,O=n[Symbol.iterator]();!(w=(k=O.next()).done);w=!0){var C=k.value;if(C[0]===g&&_(C[1],d)){m=!0;break}}}catch(t){S=!0,E=t}finally{try{w||null==O.return||O.return()}finally{if(S)throw E}}m||n.push([g,d])}}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}return n}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var n=t.getStateID()+"->",r=!0,o=!1,i=void 0;try{for(var a,u=this._transitions.keys()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.startsWith(n)){var s=this._transitions.get(l),c=s.getSymbols(),f=!0,p=!1,h=void 0;try{for(var y,v=c[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;e.push([t,b.getReadSymbol(),s.getDestinationState(),b.getPopSymbol(),b.getPushSymbol()])}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}},{key:"getHashCode",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){t+=o.value.getHashString()+","}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}t+="|";var a=!0,u=!1,l=void 0;try{for(var s,c=this._transitions.values()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){t+=s.value.getHashString()+","}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}t+="|";var p=!0,h=!1,y=void 0;try{for(var v,b=this._finalStates[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){t+=v.value.getHashString()}}catch(t){h=!0,y=t}finally{try{p||null==b.return||b.return()}finally{if(h)throw y}}return t+="|",t+=this._startState?this._startState.getHashString():"",Object(f.e)(t)}}]),t}(),S=n(183);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=O(this,P(e).call(this,t,n,r)))._accept=!1,o._custom=!1,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,S["a"]),n=e,(r=[{key:"setNodeAccept",value:function(t){this._accept=t}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(t){this._custom=t}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C(P(e.prototype),"getHashString",this).call(this,t)+":"+(this._accept?"1":"0")}}])&&k(n.prototype,r),o&&k(n,o),e}(),T=n(201);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t,e,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F="\n",B=" ",R=",",H="→",G="ε",z=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,A(e).call(this,t,n,r))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,T["a"]),n=e,(r=[{key:"setEdgeLabel",value:function(t){"string"==typeof t?L(A(e.prototype),"setEdgeLabel",this).call(this,t):L(A(e.prototype),"setEdgeLabel",this).call(this,G+R+G+H+G)}},{key:"getEdgeSymbolsFromLine",value:function(t){var e=(t=t.trim()).indexOf(R),n=t.indexOf(H);if(e<=0)return[G,G,G];var r=t.substring(0,e);if(n<=0)return[r,G,G];var o=t.substring(e+1,n),i=t.substring(n+1);return i.length<=0?[r,o,G]:[r,o,i]}},{key:"getEdgeLinesFromLabel",value:function(){return this.getEdgeLabel().split(F)}}])&&N(n.prototype,r),o&&N(n,o),e}(),V=n(223);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=K(this,Q(e).call(this)))._machine=new w,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,s["a"]),n=e,(r=[{key:"attemptBuildGraph",value:function(t,e){var n;e.clear();var r,o,i,a,u=!0,l=!1,s=void 0;try{for(var c,f=t.getStates()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;(n=e.createNode(0,0)).setNodeLabel(p.getStateLabel()),t.isFinalState(p)&&n.setNodeAccept(!0)}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}var h=!0,y=!1,v=void 0;try{for(var b,d=t.getTransitions()[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;o=this.getFirstGraphNodeByLabel(e,g[0]),a=g[1],i=this.getFirstGraphNodeByLabel(e,g[2]),(r=e.createEdge(o,i)).setEdgeLabel(a),r!=e.formatEdge(r)&&e.deleteEdge(r)}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}var m=t.getStartState();return e.setStartNode(this.getFirstGraphNodeByLabel(e,m)),e}},{key:"attemptBuildMachine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.length=0,r.length=0;var o=Array.from(e.getCustomSymbols()),i=Array.from(e.getCustomStackSymbols());e.clear();for(var a=0;a<o.length;a++){var u=o[a];e.setCustomSymbol(u)}for(var l=0;l<i.length;l++){var s=i[l];e.setCustomStackSymbol(s)}var c=new Map,f=new Map,p=[],h=t.getNodes(),y=t.getEdges(),v=t.getStartNode(),b=!0,g=!1,m=void 0;try{for(var _,w=h[Symbol.iterator]();!(b=(_=w.next()).done);b=!0){var S=_.value,E=S.getNodeLabel(),k=new d(E,S);e.addState(k),S.getNodeAccept()&&e.setFinalState(k,!0),v===S&&e.setStartState(k),c.has(E)?c.get(E).push(k):c.set(E,[k]),f.set(k,new Map)}}catch(t){g=!0,m=t}finally{try{b||null==w.return||w.return()}finally{if(g)throw m}}var O=!0,C=!1,P=void 0;try{for(var j,T=y[Symbol.iterator]();!(O=(j=T.next()).done);O=!0){var M=j.value,N=M.getEdgeFrom(),I=M.getEdgeTo();if(!M.isPlaceholder()&&N instanceof x&&I instanceof x){var L=e.getStateByID(N.getGraphElementID()),A=e.getStateByID(I.getGraphElementID());if(!L||!A)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var D=M.getEdgeLinesFromLabel(),F=!0,B=!1,R=void 0;try{for(var H,z=D[Symbol.iterator]();!(F=(H=z.next()).done);F=!0){var U=H.value;if(U){for(var Y=M.getEdgeSymbolsFromLine(U),K=0;K<Y.length;++K){var Q=Y[K];switch(Q){case G:Y[K]="&empty";break;default:Y[K]=Q}}e.addTransition(L,A,Y[0],Y[1],Y[2])}}}catch(t){B=!0,R=t}finally{try{F||null==z.return||z.return()}finally{if(B)throw R}}}else p.push(M)}}catch(t){C=!0,P=t}finally{try{O||null==T.return||T.return()}finally{if(C)throw P}}var q=!0,Z=!1,W=void 0;try{for(var J,$=c.entries()[Symbol.iterator]();!(q=(J=$.next()).done);q=!0){var tt=X(J.value,2),et=tt[0],nt=tt[1];nt.length>1&&r.push({name:"duplicate_state",label:et,nodes:nt.map(function(t){return t.getSource()})})}}catch(t){Z=!0,W=t}finally{try{q||null==$.return||$.return()}finally{if(Z)throw W}}p.length>0&&n.push({name:"incomplete_transition",edges:p});var rt=Object(V.a)(t);return rt&&rt.length>0&&r.push({name:"unreachable_state",nodes:rt}),n.length<=0?this._machine:null}},{key:"getMachine",value:function(){return this._machine}}])&&Y(n.prototype,r),o&&Y(n,o),e}(),W=n(192);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t,e,n){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ot=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=tt(this,nt(e).call(this,t,new Z))).graphController=null,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,l["a"]),n=e,(r=[{key:"initialize",value:function(t){et(nt(e.prototype),"initialize",this).call(this,t),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){et(nt(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){et(nt(e.prototype),"update",this).call(this,t)}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.getNodeLabel()==e)return u}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(t,e){this._machineBuilder.attemptBuildGraph(e,t),W.a.applyLayout(t)}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this.getStates().length}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(e=i.getEdges()[a]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length,u=0;u<a;++u)(r=(n=i.getEdges()[u]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}},{key:"getStackAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getStackAlphabet())}},{key:"isUsedStackSymbol",value:function(t){return!this.isCustomStackSymbol(t)}},{key:"createStackSymbol",value:function(t){this.addCustomStackSymbol(t)}},{key:"deleteStackSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(e=i.getEdges()[a]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomStackSymbol(t)}},{key:"renameStackSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length,u=0;u<a;++u)(r=(n=i.getEdges()[u]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomStackSymbol(t,e)}},{key:"getCustomStackSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomStackSymbols())}},{key:"isCustomStackSymbol",value:function(t){return this._machineBuilder.isCustomStackSymbol(t)}},{key:"addCustomStackSymbol",value:function(t){this._machineBuilder.getMachine().setCustomStackSymbol(t)}},{key:"clearCustomStackSymbols",value:function(){this._machineBuilder.getMachine().clearCustomStackSymbols()}}])&&$(n.prototype,r),o&&$(n,o),e}(),it=n(220),at=n(203);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t,e,n){return(ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ft(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=st(this,ft(e).call(this,x,z)))._nodes=[],t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,at["a"]),n=e,(r=[{key:"setStartNode",value:function(t){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var e=this._nodes.indexOf(t);if(e>0){var n=this._nodes[0];this._nodes[0]=t,this._nodes[e]=n}else if(e<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"addNode",value:function(t){return this._nodes.push(t),ct(ft(e.prototype),"addNode",this).call(this,t)}},{key:"deleteNode",value:function(t){ct(ft(e.prototype),"deleteNode",this).call(this,t);var n=this._nodes.indexOf(t);n>=0&&this._nodes.splice(n,1)}},{key:"clearNodes",value:function(){ct(ft(e.prototype),"clearNodes",this).call(this),this._nodes.length=0}},{key:"formatEdge",value:function(t){var e=t.getEdgeFrom(),n=t.getEdgeTo(),r=t.getEdgeLinesFromLabel(),o=!0,i=!1,a=void 0;try{for(var u,l=this.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s!==t&&(s.getEdgeFrom()===e&&s.getEdgeTo()===n)){var c=s.getEdgeLinesFromLabel();if(r.length>0){var f=c.concat(r);s.setEdgeLabel(f.join(F))}return s}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}if(!t.isSelfLoop()){var p=!1,h=Math.PI/2,y=!0,v=!1,b=void 0;try{for(var d,g=this.getEdges()[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value;if(!(m.isQuadratic()&&Math.abs(m.getQuadratic().length)>=20)&&(m.getEdgeTo()===e&&m.getEdgeFrom()===n)){t.setQuadraticRadians(h).setQuadraticLength(10),m.setQuadraticRadians(h).setQuadraticLength(10),p=!0;break}}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}if(!p){var _=Math.max(e.getNodeSize(),n.getNodeSize()),w=e.x,S=e.y,E=n.x,k=n.y,O=(E-w)*(E-w)+(k-S)*(k-S),C=!1,P=0,j=0;w>E?j=k-(P=(S-k)/(w-E))*E:w<E?j=S-(P=(k-S)/(E-w))*w:C=!0;var x=!0,T=!1,M=void 0;try{for(var N,I=this._nodes[Symbol.iterator]();!(x=(N=I.next()).done);x=!0){var L=N.value;if(L!==e&&L!==n){var A=L.x,D=L.y;if(!((w-A)*(w-A)+(S-D)*(S-D)>O||(E-A)*(E-A)+(k-D)*(k-D)>O)){if((C?Math.abs(w-A):Math.abs(j+P*A-D)/Math.sqrt(1+P*P))<L.getNodeSize()){p=!0;break}}}}}catch(t){T=!0,M=t}finally{try{x||null==I.return||I.return()}finally{if(T)throw M}}p&&(t.setQuadraticRadians(-Math.PI/2),t.setQuadraticLength(_+10))}}return t}}])&&lt(n.prototype,r),o&&lt(n,o),e}(),yt=n(225);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t="q";function wt(t){return 1===t.length&&t!==F&&t!==B&&t!==R&&t!==H}function St(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.split(F),o=new Set,i=r.length,a=0,u=0;u<i;++u)if((a=(e=r[u].trim().split("")).length)<=0)o.add("");else{for(var l=null,s=null,c=null,f=null,p=0;p<a;++p)if(null===l)wt(f=e[p].trim())&&(l=f,p+1<a&&(e[p+1]===R||e[p+1]===B)&&++p);else if(null===s)wt(f=e[p].trim())&&(s=f,p+1<a&&(e[p+1]===H||e[p+1]===B)&&++p);else if(null===c&&wt(f=e[p].trim())){c=f;break}null===l?o.add(""):null===s?o.add(l+R):null===c?o.add(l+R+s+H):o.add(l+R+s+H+c)}return o.size<=0?n?null:G:Array.from(o).join(F)}var Et=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=dt(this,gt(e).call(this)))._prefix=_t,t._graphController=null,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(e,yt["a"]),n=e,(r=[{key:"setGraphController",value:function(t){return this._graphController=t,this}},{key:"setDefaultNodeLabelPrefix",value:function(t){this._prefix=t}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var t=this._graphController.getGraph(),e=[],n=0,r=t.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;t.getNodesByLabel(o,e).length>0;)e.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(t){return t||""}}},{key:"getEdgeLabelFormatter",value:function(){return St}}])&&bt(n.prototype,r),o&&bt(n,o),e}(),kt={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new ht;for(var n=t.nodes||[],r=Math.min(n.length||0,t.nodeCount||0),o=t.edges||[],i=Math.min(o.length||0,t.edgeCount||0),a=t.initial||0,u=new Map,l=0;l<r;++l){var s=n[l];if(s){var c=e.createNode(s.x||0,s.y||0,s.id);c.setNodeLabel(s.label||""),c.setNodeAccept(s.accept||!1),c.setNodeCustom(s.custom||!1),u.set(l,c)}}var f=u.get(a);f&&e.setStartNode(f);for(var p=0;p<i;++p){var h=o[p];if(h){var y=u.get(h.from)||null;if(y){var v=u.get(h.to)||null,b=e.createEdge(y,v,h.id),d=h.quad||{};b.setEdgeLabel(h.label||""),b.setQuadraticRadians(d.radians||0),b.setQuadraticLength(d.length||0)}}}return e},objectify:function(t){for(var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=r.length||0,i=t.getStartNode(),a=new Array(n),u=new Map,l=0;l<n;++l){var s=e[l];if(s){var c=s.getGraphElementID();u.set(s,l),a[l]={id:c,x:s.x||0,y:s.y||0,label:s.getNodeLabel()||"",accept:s.getNodeAccept()||!1,custom:s.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var h=r[p];if(h){var y=h.getGraphElementID(),v=h.getQuadratic()||{},b=h.getEdgeFrom(),d=h.getEdgeTo(),g=u.has(b)?u.get(b):-1,m=u.has(d)?u.get(d):-1;f[p]={id:y,from:g,to:m,quad:{radians:v.radians||0,length:v.length||0},label:h.getEdgeLabel()||""}}}return{nodeCount:n,nodes:a,edgeCount:o,edges:f,initial:u.get(i)||0,_version:"1.0.0"}}};n(154);function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Pt(this,jt(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.getNodeLabel();return i.a.createElement("g",{className:"graph-node-container"},i.a.createElement("circle",{className:"graph-node",cx:t.x,cy:t.y,r:t.getNodeSize(),fill:"#FEE781",stroke:"#000000"}),t.getNodeAccept()&&i.a.createElement("circle",{className:"graph-node-inner",cx:t.x,cy:t.y,r:.8*t.getNodeSize(),fill:"none",stroke:"#000000"}),i.a.createElement("text",{className:"graph-node-label",x:t.x,y:t.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(e.length-2,0)/6,.5)+"em"},textAnchor:"middle"},e))}}])&&Ct(n.prototype,r),o&&Ct(n,o),e}(),Mt=n(226);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lt(this,At(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke||"#000000",n=t.getStartPoint(),r=t.getEndPoint(),o=t.getCenterPoint(),a=t.getEdgeLinesFromLabel(),u=t.getEdgeDirection();return i.a.createElement("g",{className:"graph-edge-container"},i.a.createElement(Mt.b,{directed:Mt.a,from:n,to:r,center:o,label:a.join("\n"),direction:u,color:e}))}}])&&It(n.prototype,r),o&&It(n,o),e}();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ht(this,Gt(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=t.x+(t instanceof x?0:24),n=t.y;return i.a.createElement("g",{className:"graph-initial-container"},i.a.createElement("path",{className:"graph-initial",d:"M"+(e-16)+" "+n+" L"+(e-32)+" "+(n-16)+" L"+(e-32)+" "+(n+16)+" Z",fill:"none",stroke:"#000000"}))}}])&&Rt(n.prototype,r),o&&Rt(n,o),e}();function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e){return!e||"object"!==Ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,Kt(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.currentModule,e=t.getInputController(),n=t.getGraphController().getGraph();return i.a.createElement("g",null,n.getNodes().map(function(t,e){return i.a.createElement(Tt,{key:t.getGraphElementID()||e,node:t})}),n.getEdges().map(function(t,e){return i.a.createElement(Ft,{key:t.getGraphElementID()||e,edge:t})}),n.getStartNode()&&(null==e.getInputHandlers()[3].ghostInitialMarker?i.a.createElement(Vt,{node:n.getStartNode()}):i.a.createElement(Vt,{node:e.getInputHandlers()[3].ghostInitialMarker})))}}])&&Xt(n.prototype,r),o&&Xt(n,o),e}(),Zt=n(155),Wt=n.n(Zt),Jt=n(227);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return!e||"object"!==$t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oe=["0","1"],ie=[G],ae=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,ne(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,i.a.Component),n=e,(r=[{key:"renderSymbol",value:function(t){var e=this.props.parent;if(!e)return null;var n=e.inputComponent;return i.a.createElement(Jt.a,{key:t,parent:n,title:t,onClick:function(e){return n.appendValue(t,B)}})}},{key:"render",value:function(){var t=this,e=this.props.currentModule.getMachineController().getAlphabet(),n=!e||e.length<=1;return i.a.createElement("div",{className:Wt.a.tray_container},i.a.createElement("span",{className:Wt.a.tray_used},e.map(function(e){return t.renderSymbol(e)})),i.a.createElement("span",{className:Wt.a.tray_default},n&&oe.map(function(e){return t.renderSymbol(e)}),ie.map(function(e){return t.renderSymbol(e)})))}}])&&te(n.prototype,r),o&&te(n,o),e}(),ue=n(246),le=n(156),se=n.n(le),ce=n(20),fe=n(228),pe=n(28),he=n(157),ye=n.n(he),ve=n(3),be=n(196),de=n(229),ge=n(158),me=n.n(ge);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Oe=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Se(e).call(this,t))||"object"!==_e(o)&&"function"!=typeof o?ke(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(ke(ke(n))),n.onFocus=n.onFocus.bind(ke(ke(n))),n.onBlur=n.onBlur.bind(ke(ke(n))),n.onKeyDown=n.onKeyDown.bind(ke(ke(n))),n.onKeyUp=n.onKeyUp.bind(ke(ke(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(e,i.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,n=t?t.getNodeLabel():"",r=!!t&&(t.getNodeCustom()||null!==e&&e!==n),o=!!t&&t.getNodeAccept(),a=null===e?n:e;return i.a.createElement("div",{id:this.props.id,className:me.a.element_container+(r?" custom ":"")+(!t.getNodeCustom()&&a.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(o?" accept ":"")+" "+this.props.className,style:this.props.style},i.a.createElement("input",{spellCheck:!1,style:{width:a.length+"ch"},value:a,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&we(n.prototype,r),o&&we(n,o),e}();function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Me=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=je(e).call(this,t))||"object"!==Ce(o)&&"function"!=typeof o?Te(r):o)._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(Te(Te(n))),n.onElementFocus=n.onElementFocus.bind(Te(Te(n))),n.onElementBlur=n.onElementBlur.bind(Te(Te(n))),n.onElementChange=n.onElementChange.bind(Te(Te(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(e,i.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=e.createNode(this._prevX,this._prevY);e.focusOnNode(n)}},{key:"onElementFocus",value:function(t,e){this._prevX=e.props.node.x,this._prevY=e.props.node.y,this.props.graphController.focusOnNode(e.props.node)}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();if(n.length>0)i.getNodesByLabel(n).length<=0&&o.renameNode(r,n);else r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(t,e,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return i.a.createElement("div",{id:this.props.id,className:ye.a.list_container,style:this.props.style},i.a.createElement("div",{className:ye.a.element_list},i.a.createElement(de.a,{className:ye.a.first_marker}),e.map(function(e){return i.a.createElement(Oe,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})})),i.a.createElement(ve.a,{className:ye.a.add_button,title:"Add State",onClick:this.onElementAdd},i.a.createElement(be.a,null)))}}])&&Pe(n.prototype,r),o&&Pe(n,o),e}(),Ne=n(159),Ie=n.n(Ne),Le=n(160),Ae=n.n(Le);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function He(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ge=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Be(e).call(this,t))||"object"!==De(o)&&"function"!=typeof o?He(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(He(He(n))),n.onFocus=n.onFocus.bind(He(He(n))),n.onBlur=n.onBlur.bind(He(He(n))),n.onKeyDown=n.onKeyDown.bind(He(He(n))),n.onKeyUp=n.onKeyUp.bind(He(He(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(e,i.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,r=this.props.used||!1;return i.a.createElement("div",{id:this.props.id,className:Ae.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},i.a.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&Fe(n.prototype,r),o&&Fe(n,o),e}();function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ke=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Ue(e).call(this,t))||"object"!==ze(o)&&"function"!=typeof o?Ye(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(Ye(Ye(n))),n.onElementFocus=n.onElementFocus.bind(Ye(Ye(n))),n.onElementBlur=n.onElementBlur.bind(Ye(Ye(n))),n.onElementChange=n.onElementChange.bind(Ye(Ye(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(e,i.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&(r.getMachineBuilder().getMachine().isSymbol(n)&&n!==e.props.symbol))throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;s&&n.push(i.a.createElement(Ge,{key:s,symbol:s,used:t.isUsedSymbol(s),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){o=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getAlphabet();return i.a.createElement("div",{id:this.props.id,className:Ie.a.list_container,style:this.props.style},i.a.createElement("div",{className:Ie.a.element_list},this.renderAlphabetList(e,n),i.a.createElement(Ge,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),i.a.createElement(ve.a,{className:Ie.a.add_button,title:"Add Symbol",onClick:this.onElementAdd},i.a.createElement(be.a,null)))}}])&&Ve(n.prototype,r),o&&Ve(n,o),e}(),Qe=n(161),qe=n.n(Qe),Ze=n(162),We=n.n(Ze);function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var rn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=tn(e).call(this,t))||"object"!==Je(o)&&"function"!=typeof o?nn(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(nn(nn(n))),n.onFocus=n.onFocus.bind(nn(nn(n))),n.onBlur=n.onBlur.bind(nn(nn(n))),n.onKeyDown=n.onKeyDown.bind(nn(nn(n))),n.onKeyUp=n.onKeyUp.bind(nn(nn(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(e,i.a.Component),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return e.select()}),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,r=this.props.used||!1;return i.a.createElement("div",{id:this.props.id,className:We.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},i.a.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&$e(n.prototype,r),o&&$e(n,o),e}();function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var cn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=un(e).call(this,t))||"object"!==on(o)&&"function"!=typeof o?sn(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(sn(sn(n))),n.onElementFocus=n.onElementFocus.bind(sn(sn(n))),n.onElementBlur=n.onElementBlur.bind(sn(sn(n))),n.onElementChange=n.onElementChange.bind(sn(sn(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(e,i.a.Component),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},function(){e.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isStackSymbol(n)||(r?o.renameStackSymbol(r,n):o.createStackSymbol(n)):r&&o.deleteStackSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&(r.getMachineBuilder().getMachine().isStackSymbol(n)&&n!==e.props.symbol))throw new Error("Not a valid symbol")}},{key:"renderStackAlphabetList",value:function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;s&&n.push(i.a.createElement(rn,{key:s,symbol:s,used:t.isUsedStackSymbol(s),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){o=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getStackAlphabet();return i.a.createElement("div",{id:this.props.id,className:qe.a.list_container,style:this.props.style},i.a.createElement("div",{className:qe.a.element_list},this.renderStackAlphabetList(e,n),i.a.createElement(rn,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),i.a.createElement(ve.a,{className:qe.a.add_button,title:"Add Stack",onClick:this.onElementAdd},i.a.createElement(be.a,null)))}}])&&an(n.prototype,r),o&&an(n,o),e}(),fn=n(163),pn=n.n(fn),hn=n(33);function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dn(t,e){return(dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=bn(e).call(this,t))||"object"!==yn(o)&&"function"!=typeof o?gn(r):o).onAutoStatePrefixSubmit=n.onAutoStatePrefixSubmit.bind(gn(gn(n))),n.onAutoStatePrefixFormat=n.onAutoStatePrefixFormat.bind(gn(gn(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(e,i.a.Component),n=e,(r=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var n=this.props.graphController,r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=t&&(r.setDefaultNodeLabelPrefix(t),n.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return i.a.createElement("div",{id:this.props.id,className:pn.a.select_container+" "+this.props.className,style:this.props.style},i.a.createElement("label",{className:pn.a.select_label},"State Labels"),i.a.createElement(hn.a,{className:pn.a.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),i.a.createElement("select",{className:pn.a.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},i.a.createElement("option",null,"0-9"),i.a.createElement("option",null,"a-z"),i.a.createElement("option",null,"A-Z")))}}])&&vn(n.prototype,r),o&&vn(n,o),e}();function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function En(t,e){return(En=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var On=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Sn(e).call(this,t))||"object"!==_n(o)&&"function"!=typeof o?kn(r):o).onAutoLayoutApply=n.onAutoLayoutApply.bind(kn(kn(n))),n.onAutoLayoutChange=n.onAutoLayoutChange.bind(kn(kn(n))),n.onAutoLabelChange=n.onAutoLabelChange.bind(kn(kn(n))),n.onSnapToGridChange=n.onSnapToGridChange.bind(kn(kn(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&En(t,e)}(e,i.a.Component),n=e,(r=[{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"render",value:function(){var t=this.props.drawer,n=this.props.session.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),u=r.shouldAutoRenameNodes(),l=t.isDrawerFullscreen();return i.a.createElement(a.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},i.a.createElement(ce.a,{title:"States",initial:!0,full:l},i.a.createElement(Me,{graphController:r})),i.a.createElement(ce.a,{title:"Alphabet",initial:!0,full:l},i.a.createElement(Ke,{machineController:o})),i.a.createElement(ce.a,{title:"Stack Alphabet",initial:!0,full:l},i.a.createElement(cn,{machineController:o})),i.a.createElement(fe.a,null),i.a.createElement(mn,{graphController:r}),i.a.createElement("button",{className:se.a.autolayout_button,onClick:this.onAutoLayoutApply,disabled:r.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),i.a.createElement(fe.a,null),i.a.createElement(pe.a,{id:"overview-auto-label",checked:u,title:"Auto rename nodes",onChange:this.onAutoLabelChange}),i.a.createElement(pe.a,{id:"overview-auto-layout",checked:!1,title:"Auto layout nodes",disabled:!0,onChange:this.onAutoLayoutChange}),i.a.createElement(pe.a,{id:"overview-snap-grid",checked:!1,title:"Snap-to-grid",disabled:!0,onChange:this.onSnapToGridChange}))}}])&&wn(n.prototype,r),o&&wn(n,o),e}();Object.defineProperty(On,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});var Cn=On,Pn=n(164),jn=n.n(Pn),xn=n(165),Tn=n.n(xn),Mn=n(204),Nn=n(29),In=n(205),Ln=n(18),An=n(30),Dn=n(206),Fn=n(207),Bn=n(191),Rn=n(166),Hn=n.n(Rn),Gn=n(208),zn=n(209),Vn=n(210),Un=n(211);function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Zn="default",Wn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Kn(e).call(this,t))||"object"!==Xn(o)&&"function"!=typeof o?qn(r):o).inputElement=null,n.state={value:n.props.defaultValue||"",status:Zn},n.onChange=n.onChange.bind(qn(qn(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(e,i.a.Component),n=e,(r=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==Zn?this.setState({status:Zn},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=t.target.value;this.state.value!==e&&this.setState({value:e,status:Zn})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,n=this.props.onTest,r=this.props.active,o=this.props.placeholder,a=this.state.status;return i.a.createElement("div",{id:this.props.id,className:Hn.a.test_item_container+(r?" active ":"")+" "+a+" "+this.props.className,style:this.props.style},i.a.createElement(ve.a,{className:Hn.a.test_button,title:"Test",disabled:!n,onClick:function(e){return n(e,t)}},"success"===a?i.a.createElement(zn.a,null):"failure"===a?i.a.createElement(Vn.a,null):"working"===a?i.a.createElement(Un.a,null):i.a.createElement(Bn.a,null)),i.a.createElement("div",{className:Hn.a.test_input},i.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:o,value:this.state.value,onChange:this.onChange}),i.a.createElement("label",null,this.props.subtitle)),i.a.createElement(ve.a,{className:Hn.a.delete_button,title:"Delete",disabled:!e,onClick:function(n){return e(n,t)}},i.a.createElement(Gn.a,null)))}}])&&Yn(n.prototype,r),o&&Yn(n,o),e}();function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var rr=[".txt"],or="test.txt",ir=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=tr(e).call(this,t))||"object"!==Jn(o)&&"function"!=typeof o?nr(r):o)._testList=[],n._testName=or,n.onTestNew=n.onTestNew.bind(nr(nr(n))),n.onTestUpload=n.onTestUpload.bind(nr(nr(n))),n.onTestDownload=n.onTestDownload.bind(nr(nr(n))),n.onTestClose=n.onTestClose.bind(nr(nr(n))),n.onTestAdd=n.onTestAdd.bind(nr(nr(n))),n.onTestDelete=n.onTestDelete.bind(nr(nr(n))),n.onTestTest=n.onTestTest.bind(nr(nr(n))),n.onTestRunAll=n.onTestRunAll.bind(nr(nr(n))),n.onGraphChange=n.onGraphChange.bind(nr(nr(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}(e,i.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._testList[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.ref.resetStatus()}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,n=new FileReader;n.onload=function(r){try{e._testName=t.name,e._testList.length=0;var o=r.target.result.split("\n"),i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;(c=c.trim()).length>0&&e._testList.push({id:Object(f.c)(),defaultValue:c,ref:null})}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}e._testList.length<=0&&e.onTestAdd(null)}catch(t){n.abort()}},n.readAsText(t)}},{key:"onTestDownload",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._testList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.ref;u&&e.push(u.getValue())}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Object(Mn.a)(this._testName,e.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._testList.length=0}},{key:"onTestAdd",value:function(t){this._testList.push({id:Object(f.c)(),defaultValue:"",ref:null})}},{key:"onTestRunAll",value:function(t){var e=this,n=0;!function t(){var r=e._testList[n];e.onTestTest(null,r.ref,!0,function(){++n<e._testList.length&&t()})}()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestTest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n||this.props.immediate,i=this.props.tester,a=e.getValue();e.setState({status:"working"});var u=this.props.graphController,l=this.props.machineController;if(i.startTest(a,u,l).then(function(t){e.setState({status:t?"success":"failure"})},function(t){e.setState({status:Zn})}),o){var s=i.runTest(u,l,!0);r&&s.then(r)}}},{key:"isEmpty",value:function(){return this._testList.length<=0}},{key:"render",value:function(){var t=this,e=this.props.tester,n=this.props.graphController,r=this.isEmpty(),o=e&&e.isTesting();return i.a.createElement("div",{id:this.props.id,className:Tn.a.test_container+" "+this.props.className,style:this.props.style},i.a.createElement("div",{className:Tn.a.test_control_tray},i.a.createElement(ve.a,{className:Tn.a.test_control_button,title:I18N.toString("action.testing.new"),onClick:this.onTestNew},i.a.createElement(In.a,null)),i.a.createElement(Nn.a,{className:Tn.a.test_control_button,title:I18N.toString("action.testing.import"),accept:rr.join(","),onUpload:this.onTestUpload},i.a.createElement(Ln.a,null)),i.a.createElement(ve.a,{className:Tn.a.test_control_button,title:I18N.toString("action.testing.save"),disabled:r,onClick:this.onTestDownload},i.a.createElement(An.a,null)),i.a.createElement(ve.a,{className:Tn.a.test_control_button,title:I18N.toString("action.testing.clear"),disabled:r,onClick:this.onTestClose},i.a.createElement(Dn.a,null))),i.a.createElement("div",{className:Tn.a.test_list_container+(r?" empty ":"")+(o?" disabled ":"")},i.a.createElement(ve.a,{className:Tn.a.test_list_add,title:"Add",onClick:this.onTestAdd},i.a.createElement(Fn.a,null),i.a.createElement("span",{className:Tn.a.test_list_count},r?"":""+this._testList.length)),i.a.createElement("div",{className:Tn.a.test_list_scroll_container},i.a.createElement("div",{className:Tn.a.test_list},this._testList.map(function(r,o){var a=r.id,u=r.defaultValue||"",l=t.onTestTest;return e&&!n.getGraph().isEmpty()||(l=null),i.a.createElement(Wn,{key:a,ref:function(t){return r.ref=t},defaultValue:u,onTest:l,onDelete:function(e,n){t._testList.splice(o,1),t.onTestDelete(e,n)}})}))),i.a.createElement(ve.a,{className:Tn.a.test_list_runall,title:"Run All",onClick:this.onTestRunAll},i.a.createElement(Bn.a,null))))}}])&&$n(n.prototype,r),o&&$n(n,o),e}(),ar=n(6);function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pr=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=sr(e).call(this,t))||"object"!==ur(o)&&"function"!=typeof o?fr(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(fr(fr(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(e,i.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),r.focusOnNode(a)}break;case"deleteall":var u=n.targets;r.deleteTargetNodes(u),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){var t=this.props.message;return i.a.createElement(ar.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ar.b,notification:this.props.notification},i.a.createElement("p",null,t.text+": "+this.targetLabel),i.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),i.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&lr(n.prototype,r),o&&lr(n,o),e}();function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var gr="→",mr=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=vr(e).call(this,t))||"object"!==hr(o)&&"function"!=typeof o?dr(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getEdgeFrom().getNodeLabel()+", "+f.getEdgeLabel()+") "+gr+" "+(f.getEdgeTo()instanceof S.a?f.getEdgeTo().getNodeLabel():"null")}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(dr(dr(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(e,i.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),r.focusOnEdge(a)}break;case"deleteall":var u=n.targets;r.deleteTargetEdges(u),e.close()}}},{key:"render",value:function(){return i.a.createElement(ar.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ar.b,notification:this.props.notification},i.a.createElement("p",null,this.props.message.text+": "+this.targetLabel),i.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),i.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&yr(n.prototype,r),o&&yr(n,o),e}();function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Or=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Sr(e).call(this,t))||"object"!==_r(o)&&"function"!=typeof o?kr(r):o).targetIndex=0,n.targetLabel="";var i=t.message,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(kr(kr(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(e,i.a.Component),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.graphController;switch(t.target.value){case"locate":var o=n[this.targetIndex++];this.targetIndex>=n.length&&(this.targetIndex=0),r.focusOnNode(o);break;case"deleteall":var i=n;r.deleteTargetNodes(i),r.applyAutoRename(),e.close()}}},{key:"render",value:function(){return i.a.createElement(ar.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ar.d,notification:this.props.notification},i.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),i.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),i.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&wr(n.prototype,r),o&&wr(n,o),e}(),Cr="machine-state",Pr="machine-transition",jr="machine-state-unreachable";function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nr(t,e){return(Nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Lr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Mr(e).call(this,t))||"object"!==xr(o)&&"function"!=typeof o?Ir(r):o).state={stepMode:!1},n.onStepTestChange=n.onStepTestChange.bind(Ir(Ir(n))),n.onAutoErrorCheckChange=n.onAutoErrorCheckChange.bind(Ir(Ir(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nr(t,e)}(e,i.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.session,n=t.getApp(),r=t.getCurrentModule()._tester;r.on("startTest",function(t){n._viewport.setCurrentView(1),n._drawer.setDrawerSoloClass(e),n._drawer.closeDrawer()}),r.on("stopTest",function(t){n._viewport.setCurrentView(0),n._drawer.setDrawerSoloClass(null),n._drawer.openDrawer()})}},{key:"onStepTestChange",value:function(t){this.setState(function(t,e){return{stepMode:!t.stepMode}})}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),n=e.isErrorChecking();e.setErrorChecking(!n),n&&this.props.session.getApp().getNotificationManager().clearNotifications("machine-error")}},{key:"render",value:function(){var t=this.props.session.getCurrentModule(),n=t.getGraphController(),r=t.getMachineController(),o=t.getStringTester(),u=t.getErrorChecker(),l=this.state.stepMode,s=u.isErrorChecking();return i.a.createElement(a.a,{id:this.props.id,className:jn.a.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},i.a.createElement(ir,{tester:o,graphController:n,machineController:r,immediate:!l}),i.a.createElement(pe.a,{id:"testing-step-test",checked:l,onChange:this.onStepTestChange,title:"Step testing"}),i.a.createElement(pe.a,{id:"testing-error-check",checked:s,onChange:this.onAutoErrorCheckChange,title:"Auto error checking"}))}}])&&Tr(n.prototype,r),o&&Tr(n,o),e}();Object.defineProperty(Lr,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});var Ar=Lr,Dr=n(167),Fr=n.n(Dr),Br=n(230);function Rr(t){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ur=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gr(e).call(this,t))||"object"!==Rr(o)&&"function"!=typeof o?Vr(r):o).optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onOptimizeMachine=n.onOptimizeMachine.bind(Vr(Vr(n))),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,i.a.Component),n=e,(r=[{key:"onDeleteAllUnreachable",value:function(t){var e=this.props.session.getCurrentModule().getGraphController(),n=Object(V.a)(e.getGraph());e.deleteTargetNodes(n)}},{key:"onOptimizeMachine",value:function(t){this.optimizeUnreachOption.isChecked()&&this.onDeleteAllUnreachable(t)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.isChecked()||this.optimizeUnreachOption&&this.optimizeUnreachOption.isChecked()}},{key:"render",value:function(){var t=this;return i.a.createElement(a.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},i.a.createElement(ce.a,{title:"Optimizations",initial:!0},i.a.createElement(Br.a,{ref:function(e){return t.optimizeUnreachOption=e},id:"opt-unreach",title:"Unreachables",value:"unreach"}),i.a.createElement(Br.a,{ref:function(e){return t.optimizeRedundOption=e},disabled:!0,id:"opt-redund",title:"Redundant States",value:"redund"}),i.a.createElement("button",{className:Fr.a.analysis_button,onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize")))}}])&&Hr(n.prototype,r),o&&Hr(n,o),e}();Object.defineProperty(Ur,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}});var Xr=Ur,Yr=n(200);function Kr(t,e,n,r){var o=null,i=null,a=[],u=0;e&&r.push(e);var l=!0,s=!1,c=void 0;try{for(var f,p=n[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;if(o=h.state,i=h.stack,e=h.index<r.length?r[h.index]:null){u=h.index+1;var y=!0,v=!1,b=void 0;try{for(var d,g=t.doTerminalTransition(o,e,i)[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value;a.push({state:m[0],stack:m[1],index:u})}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}}else if(t.isFinalState(o))return!0;u=h.index}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}return n.length=0,n.push.apply(n,a),!1}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=n,this._right=r,this._index=0}var e,n,r;return e=t,(n=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}])&&Qr(e.prototype,n),r&&Qr(e,r),t}();function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $r(t,e,n){return e&&Jr(t.prototype,e),n&&Jr(t,n),t}function to(t,e){return!e||"object"!==Zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ro=function(t){function e(t,n,r){var o;return Wr(this,e),(o=to(this,eo(e).call(this,t.getTestString(),!1,!0)))._tester=t,o._graphController=n,o._machineController=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(e,qr),$r(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}]),e}(),oo=function(){function t(){Wr(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")}return $r(t,[{key:"startTest",value:function(t,e,n){var r=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new ro(this,e,n),this.emit("startTest",this),new Promise(function(t,e){r._resolve=t,r._reject=e}))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise(function(o,i){var a=!1;do{a=n.stepForward(t,e,!r)}while(a);o(n._cachedResult)}).then(function(t){return r?n.stopTest():t})}},{key:"stepForward",value:function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var r,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){r=[],o=[];var a=n.getStartState(),u=!0,l=!1,s=void 0;try{for(var c,f=n.doClosureTransition(a,[])[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;r.push({state:p[0],stack:p[1],index:0})}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}}else{var h=this._cachePath[this._testIndex-1];r=h.states.slice(),o=h.symbols.slice(),Kr(n,this._testString[this._testIndex-1],r,o)}i&&(this._cachedResult=Kr(n,null,r,o));var y=new Set,v=!0,b=!1,d=void 0;try{for(var g,m=r[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var _=g.value,w=_.state.getSource();if(!w)throw new Error("Could not find node '"+_.state+"'");y.add(w)}}catch(t){b=!0,d=t}finally{try{v||null==m.return||m.return()}finally{if(b)throw d}}var S={targets:Array.from(y),states:r,symbols:o};this._cachePath.push(S)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}},{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}}]),t}();Yr.a.mixin(oo);var io=oo,ao=n(21);function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lo=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graphController=n,this._machineController=r,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),r.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)}var e,n,r;return e=t,(n=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController},e=this._machineController.getMachineBuilder(),n=e.getMachineErrors(),r=e.getMachineWarnings(),o=this._app.getNotificationManager();if(o.clearNotifications("machine-error"),n.length<=0&&r.length<=0)o.pushNotification(I18N.toString("message.error.none"),ao.b,"machine-error",null,!1);else{var i=!0,a=!1,u=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;switch(c.name){case"duplicate_state":o.pushNotification({text:"Found duplicate nodes of similar names",targets:c.nodes},Cr,"machine-error",t,!1);break;case"unreachable_state":o.pushNotification(c.nodes,jr,"machine-error",t,!1)}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}var f=!0,p=!1,h=void 0;try{for(var y,v=n[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;switch(b.name){case"incomplete_transition":o.pushNotification({text:I18N.toString("message.error.incomplete"),targets:b.edges},Pr,"machine-error",t,!1)}}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}])&&uo(e.prototype,n),r&&uo(e,r),t}(),so=n(27),co=n.n(so),fo=n(231),po=n(232),ho=n(198);function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bo(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bo(this,go(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=e.getInputController(),o=e.getGraphController(),a=r.isActionMode();return i.a.createElement("div",{id:this.props.id,className:co.a.view_pane+" "+this.props.className,style:this.props.style},i.a.createElement(ho.a,{className:co.a.view_widget,style:{right:0},viewportAdapter:n.getInputAdapter().getViewportAdapter()}),i.a.createElement("div",{className:co.a.view_widget,style:{bottom:0,left:0}},i.a.createElement(fo.a,{mode:a?0:1,onChange:function(t){return r.setInputScheme(0===t)}})),i.a.createElement("div",{className:co.a.view_widget,style:{bottom:0,right:0}},i.a.createElement(po.a,{app:n,inputController:r,graphController:o})))}}])&&vo(n.prototype,r),o&&vo(n,o),e}(),wo=n(247);function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ko(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Po=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ko(this,Oo(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(e,i.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!0)}},{key:"componentWillUnmount",value:function(){this.props.session.getCurrentModule().getInputController().setDisabled(!1)}},{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=t.getApp(),r=e._tester;return i.a.createElement("div",{id:this.props.id,className:co.a.view_pane+" "+this.props.className,style:this.props.style},i.a.createElement(ho.a,{className:co.a.view_widget,style:{right:0},viewportAdapter:n.getInputAdapter().getViewportAdapter()}),i.a.createElement("div",{className:co.a.view_widget,style:{bottom:0}},i.a.createElement(wo.a,{value:r?r.getTapeContext():null})))}}])&&Eo(n.prototype,r),o&&Eo(n,o),e}(),jo=n(32),xo=n(10),To=n(233),Mo=n(234),No=n(235),Io=n(236),Lo=n(237),Ao=n(238),Do=n(239),Fo=n(240),Bo=n(241),Ro=n(242),Ho=n(243),Go=n(218),zo=n(199);function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xo(t,e){return!e||"object"!==Vo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ko(t,e){return(Ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qo=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Xo(this,Yo(e).call(this,t)))._graphParser=n,r._prevGraphHash=0,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ko(t,e)}(e,zo["a"]),n=e,(r=[{key:"onParseSession",value:function(t,e){return JSON.parse(e)}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph();this._graphParser.parse(e.graphData,i),function(t,e,n){var r=n.type;r&&e.setMachineType(r);var o=n.symbols;if(o&&Array.isArray(o)){e.clearCustomSymbols();var i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;e.addCustomSymbol(c)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}}var f=n.statePrefix;f&&t.getGraphLabeler().setDefaultNodeLabelPrefix(f)}(n,r,o,e.machineData)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&Uo(n.prototype,r),o&&Uo(n,o),e}(),qo=n(26),Zo=n(197);function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $o(t,e){return!e||"object"!==Wo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ei(t,e){return(ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ni=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$o(this,ti(e).call(this,".pda.json")))._graphParser=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ei(t,e)}(e,qo["a"]),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph(),a=this._graphParser.objectify(i);e.graphData=a,e.machineData={symbols:o.getCustomSymbols(),statePrefix:r.getGraphLabeler().getDefaultNodeLabelPrefix()}}},{key:"getIconClass",value:function(){return Zo.a}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}}])&&Jo(n.prototype,r),o&&Jo(n,o),e}(),ri=n(245);function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ii=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._inputManager=new u.a(this,new ht,new Et,r,ae),e.getRenderManager().addRenderer(xo.c,function(t){return i.a.createElement(it.a,{ref:function(t){return e._workspace.current=t}},i.a.createElement(qt,{currentModule:n,parent:t.workspace}),n._inputManager.getInputController()&&i.a.createElement(ue.a,{currentModule:n}))}),this._machineController=new ot(this),this._errorChecker=new lo(e,this._inputManager.getGraphController(),this._machineController),this._tester=new io}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){var e,n=this;this._inputManager.onSessionStart(t.getSession()),this._inputManager.getInputController().getPicker().addPickHandler(this._initialPickHandler=new Ho.a).addPickHandler(this._endpointPickHandler=new Ro.a).addPickHandler(this._nodePickHandler=new Fo.a).addPickHandler(this._edgePickHandler=new Bo.a),this._inputManager.getInputController().addInputHandler(this._nodeInputHandler=new Mo.a).addInputHandler(this._edgeInputHandler=new Io.a).addInputHandler(this._endpointInputHandler=new Lo.a).addInputHandler(this._initialInputHandler=new No.a).addInputHandler(this._createInputHandler=new Ao.a).addInputHandler(this._acceptInputHandler=new Do.a),(e=t.getNotificationManager()).registerNotificationLayout(jr,Or),e.registerNotificationLayout(Cr,pr),e.registerNotificationLayout(Pr,mr),t.getExportManager().registerExporter(new ni(kt),"session"),Object(ri.a)(t.getExportManager()),t.getImportManager().addImporter(new Qo(t,kt),".pda.json",".json"),t.getViewportManager().addViewClass(_o).addViewClass(Po),t.getDrawerManager().addPanelClass(function(t){return i.a.createElement(a.a,{id:t.id,className:t.className,style:t.style,title:"Pushdown Automata"},i.a.createElement("p",null,"Brought to you with ❤ by the Flap.js team."),i.a.createElement("p",null,"<- Tap on a tab to begin!"))}).addPanelClass(Cn).addPanelClass(Ar).addPanelClass(Xr),t.getHotKeyManager().registerHotKey("Export to PNG",[jo.a,"KeyP"],function(){t.getExportManager().tryExportFile("image-png",t.getSession())}).registerHotKey("Save as JSON",[jo.a,"KeyS"],function(){t.getExportManager().tryExportFile("session",t.getSession())}).registerHotKey("New",[jo.a,"KeyN"],function(){n.clear(t)}).registerHotKey("Undo",[jo.a,"KeyZ"],function(){t.getUndoManager().undo()}).registerHotKey("Redo",[jo.a,jo.b,"KeyZ"],function(){t.getUndoManager().redo()}),t.getUndoManager().setEventHandlerFactory(function(){return new To.a(n._inputManager.getGraphController(),n._inputManager.getGraphParser())}),this.getMachineController().initialize(this)}},{key:"update",value:function(t){this._inputManager.update(this),this.getMachineController().update(this)}},{key:"destroy",value:function(t){this._inputManager.onSessionStop(t.getSession()),this.getMachineController().destroy(this)}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Go.a(t,e,function(){return t.getToolbarComponent().closeBar()})}},{key:"getInputManager",value:function(){return this._inputManager}},{key:"getInputController",value:function(){return this._inputManager.getInputController()}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._inputManager.getGraphController()}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModuleName",value:function(){return"pda"}},{key:"getLocalizedModuleName",value:function(){return"PDA"}},{key:"getApp",value:function(){return this._app}}])&&oi(e.prototype,n),o&&oi(e,o),t}();e.default=ii}])]);
//# sourceMappingURL=sourcemap/module_pda.bundle.js.map