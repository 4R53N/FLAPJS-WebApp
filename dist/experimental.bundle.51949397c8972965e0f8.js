(window.webpackJsonp=window.webpackJsonp||[]).push([[2,3],{168:function(e,t,n){"use strict";n.r(t);var r=n(19),o=n(14),i=n(43),a=n(36),u=n(13),l=n(21),c=n(35),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.nodes||[],r=Math.min(n.length||0,e.nodeCount||0),o=e.edges||[],i=Math.min(o.length||0,e.edgeCount||0),s=e.quad||!1;t?t.clear():t=new a.a(u.a,s?c.a:l.a);for(var f=new Map,p=0;p<r;++p){var y=n[p];if(y){var h=t.createNode(y.x||0,y.y||0,y.id);h.setNodeLabel(y.label||""),f.set(p,h)}}for(var b=0;b<i;++b){var m=o[b];if(m){var d=f.get(m.from)||null;if(d){var v=f.get(m.to)||null,g=t.createEdge(d,v,m.id);if(g.setEdgeLabel(m.label||""),g instanceof c.a){var w=m.quad||{};g.setQuadratic(w.radians||0,w.length||0)}}}}return t},f=function(e){for(var t=e.getNodes()||[],n=t.length||0,r=e.getEdges()||[],o=r.length||0,i=new Array(n),a=new Map,u=0;u<n;++u){var l=t[u];if(l){var s=l.getGraphElementID();a.set(l,u),i[u]={id:s,x:l.x||0,y:l.y||0,label:l.getNodeLabel()||""}}}for(var f=!1,p=new Array(o),y=0;y<o;++y){var h=r[y];if(h){var b=h.getGraphElementID(),m=h.getQuadratic()||{},d=h.getSourceNode(),v=h.getDestinationNode(),g=a.has(d)?a.get(d):-1,w=a.has(v)?a.get(v):-1;p[y]={id:b,from:g,to:w,label:h.getEdgeLabel()||""},h instanceof c.a&&(f=!0,p[y].quad={radians:m.radians||0,length:m.length||0})}}return{nodeCount:n,nodes:i,edgeCount:o,edges:p,hasQuad:f,_version:"1.0.0"}},p=n(8);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,m(t).call(this))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["a"]),n=t,(r=[{key:"fromJSON",value:function(e,t){var n=t.getGraphController().getGraph();"_metadata"in e&&e._metadata;return s(e.graphData,n)}},{key:"toJSON",value:function(e,t){t.getGraphController();var n={};return n._metadata={module:t.getModuleName(),version:"0.3.3:"+t.getModuleVersion(),timestamp:(new Date).toString()},n.graphData=e,n}},{key:"importFromData",value:function(e,t){this.fromJSON(e,t)}},{key:"exportToData",value:function(e){var t=e.getGraphController().getGraph(),n=f(t);return this.toJSON(n,e)}},{key:"importFromFile",value:function(e,t){var n=this;return new Promise(function(r,o){var i=e.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(e){var u=t.getGraphController(),l=e.target.result,c=(i.substring(0,i.length-n.getFileType().length-1),u.getGraph());u.emit("userPreImportGraph",c);try{var s=JSON.parse(l);n.fromJSON(s,t),u.emit("userImportGraph",c),r()}catch(e){a.abort(),o(e)}finally{u.emit("userPostImportGraph",c)}},a.onerror=function(e){o(new Error("Unable to import file: "+e.target.error.code))},a.readAsText(e)})}},{key:"exportToFile",value:function(e,t){var n=t.getGraphController().getGraph(),r=f(n),o=this.toJSON(r,t),i=JSON.stringify(o);Object(p.e)(e+"."+this.getFileType(),i)}},{key:"doesSupportData",value:function(){return!0}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!0}},{key:"getTitle",value:function(){return"Save machine to JSON"}},{key:"getLabel",value:function(){return"Save machine to JSON"}},{key:"getFileType",value:function(){return"json"}},{key:"getIconClass",value:function(){return i.a}}])&&h(n.prototype,r),a&&h(n,a),t}(),g=n(45),w=n(3);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectionBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[],this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType=""}var t,n,r;return t=e,(n=[{key:"setInitialTarget",value:function(e,t){this.initialTarget=e,this.initialTargetType=t}},{key:"updateTarget",value:function(e,t,n){return(this.target=this.getEdgeByEndPointAt(e,t,n))?this.targetType="endpoint":(this.target=this.getNodeAt(e,t,n))?this.targetType="node":(this.target=this.getEdgeAt(e,t,n))?this.targetType="edge":(this.target=null,this.targetType="none"),this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"getNodeAt",value:function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,u=e.getNodes()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,c=t-l.x,s=n-l.y;if(c*c+s*s<w.a.NODE_RADIUS_SQU)return l}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return null}},{key:"getEdgeAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=e.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c.getCenterPoint(r);var s=t-r.x,f=n-r.y;if(s*s+f*f<w.a.EDGE_RADIUS_SQU)return c}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getEdgeByEndPointAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var u,l=e.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c.getEndPoint(r);var s=t-r.x,f=n-r.y;if(s*s+f*f<w.a.ENDPOINT_RADIUS_SQU)return c}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getSelectionBox",value:function(){return this.selectionBox}},{key:"getSelection",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t=this.selectionBox,n=Math.max(t.toX,t.fromX),r=Math.max(t.toY,t.fromY),o=Math.min(t.toX,t.fromX),i=Math.min(t.toY,t.fromY);this.clearSelection(),function(e,t,n,r,o,i){var a=Math.min(t,r),u=Math.min(n,o),l=Math.max(t,r),c=Math.max(n,o),s=!0,f=!1,p=void 0;try{for(var y,h=e.getNodes()[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var b=y.value;b.x>=a&&b.x<l&&b.y>=u&&b.y<c&&i.push(b)}}catch(e){f=!0,p=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw p}}}(e,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(e){return this.targets.includes(e||this.target)}},{key:"isTarget",value:function(e){return this.target==e}},{key:"beginSelection",value:function(e,t,n){var r=this.selectionBox;r.fromX=r.toX=t,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0)}},{key:"endSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this.selectionBox.visible}}])&&_(t.prototype,n),r&&_(t,r),e}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=!0,N=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=j(this,C(t).call(this,e,n)))._picker=new E,r._graphController=null,r.prevPointerX=0,r.prevPointerY=0,r.isNewEdge=!1,r.shouldDestroyPointlessEdges=T,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,g["a"]),n=t,(r=[{key:"initialize",value:function(e){k(C(t.prototype),"initialize",this).call(this,e),this._graphController=e.getGraphController()}},{key:"destroy",value:function(e){k(C(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){var t=this._graphController.getGraph(),n=this._picker,r=this._inputAdapter.getPointerX(),o=this._inputAdapter.getPointerY();r==this.prevPointerX&&o==this.prevPointerY||(this.prevPointerX=r,this.prevPointerY=o,n.updateTarget(t,r,o),n.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"onPreInputEvent",value:function(e){var n=this._graphController.getGraph(),r=this.getPicker();r.updateTarget(n,e.x,e.y),r.setInitialTarget(r.target,r.targetType);var o=r.initialTarget,i=r.initialTargetType;return r.hasSelection()&&("node"==i&&r.isTargetInSelection(o)||r.clearSelection()),k(C(t.prototype),"onPreInputEvent",this).call(this,e)}},{key:"onInputEvent",value:function(e){var n=this._graphController,r=e.x,o=e.y,i=n.getGraph(),a=this.getPicker();a.updateTarget(i,r,o);var u=a.initialTarget,l=a.initialTargetType;return this.isTrashMode()?"node"===l?(n.prevX=u.x,n.prevY=u.y,a.hasSelection()?n.deleteSelectedNodes(u):n.deleteTargetNode(u),!0):("edge"===l||"endpoint"===l)&&(n.deleteTargetEdge(u),!0):"node"===l?(n.openLabelEditor(u,r,o),!0):"edge"===l?(n.openLabelEditor(u,r,o),!0):"none"!==l||k(C(t.prototype),"onInputEvent",this).call(this,e)}},{key:"onDblInputEvent",value:function(e){var t=this._graphController,n=e.x,r=e.y;return this.isTrashMode()?(t.emit("tryCreateWhileTrash"),!0):(t.createNode(n,r),!0)}},{key:"onDragStart",value:function(e){var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y,l=o.initialTarget,s=o.initialTargetType;this.getInputAdapter().getViewport();if(this.isMoveMode()){if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;if(this.isNewEdge=!1,"edge"===s&&l.isPlaceholder())return!1;if("node"===s){if(!(l instanceof u.a))throw new Error("Invalid target "+l+" for type '"+s+"'. Must be an instance of Node.");return n.prevX=l.x,n.prevY=l.y,!0}if("edge"===s){if(!(l instanceof c.a))throw new Error("Invalid target "+l+" for type '"+s+"'. Must be an instance of Edge.");if(l.isPlaceholder())return!1;var f=l.getQuadratic();return n.prevQuad.radians=f.radians,n.prevQuad.length=f.length,!0}if("initial"===s)return this.ghostInitialMarker=e,!0}else{if("node"===s){if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var p=r.createEdge(l,e);p.setEdgeLabel(n.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(p,"endpoint"),this.isNewEdge=!0;var y=p.getQuadratic();return n.prevQuad.radians=y.radians,n.prevQuad.length=y.length,!0}if("edge"==s)return!1;if("none"===s)return o.beginSelection(r,i,a),!0}if("endpoint"===s){if(!(l instanceof c.a))throw new Error("Invalid target "+l+" for type '"+s+"'. Must be an instance of Edge.");var h=l.getQuadratic();return n.prevQuad.radians=h.radians,n.prevQuad.length=h.length,n.prevEdgeTo=l.getDestinationNode(),this.isNewEdge=!this.isMoveMode(),!0}return k(C(t.prototype),"onDragStart",this).call(this,e)}},{key:"onDragMove",value:function(e){var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y,u=o.initialTarget,l=o.initialTargetType;if(this.isMoveMode()){if("node"===l)return o.hasSelection()?n.moveMultipleNodesTo(e,o.getSelection(r),i,a):n.moveNodeTo(e,u,i,a),!0;if("edge"===l)return n.moveEdgeTo(e,u,i,a),!0;if("endpoint"===l)return n.moveEndpointTo(e,u,i,a),!0;if("initial"===l){var c=o.getNodeAt(r,i,a)||e;return this.ghostInitialMarker=c,!0}if("none"!==l)throw new Error("Unknown target type '"+l+"'.")}else{if(this.isNewEdge)return n.moveEndpointTo(e,u,i,a),!0;if(o.isSelecting())return o.updateSelection(r,i,a),!0}return k(C(t.prototype),"onDragMove",this).call(this,e)}},{key:"onDragStop",value:function(e){var n=this._graphController,r=n.getGraph(),o=this.getPicker(),i=e.x,a=e.y;o.updateTarget(r,i,a);var l=o.initialTarget,c=o.initialTargetType;if(this.isMoveMode()||this.isNewEdge){if("node"===c){if(this.isTrashMode())return o.hasSelection()?n.deleteSelectedNodes(l):n.deleteTargetNode(l),!0;if(o.hasSelection()){var s=i-n.prevX,f=a-n.prevY;n.emit("nodeMoveAll",r,o.getSelection(r),s,f)}else n.emit("nodeMove",r,l,i,a,n.prevX,n.prevY);return!0}if("edge"===c)return this.isTrashMode()?n.deleteTargetEdge(l):n.emit("edgeMove",r,l,l.getQuadratic(),n.prevQuad),!0;if(this.isNewEdge||"endpoint"===c){if(this.isTrashMode())return n.deleteTargetEdge(l),!0;if(l.getDestinationNode()instanceof u.a){var p=l;return p!==l?(n.openLabelEditor(p,i,a,p.getEdgeLabel(),!1),r.deleteEdge(l),!0):(this.isNewEdge?n.openLabelEditor(l,i,a,null,!0,function(){n.emit("userPostCreateEdge",r,l)}):n.openLabelEditor(l,i,a),this.isNewEdge?(this.isNewEdge=!1,n.emit("userCreateEdge",r,l)):null!==n.prevEdgeTo&&n.emit("edgeDestination",r,l,l.getDestinationNode(),n.prevEdgeTo,n.prevQuad),!0)}return this.shouldDestroyPointlessEdges?(this.isNewEdge?r.deleteEdge(l):n.deleteTargetEdge(l),!0):(l.changeDestinationNode(null),l.getEdgeLabel().length<=0&&n.openLabelEditor(l,i,a),!0)}if("none"!==c)throw new Error("Unknown target type '"+c+"'.")}else if(o.isSelecting())return o.endSelection(r,i,a),!0;return k(C(t.prototype),"onDragStop",this).call(this,e)}},{key:"onPostInputEvent",value:function(e){var n=this._graphController.getGraph(),r=this.getPicker();return r.clearTarget(),r.updateTarget(n,e.x,e.y),k(C(t.prototype),"onPostInputEvent",this).call(this,e)}},{key:"onZoomChange",value:function(e,n,r){return k(C(t.prototype),"onZoomChange",this).call(this,e,n,r)}},{key:"setTrashMode",value:function(e){this._trashMode=e}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(e){this._swapMouseScheme=!e}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var e=this._inputAdapter.isAltInput();return this._swapMouseScheme?!e:e}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}}])&&S(n.prototype,r),o&&S(n,o),t}(),x=n(37),M=n(15),L=n(38);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return e||""}var B=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,A(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,L["a"]),n=t,(r=[{key:"getNodeLabelFormatter",value:function(){return K}},{key:"getEdgeLabelFormatter",value:function(){return K}}])&&R(n.prototype,r),o&&R(n,o),t}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=G(this,U(t).call(this,e,new a.a(u.a,c.a),new B))).inputController=null,n.machineController=null,n.labelEditorElement=null,n.prevQuad={radians:0,length:0,x:0,y:0},n.prevEdgeTo=null,n.prevX=0,n.prevY=0,n.registerEvent("userCreateNode"),n.registerEvent("userPreCreateNode"),n.registerEvent("userPostCreateNode"),n.registerEvent("userDeleteNodes"),n.registerEvent("userPreDeleteNodes"),n.registerEvent("userPostDeleteNodes"),n.registerEvent("userDeleteEdge"),n.registerEvent("userPreDeleteEdge"),n.registerEvent("userPostDeleteEdge"),n.registerEvent("userCreateEdge"),n.registerEvent("userPostCreateEdge"),n.registerEvent("userRenameNode"),n.registerEvent("userChangeLayout"),n.registerEvent("userPreChangeLayout"),n.registerEvent("userPostChangeLayout"),n.registerEvent("userImportGraph"),n.registerEvent("userPreImportGraph"),n.registerEvent("userPostImportGraph"),n.registerEvent("nodeMove"),n.registerEvent("nodeMoveAll"),n.registerEvent("nodeInitial"),n.registerEvent("edgeDestination"),n.registerEvent("edgeMove"),n.registerEvent("edgeLabel"),n.registerEvent("tryCreateWhileTrash"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,x["a"]),n=t,(r=[{key:"initialize",value:function(e){V(U(t.prototype),"initialize",this).call(this,e),this.inputController=e.getInputController(),this.machineController=e.getMachineController()}},{key:"destroy",value:function(e){V(U(t.prototype),"destroy",this).call(this,e)}},{key:"renameNode",value:function(e,t){var n=e.getNodeLabel(),r=e.getNodeCustom();e.setNodeLabel(t),e.setNodeCustom(!0),this.emit("userRenameNode",this.getGraph(),e,t,n,r)}},{key:"createNode",value:function(e,t){var n=this.getGraphLabeler().getDefaultNodeLabel();void 0===e&&(e=Math.random()*w.a.SPAWN_RADIUS*2-w.a.SPAWN_RADIUS),void 0===t&&(t=Math.random()*w.a.SPAWN_RADIUS*2-w.a.SPAWN_RADIUS),this.emit("userPreCreateNode",this.getGraph(),n,e,t);var r=this.getGraph().createNode(e,t);return r.setNodeLabel(n),this.emit("userCreateNode",this.getGraph(),r),this.emit("userPostCreateNode",this.getGraph(),r),r}},{key:"deleteSelectedNodes",value:function(e){var t=this.inputController.getPicker(),n=t.getSelection(this.getGraph()).slice();this.emit("userPreDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY);var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this.getGraph().deleteNode(l)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}t.clearSelection(),this.emit("userDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e,n,this.prevX,this.prevY)}},{key:"deleteTargetNode",value:function(e){this.emit("userPreDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY),this.getGraph().deleteNode(e),this.emit("userDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e,[e],this.prevX,this.prevY)}},{key:"deleteTargetNodes",value:function(e){if(e&&!(e.length<=0)){this.emit("userPreDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY);var t=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t.deleteNode(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.emit("userDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY),this.emit("userPostDeleteNodes",this.getGraph(),e[0],e,this.prevX,this.prevY)}}},{key:"deleteTargetEdge",value:function(e){this.emit("userPreDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad),this.getGraph().deleteEdge(e),this.emit("userDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad),this.emit("userPostDeleteEdge",this.getGraph(),e,this.prevEdgeTo,this.prevQuad)}},{key:"deleteTargetEdges",value:function(e){if(e&&!(e.length<=0)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(e,t,n,r){var o=!0,i=!1,a=void 0;try{for(var u,l=this.getGraph().getNodes()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(t!==c){var s=t.getNodeSize(),f=n-c.x,p=r-c.y,y=Math.atan2(p,f),h=2*s,b=c.x+Math.cos(y)*h-n,m=c.y+Math.sin(y)*h-r;f*f+p*p<s*s*4&&(n+=b,r+=m)}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}t.x=n,t.y=r}},{key:"moveMultipleNodesTo",value:function(e,t,n,r){var o=e.getInputEventPosition(),i=n-o.x,a=r-o.y,u=!0,l=!1,c=void 0;try{for(var s,f=t[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var p=s.value;p.x+=i,p.y+=a}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}e.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(e,t,n,r){t.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(e,t,n,r){var o=this.inputController.getPicker().getNodeAt(this.getGraph(),n,r)||e;if(t.changeDestinationNode(o),t.isSelfLoop()){var i=t.getSourceNode(),a=i.x-n,u=i.y-r,l=Math.atan2(u,a)+Math.PI;t.setQuadratic(l)}else t.setQuadratic(this.prevQuad.radians,this.prevQuad.length)}},{key:"openLabelEditor",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(this.labelEditorElement){var u=o||e instanceof l.a?e.getEdgeLabel():e.getNodeLabel();this.labelEditorElement.openEditor(e,o,i,function(){var t=e instanceof l.a?e.getEdgeLabel():e.getNodeLabel();u&&u.length>0&&t!=u&&r.emit(e instanceof l.a?"edgeLabel":"nodeLabel",r.getGraph(),e,t,u),a&&a()})}else a&&a()}},{key:"focusOnNode",value:function(e){this.inputController.getInputAdapter().getViewport().setOffset(-e.x,-e.y)}},{key:"focusOnEdge",value:function(e){var t=e.getCenterPoint();this.inputController.getInputAdapter().getViewport().setOffset(-t.x,-t.y)}},{key:"focusOnNodes",value:function(e){var t=e.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;n+=c.x,r+=c.y}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewport().setOffset(-n/t,-r/t)}}])&&F(n.prototype,r),o&&F(n,o),t}();M.a.mixin(Y);var Q=Y,X=n(39),Z=n(40);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,ee(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,Z["a"]),n=t,(r=[{key:"onGraphChange",value:function(e){}}])&&q(n.prototype,r),o&&q(n,o),t}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ie(this,ae(t).call(this,e,new ne)))._machineName="",n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,X["a"]),n=t,(r=[{key:"setMachineName",value:function(e){this._machineName=e}},{key:"getMachineName",value:function(){return this._machineName}}])&&oe(n.prototype,r),o&&oe(n,o),t}(),ce=n(0),se=n.n(ce);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ye(this,he(t).call(this,e))).container=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return se.a.createElement("div",{className:"panel-container "+this.props.className,id:"about",ref:function(t){return e.container=t},style:this.props.style},se.a.createElement("div",{className:"panel-title"},se.a.createElement("h1",null,"Default")),se.a.createElement("div",{className:"panel-content"},se.a.createElement("p",null,"Brought to you with ❤ by the Flap.js team."),se.a.createElement("p",null,"<- Tap on a tab to begin!")),se.a.createElement("div",{className:"panel-bottom"}))}}])&&pe(n.prototype,r),o&&pe(n,o),t}();n(170);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,we(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.node,t=this.props.fill||"#FFFFFF",n=this.props.stroke||"#000000",r=e.getNodeLabel()||"";return se.a.createElement("g",{className:"graph-node-container"},se.a.createElement("circle",{className:"graph-node",cx:e.x,cy:e.y,r:e.getNodeSize(),fill:t,stroke:n}),"//Label",se.a.createElement("text",{className:"graph-node-label",x:e.x,y:e.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(r.length-2,0)/6,.5)+"em"},textAnchor:"middle"},r))}}])&&ve(n.prototype,r),o&&ve(n,o),t}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=Math.PI/6,Te=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,ke(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.stroke||"#000000",t=this.props.edge,n=t.getStartPoint(),r=t.getEndPoint(),o=t.getCenterPoint(),i=t.getEdgeLabel(),a=(t.getQuadratic(),t.getQuadraticAsCoords()),u=t.getEdgeDirection(),l=a.y>0,c=null,s=0;if(t.isQuadratic()){var f=o.x+a.x,p=o.y+a.y;s=Math.atan2(f-r.x,p-r.y)+Math.PI,c="Q "+f+" "+p+" "+r.x+" "+r.y}else s=Math.atan2(n.x-r.x,n.y-r.y)+Math.PI,c="L "+r.x+" "+r.y;var y=i?i.split("\n"):[],h=o&&o.x||0,b=o&&o.y||0;return se.a.createElement("g",{className:"graph-edge-container"},"//Draw lines",se.a.createElement("path",{className:"graph-edge",id:"edge:"+t.getGraphElementID(),d:"M "+n.x+" "+n.y+" "+c+" M "+(r.x-10*Math.sin(s-Pe))+" "+(r.y-10*Math.cos(s-Pe))+" L "+r.x+" "+r.y+" L "+(r.x-10*Math.sin(s+Pe))+" "+(r.y-10*Math.cos(s+Pe)),fill:"none",stroke:e}),se.a.createElement("g",{transform:"translate("+h+","+b+") rotate("+180*u/Math.PI+")"},y.length>0&&y.map(function(e,t){var n=-15*(t+1);return se.a.createElement("text",{key:e+"."+t,className:"graph-edge-label",transform:"translate(0, "+n+")"+(l?" scale(-1, -1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle"},e)})))}}])&&Se(n.prototype,r),o&&Se(n,o),t}();function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Le(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.currentModule.getGraphController().getGraph();return se.a.createElement("g",null,e.getNodes().map(function(e,t){return se.a.createElement(Ee,{key:e.getGraphElementID()||t,node:e})}),e.getEdges().map(function(e,t){return se.a.createElement(Te,{key:e.getGraphElementID()||t,edge:e})}))}}])&&xe(n.prototype,r),o&&xe(n,o),t}(),Ie=n(41),Ae=n(17);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,He(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){this.props.parent;var e=this.props.currentModule,t=e.getGraphController(),n=e.getInputController(),r=t.getGraph(),o=n.getPicker(),i=o.getSelectionBox();return se.a.createElement("g",null,o.hasSelection()&&o.getSelection(r).map(function(e,t){return se.a.createElement(Ae.a,{key:e.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:e,type:"node"})}),se.a.createElement(Ie.a,{visible:i.visible,fromX:i.fromX,fromY:i.fromY,toX:i.toX,toY:i.toY}),o.hasTarget()&&!o.isTargetInSelection()&&se.a.createElement(Ae.a,{className:n.isTrashMode()?"highlight-error":"highlight-select",target:o.target,type:o.targetType}))}}])&&Ke(n.prototype,r),o&&Ke(n,o),t}(),Ve=n(42),Ue=n(44);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qe(this,Xe(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,se.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.parent,t=this.props.currentModule,n=this.props.screen,r=t.getInputController(),o=t.getGraphController(),i=t.getMachineController(),a=t.getLabelEditor();return se.a.createElement("span",null,a&&se.a.createElement(a,{ref:function(e){return o.labelEditorElement=e},inputController:r,graphController:o,machineController:i,screen:n}),se.a.createElement("span",null,se.a.createElement("div",{className:"anchor-bottom-left",style:{width:"100%"}},se.a.createElement(Ue.a,{inputController:r,graphController:o})),se.a.createElement("div",{className:"anchor-bottom-right"},se.a.createElement(Ve.a,{inputController:r,viewport:e}))))}}])&&Ye(n.prototype,r),o&&Ye(n,o),t}(),qe=(n(171),n(9)),$e=n(22);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}qe.a;var it=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=nt(t).call(this,e))||"object"!==et(o)&&"function"!=typeof o?ot(r):o).parentElement=null,n.inputElement=null,n._timer=null,n._prevValue="",n.state={target:null,callback:null},n.onContextMenu=n.onContextMenu.bind(ot(ot(n))),n.onFormat=n.onFormat.bind(ot(ot(n))),n.onSubmit=n.onSubmit.bind(ot(ot(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,se.a.Component),n=t,(r=[{key:"openEditor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");this.setState(function(t,n){return{target:e,callback:o}});var i=e instanceof l.a?e.getEdgeLabel():e.getNodeLabel();this.inputElement.resetValue(i,function(){n&&t.inputElement.setValue(n),t._prevValue=i,t.parentElement.focus(),t.inputElement.focus(r)})}},{key:"closeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");var t=this.state.target;if(null!==t){if(e){var n=this.inputElement.value;t instanceof l.a?t.setEdgeLabel(n):t.setNodeLabel(n)}else{(t instanceof l.a?t.getEdgeLabel():t.getNodeLabel())||(t instanceof l.a?t.setEdgeLabel(null):t.setNodeLabel(null),t instanceof l.a?this.props.graphController.getGraph().deleteEdge(t):this.props.graphController.getGraph().deleteNode(t))}this.setState({target:null}),this.state.callback&&this.state.callback()}this.inputElement.blur()}},{key:"hasFocus",value:function(){return this.inputElement.hasFocus()}},{key:"isEditorOpen",value:function(){return null!==this.state.target}},{key:"onContextMenu",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"appendSymbol",value:function(e){this.inputElement.appendValue(e,qe.b),this.inputElement.focus(!1)}},{key:"onSubmit",value:function(e,t){e!=t||this.closeEditor(!1)}},{key:"onFormat",value:function(e){return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null,e)}},{key:"render",value:function(){var e=this,t=this.props.inputController.getInputAdapter().getViewport(),n=(this.props.graphController,this.props.machineController,this.props.screen),r={visibility:"hidden"},o=this.state.target;if(o){r.visibility="visible";var i=o instanceof l.a?o.getCenterPoint():o,a=function(e,t,n){var r=e.getScreenCTM();return{x:t*r.a+r.e,y:n*r.d+r.f}}(n,i.x+t.getOffsetX(),i.y+t.getOffsetY()),u=a.x,c=a.y+-64+-36,s=-this.parentElement.offsetWidth/2,f=-this.parentElement.offsetHeight/2;r.top=c+f+"px",r.left=u+s+"px"}return se.a.createElement("div",{className:"bubble",id:"label-editor",ref:function(t){return e.parentElement=t},tabIndex:"0",style:r,onContextMenu:this.onContextMenu,onFocus:function(t){clearTimeout(e._timer)},onBlur:function(t){e._timer=setTimeout(function(){return e.closeEditor(!0)},10)}},se.a.createElement($e.a,{className:"label-editor-input",ref:function(t){return e.inputElement=t},formatter:this.onFormat,onSubmit:this.onSubmit,captureOnExit:"none",multiline:!0}))}}])&&tt(n.prototype,r),o&&tt(n,o),t}();function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t,n){return(lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pt=[me],yt=[new v],ht=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=ct(t).call(this,e))||"object"!==at(o)&&"function"!=typeof o?ft(r):o;var i=e.getInputAdapter();return n._inputController=new N(ft(ft(n)),i),n._graphController=new Q(ft(ft(n))),n._machineController=new le(ft(ft(n))),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["b"]),n=t,(o=[{key:"getLabelEditor",value:function(){return it}},{key:"initialize",value:function(e){lt(ct(t.prototype),"initialize",this).call(this,e)}},{key:"destroy",value:function(e){lt(ct(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){lt(ct(t.prototype),"update",this).call(this,e)}},{key:"getRenderer",value:function(e){switch(e){case"graph":return Re;case"graphoverlay":return Ge;case"viewport":return Je}return null}},{key:"getInputController",value:function(){return this._inputController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphExporters",value:function(){return yt}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModulePanels",value:function(){return pt}},{key:"getModuleName",value:function(){return"default"}},{key:"getLocalizedModuleName",value:function(){return"Default"}}])&&ut(n.prototype,o),i&&ut(n,i),t}();t.default=ht},207:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(23),a=(n(173),n(174)),u=n.n(a),l=n(175),c=n.n(l);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.title,n=t.SHOW_LABEL&&e;return o.a.createElement("button",{id:this.props.id,className:c.a.icon_button+(n?" icon-button-show-label ":"")+" "+this.props.className,style:this.props.style,title:e,disabled:this.props.disabled,onClick:this.props.onClick},this.props.children,o.a.createElement("label",null,e))}}])&&f(n.prototype,r),i&&f(n,i),t}();b.SHOW_LABEL=!1;var m=b;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,w(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))}}])&&v(n.prototype,r),i&&v(n,i),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T="--drawer-width",N=200,x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?P(r):o).ref=null,n.drawerElement=null,n.state={open:!1,tabIndex:0,soloClass:null},n._handlingGrab=!1,n._handlingResize=!1,n._isfull=!1,n._hasintent=!1,n._prevWidth=N,n._resizeTimeout=null,n._resizeEndTimeout=null,n._sideways=!1,n.onDrawerHandleGrab=n.onDrawerHandleGrab.bind(P(P(n))),n.onDrawerHandleRelease=n.onDrawerHandleRelease.bind(P(P(n))),n.onDrawerHandleMove=n.onDrawerHandleMove.bind(P(P(n))),n.onDrawerExpand=n.onDrawerExpand.bind(P(P(n))),n.onWindowResize=n.onWindowResize.bind(P(P(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"openDrawer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&this.setDrawerWidth("full",!0),this.state.open||this.setState({open:!0},t)}},{key:"closeDrawer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.open&&this.setState({open:!1},e)}},{key:"toggleDrawer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(e,t){return{open:!e.open}},e)}},{key:"isDrawerOpen",value:function(){return this.state.open}},{key:"isDrawerFullscreen",value:function(){return this._isfull}},{key:"setCurrentTab",value:function(e){this.props.panels&&(e>=this.props.panels.length&&(e=0),this.state.open&&this.state.tabIndex===e?this._isfull?this.setDrawerWidth(this._prevWidth):this.setDrawerWidth("full",!0):this.setState({open:!0,tabIndex:e}))}},{key:"getCurrentTabIndex",value:function(){return this.state.tabIndex}},{key:"isCurrentTab",value:function(e){return this.state.tabIndex===e}},{key:"setDrawerSoloClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({soloClass:e},t)}},{key:"setDrawerWidth",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.drawerElement&&this.ref){this._hasintent=t;var n=this.props.side,r=this.ref.getBoundingClientRect().top,o="bottom"===n?document.documentElement.clientHeight-r:document.documentElement.clientWidth,i=N;if("string"==typeof e)switch(e){case"full":this._isfull=!0,this._prevWidth=M(this.drawerElement);break;case"min":this._isfull=!1,this.drawerElement.style.setProperty(T,i+"px");break;default:throw new Error("Trying to set drawer width to invalid string")}else{if("number"!=typeof e)throw new Error("Trying to set drawer width to unknown value");e<i+32&&(e=i),e>o-128?(e=o,this._isfull=!0):this._isfull=!1,this.drawerElement.style.setProperty(T,e+"px")}}}},{key:"onDrawerExpand",value:function(){this.state.open&&this._isfull?(this.setDrawerWidth(this._prevWidth),this._isfull&&this.toggleDrawer()):this.toggleDrawer()}},{key:"onWindowResize",value:function(e){var t=this;this._resizeTimeout||(this._resizeTimeout=setTimeout(function(){if(t._resizeTimeout=null,t._resizeEndTimeout?clearTimeout(t._resizeEndTimeout):t._handlingResize=!0,t._resizeEndTimeout=setTimeout(function(){t._resizeEndTimeout=null,t._handlingResize=!1},500),t.drawerElement&&t.ref){var e=t.props.side,n=t.ref.getBoundingClientRect().top,r="bottom"===e?document.documentElement.clientHeight-n:document.documentElement.clientWidth;if(t._isfull){if(t._hasintent)return;t._prevWidth+128<r&&(t._isfull=!1,t.drawerElement.style.setProperty(T,t._prevWidth+"px"))}else{M(t.drawerElement)+128>r&&(t._isfull=!0,t._hasintent=!1)}}},200))}},{key:"onDrawerHandleGrab",value:function(e){this._handlingGrab?this.onDrawerHandleRelease(e):(this._handlingGrab=!0,this._prevWidth=M(this.drawerElement),document.addEventListener("mouseup",this.onDrawerHandleRelease),document.addEventListener("mousemove",this.onDrawerHandleMove))}},{key:"onDrawerHandleRelease",value:function(e){this._handlingGrab&&(document.removeEventListener("mouseup",this.onDrawerHandleRelease),document.removeEventListener("mousemove",this.onDrawerHandleMove),this._handlingGrab=!1,this._prevWidth=M(this.drawerElement))}},{key:"onDrawerHandleMove",value:function(e){var t="bottom"===this.props.side,n=(t?document.documentElement.clientHeight:document.documentElement.clientWidth)-(t?e.clientY:e.clientX)+6;!t&&Math.abs(n-300)<32&&(n=300),this.setDrawerWidth(n)}},{key:"render",value:function(){var e=this,t=this.props.panels,n=this.props.side||"right",r=this.props.direction||"horizontal",i=this.props.hide||!1,a=this.state.soloClass,l=this.state.open,c="bottom"===n,s=!(c||l&&"vertical"!==r),f=l||this._handlingGrab,p=this._isfull,y=this._handlingGrab||this._handlingResize||!l,h=l||!0;return this._sideways=s,o.a.createElement("div",{ref:function(t){return e.ref=t},id:this.props.id,className:u.a.app_content+(c?" column ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:u.a.app_viewport},this.props.children),o.a.createElement("div",{ref:function(t){return e.drawerElement=t},className:u.a.app_drawer+(l?" open ":"")+(s?" drawer-bar-sideways ":"")+(c?" drawer-side-bottom ":"")+(p?" full ":"")+(y?" hide-content ":"")+(this._handlingResize?" no-animation ":"")+(i?" hide ":"")},o.a.createElement("div",{className:u.a.drawer_handle+(f?" show ":""),onMouseDown:this.onDrawerHandleGrab},o.a.createElement("span",null,"||")),o.a.createElement("div",{className:u.a.drawer_content},o.a.createElement("nav",{className:u.a.drawer_content_bar},o.a.createElement(m,{className:u.a.drawer_tab_expander,onClick:this.onDrawerExpand},o.a.createElement(E,null)),h&&t&&t.map(function(t,n){if(!t)return null;if(!t.TITLE)return null;var r=t.TITLE,i=e.isCurrentTab(n),l=a&&a!==t;return o.a.createElement("a",{key:r+":"+n,className:u.a.drawer_tab+(i?" active ":"")+(l?" disabled ":""),onClick:function(){return e.setCurrentTab(n)}},o.a.createElement("label",null,r))})),o.a.createElement("div",{className:u.a.drawer_content_panel_container},o.a.createElement("div",{className:u.a.drawer_content_panel},t&&t.map(function(t,n){if(!t)return null;var r=t,i=t.TITLE||"",l=e.isCurrentTab(n),c=a&&a!==t;return o.a.createElement("div",{key:i+":"+n,className:u.a.drawer_panel_container+(l?"":" hide ")+(c?" disabled ":"")},o.a.createElement(r,S({className:u.a.drawer_panel},e.props.panelProps,{drawer:e})))}))))))}}])&&j(n.prototype,r),i&&j(n,i),t}();function M(e){return parseInt(window.getComputedStyle(e).getPropertyValue(T).replace(/\D/g,""))}var L=n(176),D=n.n(L),R=n(172),I=n.n(R);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,B(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.icon;return o.a.createElement(m,{id:this.props.id,className:I.a.toolbar_button+" "+this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled,onClick:this.props.onClick},o.a.createElement(e,null))}}])&&z(n.prototype,r),i&&z(n,i),t}(),G=n(177),V=n.n(G),U=n(22);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Q(this,X(t).call(this,e))).ref=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o.a.Component),n=t,(r=[{key:"setTitle",value:function(e){this.ref.resetValue(e)}},{key:"getTitle",value:function(){return this.ref.value}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:this.props.id,className:V.a.title_container+" "+this.props.className,style:this.props.style},o.a.createElement("span",{className:V.a.title_input_container},o.a.createElement(U.a,{ref:function(t){return e.ref=t},defaultValue:"Untitled"})),o.a.createElement("div",{className:V.a.title_subtitle},"ModuleName"))}}])&&Y(n.prototype,r),i&&Y(n,i),t}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))}}])&&$(n.prototype,r),i&&$(n,i),t}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var se=-1,fe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ue(t).call(this,e))||"object"!==oe(o)&&"function"!=typeof o?ce(r):o).ref=null,n.toolbarElement=null,n.state={open:!1,menuIndex:se},n.onBarExpand=n.onBarExpand.bind(ce(ce(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,o.a.Component),n=t,(r=[{key:"openBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.open||this.setState({open:!0,menuIndex:se},e)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.open&&this.setState({open:!1,menuIndex:se},e)}},{key:"toggleBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(e,t){return{open:!e.open,menuIndex:se}},e)}},{key:"isBarOpen",value:function(){return this.state.open}},{key:"setCurrentMenu",value:function(e){this.props.menus&&(e>=this.props.menus.length&&(e=se),this.setState({open:!0,menuIndex:e}))}},{key:"getCurrentMenuIndex",value:function(){return this.state.menuIndex}},{key:"isCurrentMenu",value:function(e){return this.state.menuIndex===e}},{key:"onBarExpand",value:function(e){this.state.open&&this.state.menuIndex>=0?this.setCurrentMenu(se):this.toggleBar()}},{key:"renderMenuButtons",value:function(e){return o.a.Children.map(e,function(e){if("toolbar"!==e.props.containerOnly)return e})}},{key:"renderToolbarButtons",value:function(e){return o.a.Children.map(e,function(e){if("menu"!==e.props.containerOnly)return e})}},{key:"render",value:function(){var e=this,t=this.props.menus,n=this.state.menuIndex,r=n>=0?t[n]:null,i=null!=r,a=o.a.Children.count(this.props.children)>0,u=this.state.open,l=this.props.hide||!1,c=u||a&&!0;return o.a.createElement("div",{ref:function(t){return e.ref=t},id:this.props.id,className:D.a.app_bar+(u?" open ":"")+(l?" hide ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:D.a.bar_menu},i?o.a.createElement("div",{className:D.a.menu_container},o.a.createElement(r,ie({},this.props.menuProps,{toolbar:this}))):o.a.createElement("div",{className:D.a.menu_button_container},this.renderMenuButtons(this.props.children))),o.a.createElement("div",{ref:function(t){return e.toolbarElement=t},className:D.a.bar_toolbar},o.a.createElement(J,{className:D.a.toolbar_title}),o.a.createElement("div",{className:D.a.toolbar_button_container},this.renderToolbarButtons(this.props.children)),c&&o.a.createElement(m,{className:D.a.toolbar_expander,onClick:this.onBarExpand},o.a.createElement(re,null))))}}])&&ae(n.prototype,r),i&&ae(n,i),t}();n(178);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=he(this,be(t).call(this,e))).ref=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.viewport,n=t.getOffsetX(),r=t.getOffsetY(),i=300*Math.max(Number.MIN_VALUE,t.getScale()),a=i/2;return o.a.createElement("svg",{ref:function(t){return e.ref=t},id:this.props.id,className:"workspace-container "+this.props.className,style:this.props.style,viewBox:-a+" "+-a+" "+i+" "+i,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{className:"workspace-content",transform:"translate("+n+" "+r+")"},this.props.children))}}])&&ye(n.prototype,r),i&&ye(n,i),t}(),ve=n(169),ge=n.n(ve);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=0,Ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Oe(this,Se(t).call(this,e))).ref=null,n.state={viewIndex:ke},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,o.a.Component),n=t,(r=[{key:"setCurrentView",value:function(e){this.props.views&&(e>=this.props.views.length&&(e=ke),this.setState({viewIndex:e}))}},{key:"getCurrentViewIndex",value:function(){return this.state.viewIndex}},{key:"isCurrentView",value:function(e){return this.state.viewIndex===e}},{key:"render",value:function(){var e=this,t=this.props.views,n=this.state.viewIndex,r=n>=0?t[n]:null;return o.a.createElement("div",{ref:function(t){return e.ref=t},id:this.props.id,className:ge.a.view_container+" "+this.props.className,style:this.props.style},r&&o.a.createElement(r,_e({},this.props.viewProps,{viewport:this})))}}])&&Ee(n.prototype,r),i&&Ee(n,i),t}(),Pe=n(179),Te=n.n(Pe);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Me(this,Le(t).call(this,e)))._tooltipTimeout=null,n.state={index:e.initial||0},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,o.a.Component),n=t,(r=[{key:"setTooltipIndex",value:function(e){this.setState({index:e})}},{key:"getTooltipIndex",value:function(){return this.state.index}},{key:"updateTooltip",value:function(){var e=this.props.mode,t=this.props.visible;if(this._tooltipTimeout=null,t){var n=o.a.Children.count(this.props.children),r=this.state.index+1;"random"===e?r=Math.floor(Math.random()*n):"oneshot"===e?r>=n&&(r=n-1):r>=n&&(r=0),this.setTooltipIndex(r)}else"random"===e?this.setTooltipIndex(Math.floor(Math.random()*o.a.Children.count(this.props.children))):"oneshot"===e?this.setTooltipIndex(o.a.Children.count(this.props.children)-1):this.setTooltipIndex(0)}},{key:"render",value:function(){var e=this,t=(this.props.mode,this.props.visible),n=this.state.index;return t&&!this._tooltipTimeout&&(this._tooltipTimeout=setTimeout(function(){e.updateTooltip()},3e4)),o.a.createElement("div",{id:this.props.id,className:Te.a.tooltip_container+(t?" visible ":"")+" "+this.props.className,style:this.props.style},o.a.Children.map(this.props.children,function(e,t){return o.a.createElement("label",{style:{opacity:n===t?1:0}},e)}))}}])&&xe(n.prototype,r),i&&xe(n,i),t}(),Ie=n(180),Ae=n.n(Ie);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,He(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"}))}}])&&Ke(n.prototype,r),i&&Ke(n,i),t}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=We(t).call(this,e))||"object"!==Ve(o)&&"function"!=typeof o?Qe(r):o).ref=null,n._waiting=!1,n.onDragEnter=n.onDragEnter.bind(Qe(Qe(n))),n.onDragLeave=n.onDragLeave.bind(Qe(Qe(n))),n.onFileDrop=n.onFileDrop.bind(Qe(Qe(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.ref.addEventListener("drop",this.onFileDrop),this.ref.addEventListener("dragover",this.onDragEnter),this.ref.addEventListener("dragenter",this.onDragEnter),this.ref.addEventListener("dragleave",this.onDragLeave),this.ref.addEventListener("dragend",this.onDragLeave)}},{key:"componentWillUnmount",value:function(){this.ref.removeEventListener("drop",this.onFileDrop),this.ref.removeEventListener("dragover",this.onDragEnter),this.ref.removeEventListener("dragenter",this.onDragEnter),this.ref.removeEventListener("dragleave",this.onDragLeave),this.ref.removeEventListener("dragend",this.onDragLeave)}},{key:"onDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this._waiting=!0}},{key:"onDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this._waiting=!1}},{key:"onFileDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this._waiting=!1;var t=e.dataTransfer,n=null;if(t.items){var r=t.items;if(r.length>=1){var o=r[0];"file"===o.kind&&(n=o.getAsFile())}}else{var i=t.files;i.length>=1&&(n=i[0])}this.props.onFileDrop&&this.props.onFileDrop(n),t.items?t.items.clear():t.clearData()}},{key:"render",value:function(){var e=this,t=this._waiting;return o.a.createElement("div",{ref:function(t){return e.ref=t},id:this.props.id,className:Ae.a.upload_container+(t?" waiting ":"")+" "+this.props.className,style:this.props.style},o.a.createElement(Ge,{className:Ae.a.upload_icon}),o.a.Children.only(this.props.children))}}])&&Ue(n.prototype,r),i&&Ue(n,i),t}(),Ze=n(181),Je=n.n(Ze);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,tt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,o.a.Component),n=t,(r=[{key:"renderExporterButton",value:function(e){var t=this;if(!e.doesSupportFile())return null;var n=e.getIconClass();return o.a.createElement(m,{key:e.getFileType(),className:Je.a.panel_button,title:e.getLabel(),onClick:function(){var n=t.props.currentModule,r=n.getMachineController().getMachineName();e.exportToFile(r,n)}},o.a.createElement(n,null))}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphExporters(),r=t.getImageExporters();return o.a.createElement("div",{id:this.props.id,className:Je.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:Je.a.panel_title},o.a.createElement("h1",null,I18N.toString("component.exporting.title"))),o.a.createElement("div",{className:Je.a.panel_content},n.map(function(t){return e.renderExporterButton(t)}),r.map(function(t){return e.renderExporterButton(t)})))}}])&&$e(n.prototype,r),i&&$e(n,i),t}(),ot=n(182),it=n.n(ot),at=n(7),ut=n(183),lt=n.n(ut);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,pt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 10l5 5 5-5z"}))}}])&&st(n.prototype,r),i&&st(n,i),t}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,vt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 14l5-5 5 5z"}))}}])&&mt(n.prototype,r),i&&mt(n,i),t}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ot(t).call(this,e))||"object"!==_t(o)&&"function"!=typeof o?jt(r):o).state={open:e.initial||!1},n.onClick=n.onClick.bind(jt(jt(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){this.setState(function(e,t){return{open:!e.open}})}},{key:"render",value:function(){var e=this.state.open,t=this.props.disabled||o.a.Children.count(this.props.children)<=0,n=this.props.full,r=this.props.title;return o.a.createElement("section",{id:this.props.id,className:lt.a.section_container+" "+this.props.className,style:this.props.style},o.a.createElement(m,{className:lt.a.section_header,title:r,disabled:t,onClick:this.onClick},e?o.a.createElement(wt,null):o.a.createElement(ht,null)),o.a.createElement("div",{className:lt.a.section_content_container+(e?" open ":"")+(n?" full ":"")},o.a.createElement("div",{className:lt.a.section_content},this.props.children)))}}])&&Et(n.prototype,r),i&&Et(n,i),t}();function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,Nt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){this.props.currentModule;return o.a.createElement("div",{id:this.props.id,className:it.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:it.a.panel_title},o.a.createElement("h1",null,I18N.toString("component.options.title"))),o.a.createElement("div",{className:it.a.panel_content},o.a.createElement(kt,{title:"Customize stuff"},o.a.createElement("p",null,"If only there was cool stuff here...")),o.a.createElement(kt,{title:"What?"}),o.a.createElement("button",{onClick:function(){if(window.confirm("This will clear any cached or saved data. Are you sure you want to continue?")){try{at.a.terminate()}catch(e){}at.a.clearStorage(),window.alert("It's done! Restart to apply changes!")}}},"Get out of Experimental Mode")))}}])&&Pt(n.prototype,r),i&&Pt(n,i),t}(),Lt=n(184),Dt=n.n(Lt);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),At(this,zt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}}])&&It(n.prototype,r),i&&It(n,i),t}();function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,Vt(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&Ft(n.prototype,r),i&&Ft(n,i),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Xt(t).call(this,e))||"object"!==Yt(o)&&"function"!=typeof o?Jt(r):o).onChange=n.onChange.bind(Jt(Jt(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props.mode||0;this.props.onChange;return o.a.createElement("div",{id:this.props.id,className:Dt.a.tray_container+" "+this.props.className,style:this.props.style},o.a.createElement(m,{className:Dt.a.tray_button+(0===t?" active ":""),onClick:function(){return e.onChange(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(Bt,null)),o.a.createElement(m,{className:Dt.a.tray_button+(1===t?" active ":""),onClick:function(){return e.onChange(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(Wt,null)))}}])&&Qt(n.prototype,r),i&&Qt(n,i),t}(),$t=n(185),en=n.n($t);function tn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(window.confirm(I18N.toString("alert.graph.clear"))){var r=e.getCurrentModule();r.getGraphController().getGraph().clear(),t||(e.getUndoManager().clear(),r.getMachineController().setMachineName(null)),n&&n()}}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),on(this,an(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&rn(n.prototype,r),i&&rn(n,i),t}();function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var hn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=fn(t).call(this,e))||"object"!==cn(o)&&"function"!=typeof o?yn(r):o).ref=null,n.state={forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(yn(yn(n))),n.onMouseLeave=n.onMouseLeave.bind(yn(yn(n))),n.onClick=n.onClick.bind(yn(yn(n))),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(yn(yn(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,o.a.Component),n=t,(r=[{key:"onMouseEnter",value:function(e){this.state.forceActive||this.props.inputController.setTrashMode(!0)}},{key:"onMouseLeave",value:function(e){this.state.forceActive||this.props.inputController.setTrashMode(!1)}},{key:"onClick",value:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({forceActive:!1}),tn(this.props.app,!0),this.props.inputController.setTrashMode(!1)):this.setState(function(e,n){var r=!e.forceActive;return n.inputController.setTrashMode(r),t._doubleTapTimeout=setTimeout(function(){t._doubleTapTimeout=null},250),r&&document.documentElement.addEventListener("mousedown",t.onAnyMouseDownNotConsumed),{forceActive:r}})}},{key:"onAnyMouseDownNotConsumed",value:function(e){this.state.forceActive&&this.ref!==e.target&&(e.stopPropagation(),e.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.props.inputController.setTrashMode(!1),this.setState({forceActive:!1}))}},{key:"render",value:function(){var e=this,t=this.props.inputController,n=this.props.graphController,r=t.getInputAdapter(),i=t.isTrashMode(),a=!i&&(n.getGraph().isEmpty()||r.isUsingTouch()&&r.isDragging());return o.a.createElement("div",{ref:function(t){return e.ref=t},id:this.props.id,className:en.a.trash_container+(i?" active ":"")+(a?" hide ":"")+" "+this.props.className,style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(ln,null))}}])&&sn(n.prototype,r),i&&sn(n,i),t}(),bn=n(186),mn=n.n(bn),dn=n(187),vn=n.n(dn);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Sn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_n(t).call(this,e))||"object"!==gn(o)&&"function"!=typeof o?On(r):o).state={index:e.initial||0},n.onClick=n.onClick.bind(On(On(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this,n=this.state.index;this.setState(function(e,t){var n=o.a.Children.count(t.children),r=e.index+1;return r>=n&&(r=0),{index:r}},function(){t.props.onClick&&t.props.onClick(e,n)})}},{key:"setStateIndex",value:function(e){this.setState({index:e})}},{key:"getStateIndex",value:function(){return this.state.index}},{key:"render",value:function(){var e=this,t=o.a.Children.map(this.props.children,function(t,n){if(n===e.state.index)return t})[0];return o.a.createElement(m,{id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled,onClick:this.onClick},t)}}])&&wn(n.prototype,r),i&&wn(n,i),t}();function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cn(this,Pn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))}}])&&kn(n.prototype,r),i&&kn(n,i),t}();function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,Dn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))}}])&&Mn(n.prototype,r),i&&Mn(n,i),t}();function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kn(this,Bn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.app;return o.a.createElement(Sn,{id:this.props.id,className:vn.a.fullscreen_button+" "+this.props.className,style:this.props.style,title:"Fullscreen Mode",onClick:function(t,n){return e.setState({hide:0===n})}},o.a.createElement(Nn,null),o.a.createElement(In,null))}}])&&zn(n.prototype,r),i&&zn(n,i),t}(),Gn=n(188),Vn=n.n(Gn);function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return!t||"object"!==Un(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,Qn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&Wn(n.prototype,r),i&&Wn(n,i),t}();function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$n(this,er(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&qn(n.prototype,r),i&&qn(n,i),t}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ir(t).call(this,e))||"object"!==rr(o)&&"function"!=typeof o?ur(r):o).onZoomIn=n.onZoomIn.bind(ur(ur(n))),n.onZoomOut=n.onZoomOut.bind(ur(ur(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,o.a.Component),n=t,(r=[{key:"onZoomIn",value:function(e){var t=this.props.viewport,n=.4*-t.getScale();t.addScale(n)}},{key:"onZoomOut",value:function(e){var t=this.props.viewport,n=.75*t.getScale();t.addScale(n)}},{key:"render",value:function(){var e="x"+(1/(this.props.viewport.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:Vn.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(m,{className:Vn.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(Zn,null)),o.a.createElement(m,{className:Vn.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(nr,null)),o.a.createElement("label",{className:Vn.a.zoom_label},e))}}])&&or(n.prototype,r),i&&or(n,i),t}(),cr=n(189),sr=n.n(cr);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yr(this,hr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&pr(n.prototype,r),i&&pr(n,i),t}();function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Er=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gr(t).call(this,e))||"object"!==dr(o)&&"function"!=typeof o?_r(r):o).onClick=n.onClick.bind(_r(_r(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){this.props.viewport.setOffset(0,0)}},{key:"render",value:function(){var e=this.props.viewport;return o.a.createElement(m,{id:this.props.id,className:sr.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(e.getOffsetX())<.1&&Math.abs(e.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(mr,null))}}])&&vr(n.prototype,r),i&&vr(n,i),t}();function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jr(this,kr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.app,t=e.getInputAdapter().getViewport();return o.a.createElement("div",{id:this.props.id,className:mn.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(Fn,{className:mn.a.navbar_widget,app:e}),o.a.createElement(lr,{className:mn.a.navbar_widget_container,viewport:t}),o.a.createElement(Er,{className:mn.a.navbar_widget,viewport:t}))}}])&&Sr(n.prototype,r),i&&Sr(n,i),t}();function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Mr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.app,t=this.props.currentModule,n=(this.props.viewport,t.getInputController()),r=t.getGraphController(),i=t.getMachineController(),a=n.isActionMode(),u=t.getLabelEditor();return o.a.createElement("div",{id:this.props.id,className:ge.a.view_pane+" "+this.props.className,style:this.props.style},u&&o.a.createElement(u,{ref:function(e){return r.labelEditorElement=e},inputController:n,graphController:r,machineController:i,screen:e._workspace?e._workspace.ref:null}),o.a.createElement(Pr,{className:ge.a.view_widget,style:{right:0},app:e}),o.a.createElement("div",{className:ge.a.view_widget,style:{bottom:0,left:0}},o.a.createElement(qt,{mode:a?0:1,onChange:function(e){return n.setInputScheme(0===e)}})),o.a.createElement("div",{className:ge.a.view_widget,style:{bottom:0,right:0}},o.a.createElement(hn,{app:e,inputController:n,graphController:r})))}}])&&Nr(n.prototype,r),i&&Nr(n,i),t}(),Rr=n(190),Ir=n.n(Rr);function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,Br(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&zr(n.prototype,r),i&&zr(n,i),t}();function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ur(t).call(this,e))||"object"!==Gr(o)&&"function"!=typeof o?Yr(r):o).onTapeStepBackward=n.onTapeStepBackward.bind(Yr(Yr(n))),n.onTapeStepForward=n.onTapeStepForward.bind(Yr(Yr(n))),n.onTapeFinish=n.onTapeFinish.bind(Yr(Yr(n))),n.onTapeReset=n.onTapeReset.bind(Yr(Yr(n))),n.onTapeSkipForward=n.onTapeSkipForward.bind(Yr(Yr(n))),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(Yr(Yr(n))),n.onTapeStop=n.onTapeStop.bind(Yr(Yr(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,o.a.Component),n=t,(r=[{key:"onTapeStepBackward",value:function(e){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(e){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(e){}},{key:"onTapeSkipBackward",value:function(e){}},{key:"onTapeReset",value:function(e){this.props.value.reset()}},{key:"onTapeFinish",value:function(e){this.props.value.finish()}},{key:"onTapeStop",value:function(e){this.props.value.stop()}},{key:"render",value:function(){var e=this.props.value,t=e?e.getCurrentTapeIndex():-1;return e?o.a.createElement("div",{id:this.props.id,className:Ir.a.tape_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:Ir.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),o.a.createElement("button",{onClick:this.onTapeStepForward},"STEP"),o.a.createElement("button",{onClick:this.onTapeReset},"RESET"),o.a.createElement("button",{onClick:this.onTapeFinish},"TO END")),o.a.createElement("div",{className:Ir.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),o.a.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),o.a.createElement("button",{onClick:this.onTapeStop},"STOP")),o.a.createElement("div",{className:"tape-row"},e.isTapeLeftInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")),o.a.createElement(Fr,{className:"tape-pointer",style:{left:t+"em"}}),e.getTapeInput().map(function(n,r){var i,a;i=t===r,a=t===r-1;var u=e.getTapeSourceStatesByIndex(r),l=null===u;return o.a.createElement("div",{key:n+":"+r,className:"tape-row-entry"+(i?" active ":"")+(a?" active-read ":"")+(l?" disabled ":""),onClick:function(t){return l?null:e.setCurrentTapeIndex(r)}},u&&o.a.createElement("span",{className:"tape-row-states"},u.map(function(e){return o.a.createElement("label",{key:e.getGraphElementID()},e.getNodeLabel())})),o.a.createElement("label",{className:"tape-row-symbol"},n))}),e.isTapeRightInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")))):null}}])&&Vr(n.prototype,r),i&&Vr(n,i),t}();function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t){return($r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eo=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jr(this,qr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.currentModule.getInputController().setDisabled(!0)}},{key:"componentWillUnmount",value:function(){this.props.currentModule.getInputController().setDisabled(!1)}},{key:"render",value:function(){var e=this.props.app,t=this.props.currentModule,n=(this.props.viewport,t._tester);t.getInputController(),t.getGraphController(),t.getMachineController();return o.a.createElement("div",{id:this.props.id,className:ge.a.view_pane+" "+this.props.className,style:this.props.style},o.a.createElement(Pr,{className:ge.a.view_widget,style:{right:0},app:e}),o.a.createElement("div",{className:ge.a.view_widget,style:{bottom:0}},o.a.createElement(Qr,{value:n?n.getTapeContext():null})))}}])&&Zr(n.prototype,r),i&&Zr(n,i),t}(),to=n(191),no=n.n(to),ro=n(192),oo=n.n(ro);function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var so=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,lo(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&ao(n.prototype,r),i&&ao(n,i),t}();function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mo=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(this,ho(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&po(n.prototype,r),i&&po(n,i),t}(),vo=n(193),go=n.n(vo);function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var jo=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Eo(t).call(this,e))||"object"!==wo(o)&&"function"!=typeof o?So(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(So(So(n))),n.onFocus=n.onFocus.bind(So(So(n))),n.onBlur=n.onBlur.bind(So(So(n))),n.onKeyDown=n.onKeyDown.bind(So(So(n))),n.onKeyUp=n.onKeyUp.bind(So(So(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(t,o.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},function(){return t.select()}),this.props.onFocus&&this.props.onFocus(e,this)}},{key:"onBlur",value:function(e){var t=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(e,this,t)}},{key:"onKeyDown",value:function(e){var t=e.key;"Enter"!==t&&"Escape"!==t||(e.preventDefault(),e.stopPropagation())}},{key:"onKeyUp",value:function(e){var t=e.key,n=e.target;"Enter"===t?n.blur():"Escape"===t&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(e){var t=e.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(e,this,t)}catch(e){n=!0}this.setState({value:t,error:n})}},{key:"render",value:function(){var e=this.props.node,t=this.state.value,n=e?e.getNodeLabel():"",r=!!e&&(e.getNodeCustom()||null!==t&&t!==n),i=!!e&&e.getNodeAccept(),a=null===t?n:t;return o.a.createElement("div",{id:this.props.id,className:go.a.element_container+(r?" custom ":"")+(!e.getNodeCustom()&&a.length<=0?" empty ":"")+(null!==t&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{spellCheck:!1,style:{width:a.length+"ch"},value:a,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&_o(n.prototype,r),i&&_o(n,i),t}();function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xo=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Po(t).call(this,e))||"object"!==ko(o)&&"function"!=typeof o?No(r):o)._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(No(No(n))),n.onElementFocus=n.onElementFocus.bind(No(No(n))),n.onElementBlur=n.onElementBlur.bind(No(No(n))),n.onElementChange=n.onElementChange.bind(No(No(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,o.a.Component),n=t,(r=[{key:"onElementAdd",value:function(e){var t=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=t.createNode(this._prevX,this._prevY);t.focusOnNode(n)}},{key:"onElementFocus",value:function(e,t){this._prevX=t.props.node.x,this._prevY=t.props.node.y,this.props.graphController.focusOnNode(t.props.node)}},{key:"onElementBlur",value:function(e,t,n){var r=t.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();if(n.length>0)i.getNodesByLabel(n).length<=0&&o.renameNode(r,n);else r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(e,t,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==t.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var e=this,t=this.props.graphController.getGraph().getNodes();return o.a.createElement("div",{id:this.props.id,className:oo.a.list_container,style:this.props.style},o.a.createElement("div",{className:oo.a.element_list},o.a.createElement(mo,{className:oo.a.first_marker}),t.map(function(t){return o.a.createElement(jo,{key:t.getGraphElementID(),node:t,onFocus:e.onElementFocus,onBlur:e.onElementBlur,onChange:e.onElementChange})})),o.a.createElement(m,{className:oo.a.add_button,title:"Add State",onClick:this.onElementAdd},o.a.createElement(so,null)))}}])&&Co(n.prototype,r),i&&Co(n,i),t}(),Mo=n(194),Lo=n.n(Mo),Do=n(195),Ro=n.n(Do);function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ho=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zo(t).call(this,e))||"object"!==Io(o)&&"function"!=typeof o?Bo(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(Bo(Bo(n))),n.onFocus=n.onFocus.bind(Bo(Bo(n))),n.onBlur=n.onBlur.bind(Bo(Bo(n))),n.onKeyDown=n.onKeyDown.bind(Bo(Bo(n))),n.onKeyUp=n.onKeyUp.bind(Bo(Bo(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,o.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target,n=this.props.symbol;this.setState({value:n,error:!1},function(){return t.select()}),this.props.onFocus&&this.props.onFocus(e,this)}},{key:"onBlur",value:function(e){var t=this.state.value;this.props.onBlur&&this.props.onBlur(e,this,t),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(e){var t=e.key;"Enter"!==t&&"Escape"!==t||(e.preventDefault(),e.stopPropagation())}},{key:"onKeyUp",value:function(e){var t=e.key,n=e.target;"Enter"===t?n.blur():"Escape"===t&&this.setState({value:null,error:!1},function(){return n.blur()})}},{key:"onValueChange",value:function(e){var t=e.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(e,this,t)}catch(e){n=!0}this.setState({value:t,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var e=this,t=this.state.value,n=null===t?this.props.symbol:t,r=this.props.used||!1;return o.a.createElement("div",{id:this.props.id,className:Ro.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==t&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{ref:function(t){return e._inputElement=t},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&Ao(n.prototype,r),i&&Ao(n,i),t}();function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Yo=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vo(t).call(this,e))||"object"!==Fo(o)&&"function"!=typeof o?Wo(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(Wo(Wo(n))),n.onElementFocus=n.onElementFocus.bind(Wo(Wo(n))),n.onElementBlur=n.onElementBlur.bind(Wo(Wo(n))),n.onElementChange=n.onElementChange.bind(Wo(Wo(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(t,o.a.Component),n=t,(r=[{key:"onElementAdd",value:function(e){var t=this;this.setState({useNewSymbol:!0},function(){t.newSymbolComponent.focus()})}},{key:"onElementFocus",value:function(e,t){}},{key:"onElementBlur",value:function(e,t,n){var r=t.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(e,t,n){var r=this.props.machineController;if(n.length>0&&(r.getMachineBuilder().getMachine().isSymbol(n)&&n!==t.props.symbol))throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;c&&n.push(o.a.createElement(Ho,{key:c,symbol:c,used:e.isUsedSymbol(c),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"render",value:function(){var e=this,t=this.props.machineController.getMachineBuilder().getMachine(),n=t.getAlphabet();return o.a.createElement("div",{id:this.props.id,className:Lo.a.list_container,style:this.props.style},o.a.createElement("div",{className:Lo.a.element_list},this.renderAlphabetList(t,n),o.a.createElement(Ho,{ref:function(t){return e.newSymbolComponent=t},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),o.a.createElement(m,{className:Lo.a.add_button,title:"Add Symbol",onClick:this.onElementAdd},o.a.createElement(so,null)))}}])&&Go(n.prototype,r),i&&Go(n,i),t}(),Qo=(n(196),n(16),n(5));function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ei=0,ti=1,ni=2,ri="symbols";function oi(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.doTransition(t,n);return Array.isArray(o)?r||1!=o.length?o.length>0?"{"+o.join(", ")+"}":"-":o[0]:o||"-"}var ii=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jo(this,qo(t).call(this,e))).state={rowAxis:ri},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.machineController,n=t.getMachineBuilder().getMachine(),r=t.getStates(),i=t.getAlphabet(),a=(t.getTransitions(),this.state.rowAxis),u="NFA"==t.getMachineType(),l=a===ri&&u;return o.a.createElement("div",{className:"transitiontable-container"},o.a.createElement("table",{className:"transitiontable"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"emptycell"},o.a.createElement("button",{onClick:function(){return e.setState(function(e,t){return{rowAxis:e.rowAxis==ri?"states":ri}})}},this.state.rowAxis==ri?"Q/Σ":"Q/Q")),a===ri?i.map(function(e,t){return o.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):"states"===a?r.map(function(e,t){return o.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):null,l&&o.a.createElement("th",{scope:"col"},Qo.b)),r.map(function(e,t){return o.a.createElement("tr",{key:e},o.a.createElement("th",{scope:"row",className:"row"},e),a===ri?i.map(function(t,r){var i="",a=oi(n,e,t,u);return u||!a.startsWith("{")&&"-"!=a||(i+=" error"),o.a.createElement("td",{key:e+","+t,className:i},a)}):"states"===a?r.map(function(t,r){var i=function(e,t,n){var r=[],o=e.getTransitions(),i=!0,a=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value;s[ei]==t&&s[ni]==n&&r.push(s[ti])}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}return 1===r.length?r[0]:r.length>0?"{"+r.join(", ")+"}":"-"}(n,e,t);return o.a.createElement("td",{key:e+","+t},i)}):null,l&&o.a.createElement("td",null,oi(n,e,Qo.b)))}))))}}])&&Zo(n.prototype,r),i&&Zo(n,i),t}();n(197);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),li(this,ci(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.machineController,t=e.getMachineBuilder().getMachine(),n=e.getStates(),r=e.getAlphabet().sort(),i="NFA"==e.getMachineType();return o.a.createElement("div",{className:"transitionfunction-container"},o.a.createElement("table",{className:"transitionfunction-table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Q","×","Σ"),o.a.createElement("th",null,i?"℘(Q)":"Q")),n.map(function(e,n){var a=t.doTransition(e,Qo.b),u="",l=r.map(function(n,r){var a="",u=t.doTransition(e,n);if(!i||u.length)return i||u.length||(a="error",u="-"),!i&&u.length>1&&(a="error",u="{"+u+"}"),u=i?"{"+u+"}":""+u,o.a.createElement("tr",{key:""+e+n},o.a.createElement("td",{className:"transitionfunction-key"},"("+e+","+n+")"),o.a.createElement("td",{className:"transitionfunction-value "+a},u))});a.length>0&&(i||(u="error"),a=i||a.length>1?"{"+a+"}":""+a,l.unshift(o.a.createElement("tr",{key:""+e+Qo.b},o.a.createElement("td",{className:"transitionfunction-key "+u},"("+e+","+Qo.b+")"),o.a.createElement("td",{className:"transitionfunction-value"},a))));return l}))))}}])&&ui(n.prototype,r),i&&ui(n,i),t}();function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t){return!t||"object"!==pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var di=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hi(this,bi(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.drawer,n=this.props.currentModule,r=n.getGraphController(),i=n.getMachineController(),a=e.isDrawerFullscreen();return o.a.createElement("div",{id:this.props.id,className:no.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:no.a.panel_title},o.a.createElement("h1",null,t.TITLE)),o.a.createElement("div",{className:no.a.panel_content},o.a.createElement(kt,{title:"States",initial:!0,full:a},o.a.createElement(xo,{graphController:r})),o.a.createElement(kt,{title:"Alphabet",initial:!0,full:a},o.a.createElement(Yo,{machineController:i})),o.a.createElement("div",{className:no.a.panel_divider}),o.a.createElement(kt,{title:"Transition Chart",full:a},o.a.createElement(fi,{machineController:i})),o.a.createElement(kt,{title:"Transition Table",full:a},o.a.createElement(ii,{machineController:i})),o.a.createElement("div",{className:no.a.panel_divider}),o.a.createElement("button",null,"State Labels"),o.a.createElement("button",null,"Auto layout"),o.a.createElement("button",null,"Auto label")))}}])&&yi(n.prototype,r),i&&yi(n,i),t}();Object.defineProperty(di,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});var vi=di,gi=n(198),wi=n.n(gi),_i=n(199),Ei=n.n(_i);function Oi(e){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Pi=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ji(t).call(this,e))||"object"!==Oi(o)&&"function"!=typeof o?Ci(r):o).state={checked:e.initial||!1},n.onChange=n.onChange.bind(Ci(Ci(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(t,o.a.Component),n=t,(r=[{key:"setChecked",value:function(e){this.setState({checked:e})}},{key:"isChecked",value:function(){return this.state.checked}},{key:"onChange",value:function(e){var t=e.target.checked;this.state.checked!==t&&this.setState({checked:t})}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:Ei.a.checkbox_container+" "+this.props.className,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:this.props.id+"-checkbox",name:this.props.id+"-checkbox",value:this.props.value,checked:this.state.checked,disabled:this.props.disabled,onChange:this.onChange}),o.a.createElement("label",{htmlFor:this.props.id+"-checkbox"},this.props.title))}}])&&Si(n.prototype,r),i&&Si(n,i),t}(),Ti=n(6),Ni=n(49);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ii=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Li(t).call(this,e))||"object"!==xi(o)&&"function"!=typeof o?Ri(r):o).optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(Ri(Ri(n))),n.onConvertToNFA=n.onConvertToNFA.bind(Ri(Ri(n))),n.onOptimizeMachine=n.onOptimizeMachine.bind(Ri(Ri(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,o.a.Component),n=t,(r=[{key:"onDeleteAllUnreachable",value:function(e){var t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController().getUnreachableNodes();n.deleteTargetNodes(r)}},{key:"onConvertToDFA",value:function(e){var t=this.props.currentModule,n={graphController:t.getGraphController(),machineController:t.getMachineController()};Ti.a.addMessage(I18N.toString("message.warning.convertNFAToDFA"),"warning","machine-convert",Ni.a,n)}},{key:"onConvertToNFA",value:function(e){this.props.currentModule.getMachineController().convertMachineTo("NFA")}},{key:"onOptimizeMachine",value:function(e){this.optimizeUnreachOption.isChecked()&&this.onDeleteAllUnreachable(e)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.isChecked()||this.optimizeUnreachOption&&this.optimizeUnreachOption.isChecked()}},{key:"render",value:function(){var e=this,n=this.props.currentModule,r=(n.getGraphController(),n.getMachineController());return o.a.createElement("div",{id:this.props.id,className:wi.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:wi.a.panel_title},o.a.createElement("h1",null,t.TITLE)),o.a.createElement("div",{className:wi.a.panel_content},o.a.createElement(kt,{title:"Optimizations",initial:!0},o.a.createElement(Pi,{ref:function(t){return e.optimizeUnreachOption=t},className:wi.a.panel_checkbox,id:"opt-unreach",title:"Unreachables",value:"unreach"}),o.a.createElement(Pi,{ref:function(t){return e.optimizeRedundOption=t},className:wi.a.panel_checkbox,disabled:!0,id:"opt-redund",title:"Redundant States",value:"redund"}),o.a.createElement("button",{className:wi.a.panel_button,onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize")),"DFA"==r.getMachineType()?o.a.createElement("button",{className:wi.a.panel_button,onClick:this.onConvertToNFA},I18N.toString("action.overview.convertnfa")):"NFA"==r.getMachineType()?o.a.createElement("button",{className:wi.a.panel_button,onClick:this.onConvertToDFA},I18N.toString("action.overview.convertdfa")):null))}}])&&Mi(n.prototype,r),i&&Mi(n,i),t}();Object.defineProperty(Ii,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}});var Ai=Ii,zi=n(200),Ki=n.n(zi),Bi=n(201),Hi=n.n(Bi),Fi=n(12),Gi=n(8),Vi=n(202),Ui=n.n(Vi);function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ji=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Qi(t).call(this,e))||"object"!==Wi(o)&&"function"!=typeof o?Zi(r):o).onFileUpload=n.onFileUpload.bind(Zi(Zi(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,o.a.Component),n=t,(r=[{key:"onFileUpload",value:function(e){var t=e.target.files;t.length>0&&(this.props.onUpload&&this.props.onUpload(t[0]),e.target.value="")}},{key:"render",value:function(){var e=this.props.accept;return o.a.createElement(m,{id:this.props.id,className:Ui.a.upload_button+" "+this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled},o.a.createElement("input",{type:"file",name:"import",className:Ui.a.upload_input,accept:e,onChange:this.onFileUpload}),this.props.children)}}])&&Yi(n.prototype,r),i&&Yi(n,i),t}();function qi(e){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return!t||"object"!==qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ra=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ea(this,ta(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&$i(n.prototype,r),i&&$i(n,i),t}();function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return!t||"object"!==oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ca=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aa(this,ua(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}))}}])&&ia(n.prototype,r),i&&ia(n,i),t}();function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t){return!t||"object"!==sa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ba=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pa(this,ya(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}}])&&fa(n.prototype,r),i&&fa(n,i),t}();function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),va(this,ga(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&da(n.prototype,r),i&&da(n,i),t}();function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sa(this,ja(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&Oa(n.prototype,r),i&&Oa(n,i),t}();var Pa=n(203),Ta=n.n(Pa);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ra=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ma(this,La(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&xa(n.prototype,r),i&&xa(n,i),t}();function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ha=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),za(this,Ka(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&Aa(n.prototype,r),i&&Aa(n,i),t}();function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t){return!t||"object"!==Fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ya=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Va(this,Ua(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&Ga(n.prototype,r),i&&Ga(n,i),t}();function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Za(this,Ja(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&Xa(n.prototype,r),i&&Xa(n,i),t}();function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ru(e,t){return(ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var iu="default",au=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=nu(t).call(this,e))||"object"!==eu(o)&&"function"!=typeof o?ou(r):o).inputElement=null,n.state={value:n.props.defaultValue||"",status:iu},n.onChange=n.onChange.bind(ou(ou(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ru(e,t)}(t,o.a.Component),n=t,(r=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==e?this.setState({value:e},t):t&&t()}},{key:"setStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==e?this.setState({status:e},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(e){var t=e.target.value;this.state.value!==t&&this.setState({value:t,status:iu})}},{key:"render",value:function(){var e=this,t=this.props.onDelete,n=this.props.onTest,r=this.props.active,i=(this.props.subtitle,this.props.placeholder),a=this.state.status;return o.a.createElement("div",{id:this.props.id,className:Ta.a.test_item_container+(r?" active ":"")+" "+a+" "+this.props.className,style:this.props.style},o.a.createElement(m,{className:Ta.a.test_button,title:"Test",disabled:!n,onClick:function(t){return n(t,e)}},"success"===a?o.a.createElement(Ha,null):"failure"===a?o.a.createElement(Ya,null):"working"===a?o.a.createElement($a,null):o.a.createElement(Ca,null)),o.a.createElement("div",{className:Ta.a.test_input},o.a.createElement("input",{ref:function(t){return e.inputElement=t},type:"text",placeholder:i,value:this.state.value,onChange:this.onChange}),o.a.createElement("label",null,this.props.subtitle)),o.a.createElement(m,{className:Ta.a.delete_button,title:"Delete",disabled:!t,onClick:function(n){return t(n,e)}},o.a.createElement(Ra,null)))}}])&&tu(n.prototype,r),i&&tu(n,i),t}();function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function su(e,t){return(su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pu=[".txt"],yu="test.txt",hu=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=cu(t).call(this,e))||"object"!==uu(o)&&"function"!=typeof o?fu(r):o)._testList=[],n._testName=yu,n.onTestNew=n.onTestNew.bind(fu(fu(n))),n.onTestUpload=n.onTestUpload.bind(fu(fu(n))),n.onTestDownload=n.onTestDownload.bind(fu(fu(n))),n.onTestClose=n.onTestClose.bind(fu(fu(n))),n.onTestAdd=n.onTestAdd.bind(fu(fu(n))),n.onTestDelete=n.onTestDelete.bind(fu(fu(n))),n.onTestTest=n.onTestTest.bind(fu(fu(n))),n.onTestRunAll=n.onTestRunAll.bind(fu(fu(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}(t,o.a.Component),n=t,(r=[{key:"onTestNew",value:function(e){this.isEmpty()||this.onTestClose(e),this.onTestAdd(e)}},{key:"onTestUpload",value:function(e){var t=this,n=new FileReader;n.onload=function(r){try{t._testName=e.name,t._testList.length=0;var o=r.target.result.split("\n"),i=!0,a=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value;(s=s.trim()).length>0&&t._testList.push({id:Object(Fi.a)(),defaultValue:s,ref:null})}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}t._testList.length<=0&&t.onTestAdd(null)}catch(e){n.abort()}},n.readAsText(e)}},{key:"onTestDownload",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._testList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.ref;u&&t.push(u.getValue())}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Object(Gi.e)(this._testName,t.join("\n"))}},{key:"onTestClose",value:function(e){var t=this.props.tester;t.isTesting()&&t.stopTest(),this._testList.length=0}},{key:"onTestAdd",value:function(e){this._testList.push({id:Object(Fi.a)(),defaultValue:"",ref:null})}},{key:"onTestRunAll",value:function(e){this.props.tester;var t=!0,n=!1,r=void 0;try{for(var o,i=this._testList[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onTestDelete",value:function(e,t){}},{key:"onTestTest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.props.immediate,r=this.props.tester,o=t.getValue();t.setState({status:"working"});var i=this.props.graphController,a=this.props.machineController;r.startTest(o,i,a).then(function(e){t.setState({status:e?"success":"failure"})},function(e){t.setState({status:iu})}),n&&r.runTest(i,a,!0)}},{key:"isEmpty",value:function(){return this._testList.length<=0}},{key:"render",value:function(){var e=this,t=(this.props.immediate,this.props.tester),n=this.props.graphController,r=(this.props.machineController,this.isEmpty()),i=t&&t.isTesting();return o.a.createElement("div",{id:this.props.id,className:Hi.a.test_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:Hi.a.test_control_tray},o.a.createElement(m,{className:Hi.a.test_control_button,title:I18N.toString("action.testing.new"),onClick:this.onTestNew},o.a.createElement(ra,null)),o.a.createElement(Ji,{className:Hi.a.test_control_button,title:I18N.toString("action.testing.import"),accept:pu.join(","),onUpload:this.onTestUpload},o.a.createElement(Ge,null)),o.a.createElement(m,{className:Hi.a.test_control_button,title:I18N.toString("action.testing.save"),disabled:r,onClick:this.onTestDownload},o.a.createElement(ca,null)),o.a.createElement(m,{className:Hi.a.test_control_button,title:I18N.toString("action.testing.clear"),disabled:r,onClick:this.onTestClose},o.a.createElement(ba,null))),o.a.createElement("div",{className:Hi.a.test_list_container+(r?" empty ":"")+(i?" disabled ":"")},o.a.createElement(m,{className:Hi.a.test_list_add,title:"Add",onClick:this.onTestAdd},o.a.createElement(_a,null),o.a.createElement("span",{className:Hi.a.test_list_count},r?"":""+this._testList.length)),o.a.createElement("div",{className:Hi.a.test_list_scroll_container},o.a.createElement("div",{className:Hi.a.test_list},this._testList.map(function(r,i){var a=r.id,u=r.defaultValue||"",l=e.onTestTest;return t&&!n.getGraph().isEmpty()||(l=null),o.a.createElement(au,{key:a,ref:function(e){return r.ref=e},defaultValue:u,onTest:l,onDelete:function(t,n){e._testList.splice(i,1),e.onTestDelete(t,n)}})}))),o.a.createElement(m,{className:Hi.a.test_list_runall,title:"Run All",disabled:!0,onClick:this.onTestRunAll},o.a.createElement(Ca,null))))}}])&&lu(n.prototype,r),i&&lu(n,i),t}();function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function du(e,t){return!t||"object"!==bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wu=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),du(this,vu(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.app,n=this.props.currentModule._tester;n.on("startTest",function(n){e._viewport.setCurrentView(1),e._drawer.setDrawerSoloClass(t),e._drawer.closeDrawer()}),n.on("stopTest",function(t){e._viewport.setCurrentView(0),e._drawer.setDrawerSoloClass(null),e._drawer.openDrawer()})}},{key:"render",value:function(){this.props.app;var e=this.props.currentModule,n=e.getGraphController(),r=e.getMachineController(),i=e._tester;return o.a.createElement("div",{id:this.props.id,className:Ki.a.panel_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:Ki.a.panel_title},o.a.createElement("h1",null,t.TITLE)),o.a.createElement("div",{className:Ki.a.panel_content},o.a.createElement(hu,{tester:i,graphController:n,machineController:r}),o.a.createElement(Pi,{title:"Step Testing"}),o.a.createElement(Pi,{title:"Automatic Error Checking"})))}}])&&mu(n.prototype,r),i&&mu(n,i),t}();Object.defineProperty(wu,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});var _u=wu,Eu=n(204),Ou=n.n(Eu);function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ku(e,t){return!t||"object"!==Su(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pu(e,t){return(Pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tu=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ku(this,Cu(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:Ou.a.divider+" "+this.props.className,style:this.props.style})}}])&&ju(n.prototype,r),i&&ju(n,i),t}();function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mu(e,t){return!t||"object"!==Nu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){return(Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ru=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mu(this,Lu(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.icon;return o.a.createElement(Ji,{id:this.props.id,className:I.a.toolbar_button+" "+this.props.className,style:this.props.style,title:this.props.title,disabled:this.props.disabled,accept:this.props.accept,onUpload:this.props.onUpload},o.a.createElement(e,null))}}])&&xu(n.prototype,r),i&&xu(n,i),t}();function Iu(e){return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t){return!t||"object"!==Iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bu(e,t){return(Bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hu=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zu(this,Ku(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z"}))}}])&&Au(n.prototype,r),i&&Au(n,i),t}();function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wu(e,t){return(Wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yu=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vu(this,Uu(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}))}}])&&Gu(n.prototype,r),i&&Gu(n,i),t}();function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t){return!t||"object"!==Qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qu(e,t){return(qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zu(this,Ju(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}))}}])&&Xu(n.prototype,r),i&&Xu(n,i),t}();function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return!t||"object"!==el(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ol(e,t){return(ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var il=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nl(this,rl(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z"}))}}])&&tl(n.prototype,r),i&&tl(n,i),t}();function al(e){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ll(e,t){return!t||"object"!==al(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fl=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ll(this,cl(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}))}}])&&ul(n.prototype,r),i&&ul(n,i),t}();function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hl(e,t){return!t||"object"!==pl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dl=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hl(this,bl(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}))}}])&&yl(n.prototype,r),i&&yl(n,i),t}();function vl(e){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return!t||"object"!==vl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _l(e){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function El(e,t){return(El=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wl(this,_l(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&El(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"}))}}])&&gl(n.prototype,r),i&&gl(n,i),t}();function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onLoadSave",value:function(){}},{key:"onUnloadSave",value:function(){}},{key:"onAutoSave",value:function(){}}])&&Sl(t.prototype,n),r&&Sl(t,r),e}();function kl(e){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return!t||"object"!==kl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pl(this,Tl(t).call(this)))._app=e,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(t,jl),n=t,(r=[{key:"onLoadSave",value:function(){var e=this._app.getCurrentModule(),t=e.getModuleName(),n=at.a.loadFromStorage("graph-"+t);n&&e.getDefaultGraphExporter().importFromData(n,e)}},{key:"onUnloadSave",value:function(){}},{key:"onAutoSave",value:function(){var e=this._app.getCurrentModule(),t=e.getModuleName(),n=e.getDefaultGraphExporter().exportToData(e);at.a.saveToStorage("graph-"+t,n)}},{key:"getApp",value:function(){return this._app}}])&&Cl(n.prototype,r),o&&Cl(n,o),t}();function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ll="Control",Dl="Shift",Rl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hotkeys=[],this._cachedEvent={ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1,code:null},this._prevHotKey=null,this._repeatCount=0,this._enabled=!1,this._altHotkey=null,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this._enabled=!0}},{key:"destroy",value:function(){this._enabled=!1,window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"registerHotKey",value:function(e,t,n){if(!Array.isArray(t))throw new Error("Must be an array of key codes");var r=t.indexOf(Ll);r>=0&&t.splice(r,1);var o=t.indexOf("Meta");o>=0&&t.splice(o,1);var i=t.indexOf("Alt");i>=0&&t.splice(i,1);var a=t.indexOf(Dl);if(a>=0&&t.splice(a,1),1!=t.length)throw new Error("Multiple key operations not supported");var u=t[0],l=r>=0||o>=0,c=i>=0,s=a>=0,f={name:e,localizedKeys:(l?"Ctrl + ":"")+(c?"Alt + ":"")+(s?"Shift + ":"")+u,charKey:u,ctrlKey:l,altKey:c,shiftKey:s,callback:n};this._hotkeys.push(f)}},{key:"registerAltHotKey",value:function(e,t){if(this._altHotkey)throw new Error("Only one hotkey can exist for 'Alt'");this._altHotkey={name:e,localizedKeys:"Alt",charKey:null,ctrlKey:!1,altKey:!0,shiftKey:!1,callback:t}}},{key:"setEnabled",value:function(e){this._enabled=e}},{key:"isEnabled",value:function(){return this._enabled}},{key:"findMatchingHotKey",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._hotkeys[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(Il(e,a))return a}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}},{key:"getCurrentHotKey",value:function(){return this._prevHotKey}},{key:"getCurrentHotKeyRepeatCount",value:function(){return this._repeatCount}},{key:"getCurrentlyPossibleHotKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._cachedEvent,n=t.ctrlKey||t.metaKey,r=t.altKey,o=t.shiftKey;if(!n&&!r&&!o)return e;var i=t.code,a=null,u=!0,l=!1,c=void 0;try{for(var s,f=this._hotkeys[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var p=s.value,y=!1;if(n^p.ctrlKey){if(n)continue;y=!0}if(r^p.altKey){if(r)continue;y=!0}if(o^p.shiftKey){if(o)continue;y=!0}y||i!==p.charKey||(a=p),e.push(p)}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return a||e}},{key:"onKeyDown",value:function(e){if(this._enabled&&!e.repeat){this.captureKeyEvent(e,!1);var t=this.findMatchingHotKey(this._cachedEvent);!t&&Il(e,this._altHotkey)&&(t=this._altHotkey),t&&(this._prevHotKey===t?++this._repeatCount:(this._prevHotKey=t,this._repeatCount=0),t.callback(),e.preventDefault(),e.stopPropagation())}}},{key:"onKeyUp",value:function(e){this._enabled&&this.captureKeyEvent(e,!0)&&(this._prevHotKey=null,this._repeatCount=0)}},{key:"captureKeyEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._cachedEvent.ctrlKey=e.ctrlKey,this._cachedEvent.metaKey=e.metaKey,this._cachedEvent.altKey=e.altKey,this._cachedEvent.shiftKey=e.shiftKey,this._cachedEvent.code=t?null:e.code||null,t&&!(this._cachedEvent.ctrlKey||this._cachedEvent.metaKey||this._cachedEvent.altKey||this._cachedEvent.shiftKey)}}])&&Ml(t.prototype,n),r&&Ml(t,r),e}();function Il(e,t){return t.ctrlKey===(e.ctrlKey||e.metaKey)&&(t.altKey===e.altKey&&(t.shiftKey===e.shiftKey&&(!t.charKey||t.charKey===e.code)))}var Al=n(205),zl=n.n(Al);function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return!t||"object"!==Kl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fl(e){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hl(this,Fl(t).call(this,e)))._cachedHotKeys=[],n._cacheTimeout=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.hotKeyManager,n=!this.props.disabled&&t.isEnabled();!this._cacheTimeout&&n&&(this._cacheTimeout=setTimeout(function(){e._cacheTimeout=null,e._cachedHotKeys.length=0,t.getCurrentlyPossibleHotKeys(e._cachedHotKeys)},100));var r=t.getCurrentHotKeyRepeatCount(),i=t.getCurrentHotKey();return o.a.createElement("div",{id:this.props.id,className:zl.a.hotkey_container+" "+this.props.className,style:this.props.style},n&&this._cachedHotKeys.map(function(e,t){var n=i===e;return o.a.createElement("div",{key:e.localizedKeys+":"+t+":"+(n?r:0),className:zl.a.hotkey+(n?" active ":"")},o.a.createElement("label",{className:zl.a.hotkey_label},e.localizedKeys),o.a.createElement("label",{className:zl.a.hotkey_name},e.name+(n&&r>1?" x"+r:"")))}))}}])&&Bl(n.prototype,r),i&&Bl(n,i),t}(),Ul=n(52),Wl=n(51),Yl=n(50),Ql=n(168),Xl=n(33);function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $l(e,t){return($l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var tc=.4,nc=.1,rc=10,oc=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ql(t).call(this,e))||"object"!==Zl(o)&&"function"!=typeof o?ec(r):o)._workspace=null,n._toolbar=null,n._drawer=null,n._viewport=null,n._inputAdapter=new Wl.a,n._inputAdapter.getViewport().setMinScale(nc).setMaxScale(rc).setOffsetDamping(tc),n._undoManager=new Yl.a,n._hotKeyManager=new Rl,n._hotKeyManager.registerHotKey("Export to PNG",[Ll,"KeyP"],function(){console.log("Export!")}),n._hotKeyManager.registerHotKey("Save as JSON",[Ll,"KeyS"],function(){console.log("Save!")}),n._hotKeyManager.registerHotKey("New",[Ll,"KeyN"],function(){console.log("New!")}),n._hotKeyManager.registerHotKey("Undo",[Ll,"KeyZ"],function(){console.log("Undo!")}),n._hotKeyManager.registerHotKey("Redo",[Ll,Dl,"KeyZ"],function(){console.log("Redo!")}),n._hotKeyManager.registerAltHotKey("Show Hints",function(){m.SHOW_LABEL=!m.SHOW_LABEL}),n._saver=new xl(ec(ec(n))),n._init=!1,n.state={module:new Xl.default(ec(ec(n))),hide:!1},n._mediaQuerySmallWidthList=window.matchMedia("only screen and (max-width: 400px)"),n._mediaQuerySmallHeightList=window.matchMedia("only screen and (min-height: 400px)"),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$l(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this._workspace.ref;this._inputAdapter.initialize(e),this.getCurrentModule().initialize(this),this._hotKeyManager.initialize(),at.a.registerHandler(this._saver),this._init=!0}},{key:"componentWillUnmount",value:function(){this._init=!1,at.a.unregisterHandler(this._saver),this._hotKeyManager.destroy(),this.getCurrentModule().destroy(this),this._inputAdapter.destroy()}},{key:"setCurrentModuleClass",value:function(e){var t=this;this.getCurrentModule().destroy(this);var n=new e(this);this.setState({module:n},function(){n.initialize(t)})}},{key:"getCurrentModule",value:function(){return this.state.module}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getUndoManager",value:function(){return this._undoManager}},{key:"getHotKeyManager",value:function(){return this._hotKeyManager}},{key:"render",value:function(){var e=this,t=this.state.module;this._init&&(this._inputAdapter.update(),t.update(this),this._hotKeyManager.setEnabled(!(this._toolbar&&this._toolbar.isBarOpen()||this._drawer&&this._drawer.isDrawerOpen()&&this._drawer.isDrawerFullscreen())));var n=this._mediaQuerySmallWidthList.matches,r=this._mediaQuerySmallHeightList.matches,i=this.state.hide,a=this._undoManager,u=this._inputAdapter.getViewport(),l=t.getInputController(),c=t.getGraphController(),s=(t.getMachineController(),t.getGraphImporter()),f=(l.isActionMode(),[_u,vi,Ai]),p={currentModule:t,app:this},y=t.getModuleMenus().concat([rt,Mt]),h={currentModule:t,app:this},b=t.getModuleViews().concat([Dr,eo]),m={currentModule:t,app:this},d=t.getRenderer("graph"),v=t.getRenderer("graphoverlay");t.getRenderer("viewport");return o.a.createElement("div",{className:"app-container"},o.a.createElement(fe,{ref:function(t){return e._toolbar=t},className:"app-bar",menus:y,menuProps:h,hide:i},o.a.createElement(F,{title:"New",icon:Hu,onClick:function(){return tn(e,!1,function(){return e._toolbar.closeBar()})}}),o.a.createElement(Ru,{title:"Upload",icon:Ge,accept:s.getImportFileTypes().join(","),onUpload:function(n){s.importFile(n,t).catch(function(e){Ti.a.addErrorMessage("ERROR: Unable to load invalid JSON file.","errorUpload"),console.error(e)}).finally(function(){e._toolbar.closeBar()})}}),o.a.createElement(F,{title:"Undo",icon:Yu,containerOnly:"toolbar",disabled:!a.canUndo(),onClick:function(){return a.undo()}}),o.a.createElement(F,{title:"Redo",icon:$u,containerOnly:"toolbar",disabled:!a.canRedo(),onClick:function(){return a.redo()}}),o.a.createElement(F,{title:I18N.toString("component.exporting.title"),icon:ca,onClick:function(){return e._toolbar.setCurrentMenu(0)},disabled:c.getGraph().isEmpty()}),o.a.createElement(Tu,null),o.a.createElement(F,{title:"Report a Bug",icon:il,containerOnly:"menu"}),o.a.createElement(F,{title:"Language",icon:fl,containerOnly:"menu"}),o.a.createElement(F,{title:"Help",icon:dl,onClick:function(){return window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank")}}),o.a.createElement(F,{title:I18N.toString("component.options.title"),icon:Ol,containerOnly:"menu",onClick:function(){return e._toolbar.setCurrentMenu(1)}}),o.a.createElement("button",{onClick:function(){var t=e.getCurrentModule()instanceof Xl.default?Ql.default:Xl.default;e.setCurrentModuleClass(t)}},"Change to Module")),o.a.createElement(x,{ref:function(t){return e._drawer=t},className:"app-content",panels:f,panelProps:p,side:n?"bottom":"right",direction:r?"vertical":"horizontal",hide:i},o.a.createElement(Xe,null,o.a.createElement("div",{className:"viewport"},o.a.createElement(Re,{mode:"oneshot",visible:this._init&&c.getGraph().isEmpty()},o.a.createElement("label",null,I18N.toString("message.workspace.empty")),o.a.createElement("label",null,"If you need help, try the '?' at the top."),o.a.createElement("label",null,"Or you can choose to do nothing."),o.a.createElement("label",null,"I can't do anything about that."),o.a.createElement("label",null,"You really should consider doing something though, for the sake of both of us."),o.a.createElement("label",null,"Of course, it is your free will."),o.a.createElement("label",null,"You do you."),o.a.createElement("label",null,"Please do something."),o.a.createElement("label",null,"I need my job."),o.a.createElement("label",null,I18N.toString("message.workspace.empty"))),o.a.createElement(de,{ref:function(t){return e._workspace=t},viewport:u},!c.getGraph().isEmpty()&&o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{className:"graph-ui",x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"var(--color-viewport-back-detail)"}),o.a.createElement("line",{className:"graph-ui",x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"var(--color-viewport-back-detail)"})),d&&o.a.createElement(d,{currentModule:t,parent:this._workspace}),v&&o.a.createElement(v,{currentModule:t,parent:this._workspace})),o.a.createElement(Ul.a,{notificationManager:Ti.a}),o.a.createElement(Vl,{hotKeyManager:this._hotKeyManager}),o.a.createElement(Ce,{ref:function(t){return e._viewport=t},views:b,viewProps:m})))))}},{key:"workspace",get:function(){return this._workspace}},{key:"viewport",get:function(){return this._inputAdapter.getViewport()}}])&&Jl(n.prototype,r),i&&Jl(n,i),t}();t.default=Object(i.hot)(oc)}}]);
//# sourceMappingURL=sourcemap/experimental.bundle.js.map