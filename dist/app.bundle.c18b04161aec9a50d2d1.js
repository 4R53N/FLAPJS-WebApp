(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return f});var r=n(35);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=" ",f="Îµ",p=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,e,n,r))}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),n=t,(o=[{key:"setEdgeLabel",value:function(e){"string"==typeof e?l(u(t.prototype),"setEdgeLabel",this).call(this,e):l(u(t.prototype),"setEdgeLabel",this).call(this,f)}},{key:"getEdgeSymbolsFromLabel",value:function(){return this.getEdgeLabel().split(s)}}])&&i(n.prototype,o),p&&i(n,p),t}();t.c=p},11:function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(87);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,c(t).call(this,e))).ref=null,n.labelEditor=null,n.state={prevMode:t.NORMAL,mode:t.NORMAL},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.currentModule,n=(t.getInputController(),t.getGraphController(),t.getMachineController(),t.getRenderer("viewport"));return o.a.createElement("div",{className:"viewport-container viewport-"+this.state.mode,ref:function(t){return e.ref=t}},n&&o.a.createElement(n,a({},this.props,{parent:this})))}}])&&l(n.prototype,r),i&&l(n,i),t}();f.NORMAL="normal",f.WAITING="waiting",f.TESTING="testing",f.DANGEROUS="dangerous",t.a=f},12:function(e,t,n){"use strict";var r=n(21);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=a(this,u(t).call(this,e))).x=n,o.y=r,o._label="",o}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),n=t,(o=[{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=this.x,e.y=this.y,e}},{key:"setNodeLabel",value:function(e){return this._label=e,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?l(u(t.prototype),"getHashString",this).call(this,e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:l(u(t.prototype),"getHashString",this).call(this,e)+":"+this._label}}])&&i(n.prototype,o),s&&i(n,s),t}();t.a=s},13:function(e,t,n){"use strict";function r(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,n=0,r=e.length;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},14:function(e,t,n){"use strict";n.r(t),n.d(t,"JSON",function(){return i}),n.d(t,"XML",function(){return a});var r=n(19),o=n(10),i={parse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?t.clear():t=new r.a;for(var n=e.nodes||[],o=Math.min(n.length||0,e.nodeCount||0),i=e.edges||[],a=Math.min(i.length||0,e.edgeCount||0),l=e.initial||0,u=new Map,c=0;c<o;++c){var s=n[c];if(s){var f=t.createNode(s.x||0,s.y||0,s.id);f.setNodeLabel(s.label||""),f.setNodeAccept(s.accept||!1),f.setNodeCustom(s.custom||!1),u.set(c,f)}}var p=u.get(l);p&&t.setStartNode(p);for(var h=0;h<a;++h){var y=i[h];if(y){var v=u.get(y.from)||null;if(v){var d=u.get(y.to)||null,m=t.createEdge(v,d,y.id),b=y.quad||{};m.setEdgeLabel(y.label||""),m.setQuadratic(b.radians||0,b.length||0)}}}return t},objectify:function(e){for(var t=e.getNodes()||[],n=t.length||0,r=e.getEdges()||[],o=r.length||0,i=e.getStartNode(),a=new Array(n),l=new Map,u=0;u<n;++u){var c=t[u];if(c){var s=c.getGraphElementID();l.set(c,u),a[u]={id:s,x:c.x||0,y:c.y||0,label:c.getNodeLabel()||"",accept:c.getNodeAccept()||!1,custom:c.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var h=r[p];if(h){var y=h.getGraphElementID(),v=h.getQuadratic()||{},d=h.getSourceNode(),m=h.getDestinationNode(),b=l.has(d)?l.get(d):-1,g=l.has(m)?l.get(m):-1;f[p]={id:y,from:b,to:g,quad:{radians:v.radians||0,length:v.length||0},label:h.getEdgeLabel()||""}}}return{nodeCount:n,nodes:a,edgeCount:o,edges:f,initial:l.get(i)||0,_version:"1.0.0"}}},a={parse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NULL;t?t.clear():t=new r.a;for(var n=e.getElementsByTagName("state")||[],i=n.length,a=e.getElementsByTagName("transition")||[],l=a.length,u="0",c=new Map,s=0;s<i;++s){var f=n[s];if(f){var p=f.getAttribute("id");if(p){var h=0,y=f.getElementsByTagName("x");if(y.length>0){var v=y[0];if(v.hasChildNodes()){var d=v.childNodes[0];if(d)try{h=parseFloat(d.nodeValue)||0}catch(e){h=0}}}var m=0,b=f.getElementsByTagName("y");if(b.length>0){var g=b[0];if(g.hasChildNodes()){var w=g.childNodes[0];if(w)try{m=parseFloat(w.nodeValue)||0}catch(e){m=0}}}var _=f.getElementsByTagName("initial").length>0,E=f.getElementsByTagName("final").length>0,S=t.createNode(h,m);S.setNodeLabel(f.getAttribute("name")||""),S.setNodeAccept(E),_&&(u=p),c.set(p,S)}}}var O=c.get(u);O&&t.setStartNode(O);for(var k=t.getBoundingRect(),C=k.minX,M=k.minY,x=k.width,P=k.height,j=t.getNodes(),N=0,T=j.length;N<T;++N)j[N].x-=C+x/2,j[N].y-=M+P/2;for(var I=new Map,D=0;D<l;++D){var L=a[D];if(L){var A=null,F=L.getElementsByTagName("from");if(F.length>0){var R=F[0];if(R.hasChildNodes()){var G=R.childNodes[0];G&&(A=G.nodeValue)}}if(c.has(A)){var B="",H=L.getElementsByTagName("to");if(H.length>0){var z=H[0];if(z.hasChildNodes()){var U=z.childNodes[0];U&&(B=U.nodeValue||"")}}var V="",Y=L.getElementsByTagName("read");if(Y.length>0){var X=Y[0];if(X.hasChildNodes()){var K=X.childNodes[0];K&&(V=K.nodeValue||"")}}var W=A+"\n"+B,Q=void 0;I.has(W)?Q=I.get(W):(Q=[],I.set(W,Q)),Q.push(V)}}}var q=!0,J=!1,Z=void 0;try{for(var $,ee=I.keys()[Symbol.iterator]();!(q=($=ee.next()).done);q=!0){var te=$.value,ne=te.split("\n");if(2===ne.length){var re=I.get(te).join(o.b),oe=c.get(ne[0]),ie=c.get(ne[1]);t.createEdge(oe,ie).setEdgeLabel(re)}}}catch(e){J=!0,Z=e}finally{try{q||null==ee.return||ee.return()}finally{if(J)throw Z}}return t},objectify:function(e){var t=e.getNodes()||[],n=t.length||0,r=e.getEdges()||[],o=(r.length,e.getStartNode()),i=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created with flap.js 1.0.0--\x3e<structure></structure>',"application/xml"),a=i.getElementsByTagName("structure")[0],l=i.createElement("type");l.innerHTML="fa",a.appendChild(l);var u=i.createElement("automaton");a.appendChild(u);for(var c=new Map,s=0;s<n;++s){var f=t[s];c.set(f,s);var p=i.createElement("state");p.id=""+s,p.setAttribute("name",f.getNodeLabel()),u.appendChild(p);var h=i.createElement("x");h.innerHTML=""+(f.x||0),p.appendChild(h);var y=i.createElement("y");y.innerHTML=""+(f.y||0),p.appendChild(y),o===f&&p.appendChild(i.createElement("initial")),f.getNodeAccept()&&p.appendChild(i.createElement("final"))}var v=!0,d=!1,m=void 0;try{for(var b,g=r[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var w=b.value,_=w.getEdgeSymbolsFromLabel(),E=!0,S=!1,O=void 0;try{for(var k,C=_[Symbol.iterator]();!(E=(k=C.next()).done);E=!0){var M=k.value,x=i.createElement("transition");u.appendChild(x);var P=i.createElement("from");P.innerHTML=""+(c.get(w.getSourceNode())||0),x.appendChild(P);var j=i.createElement("to");j.innerHTML=""+(c.get(w.getDestinationNode())||0),x.appendChild(j);var N=i.createElement("read");N.innerHTML=""+(M||""),x.appendChild(N)}}catch(e){S=!0,O=e}finally{try{E||null==C.return||C.return()}finally{if(S)throw O}}}}catch(e){d=!0,m=e}finally{try{v||null==g.return||g.return()}finally{if(d)throw m}}return i}}},15:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?c(r):o).onChange=n.onChange.bind(c(c(n))),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){var t=e.target.value,n=this.props.value,r=this.props.onChange;n.setStyle(t),r&&r(n)}},{key:"render",value:function(){var e=this.props.title,t=this.props.value,n=t.prop,r=t.type,i="styleopt-"+n;return o.a.createElement("span",{id:this.props.id,className:this.props.className,style:this.props.style},o.a.createElement("input",{id:i,type:r,value:t.getStyle(),onChange:this.onChange,disabled:this.props.disabled}),o.a.createElement("label",{htmlFor:i},e))}}])&&a(n.prototype,r),s&&a(n,s),t}();t.a=s},16:function(e,t,n){"use strict";var r=n(21);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=a(this,u(t).call(this,e)),!n)throw new Error("Source of edge cannot be null.");return r._from=n,r._to=o,r._label="",r}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),n=t,(o=[{key:"setSourceNode",value:function(e){if(!e)throw new Error("Source of edge cannot be null.");return this._from=e,this}},{key:"getSourceNode",value:function(){return this._from}},{key:"setDestinationNode",value:function(e){return this._to=e,this}},{key:"changeDestinationNode",value:function(e){this._to=e}},{key:"getDestinationNode",value:function(){return this._to}},{key:"setEdgeLabel",value:function(e){this._label=e}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeDirection",value:function(){var e=this._from,t=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=t.y-e.y,i=t.x-e.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(n.x-t.x)/2,e.y=t.y+(n.y-t.y)/2;return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,n=this.getPlaceholderLength();e.x=t.x+n,e.y=t.y+n}else{var r=this._to;e.x=r.x,e.y=r.y}return e}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return!this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(e):"",r=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return l(u(t.prototype),"getHashString",this).call(this,e)+":"+n+","+r+"."+this._label}}])&&i(n.prototype,o),s&&i(n,s),t}();t.a=s},17:function(e,t,n){"use strict";var r=n(12),o=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=l(this,c(t).call(this,e,n,r)))._accept=!1,o._custom=!1,o}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(i=[{key:"setNodeAccept",value:function(e){this._accept=e}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(e){this._custom=e}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getNodeSize",value:function(){return o.a.NODE_RADIUS}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u(c(t.prototype),"getHashString",this).call(this,e)+":"+(this._accept?"1":"0")}}])&&a(n.prototype,i),f&&a(n,f),t}();t.a=f},18:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"applyLayout",value:function(e){if("circle"!=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle"))throw new Error("Invalid layout type");var t=function(e){var t=[],n=e.getStartNode();t.push(n);for(var r=0;r<t.length;r++){var o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c._from==t[r]&&(t.includes(c._to)||t.push(c._to))}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return t}(e);var n=e.getNodes().filter(function(e){return!t.includes(e)}),r=t.length,o=n.length,i=e.getNodes().length,a=Math.max(r,o);if(0!=i){var l;l=r<10&&o<10?a/4*50+30:a/5*40+30;var u=0;if(1==r){var c=2*Math.PI/i,s=!0,f=!1,p=void 0;try{for(var h,y=e.getNodes()[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;v.y=Math.sin(c*u+Math.PI)*l,v.x=Math.cos(c*u+Math.PI)*l,u+=1}}catch(e){f=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}}else{var d=2*Math.PI/r,m=2*Math.PI/o;u=0;var b=!0,g=!1,w=void 0;try{for(var _,E=t[Symbol.iterator]();!(b=(_=E.next()).done);b=!0){var S=_.value;S.y=Math.sin(d*u+Math.PI)*l,S.x=Math.cos(d*u+Math.PI)*l,u+=1}}catch(e){g=!0,w=e}finally{try{b||null==E.return||E.return()}finally{if(g)throw w}}u=0;var O=!0,k=!1,C=void 0;try{for(var M,x=n[Symbol.iterator]();!(O=(M=x.next()).done);O=!0){var P=M.value;P.y=Math.sin(m*u+Math.PI)*(l+100),P.x=Math.cos(m*u+Math.PI)*(l+100),u+=1}}catch(e){k=!0,C=e}finally{try{O||null==x.return||x.return()}finally{if(k)throw C}}}}}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},19:function(e,t,n){"use strict";var r=n(41),o=n(17),i=n(10);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).call(this,o.a,i.c))}var n,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(a=[{key:"setStartNode",value:function(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var n=this._nodes[0];this._nodes[0]=e,this._nodes[t]=n}else if(t<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"formatEdge",value:function(e){var t=e.getSourceNode(),n=e.getDestinationNode(),r=e.getEdgeSymbolsFromLabel(),o=!0,a=!1,l=void 0;try{for(var u,c=this._edges[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value;if(s!==e&&(s.getSourceNode()===t&&s.getDestinationNode()===n)){var f=s.getEdgeSymbolsFromLabel();if(r.length>0){var p=f.concat(r);s.setEdgeLabel(p.join(i.b))}return s}}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}if(!e.isSelfLoop()){var h=!1,y=Math.PI/2,v=!0,d=!1,m=void 0;try{for(var b,g=this._edges[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var w=b.value;if(!(w.isQuadratic()&&Math.abs(w.getQuadratic().length)>=20)&&(w.getDestinationNode()===t&&w.getSourceNode()===n)){e.setQuadratic(y,10),w.setQuadratic(y,10),h=!0;break}}}catch(e){d=!0,m=e}finally{try{v||null==g.return||g.return()}finally{if(d)throw m}}if(!h){var _=Math.max(t.getNodeSize(),n.getNodeSize()),E=t.x,S=t.y,O=n.x,k=n.y,C=(O-E)*(O-E)+(k-S)*(k-S),M=!1,x=0,P=0;E>O?P=k-(x=(S-k)/(E-O))*O:E<O?P=S-(x=(k-S)/(O-E))*E:M=!0;var j=!0,N=!1,T=void 0;try{for(var I,D=this._nodes[Symbol.iterator]();!(j=(I=D.next()).done);j=!0){var L=I.value;if(L!==t&&L!==n){var A=L.x,F=L.y;if(!((E-A)*(E-A)+(S-F)*(S-F)>C||(O-A)*(O-A)+(k-F)*(k-F)>C)){if((M?Math.abs(E-A):Math.abs(P+x*A-F)/Math.sqrt(1+x*x))<L.getNodeSize()){h=!0;break}}}}}catch(e){N=!0,T=e}finally{try{j||null==D.return||D.return()}finally{if(N)throw T}}h&&e.setQuadratic(-Math.PI/2,_+10)}}return e}}])&&l(n.prototype,a),f&&l(n,f),t}();t.a=f},199:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(53),a=n.n(i),l=["Added meta tags for those coming from a search engine.","Added Pushdown Automata","Added Regular Expressions","Added a whole NEW EXPERIMENTAL MODE! :D"],u={show:l&&l.length>0,log:"\nChangelog v0.3.4:\n - "+l.join("\n - "),version:"0.3.4"},c={_componentClass:null,_componentProps:null,routeTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._componentClass=e,this._componentProps=t},getCurrentPage:function(){return this._componentClass},getCurrentPageProps:function(){return this._componentProps}},s=n(24),f=(n(59),n(3)),p=n(33),h=n(20),y=n(5);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=null,_=!0,E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,b(t).call(this,e)))._timeout=null,n}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.Component),r=t,a=[{key:"loadModuleFromStorage",value:function(){var e=y.a.getStringFromStorage("currentModule");return t.loadModule(e)}},{key:"loadModule",value:function(e){if(!e)return!1;var r=h.a[e];if(!r)return window.alert("Cannot find module with id '"+e+"'"),!1;var o=r.experimental;return w&&clearTimeout(w),w=setTimeout(function(){r.fetch(function(r){y.a.setStringToStorage("currentModule",e),w=null,_=!1,o?Promise.all([n.e(0),n.e(2)]).then(n.bind(null,317)).then(function(e){var n=e.default;return c.routeTo(t,{moduleClass:r,appClass:n})}):c.routeTo(t,{moduleClass:r})})},300),!0}},{key:"isDefaultModule",value:function(){return _}},{key:"isModuleLoading",value:function(){return null!==w}}],(i=[{key:"componentDidMount",value:function(){var e=this;w=setTimeout(function(){w=null;var t=e.props.appClass||Cn;c.routeTo(t,{moduleClass:e.props.moduleClass})},300)}},{key:"render",value:function(){return o.a.createElement("div",null)}}])&&d(r.prototype,i),a&&d(r,a),t}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=null,this.workspace=null,this.toolbar=null,this.undoManager=null,this.graphController=null,this.machineController=null,this.onKeyDown=this.onKeyDown.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.app=e,this.workspace=e.workspace,this.toolbar=e.toolbar,this.undoManager=e.getUndoManager(),this.graphController=e.getGraphController(),this.machineController=e.getMachineController(),window.addEventListener("keydown",this.onKeyDown)}},{key:"destroy",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){if(83==event.which&&(event.metaKey||event.ctrlKey)){var t=this.graphController.getDefaultGraphExporter(),n=this.machineController.getMachineName();t.exportToFile(n,this.app.getCurrentModule()),e.preventDefault(),e.stopPropagation()}else if(90==event.which&&(event.metaKey||event.ctrlKey))event.shiftKey?this.undoManager.redo():this.undoManager.undo(),e.preventDefault(),e.stopPropagation();else if(80==event.which&&(event.metaKey||event.ctrlKey)){var r=this.graphController.getImageExporters();if(!(imageExporter.length>=1))throw new Error("Unable to find valid image exporter for module '"+this.app.getCurrentModule().getModuleName()+"'");var o=r[0],i=this.machineController.getMachineName();o.exportToFile(i,this.app.getCurrentModule()),e.preventDefault(),e.stopPropagation()}}}])&&S(t.prototype,n),r&&S(t,r),e}(),k=(n(103),n(7));function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=x(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?j(r):o).onUploadFileChange=n.onUploadFileChange.bind(j(j(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o.a.Component),n=t,(r=[{key:"onUploadFileChange",value:function(e){var t=e.target.files;t.length>0&&(this.props.app.getCurrentModule().getGraphController().getGraphImporter().importFile(t[0],this.props.app.getCurrentModule()).catch(function(e){k.a.addErrorMessage("ERROR: Unable to load invalid JSON file.","errorUpload"),console.error(e)}),e.target.value="")}},{key:"render",value:function(){var e=this.props.id+"-input";return o.a.createElement("button",{className:"icon-button button-upload "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},o.a.createElement("input",{id:e,type:"file",name:"import",style:{display:"none"},onChange:this.onUploadFileChange,accept:this.props.app.getCurrentModule().getGraphController().getGraphImporter().getImportFileTypes().join(",")}),o.a.createElement("label",{htmlFor:e},this.props.children))}}])&&M(n.prototype,r),i&&M(n,i),t}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var F=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=D(t).call(this,e))||"object"!==T(o)&&"function"!=typeof o?A(r):o).onClick=n.onClick.bind(A(A(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){k.a.hasMessages()?(k.a.addMessage(I18N.toString("message.help.3")),k.a.addMessage(I18N.toString("message.help.1"))):k.a.addMessage(I18N.toString("message.help.2"));window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank");this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button button-help "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.onClick},this.props.children)}}])&&I(n.prototype,r),i&&I(n,i),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var U=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=B(t).call(this,e))||"object"!==R(o)&&"function"!=typeof o?z(r):o).state={value:null},n.onKeyDown=n.onKeyDown.bind(z(z(n))),n.onChange=n.onChange.bind(z(z(n))),n.onFocus=n.onFocus.bind(z(z(n))),n.onBlur=n.onBlur.bind(z(z(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,o.a.Component),n=t,(r=[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"onKeyDown",value:function(e){if("Escape"===e.key){var t=e.target;return this.setState({value:null},function(){return t.blur()}),!1}if("Enter"===e.key)return e.target.blur(),!1}},{key:"onFocus",value:function(e){this.setState({value:this.props.value})}},{key:"onBlur",value:function(e){this.state.value&&this.props.onSubmit&&this.props.onSubmit({value:this.state.value}),this.setState({value:null})}},{key:"render",value:function(){return o.a.createElement("input",{type:"text",className:this.props.className,id:this.props.id,value:null!=this.state.value?this.state.value:this.props.value,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur})}}])&&G(n.prototype,r),i&&G(n,i),t}(),V=n(4);var Y=n(27);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,Q(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"pagenew-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 2zm-3-7V3.5L18.5 9H13z"}))}}])&&K(n.prototype,r),i&&K(n,i),t}(),Z=n(28),$=n(30),ee=n(31);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(this,oe(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"help-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}))}}])&&ne(n.prototype,r),i&&ne(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,se(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"language-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}))}}])&&ue(n.prototype,r),i&&ue(n,i),t}();function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,de(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"offline-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z"}))}}])&&ye(n.prototype,r),i&&ye(n,i),t}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_e(this,Ee(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"bugreport-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z"}))}}])&&we(n.prototype,r),i&&we(n,i),t}();n(105),n(107);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var je=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Me(t).call(this,e))||"object"!==ke(o)&&"function"!=typeof o?Pe(r):o).onClick=n.onClick.bind(Pe(Pe(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.app;t.state.isFullscreen?t.setState({isFullscreen:!1}):t.state.isOpen?t.closeDrawer():t.openDrawer()}},{key:"render",value:function(){var e=this.props.app.state.isOpen;return o.a.createElement("div",{className:"drawer-expand"+(e?" open":""),onClick:this.onClick},o.a.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M5 3.737l12.395 8.263-12.395 8.263v-16.526zm-2-3.737v24l18-12-18-12z"})))}}])&&Ce(n.prototype,r),i&&Ce(n,i),t}();n(50),n(110);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ie(this,De(t).call(this,e))).container=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,o.a.Component),n=t,(r=[{key:"renderExporterButton",value:function(e){var t=this;return e.doesSupportFile()?o.a.createElement(V.a,{key:e.getFileType(),className:"export-button",id:"export-"+e.getFileType(),title:e.getTitle(),onClick:function(){var n=t.props.currentModule,r=n.getMachineController().getMachineName()||"Untitled";e.exportToFile(r,n)}},o.a.createElement(e.getIconClass()),o.a.createElement("label",null,e.getLabel())):null}},{key:"render",value:function(){var e=this,t=this.props.currentModule.getGraphController(),n=t.getGraphExporters(),r=t.getImageExporters();return o.a.createElement("div",{className:"panel-container "+this.props.className,id:"exporting",ref:function(t){return e.container=t},style:this.props.style},o.a.createElement("div",{className:"panel-title"},o.a.createElement("h1",null,I18N.toString("component.exporting.title"))),o.a.createElement("div",{className:"panel-content"},n.map(function(t){return e.renderExporterButton(t)}),r.map(function(t){return e.renderExporterButton(t)}),o.a.createElement("hr",null),o.a.createElement("div",{className:"export-email"})),o.a.createElement("div",{className:"panel-bottom"}))}}])&&Te(n.prototype,r),i&&Te(n,i),t}();Object.defineProperty(Ae,"TITLE",{get:function(){return I18N.toString("component.exporting.title")}}),Ae.UNLOCALIZED_NAME="component.exporting.title";var Fe=Ae,Re=(n(112),n(9)),Ge=n(51),Be=n(15),He=(n(114),n(25)),ze=n(26);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ye(this,Xe(t).call(this,e))).dropdown=o.a.createRef(),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,o.a.Component),n=t,(r=[{key:"isOpen",value:function(){return!!this.dropdown.state&&this.dropdown.state.open}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"option-group "+this.props.className},o.a.createElement("div",{className:"option-header",onClick:function(t){return e.dropdown.onClick(t)}},o.a.createElement("label",null,this.props.title),o.a.createElement("label",null,"(",this.props.label,")"),o.a.createElement(He.a,{id:"collapse",ref:function(t){return e.dropdown=t},defaultValue:this.props.defaultValue,style:{pointerEvents:"none"}},o.a.createElement(ze.a,null))),o.a.createElement("div",{className:"option-content",style:{display:this.isOpen()?"block":"none"}},this.props.children))}}])&&Ve(n.prototype,r),i&&Ve(n,i),t}();n(116);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,Ze(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"option-container option-hotkey "+this.props.className},o.a.createElement("label",null,this.props.label),o.a.createElement("span",null,this.props.keyName))}}])&&qe(n.prototype,r),i&&qe(n,i),t}();function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var at="skipWelcome",lt=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=rt(t).call(this,e))||"object"!==tt(i)&&"function"!=typeof i?it(r):i).container=o.a.createRef(),n.styleOpts=new Ge.a,n.state={theme:"default",customTheme:!1,skipWelcome:"true"===y.a.getStringFromStorage(at),disableExitWarning:"true"===y.a.getStringFromStorage("disableExitWarning")},n.onChangeTheme=n.onChangeTheme.bind(it(it(n))),n.onChangeModule=n.onChangeModule.bind(it(it(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=document.getElementById("root"),t=this.styleOpts,n=function(e,n){var r=[];Re.a(n,r),Re.d(r,!1,r);var o=Re.b(r);t.getOptionByProp(e.prop+"-invert").setStyle(o)},r=function(e,n){var r=[],o=[];Re.a(n,r),Re.d(r,!0,o),Re.c(.2,r,o,r);var i=Re.b(r);t.getOptionByProp(e.prop+"-dark").setStyle(i)};t.registerStyleOption(e,"--color-toolbar-main","color","toolbar",r),t.registerStyleOption(e,"--color-toolbar-main-dark","color","hidden"),t.registerStyleOption(e,"--color-toolbar-accent","color","toolbar",r),t.registerStyleOption(e,"--color-toolbar-accent-dark","color","hidden"),t.registerStyleOption(e,"--color-toolbar-text","color","toolbar",n),t.registerStyleOption(e,"--color-toolbar-text-invert","color","hidden"),t.registerStyleOption(e,"--color-drawer-main","color","drawer",r),t.registerStyleOption(e,"--color-drawer-main-dark","color","hidden"),t.registerStyleOption(e,"--color-drawer-accent","color","drawer"),t.registerStyleOption(e,"--color-drawer-text","color","drawer",function(){(function(e,n){var r=[],o=[];Re.a(n,r),Re.d(r,!0,o),Re.c(.39,r,o,r);var i=Re.b(r);t.getOptionByProp(e.prop+"-subtle").setStyle(i)}).apply(void 0,arguments),function(e,n){var r=[],o=[];Re.a(n,r),Re.d(r,!0,o),Re.c(.26,r,o,r);var i=Re.b(r);t.getOptionByProp(e.prop+"-ghost").setStyle(i)}.apply(void 0,arguments),n.apply(void 0,arguments),function(e,n){var r=[],o=[];Re.a(n,r),Re.d(r,!0,o),Re.c(.13,r,o,r);var i=Re.b(r);t.getOptionByProp(e.prop+"-back").setStyle(i)}.apply(void 0,arguments)}),t.registerStyleOption(e,"--color-drawer-text-subtle","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-ghost","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-invert","color","hidden"),t.registerStyleOption(e,"--color-drawer-text-back","color","hidden"),t.registerStyleOption(e,"--color-drawer-error","color","drawer"),t.registerStyleOption(e,"--color-testing-success","color","testing"),t.registerStyleOption(e,"--color-testing-failure","color","testing"),t.registerStyleOption(e,"--color-testing-working","color","testing"),t.registerStyleOption(e,"--color-testing-text","color","testing"),t.registerStyleOption(e,"--color-notification-text","color","notification"),t.registerStyleOption(e,"--color-notification-info","color","notification",r),t.registerStyleOption(e,"--color-notification-info-dark","color","hidden"),t.registerStyleOption(e,"--color-notification-error","color","notification",r),t.registerStyleOption(e,"--color-notification-error-dark","color","hidden"),t.registerStyleOption(e,"--color-notification-warning","color","notification",r),t.registerStyleOption(e,"--color-notification-warning-dark","color","hidden"),t.registerStyleOption(e,"--color-graph-node","color","workspace"),t.registerStyleOption(e,"--color-workspace-text","color","workspace"),t.registerStyleOption(e,"--color-workspace-main","color","workspace"),t.registerStyleOption(e,"--color-labeleditor-text","color","labeleditor"),t.registerStyleOption(e,"--color-labeleditor-main","color","labeleditor"),t.registerStyleOption(e,"--color-viewport-error","color","viewport"),t.registerStyleOption(e,"--color-viewport-testing","color","viewport"),t.registerStyleOption(e,"--color-viewport-warning","color","viewport"),t.registerStyleOption(e,"--color-highlight-select","color","viewport"),t.initialize(),y.a.registerHandler(this),this.onLoadSave()}},{key:"componentWillUnmount",value:function(){this.styleOpts.terminate(),y.a.unregisterHandler(this)}},{key:"onLoadSave",value:function(){var e=this.styleOpts,t=y.a.loadFromStorage("prefs-color");for(var n in t){var r=e.getOptionByProp(n);r&&r.setStyle(t[n])}}},{key:"onAutoSave",value:function(){var e=this.styleOpts,t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.getOptions()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.isDefaultStyle()||(t[l.prop]=l.getStyle())}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}y.a.saveToStorage("prefs-color",t)}},{key:"onChangeTheme",value:function(e){var t=this.state.theme,n=e.target.value;if(t!==n){if("default"===n){var r=!0,o=!1,i=void 0;try{for(var a,l=this.styleOpts.getOptions()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.resetStyle()}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}this.setState({theme:n})}}},{key:"onChangeModule",value:function(e){var t=e.target.value;E.loadModule(t)}},{key:"render",value:function(){var e=this,t=(document.getElementById("root"),this.styleOpts);return o.a.createElement("div",{className:"panel-container "+this.props.className,id:"option",ref:function(t){return e.container=t},style:this.props.style},o.a.createElement("div",{className:"panel-title"},o.a.createElement("h1",null,I18N.toString("component.options.title"))),o.a.createElement("div",{className:"panel-content"},o.a.createElement(We,{title:I18N.toString("component.workspace.title"),label:I18N.toString("options.category.shortcuts")},o.a.createElement(et,{label:I18N.toString("action.toolbar.savemachine"),keyName:"Ctrl + S"}),o.a.createElement(et,{label:I18N.toString("action.toolbar.undo.label"),keyName:"Ctrl + Z"}),o.a.createElement(et,{label:I18N.toString("action.toolbar.redo.label"),keyName:"Ctrl + Shift + Z"}),o.a.createElement(et,{label:I18N.toString("action.toolbar.saveimage"),keyName:"Ctrl + P"})),o.a.createElement(We,{title:I18N.toString("component.testing.title"),label:I18N.toString("options.category.shortcuts")},o.a.createElement(et,{label:"Add test input",keyName:"Enter"}),o.a.createElement(et,{label:"Run test input",keyName:"Shift + Enter"})),o.a.createElement(We,{title:I18N.toString("component.labeleditor.title"),label:I18N.toString("options.category.shortcuts")},o.a.createElement(et,{label:I18N.toString("action.workspace.submit.label"),keyName:"Enter"}),o.a.createElement(et,{label:I18N.toString("action.workspace.cancel.label"),keyName:"Escape"})),o.a.createElement("div",{className:"panel-checkbox",style:{marginTop:"10px"}},o.a.createElement("input",{id:"option-skipwelcome",type:"checkbox",checked:this.state.skipWelcome,onChange:function(t){var n=t.target.checked;e.setState({skipWelcome:t.target.checked}),y.a.setStringToStorage(at,""+n)}}),o.a.createElement("label",{htmlFor:"option-skipwelcome"},I18N.toString("options.skipwelcome"))),o.a.createElement("hr",null),o.a.createElement("div",null,o.a.createElement("div",{id:"options-theme-select-container"},o.a.createElement("label",{htmlFor:"options-theme-select"},"Theme"),o.a.createElement("select",{id:"options-theme-select",className:"panel-select",value:this.state.theme,onChange:this.onChangeTheme,disabled:this.state.customTheme},o.a.createElement("option",{value:"default"},"Default"),o.a.createElement("option",{value:"ucsd",disabled:!0},"UC San Diego (Coming Soon)"),o.a.createElement("option",{value:"duke",disabled:!0},"Duke University (Coming Soon)")),!this.state.customTheme&&o.a.createElement("button",{className:"panel-button",onClick:function(){return e.setState({customTheme:!0})}},I18N.toString("action.options.changetheme"))),this.state.customTheme&&o.a.createElement("div",null,o.a.createElement(We,{title:I18N.toString("component.toolbar.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("toolbar").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("component.drawer.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("drawer").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("component.testing.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("testing").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("component.notification.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("notification").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("component.graph.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("workspace").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("component.labeleditor.title"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("labeleditor").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement(We,{title:I18N.toString("options.category.general"),label:I18N.toString("options.category.colors")},t.getPropsByGroup("viewport").map(function(e){return o.a.createElement("div",{key:e},o.a.createElement(Be.a,{className:"option-container",value:t.getOptionByProp(e),title:I18N.toString("options."+e)}))})),o.a.createElement("button",{className:"panel-button",onClick:function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.styleOpts.getOptions()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.resetStyle()}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.setState({customTheme:!1})}},I18N.toString("action.options.reset")))),o.a.createElement("hr",null),o.a.createElement("div",null,o.a.createElement("h2",null,"Experimental"),o.a.createElement("select",{id:"options-experimental-modules",className:"panel-select",value:this.props.currentModule.getModuleName(),onChange:this.onChangeModule,disabled:!0},Object.keys(h.a).map(function(e){var t=h.a[e];return o.a.createElement("option",{key:e,value:e,disabled:t.experimental||t.disabled},t.name+" ("+t.version+")")})),o.a.createElement("div",{className:"panel-checkbox",style:{marginTop:"10px"}},o.a.createElement("input",{id:"option-disableexitwarning",type:"checkbox",checked:this.state.disableExitWarning,onChange:function(t){var n=t.target.checked;e.setState({disableExitWarning:n}),y.a.setStringToStorage("disableExitWarning",""+n)}}),o.a.createElement("label",{htmlFor:"option-disableexitwarning"},"Disable Exit Warning")),o.a.createElement("button",{className:"panel-button",style:{marginTop:"10px"},onClick:function(e){"true"===y.a.getStringFromStorage("enableExperimental")?window.alert("Please restart to begin the awakening..."):window.confirm("Be careful! These features are still being tested. Some things may break (more than usual). Are you sure about this?")&&(window.confirm("Will be you an amazing human and report any bugs found?")?window.confirm("Alright, here we go. Last chance to leave. All those who cannot bear the responsibility, leave now or prepare to enter.")&&(y.a.setStringToStorage("enableExperimental","true"),y.a.setStringToStorage("currentModule",""),window.alert("Experimental changes applied. Please restart the browser.")):window.alert("Sorry, it looks like you are a normal human. Have a hug. <3"))}},"Enable Experimental Mode"))),o.a.createElement("div",{className:"panel-bottom"}))}}])&&nt(n.prototype,r),i&&nt(n,i),t}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(lt,"TITLE",{get:function(){return I18N.toString("component.options.title")}}),lt.UNLOCALIZED_NAME="component.options.title";var ht=[Fe,lt],yt=0,vt=50,dt=300,mt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=st(t).call(this,e))||"object"!==ut(o)&&"function"!=typeof o?pt(r):o).state={tabIndex:yt,dragging:!1},n.onTouchStart=n.onTouchStart.bind(pt(pt(n))),n.onMouseDown=n.onMouseDown.bind(pt(pt(n))),n.onScroll=n.onScroll.bind(pt(pt(n))),n._ontouchmove=null,n._ontouchend=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,o.a.Component),n=t,(r=[{key:"setTab",value:function(e){var t=this.props.app;t.state.isOpen?this.state.tabIndex===e&&t.openDrawer(!t.state.isFullscreen):t.openDrawer(),this.setState(function(t,n){return{tabIndex:e}})}},{key:"onStartDraggingDrawerBorder",value:function(e,t){var n=this.props.app;this.setState({dragging:!0}),n.state.isFullscreen&&n.openDrawer(!1),bt(n,e,t)}},{key:"onStopDraggingDrawerBorder",value:function(){this.setState({dragging:!1})}},{key:"onTouchStart",value:function(e){e.stopPropagation(),e.preventDefault(),this._ontouchmove&&(document.removeEventListener("touchmove",this._ontouchmove),this._ontouchmove=null),this._ontouchend&&(document.removeEventListener("touchend",this._ontouchend),this._ontouchend=null);var t=this.props.app;if(t.state.isOpen){var n=e.changedTouches[0];this.onStartDraggingDrawerBorder(n.clientX,n.clientY),this._ontouchmove=function(n){e.stopPropagation(),e.preventDefault();var r=n.changedTouches[0];bt(t,r.clientX,r.clientY)},document.addEventListener(this._ontouchmove),this._ontouchend=function(n){e.stopPropagation(),e.preventDefault();var r=n.changedTouches[0];bt(t,r.clientX,r.clientY),this.onStopDraggingDrawerBorder(),document.removeEventListener("touchend",this._ontouchend),document.removeEventListener("touchmove",this._ontouchmove)},document.addEventListener("touchend",this._ontouchend),document.addEventListener("touchmove",this._ontouchmove)}else this.setState({dragging:!1})}},{key:"onMouseDown",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=this.props.app;if(n.state.isOpen){this.onStartDraggingDrawerBorder(e.clientX,e.clientY);var r=function(e){e.stopPropagation(),e.preventDefault(),bt(n,e.clientX,e.clientY)};document.addEventListener("mouseup",function e(o){o.stopPropagation(),o.preventDefault(),bt(n,o.clientX,o.clientY),t.onStopDraggingDrawerBorder(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r)}),document.addEventListener("mousemove",r)}}},{key:"onScroll",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.app,n=this.props.currentModule,r=(n.getGraphController(),n.getMachineController(),this.state.tabIndex),i=n?n.getModulePanels()[0]:null;return o.a.createElement("div",{className:"drawer-container",onWheel:this.onScroll},o.a.createElement("div",{className:"drawer-content"},n&&n.getModulePanels().map(function(e,t){var i=t+1;return o.a.createElement(e,{key:n.getModuleName()+":"+i,style:{display:r==i?"block":"none"},currentModule:n})}),0==r&&null!=i&&o.a.createElement(i,{currentModule:n}),ht.map(function(e,t){var i=-(t+1);return o.a.createElement(e,{key:"default:"+i,style:{display:r==i?"block":"none"},currentModule:n})})),o.a.createElement("div",{className:"tab-list"},o.a.createElement(je,{app:t}),n&&n.getModulePanels().map(function(t,i){if(t.UNLOCALIZED_NAME){var a=i+1;return o.a.createElement("button",{key:n.getModuleName()+":"+a,className:"tab-link"+(r===a?" active":""),onClick:function(t){return e.setTab(a)}},I18N.toString(t.UNLOCALIZED_NAME||"component.untitled.title"))}}),ht.map(function(t,n){var i=-(n+1);return o.a.createElement("button",{key:"default:"+i,className:"tab-link"+(r===i?" active":""),onClick:function(t){return e.setTab(i)}},I18N.toString(t.UNLOCALIZED_NAME||"component.untitled.title"))}),o.a.createElement("div",{className:"tab-right"})),o.a.createElement("div",{className:"drawer-border"+(this.state.dragging?" dragging":""),onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}))}}])&&ct(n.prototype,r),i&&ct(n,i),t}();function bt(e,t,n){var r=e.container,o=0;window.matchMedia("(max-width: 420px)").matches?n-e.viewport.ref.getBoundingClientRect().y<vt?e.setState(function(e,t){return{isFullscreen:!0}}):(o=r.offsetHeight-n,e.state.isFullscreen&&e.setState(function(e,t){return{isFullscreen:!1}})):t<vt?e.setState(function(e,t){return{isFullscreen:!0}}):(o=r.offsetWidth-t,e.state.isFullscreen&&e.setState(function(e,t){return{isFullscreen:!1}}));o<dt&&(o=dt),r.style.setProperty("--panel-size",o+"px")}mt.EXPORTING_PANEL_TAB_INDEX=-1,mt.OPTIONS_PANEL_TAB_INDEX=-2;var gt=mt;function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Et(t).call(this,e))||"object"!==wt(o)&&"function"!=typeof o?Ot(r):o).state={langOn:!1},n.onMachineNameChange=n.onMachineNameChange.bind(Ot(Ot(n))),n.onMachineNameKeyDown=n.onMachineNameKeyDown.bind(Ot(Ot(n))),n.langOnClick=n.langOnClick.bind(Ot(Ot(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,o.a.Component),n=t,(r=[{key:"onMachineNameChange",value:function(e){this.props.currentModule.getMachineController().renameMachine(e.value)}},{key:"onMachineNameKeyDown",value:function(){}},{key:"onMachineNameBlur",value:function(){}},{key:"langOnClick",value:function(){this.setState({langOn:!this.state.langOn})}},{key:"render",value:function(){var e=this,t=this.props.app,n=this.props.currentModule,r=this.props.drawer,i=n.getGraphController(),a=n.getMachineController(),l=t.getUndoManager(),u=i.getGraph(),c=navigator&&navigator.onLine;return o.a.createElement("div",{className:"toolbar-container"},o.a.createElement("div",{className:"toolbar-title"},o.a.createElement("div",{className:"toolbar-title-name"},o.a.createElement(U,{id:"machine-name",value:a.getMachineName(),onSubmit:this.onMachineNameChange}),o.a.createElement("div",{className:"toolbar-title-alt"},o.a.createElement(V.a,{id:"toolbar-lang",title:I18N.toString("action.toolbar.lang"),onClick:function(){"serviceWorker"in navigator?navigator.serviceWorker.getRegistration("./app.html")?alert(I18N.toString("message.offline.ready")):alert(I18N.toString("message.offline.failed")):alert(I18N.toString("message.offline.nosupport"))},disabled:c},o.a.createElement(be,null)))),o.a.createElement("label",{id:"machine-type",onClick:function(){return r.setTab(0)}},n.getLocalizedModuleName())),o.a.createElement("div",{className:"toolbar-tray"},o.a.createElement(V.a,{className:"navicon",id:"toolbar-new",title:I18N.toString("action.toolbar.newmachine"),onClick:function(){window.confirm(I18N.toString("alert.graph.clear"))&&(u.clear(),l.clear(),a.setMachineName(null))}},o.a.createElement(J,null)),o.a.createElement(N,{className:"navicon",id:"toolbar-upload",title:I18N.toString("action.toolbar.uploadmachine"),app:t,graphController:i},o.a.createElement(Y.a,null)),o.a.createElement(V.a,{className:"navicon",id:"toolbar-undo",title:I18N.toString("action.toolbar.undo"),disabled:!l.canUndo(),onClick:function(){return l.undo()}},o.a.createElement($.a,null)),o.a.createElement(V.a,{className:"navicon",id:"toolbar-redo",title:I18N.toString("action.toolbar.redo"),disabled:!l.canRedo(),onClick:function(){return l.redo()}},o.a.createElement(ee.a,null)),o.a.createElement(V.a,{className:"navicon",id:"toolbar-save",title:I18N.toString("action.toolbar.save"),onClick:function(){return r.setTab(gt.EXPORTING_PANEL_TAB_INDEX)},disabled:u.isEmpty()},o.a.createElement(Z.a,null)),o.a.createElement("div",{className:"toolbar-tray-alt"},o.a.createElement(V.a,{className:"navicon",id:"toolbar-bug",title:I18N.toString("action.toolbar.bug"),onClick:function(e){return window.open("https://goo.gl/forms/XSil43Xl5xLHsa0E2","_blank")}},o.a.createElement(Oe,null)),o.a.createElement(F,{className:"navicon",id:"toolbar-help",title:I18N.toString("action.toolbar.help")},o.a.createElement(ae,null)),o.a.createElement(V.a,{className:"navicon",id:"toolbar-lang",title:I18N.toString("action.toolbar.lang"),onClick:function(t){document.activeElement.blur(),e.langOnClick()}},o.a.createElement(pe,null)),o.a.createElement("select",{id:"toolbar-lang-select",style:{maxWidth:this.state.langOn?"10em":"0"},onChange:function(e){I18N.fetchLanguageFile(e.target.value)}},o.a.createElement("option",{value:"en_us"},"English"),o.a.createElement("option",{value:"xx_pirate"},"Pirate Speak")))))}}])&&_t(n.prototype,r),i&&_t(n,i),t}();n(118),n(120);function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xt(this,Pt(t).call(this,e))).state={active:!1},n.messageTimer=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.messageTimer=setTimeout(function(){e.setState({active:!0})},f.a.INIT_WAITTIME)}},{key:"render",value:function(){var e=!!this.state.active&&this.props.visible;return o.a.createElement("text",{y:"-1em",className:"graph-ui subtitle"+(e?" visible":""),textAnchor:"middle"},I18N.toString("message.workspace.empty"))}}])&&Mt(n.prototype,r),i&&Mt(n,i),t}();function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Lt(this,At(t).call(this,e))).ref=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,o.a.Component),n=t,(r=[{key:"getSVGForExport",value:function(e,t){var n=this.ref;if(!n)return null;var r=this.props.currentModule,o=r.getInputController(),i=r.getGraphController(),a=o.getInputAdapter().getViewport(),l=a.getOffsetX(),u=a.getOffsetY(),c=i.getGraph().getBoundingRect(),s=c.minX+l-30,f=c.minY+u-0,p=c.width+60,h=c.height+0,y=n.cloneNode(!0);y.setAttribute("viewBox",s+" "+f+" "+p+" "+h),y.setAttribute("width",e),y.setAttribute("height",t),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");for(var v=y.getElementsByClassName("graph-ui");v.length>0;){v[0].remove()}return y}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getInputController(),i=(t.getMachineController(),t.getRenderer("graph")),a=t.getRenderer("graphoverlay"),l=n.getGraph(),u=r.getInputAdapter().getViewport(),c=f.a.DEFAULT_GRAPH_SIZE*Math.max(Number.MIN_VALUE,u.getScale()),s=c/2;return o.a.createElement("svg",{id:"workspace-content",ref:function(t){return e.ref=t},viewBox:0-s+" "+(0-s)+" "+c+" "+c,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement(Nt,{visible:l.isEmpty()}),o.a.createElement("g",{id:"workspace-content-elements",transform:"translate("+u.getOffsetX()+" "+u.getOffsetY()+")"},o.a.createElement("g",{className:"graph-ui"},o.a.createElement("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"#E6E6E6"}),o.a.createElement("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"#E6E6E6"})),i&&o.a.createElement(i,It({},this.props,{parent:this})),a&&o.a.createElement(a,It({},this.props,{parent:this}))))}}])&&Dt(n.prototype,r),i&&Dt(n,i),t}(),Gt=n(11);function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=null}var t,n,r;return t=e,(n=[{key:"start",value:function(e){"true"!==y.a.getStringFromStorage("skipWelcome")&&(k.a.addMessage(I18N.toString("message.tutorial.1")),k.a.addMessage(I18N.toString("message.intro.2")))}}])&&Bt(t.prototype,n),r&&Bt(t,r),e}();function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ut=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._adapter=t,this._element=n,this._viewport=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}}var t,n,r;return t=e,(n=[{key:"setPosition",value:function(e,t){return this._x=e,this._y=t,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(e,t){this._inputpos.x=e,this._inputpos.y=t}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var e=this._inputpos,t=e.x-this._x,n=e.y-this._y;return t*t+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewport",value:function(){return this._viewport}},{key:"getAdapter",value:function(){return this._adapter}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&zt(t.prototype,n),r&&zt(t,r),e}();function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1}var t,n,r;return t=e,(n=[{key:"setElement",value:function(e){return this._element=e,this}},{key:"setMinScale",value:function(e){return this._minScale=e,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(e){return this._maxScale=e,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(e){return this._offsetDamping=e,this}},{key:"update",value:function(){var e=this._nextOffsetX-this._offsetX;this._offsetX+=e*this._offsetDamping;var t=this._nextOffsetY-this._offsetY;this._offsetY+=t*this._offsetDamping}},{key:"transformScreenToView",value:function(e,t){if(!this._element)return{x:e-this._offsetX,y:t-this._offsetY};var n=this._element.getScreenCTM();return{x:(e-n.e)/n.a-this._offsetX,y:(t-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._nextOffsetX=this._offsetX=e,this._nextOffsetY=this._offsetY=t):(this._nextOffsetX=e,this._nextOffsetY=t)}},{key:"addOffset",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(this._offsetX+=e,this._offsetY+=t,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=e,this._nextOffsetY+=t)}},{key:"setScale",value:function(e){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,e))}},{key:"addScale",value:function(e){this._scaleFactor+=e,this._scaleFactor>this._maxScale?this._scaleFactor=this._maxScale:this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale)}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}])&&Vt(t.prototype,n),r&&Vt(t,r),e}();function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=600,Wt=600,Qt=1/300,qt=16,Jt=324,Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handlers=[],this._activeDragHandler=null,this._element=null,this._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},this._pointer=null,this._viewport=new Yt,this._dragging=!1,this._altinput=!1,this._holdInputDelay=Kt,this._dblInputDelay=Wt,this._scrollSensitivity=Qt,this._minTapRadius=16*qt,this._draggingRadiusSqu=qt+Jt,this._prevEmptyInput=!1,this._prevEmptyTime=0,this._prevEmptyX=0,this._prevEmptyY=0,this.onContextMenu=this.onContextMenu.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onWheel=this.onWheel.bind(this),this.onMouseDownThenMove=this.onMouseDownThenMove.bind(this),this.onMouseDownThenUp=this.onMouseDownThenUp.bind(this),this.onTouchStartThenMove=this.onTouchStartThenMove.bind(this),this.onTouchStartThenEnd=this.onTouchStartThenEnd.bind(this),this.onDelayedInputDown=this.onDelayedInputDown.bind(this)}var t,n,r;return t=e,(n=[{key:"addInputHandler",value:function(e){return this._handlers.push(e),this}},{key:"removeInputHandler",value:function(e){var t=this._handlers.indexOf(e);return!(t<0)&&(this._handlers.splice(t,1),!0)}},{key:"clearInputHandlers",value:function(){this._handlers.clear()}},{key:"hasInputHandlers",value:function(){return this._handlers.length>0}},{key:"initialize",value:function(e){if(!(e instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewport.setElement(this._element=e),this._pointer=new Ut(this,this._element,this._viewport),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._viewport.update()}},{key:"handleEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var l,u=this._handlers[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c[e].apply(c,n))return c}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"onMouseDown",value:function(e){if(!this.hasInputHandlers())return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;document.activeElement.blur(),this._element.focus(),t._mousemove&&(document.removeEventListener("mousemove",t._mousemove),t._mousemove=null),t._mouseup&&(document.removeEventListener("mouseup",t._mouseup),t._mouseup=null);var n=e.ctrlKey?2:e.button;return this.onInputDown(e.clientX,e.clientY,n)&&(t._mousemove=this.onMouseDownThenMove,t._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",t._mousemove),document.addEventListener("mouseup",t._mouseup)),!1}},{key:"onMouseMove",value:function(e){if(!this.hasInputHandlers())return!1;var t=this._viewport.transformScreenToView(e.clientX,e.clientY),n=this._pointer;n.setPosition(t.x,t.y),this.handleEvent("onMoveInputEvent",n)&&(e.stopPropagation(),e.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(e){return!!this.hasInputHandlers()&&(e.stopPropagation(),e.preventDefault(),this.onInputMove(e.clientX,e.clientY),!1)}},{key:"onMouseDownThenUp",value:function(e){if(!this.hasInputHandlers())return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;return t._mousemove&&(document.removeEventListener("mousemove",t._mousemove),t._mousemove=null),t._mouseup&&(document.removeEventListener("mouseup",t._mouseup),t._mouseup=null),this.onInputUp(e.clientX,e.clientY),!1}},{key:"onTouchStart",value:function(e){if(!this.hasInputHandlers())return!1;if(1==e.changedTouches.length){e.stopPropagation(),e.preventDefault();var t=this._cursor;document.activeElement.blur(),this._element.focus(),t._touchmove&&(document.removeEventListener("touchmove",t._touchmove),t._touchmove=null),t._touchend&&(document.removeEventListener("touchend",t._touchend),t._touchend=null);var n=e.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(t._touchmove=this.onTouchStartThenMove,t._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",t._touchmove),document.addEventListener("touchend",t._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(e){if(!this.hasInputHandlers())return!1;e.stopPropagation(),e.preventDefault();var t=this._cursor;t._touchmove&&(document.removeEventListener("touchmove",t._touchmove),t._touchmove=null),t._touchend&&(document.removeEventListener("touchend",t._touchend),t._touchend=null);var n=e.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(e){if(!this.hasInputHandlers())return!1;e.stopPropagation(),e.preventDefault();var t=e.changedTouches[0];return this.onInputMove(t.clientX,t.clientY),!1}},{key:"onContextMenu",value:function(e){return!!this.hasInputHandlers()&&(e.stopPropagation(),e.preventDefault(),!1)}},{key:"onWheel",value:function(e){if(!this.hasInputHandlers())return!1;e.stopPropagation(),e.preventDefault();var t=this._pointer,n=e.deltaY*this._scrollSensitivity,r=this._viewport.getScale(),o=r+n;return this.handleEvent("onZoomChange",t,o,r)||this._viewport.setScale(o),!1}},{key:"onInputDown",value:function(e,t,n){if(!this.hasInputHandlers())throw new Error("Missing handlers for input adapter");var r=this._cursor,o=this._pointer,i=this._viewport.transformScreenToView(e,t);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==n,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){if(!this.hasInputHandlers())throw new Error("Missing handlers for input adapter");this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(e,t){if(!this.hasInputHandlers())throw new Error("Missing handlers for input adapter");var n=this._pointer,r=this._viewport.transformScreenToView(e,t);if(n.setPosition(r.x,r.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(n);else if(n.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=this.handleEvent("onDragStart",n);o?this._activeDragHandler=o:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(e,t){if(!this.hasInputHandlers())throw new Error("Missing handlers for input adapter");var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._pointer,i=this._viewport.transformScreenToView(e,t);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var a=e-this._prevEmptyX,l=t-this._prevEmptyY,u=a*a+l*l,c=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&u<this._minTapRadius&&c<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=e,this._prevEmptyY=t)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var e=this._pointer,t=this._cursor;t._mousemove&&(document.removeEventListener("mousemove",t._mousemove),t._mousemove=null),t._mouseup&&(document.removeEventListener("mouseup",t._mouseup),t._mouseup=null);var n=t._timer;n&&(clearTimeout(n),t._timer=null),e.endInput(),this.handleEvent("onPostInputEvent",e)}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewport",value:function(){return this._viewport}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}])&&Xt(t.prototype,n),r&&Xt(t,r),e}(),$t=(n(122),n(52));function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rn(this,on(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.notificationManager;return o.a.createElement("div",{className:"notification-container "+this.props.className,id:this.props.id,style:this.props.style},e.getMessages().map(function(e){var t=e.getID(),n=e.getComponentClass(),r=e.getComponentProps()||{};return o.a.createElement($t.a,{key:t,value:e},n&&o.a.createElement(n,tn({message:e},r)))}))}}])&&nn(n.prototype,r),i&&nn(n,i),t}();function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.history=[],this.offsetIndex=0,this._handlerFactory=null}var t,n,r;return t=e,(n=[{key:"setEventHandlerFactory",value:function(e){return this._handlerFactory=e,this}},{key:"onSessionStart",value:function(e){}},{key:"onSessionStop",value:function(e){this.clear()}},{key:"captureEvent",value:function(){if("function"==typeof this._handlerFactory){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this._handlerFactory(t);if(!r)throw new Error("Cannot create valid undo event handler for capture");this.captureEventAsHandler(r)}else console.error("Missing default undo event handler for capture")}},{key:"captureEventAsHandler",value:function(e){for(;this.offsetIndex>0;)this.history.pop(),--this.offsetIndex;for(this.history.push(e);this.history.length>1e3;)this.history.unshift()}},{key:"getPreviousEvent",value:function(){return this.canUndo()?this.history[this.history.length-this.offsetIndex-1]:null}},{key:"getNextEvent",value:function(){return this.canRedo()?this.history[this.history.length-this.offsetIndex+1]:null}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.history.length-this.offsetIndex-1];++this.offsetIndex,e.applyUndo(this)}}},{key:"canUndo",value:function(){return this.offsetIndex<this.history.length}},{key:"redo",value:function(){this.canRedo()&&(--this.offsetIndex,this.history[this.history.length-this.offsetIndex-1].applyRedo(this))}},{key:"canRedo",value:function(){return this.offsetIndex>0}},{key:"clear",value:function(){this.history.length=0,this.offsetIndex=0}}])&&un(t.prototype,n),r&&un(t,r),e}(),sn=n(45);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=hn(this,yn(t).call(this)))._app=e,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,sn["a"]),n=t,(r=[{key:"onLoadSave",value:function(){var e=this._app.getCurrentModule(),t=e.getModuleName(),n=y.a.loadFromStorage("graph-"+t);n&&e.getGraphController().getDefaultGraphExporter().importFromData(n,e);e.captureGraphEvent&&e.captureGraphEvent()}},{key:"onUnloadSave",value:function(){}},{key:"onAutoSave",value:function(){var e=this._app.getCurrentModule(),t=e.getModuleName(),n=e.getGraphController().getDefaultGraphExporter().exportToData(e);y.a.saveToStorage("graph-"+t,n)}},{key:"getApp",value:function(){return this._app}}])&&pn(n.prototype,r),o&&pn(n,o),t}();function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var En=.4,Sn=.1,On=10,kn=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gn(t).call(this,e))||"object"!==mn(o)&&"function"!=typeof o?_n(r):o).container=null,n.workspace=null,n.viewport=null,n.drawer=null,n.toolbar=null,n.inputAdapter=new Zt,n.inputAdapter.getViewport().setMinScale(Sn).setMaxScale(On).setOffsetDamping(En),n.undoManager=new cn,n._saver=new dn(_n(_n(n)));var i=e.moduleClass||p.default;return n._module=new i(_n(_n(n))),n.hotKeys=new O,n.tutorial=new Ht,n.state={isOpen:!0,isDangerous:!1,isFullscreen:!1,isWaitingForFile:!1},n.onDragOver=n.onDragOver.bind(_n(_n(n))),n.onDragEnter=n.onDragEnter.bind(_n(_n(n))),n.onDragLeave=n.onDragLeave.bind(_n(_n(n))),n.onFileDrop=n.onFileDrop.bind(_n(_n(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.workspace.ref;this.inputAdapter.initialize(e),this.getCurrentModule().initialize(this),this.hotKeys.initialize(this),e.addEventListener("drop",this.onFileDrop),e.addEventListener("dragover",this.onDragOver),e.addEventListener("dragenter",this.onDragEnter),e.addEventListener("dragleave",this.onDragLeave),this.tutorial.start(this),y.a.registerHandler(this._saver)}},{key:"componentWillUnmount",value:function(){y.a.unregisterHandler(this._saver),this.hotKeys.destroy(),this._module.destroy(this),this.inputAdapter.destroy();var e=this.workspace.ref;e.removeEventListener("drop",this.onFileDrop),e.removeEventListener("dragover",this.onDragOver),e.removeEventListener("dragenter",this.onDragEnter),e.removeEventListener("dragleave",this.onDragLeave)}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragEnter",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!0}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:Gt.a.DANGEROUS}})}},{key:"onDragLeave",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!1}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:e.prevMode}})}},{key:"onFileDrop",value:function(e){e.preventDefault(),this.setState({isWaitingForFile:!1}),this.viewport.setState(function(e,t){return{prevMode:e.mode,mode:e.prevMode}});var t=null;if(e.dataTransfer.items){if(e.dataTransfer.items.length>=1){var n=e.dataTransfer.items[0];"file"===n.kind&&(t=n.getAsFile())}}else e.dataTransfer.files.length>=1&&(t=e.dataTransfer.files[0]);t&&this.props.app.getCurrentModule().getGraphController().getGraphImporter().importFile(t,this._module).catch(function(e){k.a.addErrorMessage("ERROR: Unable to load invalid JSON file.","errorUpload")}),e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()}},{key:"openDrawer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"boolean"==typeof e?this.setState(function(t,n){return{isOpen:!0,isFullscreen:e}}):this.setState(function(e,t){return{isOpen:!0}})}},{key:"closeDrawer",value:function(){this.setState(function(e,t){return{isOpen:!1}})}},{key:"isDrawerOpen",value:function(){return this.state.isOpen}},{key:"shouldHideContent",value:function(){return this.state.isFullscreen&&this.state.isOpen}},{key:"getCurrentModule",value:function(){return this._module}},{key:"getInputController",value:function(){return this._module.getInputController()}},{key:"getGraphController",value:function(){return this._module.getGraphController()}},{key:"getMachineController",value:function(){return this._module.getMachineController()}},{key:"getInputAdapter",value:function(){return this.inputAdapter}},{key:"getUndoManager",value:function(){return this.undoManager}},{key:"isExperimental",value:function(){return!1}},{key:"componentDidUpdate",value:function(){this.inputAdapter.update(),this._module.update(this)}},{key:"render",value:function(){var e=this,t=this._module,n=this.workspace?this.workspace.ref:null;return o.a.createElement("div",{className:"app-container",ref:function(t){return e.container=t},style:{animation:E.isModuleLoading()?"fadeout 1s":"fadein 1s"}},o.a.createElement(kt,{ref:function(t){return e.toolbar=t},app:this,currentModule:t,drawer:this.drawer}),o.a.createElement(ln,{notificationManager:k.a}),o.a.createElement("div",{className:"workspace-container"},o.a.createElement("div",{className:"workspace-main"+(this.state.isOpen?" open":""),style:{visibility:this.shouldHideContent()?"hidden":"visible",opacity:this.state.isWaitingForFile?"0.1":"1"}},o.a.createElement(Rt,{ref:function(t){return e.workspace=t},currentModule:t})),o.a.createElement("div",{className:"workspace-viewport"+(this.state.isOpen?" open":""),style:{visibility:this.shouldHideContent()?"hidden":"visible"}},o.a.createElement(Gt.a,{ref:function(t){return e.viewport=t},app:this,currentModule:t,screen:n})),o.a.createElement("div",{className:"workspace-drawer"+(this.state.isOpen?" open":"")+(this.state.isFullscreen?" fullscreen":"")},o.a.createElement(gt,{ref:function(t){return e.drawer=t},app:this,currentModule:t,toolbar:this.toolbar}))))}}])&&bn(n.prototype,r),i&&bn(n,i),t}(),Cn=Object(s.hot)(kn);n(126);function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pn(this,jn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{version:"1.1",id:this.props.id,xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 300 100"},o.a.createElement("style",{type:"text/css"},".st0{fill:none;stroke:#000000;stroke-miterlimit:10;}\n      \t.st1{fill:#FFC82C;stroke:#7E55F3;stroke-width:2;stroke-miterlimit:10;}\n      \t.st2{fill:none;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}\n      \t.st3{font-family:'PTSans-Regular';}\n      \t.st4{font-size:90px;}\n      \t.st5{fill:none;}"),o.a.createElement("path",{className:"st0",d:"M43.7,20.1c0-9.4-8.5-17.1-19.1-17.1"}),o.a.createElement("circle",{className:"st1",cx:"44.1",cy:"45.3",r:"29.6"}),o.a.createElement("polygon",{className:"st2",points:"44.1,42.1 20.2,83.5 68,83.5 "}),o.a.createElement("text",{transform:"matrix(1 0 0 1 74.1533 77.1901)",className:"st3 st4"},"flap.js"),o.a.createElement("path",{className:"st5",d:"M40.9,89c0,2.9,73.6,5.2,164.6,5.2"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st5",d:"M42.4,83.9c0,7,73,12.6,163.1,12.6"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st5",d:"M228.2,65.6c0,15.8-10.1,28.6-22.7,28.6"}),o.a.createElement("path",{className:"st0",d:"M227.6,72.1c0,13.7-22.7,24.8-50.7,24.8"}),o.a.createElement("path",{className:"st0",d:"M6,20.1C6,10.7,14.5,3.1,25,3.1"}),o.a.createElement("line",{className:"st0",x1:"6",y1:"20.1",x2:"6",y2:"77.2"}),o.a.createElement("path",{className:"st0",d:"M6,77.2C6,88.1,27,96.9,53,96.9"}),o.a.createElement("line",{className:"st0",x1:"57.3",y1:"96.9",x2:"177.4",y2:"96.9"}),o.a.createElement("line",{className:"st0",x1:"53",y1:"96.9",x2:"64.5",y2:"96.9"}))}}])&&xn(n.prototype,r),i&&xn(n,i),t}();n(128);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,An(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"quote-container"},o.a.createElement("div",{className:"quote"},this.props.value),o.a.createElement("div",{className:"subquote"},this.props.label))}}])&&Dn(n.prototype,r),i&&Dn(n,i),t}();function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vn,Yn,Xn=[["Explore what it means to be 'computable'.","- Prof. Mia Minnes"],["Lush has an interactive background in Mozilla","- David"],["Good almost afternoon (I totally didnât just wake up).","- Noah"],["RONALDO IS MY GOD","- David"],["If you dream it, you can do it.","- Walt Disney"],["Never, never, never give up.","- Winston Churchill"],["Don't wait. The time will never be just right.","- Napolean Hill"],["I can, therefore I am.","- Simone Wei"],["Turn your wounds into wisdom.","- Oprah Winfrey"],["Believe you can and you're halfway there.","- Theodore Roosevelt"],["80% of success is showing up.","- Woody Allen"],["A jug fills drop by drop.","- Buddha"],["If you have never failed you have never lived.","- Human"],["Dream big and dare to fail.","- Norman Vaughan"],["Have faith in yourself and in the future.","- Ted Kennedy"],["It's kind of fun to do the impossible.","- Walt Disney"],["Find out who you are and do it on purpose.","- Dolly Parton"],["The only journey is the one within.","- Rainer Maria Rilke"],["Every moment is a fresh beginning.","- T.S. Eliot"],["Be willing to be a beginner every single morning.","- Meister Eckhart"]],Kn=Math.floor(Math.random()*Xn.length),Wn=(Yn=2,function(e){if(Array.isArray(e))return e}(Vn=Xn[Kn])||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(Vn,Yn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),Qn=Wn[0],qn=Wn[1],Jn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Hn(t).call(this,e))||"object"!==Gn(o)&&"function"!=typeof o?Un(r):o).footer=null,n.returnHome=null,n.onLaunchButton=n.onLaunchButton.bind(Un(Un(n))),n.onTutorialButton=n.onTutorialButton.bind(Un(Un(n))),n.onReturnHomeButton=n.onReturnHomeButton.bind(Un(Un(n))),n.onReportBugButton=n.onReportBugButton.bind(Un(Un(n))),n.onAboutButton=n.onAboutButton.bind(Un(Un(n))),n.onHelpButton=n.onHelpButton.bind(Un(Un(n))),n.onGithubButton=n.onGithubButton.bind(Un(Un(n))),n}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(t,o.a.Component),r=t,(i=[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(t){var n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight,r=window.pageYOffset,o=Math.round(n-r)/5;e.footer&&e.returnHome&&(e.footer.style.bottom=o+"px",e.returnHome.style.opacity=r/n)}}},{key:"onLaunchButton",value:function(e){E.loadModuleFromStorage()||("true"===y.a.getStringFromStorage("enableExperimental")?Promise.all([n.e(0),n.e(2)]).then(n.bind(null,317)).then(function(e){var t=e.default;return c.routeTo(t)}):c.routeTo(Cn))}},{key:"onTutorialButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank").focus()}},{key:"onReturnHomeButton",value:function(e){window.scrollTo({top:0,behavior:"smooth"})}},{key:"onReportBugButton",value:function(e){window.open("https://goo.gl/forms/XSil43Xl5xLHsa0E2","_blank").focus()}},{key:"onAboutButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/README.md","_blank").focus()}},{key:"onHelpButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/blob/master/docs/HELP.md","_blank").focus()}},{key:"onGithubButton",value:function(e){window.open("https://github.com/flapjs/FLAPJS-WebApp/","_blank").focus()}},{key:"render",value:function(){var e,t=this;return e=window.matchMedia("(max-width: 400px)").matches?"":window.matchMedia("(max-width: 760px)").matches?"Proceed.":window.matchMedia("(max-width: 68em)").matches?"Get Started!":"Launch Workspace",o.a.createElement("div",{className:"landing-container"},o.a.createElement("div",{className:"content-container"},o.a.createElement("header",null,o.a.createElement(Tn,{id:"logo"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-quote-container"},o.a.createElement(Rn,{value:Qn,label:qn})),o.a.createElement("div",{className:"launch-container"},o.a.createElement("div",{className:"set-container"},o.a.createElement("span",{className:"openset"},"{"),o.a.createElement("button",{id:"launch-button",onClick:this.onLaunchButton},e),o.a.createElement("span",{className:"closeset"},"}")),o.a.createElement("div",{id:"tutorial-button-container"},o.a.createElement("button",{id:"tutorial-button",onClick:this.onTutorialButton},"= Want to try our awesome tutorial? =")))),o.a.createElement("div",{ref:function(e){return t.returnHome=e},id:"return-home"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",onClick:this.onReturnHomeButton},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.a.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})))),o.a.createElement("footer",{ref:function(e){return t.footer=e}},o.a.createElement("div",{className:"utility"},o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onReportBugButton},"Report a Bug")),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onAboutButton},"About")),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onHelpButton},"Help"))),o.a.createElement("div",{className:"credits"},o.a.createElement("span",{className:"space"}),o.a.createElement("span",{className:"left"},o.a.createElement("div",null,"Professor"),o.a.createElement("a",{className:"nobreak",onClick:function(){return window.open("http://cseweb.ucsd.edu/~minnes/","_blank").focus()}},"Mia Minnes")),o.a.createElement("span",{className:"right"},o.a.createElement("div",null,"Developers"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/andrew-kuo-790243132/","_blank").focus()}},"Andrew"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/lixuan-lang-3ba206143/","_blank").focus()}},"Lixuan"),o.a.createElement("a",{onClick:function(){return window.open("","_blank").focus()}},"Ravneet"),o.a.createElement("a",{onClick:function(){return window.open("","_blank").focus()}},"Seth"),o.a.createElement("div",null,"+"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/maya-bello-6b8637a7/","_blank").focus()}},"Maya"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/noah-solomon-9a8526129/","_blank").focus()}},"Noah"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/osunadavid/","_blank").focus()}},"David"),o.a.createElement("a",{onClick:function(){return window.open("https://www.linkedin.com/in/xuanqiang-zhao-364225153/","_blank").focus()}},"Erik")),o.a.createElement("span",{className:"space"})),o.a.createElement("div",null,o.a.createElement("a",{className:"info",onClick:this.onGithubButton},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})),"Find it on ",o.a.createElement("b",null,"GitHub"))),o.a.createElement("div",{className:"subtitle-container"},o.a.createElement("div",{className:"subtitle"},"Â© 2018 University of California, San Diego. All rights reserved."),o.a.createElement("div",{className:"subtitle"},o.a.createElement("label",null,"Thank you for reading me! Stay amazing!")))))}}])&&Bn(r.prototype,i),a&&Bn(r,a),t}(),Zn=Object(s.hot)(Jn);window.addEventListener("load",function(e){console.log("Preparing for 'production' environment..."),console.log("Loading web app version '0.3.4'..."),y.a.initialize(),Object(f.b)(),$n=document.getElementById("root"),"true"===y.a.getStringFromStorage("skipWelcome")?"true"===y.a.getStringFromStorage("enableExperimental")?Promise.all([n.e(0),n.e(2)]).then(n.bind(null,317)).then(function(e){var t=e.default;return c.routeTo(t)}):c.routeTo(Cn):c.routeTo(Zn),window.requestAnimationFrame(nr)}),window.addEventListener("beforeunload",function(e){if(Object(f.c)(),"true"!==y.a.getStringFromStorage("disableExitWarning")){var t=I18N.toString("alert.window.exit");return(e=e||window.event)&&(e.returnValue=t),t}y.a.terminate()}),window.isUpdateAvailable.then(function(e){if(e){var t="";u&&u.show&&(t+=u.log),console.log("[App] Found update for version 0.3.4..."),window.alert("*** New update available! *** \n Please restart the browser."+(t?"\n"+t:""))}});var $n,er=60,tr=0;function nr(e){(e-tr)/er;var t=c.getCurrentPage(),n=c.getCurrentPageProps();t&&a.a.render(o.a.createElement(t,n),$n),tr=e,window.requestAnimationFrame(nr)}},20:function(e,t,n){"use strict";var r={};r.empty={name:"Empty",version:"1.0.0",experimental:!0,fetch:function(e){n.e(3).then(n.bind(null,233)).then(function(t){var n=t.default;return e(n)})}},r.nodalgraph={name:"Nodal Graph",version:"1.0.0",experimental:!0,disabled:!0,fetch:function(e){Promise.all([n.e(0),n.e(5)]).then(n.bind(null,273)).then(function(t){var n=t.default;return e(n)})}},r.fsa={name:"Finite Automata",version:"1.0.0",fetch:function(e){Promise.resolve().then(n.bind(null,33)).then(function(t){var n=t.default;return e(n)})}},r.fsa2={name:"Finite Automata",version:"2.0.0",experimental:!0,fetch:function(e){Promise.all([n.e(0),n.e(4)]).then(n.bind(null,271)).then(function(t){var n=t.default;return e(n)})}},r.pda={name:"Pushdown Automata",version:"1.0.0",experimental:!0,fetch:function(e){Promise.all([n.e(0),n.e(6)]).then(n.bind(null,270)).then(function(t){var n=t.default;return e(n)})}},r.re={name:"Regular Expression",version:"1.0.0",experimental:!0,fetch:function(e){Promise.all([n.e(0),n.e(7)]).then(n.bind(null,272)).then(function(t){var n=t.default;return e(n)})}},r.tm={name:"Turing Machine",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.dfs={name:"Depth-First Search",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.hlsm={name:"High Level State Machine",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.rbt={name:"Red-Black Tree",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.mealy={name:"Mealy Machine",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},r.moore={name:"Moore Machine",version:"1.0.0",disabled:!0,fetch:function(e){throw new Error("Module not yet implemented. Sorry :(")}},t.a=r},21:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,o;return t=e,(n=[{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=0,e.y=0,e}},{key:"setGraphElementID",value:function(e){return this._id=e,this}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._id}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},22:function(e,t,n){"use strict";var r={__eventListeners:null,mixin:function(e){var t=e.prototype;Object.assign(t,r),delete t.mixin},registerEvent:function(e){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(e))throw new Error("Already registered event '"+e+"'");this.__eventListeners.set(e,[])},unregisterEvent:function(e){if(this.__eventListeners){if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.delete(e)}},addEventListener:function(e,t){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.get(e).push(t)},removeEventListener:function(e,t){if(this.__eventListeners){if(!this.__eventListeners.has(e))throw new Error("Unknown event '"+e+"'");for(var n=this.__eventListeners.get(e),r=!1,o=n.length;o--;)n[o]===t&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+e+"'")}},clearEventListeners:function(e){if(this.__eventListeners)if(e){if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");this.__eventListeners.get(e).length=0}else this.__eventListeners.clear()},countEventListeners:function(e){return this.__eventListeners&&this.__eventListeners.has(e)?this.__eventListeners.get(e).length:0},getEventListeners:function(e){return this.__eventListeners?this.__eventListeners.get(e):null},on:function(e,t){this.addEventListener(e,t)},once:function(e,t){var n=this;this.addEventListener(e,function r(){try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(null,i)}finally{n.removeEventListener(e,r)}})},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(e))throw new Error("Unable to find event '"+e+"'");o=this.__eventListeners.get(e);for(var i=null,a=o.length;a--;){try{i=o[a].apply(null,n)}catch(e){console.error(e)}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[e].concat(n))}},onEventProcessed:function(e){}};t.a=r},23:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?c(r):o).element=null,n.ignoreSaveOnExit=!1;var a=e.defaultValue||"";return n.state={value:a,prevValue:a},n.onChange=n.onChange.bind(c(c(n))),n.onBlur=n.onBlur.bind(c(c(n))),n.onKeyUp=n.onKeyUp.bind(c(c(n))),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.hasFocus()||(!this.state.value||this.state.value.length<=0||this.state.value===this.props.defaultValue)&&this.setState({value:e.defaultValue})}},{key:"focus",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.element.select():this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"hasFocus",value:function(){return this.element===document.activeElement}},{key:"onChange",value:function(e){if(this.props.filter){var t=e.target.value.replace(this.props.filter,"");this.setState({value:t})}else this.setState({value:e.target.value})}},{key:"onBlur",value:function(e){var t=this;if(this.ignoreSaveOnExit||"none"===this.props.captureOnExit){var n=this.formatValue(e.target.value);this.setState({value:n}),this.ignoreSaveOnExit=!1}else if("save"===this.props.captureOnExit){var r=this.state.prevValue,o=e.target.value||this.props.defaultValue||"";this.resetValue(o,function(){t.props.onSubmit&&t.props.onSubmit(o,r)})}else"reset"===this.props.captureOnExit&&this.resetValue(null)}},{key:"onKeyUp",value:function(e){var t=this;if("Enter"===e.key){if(this.props.multiline&&e.shiftKey)return!0;var n=this.state.prevValue,r=e.target.value||this.props.defaultValue||"";return this.setValue(r,function(){t.ignoreSaveOnExit=!0,t.props.onSubmit&&t.props.onSubmit(r,n),t.element.blur()}),e.preventDefault(),e.stopPropagation(),!1}if("Escape"===e.key){var o=this.state.prevValue;return this.resetValue(o,function(){t.ignoreSaveOnExit=!0,t.props.onSubmit&&t.props.onSubmit(o||"",o),t.element.blur()}),e.preventDefault(),e.stopPropagation(),!1}}},{key:"resetValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t){var r=this.formatValue(t);this.setState({value:r,prevValue:t},n)}else this.setState(function(t,n){return{value:e.formatValue(t.prevValue)}},n)}},{key:"setValue",value:function(e,t){e=e&&0!=e.length?this.formatValue(e):this.props.defaultValue||"",this.setState({value:e},t)}},{key:"appendValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=this.state.value;n=0==this.element.selectionStart&&this.element.selectionEnd==e.length?e:n&&0!=n.length?n+t+e:e,this.props.filter&&(n=n.replace(this.props.filter,"")),this.setState({value:this.formatValue(n)})}},{key:"formatValue",value:function(e){var t=this.props.formatter;return(t?t(e):e)||""}},{key:"render",value:function(){var e=this;return this.props.multiline?o.a.createElement("textarea",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(t){return e.element=t},type:"text",value:this.state.value,rows:"1",onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp}):o.a.createElement("input",{id:this.props.id,className:this.props.className,style:this.props.style,ref:function(t){return e.element=t},type:"text",value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyUp:this.onKeyUp})}},{key:"value",get:function(){return this.state.value}}])&&a(n.prototype,r),s&&a(n,s),t}();t.a=s},25:function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(69);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?c(r):o).state={open:n.props.defaultValue||!1},n.onClick=n.onClick.bind(c(c(n))),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onClick",value:function(e){this.setState(function(e,t){return{open:!e.open}}),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button icon-toggle "+(this.state.open?" open ":"")+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.onClick},this.props.children)}}])&&a(n.prototype,r),s&&a(n,s),t}();t.a=s},26:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"dropdown-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M7 10l5 5 5-5z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},27:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"upload-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},28:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"save-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},29:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onPreInputEvent",value:function(e){return!1}},{key:"onInputEvent",value:function(e){return!1}},{key:"onAltInputEvent",value:function(e){return!1}},{key:"onDblInputEvent",value:function(e){return!1}},{key:"onMoveInputEvent",value:function(e){return!1}},{key:"onDragStart",value:function(e){return!1}},{key:"onDragMove",value:function(e){}},{key:"onDragStop",value:function(e){}},{key:"onPostInputEvent",value:function(e){}},{key:"onZoomChange",value:function(e,t,n){return!1}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},3:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a});var r="config",o={};function i(){var e=localStorage.getItem(r);if(e)try{console.log("Loading config...");var t=JSON.parse(e);1==t._resetOnLoad?(l(),a()):Object.assign(o,t)}catch(e){l()}else console.log("Using default config...")}function a(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o._userDefined&&o._dirty)try{console.log("Saving config...");var e=JSON.stringify(o);localStorage.setItem(r,e),o._dirty=!1}catch(e){l()}}function l(){localStorage.removeItem(r),o._dirty=!0}o._resetOnLoad=!1,o._userDefined=!1,o._dirty=!1,o.setValue=function(e,t){if(!this.hasOwnProperty(e))throw new Error("Trying to assign value to non-existant key in config");this._userDefined=!0,this._dirty=!0,this[e]=t}.bind(o),t.a=o,o.MACHINE_ERRORS_MESSAGE_TAG="machineError",o.MACHINE_CONVERSION_MESSAGE_TAG="machineConversion",o.ERROR_CHECK_INTERVAL=2e3,o.GRAPH_IMMEDIATE_INTERVAL=50,o.SMOOTH_OFFSET_DAMPING=.4,o.SCROLL_SENSITIVITY=1/300,o.MIN_SCALE=.1,o.MAX_SCALE=10,o.INIT_WAITTIME=1500,o.STR_TRANSITION_DEFAULT_LABEL="",o.STR_STATE_LABEL="q",o.PARALLEL_EDGE_HEIGHT=10,o.SELF_LOOP_HEIGHT=40,o.SUBMIT_KEY=13,o.CLEAR_KEY=27,o.TAB_KEY=9,o.UP_KEY=38,o.DOWN_KEY=40,o.DELETE_KEY=8,o.DELETE_FORWARD_KEY=46,o.DEFAULT_GRAPH_SIZE=300,o.NODE_RADIUS=16,o.NODE_RADIUS_SQU=o.NODE_RADIUS*o.NODE_RADIUS,o.NODE_DIAMETER=2*o.NODE_RADIUS,o.NODE_RADIUS_INNER=12,o.INITIAL_MARKER_OFFSET_X=-(o.NODE_RADIUS+o.NODE_RADIUS/2),o.EDGE_RADIUS=12,o.EDGE_RADIUS_SQU=o.EDGE_RADIUS*o.EDGE_RADIUS,o.ARROW_WIDTH=10,o.PLACEHOLDER_LENGTH=3*o.NODE_RADIUS,o.ENDPOINT_RADIUS=6,o.ENDPOINT_RADIUS_SQU=o.ENDPOINT_RADIUS*o.ENDPOINT_RADIUS,o.HOVER_RADIUS_OFFSET=4,o.CURSOR_RADIUS=4,o.CURSOR_RADIUS_SQU=o.CURSOR_RADIUS*o.CURSOR_RADIUS,o.DOUBLE_TAP_TICKS=600,o.LONG_TAP_TICKS=600,o.SPAWN_RADIUS=64,o.DEFAULT_SHOULD_DESTROY_POINTLESS_EDGE=!0,o.DRAGGING_BUFFER=18,o.DRAGGING_BUFFER_SQU=o.DRAGGING_BUFFER*o.DRAGGING_BUFFER,o.PADDING_RADIUS_SQU=2304},30:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"undo-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},31:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"redo-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},32:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"xml-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},o.a.createElement("g",null,o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"})),o.a.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"})))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},33:function(e,t,n){"use strict";n.r(t);var r=n(47),o=n(7),i=n(0),a=n.n(i),l=(n(48),n(63),n(3)),u=n(23),c=(n(65),n(67),n(25)),s=n(26);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,y(t).call(this,e))).dropdown=a.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a.a.Component),n=t,(r=[{key:"isOpen",value:function(){return!!this.dropdown.state&&this.dropdown.state.open}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"infoblock-container "+this.props.className},a.a.createElement("div",{className:"infoblock-header",onClick:function(t){return e.dropdown.onClick(t)}},a.a.createElement("label",null,this.props.title),a.a.createElement(c.a,{id:"collapse",ref:function(t){return e.dropdown=t},defaultValue:this.props.defaultValue,style:{pointerEvents:"none"}},a.a.createElement(s.a,null))),a.a.createElement("div",{className:"infoblock-content",style:{display:this.isOpen()?"block":"none"}},this.props.children))}}])&&p(n.prototype,r),o&&p(n,o),t}(),m=n(4);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,_(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"boxadd-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&g(n.prototype,r),o&&g(n,o),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,M(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"triangle-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}}])&&k(n.prototype,r),o&&k(n,o),t}();n(73);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=T(t).call(this,e))||"object"!==j(o)&&"function"!=typeof o?D(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(D(D(n))),n.onFocus=n.onFocus.bind(D(D(n))),n.onBlur=n.onBlur.bind(D(D(n))),n.onKeyDown=n.onKeyDown.bind(D(D(n))),n.onKeyUp=n.onKeyUp.bind(D(D(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,a.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target;this.setState({value:this.props.label,error:!1},function(){t.select()}),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){var t=this.props.graphController,n=this.state.value;if(null!=n){var r=this.props.src,o=t.getGraph();if(n.length>0)o.getNodesByLabel(n).length<=0&&t.renameNode(r,n);else t.deleteTargetNode(this.props.src);this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(e)}}},{key:"onKeyDown",value:function(e){e.keyCode!==l.a.SUBMIT_KEY&&e.keyCode!==l.a.CLEAR_KEY||e.preventDefault()}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.target.blur();else if(e.keyCode===l.a.CLEAR_KEY){var t=e.target;this.setState({value:null,error:!1},function(){t.blur()})}}},{key:"onValueChange",value:function(e){var t=this.props.graphController.getGraph(),n=e.target.value.trim(),r=!1;if(n.length>0){var o=t.getNodesByLabel(n);o.length>0&&(o.length>1||o[0]!==this.props.src)&&(r=!0)}this.setState({value:n,error:r})}},{key:"render",value:function(){var e=this.props.src.getNodeCustom(),t=null!=this.state.value?this.state.value:this.props.label;return a.a.createElement("div",{className:"statetag-container"+(e?" customtag":"")+(0==t.length?" emptytag":"")+(this.state.value&&this.state.error?" errortag":"")},a.a.createElement("input",{type:"text",className:this.props.accept?" accept":"",spellCheck:"false",style:{width:t.length+"ch"},value:t,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown}))}}])&&N(n.prototype,r),o&&N(n,o),t}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=R(t).call(this,e))||"object"!==A(o)&&"function"!=typeof o?B(r):o).onStateCreate=n.onStateCreate.bind(B(B(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,a.a.Component),n=t,(r=[{key:"onStateCreate",value:function(e){var t=100*Math.random()*2-100,n=100*Math.random()*2-100;this.props.graphController.createNode(t,n)}},{key:"render",value:function(){var e=this.props.graphController,t=e.getGraph();return a.a.createElement(d,{title:I18N.toString("component.stateslist.title"),defaultValue:"true"},a.a.createElement("div",{className:"statelist-container"},a.a.createElement("div",{className:"statelist"},a.a.createElement(P,null),t.getNodes().map(function(t,n){return a.a.createElement(L,{key:t.getGraphElementID(),src:t,label:t.getNodeLabel(),accept:t.getNodeAccept(),graphController:e,onFocus:function(n){return e.focusOnNode(t)}})})),a.a.createElement(m.a,{onClick:this.onStateCreate},a.a.createElement(S,null))))}}])&&F(n.prototype,r),o&&F(n,o),t}();n(75),n(77);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var K=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=V(t).call(this,e))||"object"!==z(o)&&"function"!=typeof o?X(r):o).ref=null,n.state={symbol:null,error:!1},n.onValueChange=n.onValueChange.bind(X(X(n))),n.onFocus=n.onFocus.bind(X(X(n))),n.onBlur=n.onBlur.bind(X(X(n))),n.onKeyDown=n.onKeyDown.bind(X(X(n))),n.onKeyUp=n.onKeyUp.bind(X(X(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,a.a.Component),n=t,(r=[{key:"onFocus",value:function(e){var t=e.target;this.setState({symbol:this.props.src,error:!1},function(){return t.select()}),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){var t=this.props.machineController,n=this.state.symbol;if(null!=n){var r=this.props.src;if(n.length>0)t.getAlphabet().includes(n)||(r?t.renameSymbol(r,n):t.createSymbol(n));else r&&t.deleteSymbol(r)}this.setState({symbol:null,error:!1}),this.props.onBlur&&this.props.onBlur(e)}},{key:"onKeyDown",value:function(e){e.keyCode!==l.a.SUBMIT_KEY&&e.keyCode!==l.a.CLEAR_KEY||e.preventDefault()}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.target.blur();else if(e.keyCode===l.a.CLEAR_KEY){var t=e.target;this.setState({symbol:null,error:!1},function(){t.blur()})}}},{key:"onValueChange",value:function(e){var t=this.props.machineController,n=e.target.value.trim(),r=!1;n.length>0&&(t.getAlphabet().includes(n)&&n!=this.props.src&&(r=!0));this.setState({symbol:n,error:r})}},{key:"render",value:function(){var e=this,t=null!=this.state.symbol?this.state.symbol:this.props.src;return a.a.createElement("div",{className:"alphatag-container"+(!this.props.src||t&&0!=t.length?"":" emptytag")+(this.state.symbol&&this.state.error?" errortag":"")},a.a.createElement("input",{type:"text",ref:function(t){return e.ref=t},className:"alphatag-input",spellCheck:"false",maxLength:"1",value:t,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown}))}}])&&U(n.prototype,r),o&&U(n,o),t}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=q(t).call(this,e))||"object"!==W(o)&&"function"!=typeof o?Z(r):o).editingTag=null,n.state={editing:!1},n.onSymbolCreate=n.onSymbolCreate.bind(Z(Z(n))),n.onStopEditing=n.onStopEditing.bind(Z(Z(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,a.a.Component),n=t,(r=[{key:"onSymbolCreate",value:function(e){var t=this;this.setState({editing:!0},function(){t.editingTag.ref.focus()})}},{key:"onStopEditing",value:function(e){this.setState({editing:!1})}},{key:"render",value:function(){var e=this,t=this.props.machineController,n=t.getAlphabet();return a.a.createElement(d,{title:I18N.toString("component.alphabetlist.title")},a.a.createElement("div",{className:"alphalist-container"},a.a.createElement("div",{className:"alphalist"},n.map(function(e,n){return a.a.createElement(K,{key:e+"."+n,src:e,machineController:t})}),this.state.editing&&a.a.createElement(K,{ref:function(t){return e.editingTag=t},src:"",machineController:t,onBlur:this.onStopEditing})),a.a.createElement(m.a,{onClick:this.onSymbolCreate},a.a.createElement(S,null))))}}])&&Q(n.prototype,r),o&&Q(n,o),t}();n(79);function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._states=[],this._transitions=[],this._finalStates=[],this._customAlphabet=[]}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this._states.length=0,this._transitions.length=0,this._finalStates.length=0,this._customAlphabet.length=0}},{key:"copy",value:function(e){this._states.length=0;var t=!0,n=!1,r=void 0;try{for(var o,i=e._states[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._states.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._transitions.length=0;var l=!0,u=!1,c=void 0;try{for(var s,f=e._transitions[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;this._transitions.push(p.slice())}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}this._finalStates.length=0;var h=!0,y=!1,v=void 0;try{for(var d,m=e._finalStates[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var b=d.value;this._finalStates.push(b)}}catch(e){y=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(y)throw v}}this._customAlphabet.length=0;var g=!0,w=!1,_=void 0;try{for(var E,S=e._customAlphabet[Symbol.iterator]();!(g=(E=S.next()).done);g=!0){var O=E.value;this._customAlphabet.push(O)}}catch(e){w=!0,_=e}finally{try{g||null==S.return||S.return()}finally{if(w)throw _}}}},{key:"newState",value:function(e){if(this._states.includes(e))throw new Error("State '"+e+"' already added to states.");return this._states.push(e),e}},{key:"deleteState",value:function(e){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");this._states.splice(this._states.indexOf(e),1)}},{key:"renameState",value:function(e,t){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(this._states.includes(t))throw new Error("State '"+t+"' already exists.");var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l[0]==e&&(l[0]=t),l[2]==e&&(l[2]=t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=this._states.indexOf(e);this._states[u]=t}},{key:"newTransition",value:function(e,t,n){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(!this._states.includes(t))throw new Error("State '"+t+"' does not exist.");var r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==n&&u[2]==t)return}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this._transitions.push([e,n,t])}},{key:"deleteTransition",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._transitions.length-1;r>=0;--r){var o=this._transitions[r];o[0]==e&&o[2]==t&&(null!=n&&o[1]!=n||this._transitions.splice(r,1))}}},{key:"newSymbol",value:function(e){if(this._customAlphabet.includes(e))throw new Error("Symbol '"+e+"' already added to alphabet.");this._customAlphabet.push(e)}},{key:"deleteSymbol",value:function(e){if(!this._customAlphabet.includes(e))throw new Error("Unable to remove symbol '"+e+"'.");this._customAlphabet.splice(this._customAlphabet.indexOf(e),1)}},{key:"setStartState",value:function(e){if(this._states.length<=0)throw new Error("Not enough states.");if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");this.getStartState()!=e&&(this._states.splice(this._states.indexOf(e),1),this._states.unshift(e))}},{key:"setFinalState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(t){if(this._finalStates.includes(e))return;this._finalStates.push(e)}else{if(!this._finalStates.includes(e))return;this._finalStates.splice(this._finalStates.indexOf(e),1)}}},{key:"doTransition",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l[0]==e&&l[1]==t)return l[2]}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"isFinalState",value:function(e){return this._finalStates.includes(e)}},{key:"hasState",value:function(e){return this._states.includes(e)}},{key:"getStates",value:function(){return this._states}},{key:"isUsedAlphabet",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value[1]==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"isUsedSymbol",value:function(e){return this.isUsedAlphabet(e)}},{key:"isSymbol",value:function(e){return this.isAlphabet(e)}},{key:"isAlphabet",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._customAlphabet[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(o.value==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.isUsedAlphabet(e)}},{key:"getUsedAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value[1];a.length>0&&!e.includes(a)&&e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"getAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._customAlphabet[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.getUsedAlphabet(e)}},{key:"getOutgoingTransitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l[0]==e&&t.push(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"getTransitions",value:function(){return this._transitions}},{key:"getStartState",value:function(){return this._states.length<=0?null:this._states[0]}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"isValidDFA",value:function(){var e=this.getAlphabet(),t=new Array(e.length);t.fill(!1);var n=!0,r=!1,o=void 0;try{for(var i,a=this._states[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=this.getOutgoingTransitions(l),c=!0,s=!1,f=void 0;try{for(var p,h=u[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var y=p.value,v=e.indexOf(y[1]);if(0!=t[v])return!1;t[v]=!0}}catch(e){s=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}for(var d=t.length,m=0;m<d;++m){if(0==t[m])return!1;t[m]=!1}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!0}},{key:"toJSON",value:function(){var e={};return this instanceof DFA?e.type="DFA":this instanceof NFA?e.type="NFA":e.type="FSA",e.states=this._states.slice(),e.alphabet=this._customAlphabet.slice(),e.usedAlphabet=this.getUsedAlphabet(),e.transitions=this._transitions.slice(),e.startState=this.getStartState(),e.finalStates=this._finalStates.slice(),e}}])&&ee(t.prototype,n),r&&ee(t,r),e}(),ne=n(6);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ae(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,te),n=t,(r=[{key:"getUsedAlphabet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var o,i=this._transitions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value[1];e.includes(a)||a==ne.b||e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"doTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;u[0]==e&&u[1]==t&&n.push(u[2])}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"doClosureTransition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);for(var n=0;n<t.length;++n){var r=this.getOutgoingTransitions(t[n]),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c[1]==ne.b){var s=c[2];t.includes(s)||t.push(s)}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return t}},{key:"doTerminalTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==t){var c=this.doClosureTransition(u[2]),s=!0,f=!1,p=void 0;try{for(var h,y=c[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;n.includes(v)||n.push(v)}}catch(e){f=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}}}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},{key:"getPowerSet",value:function(){for(var e=[[]],t=this.getStates(),n=0;n<t.length;n++)for(var r=0,o=e.length;r<o;r++)e.push(e[r].concat(t[n]));return e}}])&&oe(n.prototype,r),o&&oe(n,o),t}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=0,ve=1,de=2,me="symbols";function be(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.doTransition(t,n);return Array.isArray(o)?r||1!=o.length?o.length>0?"{"+o.join(", ")+"}":"-":o[0]:o||"-"}var ge=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=fe(this,pe(t).call(this,e))).state={rowAxis:me},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.machineController,n=t.getMachineBuilder().getMachine(),r=t.getStates(),o=t.getAlphabet(),i=(t.getTransitions(),this.state.rowAxis),l="NFA"==t.getMachineType(),u=i===me&&l;return a.a.createElement(d,{title:I18N.toString("component.transitiontable.title")},a.a.createElement("div",{className:"transitiontable-container"},a.a.createElement("table",{className:"transitiontable"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"emptycell"},a.a.createElement("button",{className:"panel-button",onClick:function(){return e.setState(function(e,t){return{rowAxis:e.rowAxis==me?"states":me}})}},this.state.rowAxis==me?"Q/Î£":"Q/Q")),i===me?o.map(function(e,t){return a.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):"states"===i?r.map(function(e,t){return a.a.createElement("th",{key:e,scope:"col",className:"col"},e)}):null,u&&a.a.createElement("th",{scope:"col"},ne.b)),r.map(function(e,t){return a.a.createElement("tr",{key:e},a.a.createElement("th",{scope:"row",className:"row"},e),i===me?o.map(function(t,r){var o="",i=be(n,e,t,l);return l||!i.startsWith("{")&&"-"!=i||(o+=" error"),a.a.createElement("td",{key:e+","+t,className:o},i)}):"states"===i?r.map(function(t,r){var o=function(e,t,n){var r=[],o=e.getTransitions(),i=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;s[ye]==t&&s[de]==n&&r.push(s[ve])}}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return 1===r.length?r[0]:r.length>0?"{"+r.join(", ")+"}":"-"}(n,e,t);return a.a.createElement("td",{key:e+","+t},o)}):null,u&&a.a.createElement("td",null,be(n,e,ne.b)))})))))}}])&&se(n.prototype,r),o&&se(n,o),t}();n(81);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,Se(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.machineController,t=e.getMachineBuilder().getMachine(),n=e.getStates(),r=e.getAlphabet().sort(),o="NFA"==e.getMachineType();return a.a.createElement(d,{title:"Transition Chart"},a.a.createElement("div",{className:"transitionfunction-container"},a.a.createElement("table",{className:"transitionfunction-table"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Q","Ã","Î£"),a.a.createElement("th",null,o?"â(Q)":"Q")),n.map(function(e,n){var i=t.doTransition(e,ne.b),l="",u=r.map(function(n,r){var i="",l=t.doTransition(e,n);if(!o||l.length)return o||l.length||(i="error",l="-"),!o&&l.length>1&&(i="error",l="{"+l+"}"),l=o?"{"+l+"}":""+l,a.a.createElement("tr",{key:""+e+n},a.a.createElement("td",{className:"transitionfunction-key"},"("+e+","+n+")"),a.a.createElement("td",{className:"transitionfunction-value "+i},l))});i.length>0&&(o||(l="error"),i=o||i.length>1?"{"+i+"}":""+i,u.unshift(a.a.createElement("tr",{key:""+e+ne.b},a.a.createElement("td",{className:"transitionfunction-key "+l},"("+e+","+ne.b+")"),a.a.createElement("td",{className:"transitionfunction-value"},i))));return u})))))}}])&&_e(n.prototype,r),o&&_e(n,o),t}();n(83);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,Pe(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.machineController,t=e.getMachineBuilder().getMachine(),n=e.getStates(),r=e.getFinalStates(),o=e.getAlphabet().sort(),i="NFA"==e.getMachineType();return a.a.createElement("div",{className:"formaldef-container"},a.a.createElement("h2",null,"M = (Q, Î£, Î´, q0, F)"),a.a.createElement("div",null,a.a.createElement("h3",null,"Q ="),a.a.createElement("span",{className:"formaldef-values"},n.length>0?"{ "+n.join(", ")+" }":ne.c)),a.a.createElement("div",null,a.a.createElement("h3",null,"Î£ ="),a.a.createElement("span",{className:"formaldef-values"},o.length>0?"{ "+o.join(", ")+" }":ne.c)),a.a.createElement("div",null,a.a.createElement("h3",null,"Î´"),a.a.createElement("div",{className:"formaldef-values"},n.map(function(e,n){var r=t.doTransition(e,ne.b),l="",u=o.map(function(n,r){var o="",l=t.doTransition(e,n);if(!i||l.length)return i||l.length||(o="error",l="-"),!i&&l.length>1&&(o="error",l="{ "+l+" }"),l=i?"{ "+l+" }":""+l,a.a.createElement("div",{key:""+e+n,className:o},"Î´( ( "+e+", "+n+" ) ) = "+l)});r.length>0&&(i||(l="error"),r=i||r.length>1?"{ "+r+" }":""+r,u.unshift(a.a.createElement("div",{key:""+e+ne.b,className:l},"Î´( ( "+e+", "+ne.b+" ) ) = "+r)));return u}),i&&a.a.createElement("div",{id:"formaldef-otherinputs"},a.a.createElement("div",null,"For all other inputs (q, x),"),a.a.createElement("div",null,"Î´( (q, x) ) = "+ne.c)))),a.a.createElement("div",null,a.a.createElement("h3",null,"q0 ="),a.a.createElement("span",{className:"formaldef-values"},n[0])),a.a.createElement("div",null,a.a.createElement("h3",null,"F ="),a.a.createElement("span",{className:"formaldef-values"},r.length>0?"{ "+r.join(",")+" }":ne.c)))}}])&&Me(n.prototype,r),o&&Me(n,o),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=De(t).call(this,e))||"object"!==Te(o)&&"function"!=typeof o?Ae(r):o).container=null,n.state={viewFormal:!1},n.onChangeMachineType=n.onChangeMachineType.bind(Ae(Ae(n))),n.onAutoLayout=n.onAutoLayout.bind(Ae(Ae(n))),n.onChangeAutoRename=n.onChangeAutoRename.bind(Ae(Ae(n))),n.onSubmitAutoStatePrefix=n.onSubmitAutoStatePrefix.bind(Ae(Ae(n))),n.onAutoStateFormat=n.onAutoStateFormat.bind(Ae(Ae(n))),n.switchDefinition=n.switchDefinition.bind(Ae(Ae(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,a.a.Component),n=t,(r=[{key:"onAutoLayout",value:function(e){this.props.currentModule.getGraphController().applyAutoLayout()}},{key:"onChangeMachineType",value:function(e){var t=e.target.value;this.props.currentModule.getMachineController().changeMachineTo(t)}},{key:"onChangeAutoRename",value:function(e){this.props.currentModule.getGraphController().setAutoRenameNodes(e.target.checked)}},{key:"onSubmitAutoStatePrefix",value:function(e,t){var n=this.props.currentModule.getGraphController(),r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=e&&(r.setDefaultNodeLabelPrefix(e),n.applyAutoRename())}},{key:"onAutoStateFormat",value:function(e){return e&&e.length>0?e:l.a.STR_STATE_LABEL}},{key:"switchDefinition",value:function(){this.setState(function(e,t){return{viewFormal:!e.viewFormal}})}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController(),o=n.getGraph();return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"overview",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.overview.title"))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("select",{className:"machine-type panel-select",value:r.getMachineType(),onChange:this.onChangeMachineType},a.a.createElement("option",{value:"DFA"},"DFA"),a.a.createElement("option",{value:"NFA"},"NFA")),this.state.viewFormal&&a.a.createElement(Ne,{machineController:r}),!this.state.viewFormal&&a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",{className:"graphinfo-important"},a.a.createElement(H,{graphController:n}),a.a.createElement($,{machineController:r})),a.a.createElement("div",{className:"graphinfo"},a.a.createElement(ke,{machineController:r}),a.a.createElement(ge,{machineController:r}))),a.a.createElement("hr",null),a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("h3",{style:{marginBottom:"0"}},"State Labels"),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement("div",{className:"statetag-container"},a.a.createElement(u.a,{defaultValue:n.getGraphLabeler().getDefaultNodeLabelPrefix(),style:{width:"4em"},formatter:this.onAutoStateFormat,captureOnExit:"save",onSubmit:this.onSubmitAutoStatePrefix})),a.a.createElement("select",{style:{background:"none",outline:"none",border:"none",padding:"0",margin:"0",appearance:"none",color:"white"},disabled:!0},a.a.createElement("option",null,"0-9"),a.a.createElement("option",null,"a-z"),a.a.createElement("option",null,"A-Z"))),a.a.createElement("div",{className:"panel-checkbox"},a.a.createElement("input",{type:"checkbox",id:"auto-statename",onChange:this.onChangeAutoRename,checked:n.shouldAutoRenameNodes()}),a.a.createElement("label",{htmlFor:"auto-statename"},I18N.toString("options.autolabel")))),a.a.createElement("hr",null),a.a.createElement("button",{className:"panel-button",onClick:this.onAutoLayout,disabled:o.isEmpty()},I18N.toString("action.overview.autolayout"))),a.a.createElement("button",{className:"panel-button",onClick:this.switchDefinition},this.state.viewFormal?"Back":"View Definition")),a.a.createElement("div",{className:"panel-bottom"}))}}])&&Ie(n.prototype,r),o&&Ie(n,o),t}();Object.defineProperty(Fe,"TITLE",{get:function(){return I18N.toString("component.overview.title")}}),Fe.UNLOCALIZED_NAME="component.overview.title";var Re=Fe,Ge=(n(85),n(8)),Be=n(11);function He(e,t,n,r,o){var i=null,a=[],l=0;null!=t&&r.push(t);var u=!0,c=!1,s=void 0;try{for(var f,p=n[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;if(i=h.state,null!=(t=h.index<r.length?r[h.index]:null)){l=h.index+1;var y=!0,v=!1,d=void 0;try{for(var m,b=e.doTerminalTransition(i,t)[Symbol.iterator]();!(y=(m=b.next()).done);y=!0){var g=m.value;a.push({state:g,index:l})}}catch(e){v=!0,d=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw d}}}else{if(e.isFinalState(i))return!0;o.push(i)}l=h.index}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return n.length=0,n.push.apply(n,a),!1}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,Ye(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,te),n=t,(r=[{key:"validate",value:function(){return console.error("This is deprecated, please use FSA.isValidDFA()"),this.isValidDFA()}},{key:"newTransition",value:function(e,t,n){if(!this._states.includes(e))throw new Error("State '"+e+"' does not exist.");if(!this._states.includes(t))throw new Error("State '"+t+"' does not exist.");var r=!0,o=!1,i=void 0;try{for(var a,l=this._transitions[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u[0]==e&&u[1]==n&&u[2]==t)return;if(u[0]==e&&u[1]==n)throw new Error("Unable to create illegal nondeterministic transition for DFA.")}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this._transitions.push([e,n,t])}}])&&Ue(n.prototype,r),o&&Ue(n,o),t}();function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphController=null,this.machineController=null,this.testingManager=t,this.targets=[],this.history=[],this.indexofString=-1,this.result=!1,this.cachedStates=[],this.cachedSymbols=[],this.checkedStates=[],this.running=!1,this.started=!1,this.skipToEnd=!1,this.timer=null,this.onNodeDestroy=this.onNodeDestroy.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){this.graphController=e.getGraphController(),this.machineController=e.getMachineController()}},{key:"destroy",value:function(){}},{key:"onNodeDestroy",value:function(e){}},{key:"onStart",value:function(){this.prepareForNewTest(),this.started=!0,this.skipToEnd=!1}},{key:"onResume",value:function(){var e=this;this.hasNextStep()||this.testingManager.inputList.resetTests(!1),this.running=!0;this.timer=setTimeout(function t(){e.running&&(e.hasNextStep()?(e.onNextStep(),e.timer=setTimeout(t,500)):e.onPause())},500)}},{key:"onPause",value:function(){this.running=!1}},{key:"onStop",value:function(){this.targets.length=0,this.running=!1,this.started=!1,this.skipToEnd=!1}},{key:"isRunning",value:function(){return this.running}},{key:"isStarted",value:function(){return this.started}},{key:"isSkipping",value:function(){return this.skipToEnd}},{key:"hasPrevStep",value:function(){return this.history.length>0||this.testingManager.inputList.hasPrevInput()}},{key:"onPreviousStep",value:function(){if(this.history.length>0){var e=this.history.pop();this.targets.length=0,this.cachedStates.length=0,this.cachedSymbols.length=0,this.checkedStates.length=0;var t=!0,n=!1,r=void 0;try{for(var o,i=e.targets[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!a)throw new Error("Found null target");this.targets.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var s,f=e.cachedStates[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;this.cachedStates.push(p)}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}var h=!0,y=!1,v=void 0;try{for(var d,m=e.cachedSymbols[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var b=d.value;this.cachedSymbols.push(b)}}catch(e){y=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(y)throw v}}var g=!0,w=!1,_=void 0;try{for(var E,S=e.checkedStates[Symbol.iterator]();!(g=(E=S.next()).done);g=!0){var O=E.value;this.checkedStates.push(O)}}catch(e){w=!0,_=e}finally{try{g||null==S.return||S.return()}finally{if(w)throw _}}this.indexofString--}else this.indexofString=-1,this.testingManager.inputList.prevInput()}},{key:"hasNextStep",value:function(){return this.indexofString<this.testingManager.inputList.getCurrentInput().value.length||this.testingManager.inputList.hasNextInput()}},{key:"onNextStep",value:function(){var e=this,t=this.testingManager.inputList.getCurrentInput(),n=this.machineController.getMachineBuilder().getMachine();if(this.indexofString+=1,this.indexofString>=t.value.length){if(this.result=He(n,null,this.cachedStates,this.cachedSymbols,this.checkedStates),t.setResult(this.result),this.testingManager.inputList.hasNextInput()){this.testingManager.inputList.nextInput();return this.prepareForNewTest(),!0}return this.onPause(),!1}var r=this.getCurrentCache();this.history.push(r);var o=t.value[this.indexofString];this.result=He(n,o,this.cachedStates,this.cachedSymbols,this.checkedStates),this.targets.length=0;var i=!0,a=!1,l=void 0;try{for(var u,c=this.cachedStates[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,f=this.machineController.getFirstGraphNodeByLabel(this.graphController.getGraph(),s.state);if(!f)throw new Error("Found null target");this.targets.includes(f)||this.targets.push(f)}}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}if(this.targets.length<=0&&!this.running){this.skipToEnd=!0;setTimeout(function n(){e.skipToEnd&&(e.indexofString+=1,e.indexofString>=t.value.length?e.skipToEnd=!1:setTimeout(n,50))},50)}return!0}},{key:"getCurrentCache",value:function(){return{targets:this.targets.slice(),cachedStates:this.cachedStates.slice(),cachedSymbols:this.cachedSymbols.slice(),checkedStates:this.checkedStates.slice()}}},{key:"getCurrentTestStringIndex",value:function(){return this.indexofString+1}},{key:"prepareForNewTest",value:function(){this.cachedStates.length=0;var e=this.graphController.getGraph();if(!e.isEmpty()){var t=this.machineController.getMachineBuilder().getMachine();this.targets.length=0;var n=t.getStartState(),r=!0,o=!1,i=void 0;try{for(var a,l=t.doClosureTransition(n)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;this.cachedStates.push({state:u,index:0});var c=this.machineController.getFirstGraphNodeByLabel(e,u);if(!c)throw new Error("Found null target");this.targets.push(c)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this.cachedSymbols.length=0,this.checkedStates.length=0,this.indexofString=-1,this.history.length=0,this.skipToEnd=!1}}}])&&We(t.prototype,n),r&&We(t,r),e}(),qe=n(13);function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputList=[],this.addInput(""),this.inputIndex=0}var t,n,r;return t=e,(n=[{key:"isEmpty",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.inputList[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){if(r.value.value.length>0)return!1}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return!0}},{key:"testByIndex",value:function(e,t){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");var n=this.inputList[e];n.setResult(null);var r=function(e,t){"string"==typeof t&&(t=t[Symbol.iterator]());var n=[],r=[];n.push({state:e.getStartState(),index:0});var o=!0,i=!1,a=void 0;try{for(var l,u=e.doClosureTransition(e.getStartState())[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n.push({state:c,index:0})}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}for(var s=[],f=0;n.length>0;){if(He(e,t.next().value,n,r,s))return!0;if(++f>1e3)return!1}return!1}(t,n.value);return n.setResult(r),r}},{key:"importTests",value:function(e){var t=this,n=new FileReader;n.onload=function(e){try{t.inputList.length=0,t.inputIndex=0;var r=e.target.result.split("\n"),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;(c=c.trim()).length>0&&t.addInput(c)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}t.inputList.length<0&&t.addInput("")}catch(e){n.abort()}},n.readAsText(e)}},{key:"getTestsAsStrings",value:function(){return this.inputList.map(function(e,t){return e.value})}},{key:"clearTests",value:function(){var e=this.inputList[0];e.value="",e.result=null,e.dirty=!0,this.inputList.length=1,this.inputIndex=0}},{key:"resetTests",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.inputIndex=0,e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.inputList[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.dirty=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"getTests",value:function(){return this.inputList}},{key:"addInput",value:function(e){var t={value:e,result:null,dirty:!0,id:Object(qe.a)(),setResult:function(e){this.dirty=!1,this.result=e}};return this.inputList.push(t),t}},{key:"getInputByIndex",value:function(e){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");return this.inputList[e]}},{key:"removeInputByIndex",value:function(e){if(e<0||e>=this.inputList.length)throw new Error("Cannot find test input for index");if(0===e)throw new Error("Cannot delete the first test input");e<=this.inputIndex&&--this.inputIndex,this.inputList.splice(e,1)}},{key:"nextInput",value:function(){return++this.inputIndex,this.inputIndex>=this.inputList.length&&(this.inputIndex=0),this.inputList[this.inputIndex]}},{key:"prevInput",value:function(){return--this.inputIndex,this.inputIndex<0&&(this.inputIndex=this.inputList.length-1),this.inputList[this.inputIndex]}},{key:"resetInput",value:function(){this.inputIndex=0}},{key:"hasNextInput",value:function(){return this.inputIndex<this.inputList.length}},{key:"hasPrevInput",value:function(){return this.inputIndex>0}},{key:"getCurrentInput",value:function(){return this.inputList[this.inputIndex]}},{key:"getCurrentInputIndex",value:function(){return this.inputIndex}}])&&Je(t.prototype,n),r&&Je(t,r),e}();function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.machineController=null,this.viewport=null,this.inputList=new Ze,this.shouldCheckError=!1,this.isImmediateErrorCheck=!1,this.errorCheckMode=e.NO_ERROR_CHECK,this.stepByStepMode=!1,this.testMode=new Qe(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e,t){this.machineController=e.getMachineController(),this.viewport=t,this.testMode.initialize(e)}},{key:"destroy",value:function(){}},{key:"setErrorCheckMode",value:function(t){if(this.machineController.setMachineType(this.machineController.getMachineType()),t==e.NO_ERROR_CHECK)this.shouldCheckError=!1,this.errorCheckMode=t;else if(t==e.DELAYED_ERROR_CHECK)this.shouldCheckError=!0,this.isImmediateErrorCheck=!1,this.errorCheckMode=t;else{if(t!=e.IMMEDIATE_ERROR_CHECK)throw new Error("Unknown error check mode '"+t+"'");this.shouldCheckError=!0,this.isImmediateErrorCheck=!0,this.errorCheckMode=t}}},{key:"getErrorCheckMode",value:function(){return this.errorCheckMode}},{key:"setStepByStepMode",value:function(e){this.stepByStepMode=!!e,e?(this.testMode.isStarted()&&this.testMode.onStop(),this.testMode.onStart(),this.viewport.setState(function(e,t){if(e.mode!=Be.a.TESTING)return{prevMode:e.mode,mode:Be.a.TESTING}})):(this.testMode.isStarted()&&this.testMode.onStop(),this.viewport.setState(function(e,t){return{mode:e.prevMode}}))}},{key:"getStepByStepMode",value:function(){return this.stepByStepMode}}])&&$e(t.prototype,n),r&&$e(t,r),e}();et.NO_ERROR_CHECK="none",et.DELAYED_ERROR_CHECK="delayed",et.IMMEDIATE_ERROR_CHECK="immediate";var tt=et;n(89);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"add-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&rt(n.prototype,r),o&&rt(n,o),t}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),st(this,ft(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"remove-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&ct(n.prototype,r),o&&ct(n,o),t}();n(91);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,mt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"success-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),a.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&vt(n.prototype,r),o&&vt(n,o),t}();function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,St(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"failure-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&_t(n.prototype,r),o&&_t(n,o),t}();function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xt(this,Pt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),a.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&Mt(n.prototype,r),o&&Mt(n,o),t}();function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dt(this,Lt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.active;return!0===this.props.mode?a.a.createElement(m.a,{className:"status-icon success"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(gt,null)):!1===this.props.mode?a.a.createElement(m.a,{className:"status-icon failure"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(kt,null)):a.a.createElement(m.a,{className:"status-icon"+(e?" active":""),onClick:this.props.onClick},a.a.createElement(Nt,null))}}])&&It(n.prototype,r),o&&It(n,o),t}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ut=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Bt(t).call(this,e))||"object"!==Rt(o)&&"function"!=typeof o?zt(r):o).ref=a.a.createRef(),n.onStatusClick=n.onStatusClick.bind(zt(zt(n))),n.onSubmitClick=n.onSubmitClick.bind(zt(zt(n))),n.onValueChange=n.onValueChange.bind(zt(zt(n))),n.onKeyDown=n.onKeyDown.bind(zt(zt(n))),n.onKeyUp=n.onKeyUp.bind(zt(zt(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,a.a.Component),n=t,(r=[{key:"getInput",value:function(){return this.props.testList.getInputByIndex(this.props.index)}},{key:"isInputFirst",value:function(){return 0===this.props.index}},{key:"onStatusClick",value:function(e){this.props.testList.testByIndex(this.props.index,this.props.machineBuilder.getMachine())}},{key:"onSubmitClick",value:function(e){if(this.isInputFirst()){var t=this.getInput(),n=this.props.testList.addInput(t.value);n.result=t.result,n.dirty=t.dirty,t.value="",t.result=null,t.dirty=!0,this.ref.focus()}else this.props.testList.removeInputByIndex(this.props.index)}},{key:"onValueChange",value:function(e){var t=e.target.value.trim(),n=this.getInput();n.value=t,n.dirty=!0}},{key:"onKeyDown",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY)e.preventDefault();else if(e.keyCode===l.a.DELETE_KEY){var t=this.getInput();if(t.value.length<=0){var n=this.props.index+1;if(this.props.testList.getTests().length>n){var r=this.props.testList.getInputByIndex(n);t.value=r.value,t.result=r.result,t.dirty=r.dirty,this.props.testList.removeInputByIndex(n)}}}}},{key:"onKeyUp",value:function(e){if(e.keyCode===l.a.SUBMIT_KEY){var t=e.shiftKey;if(this.isInputFirst()&&!t){var n=this.getInput(),r=this.props.testList.addInput(n.value);r.result=n.result,r.dirty=n.dirty,n.value="",n.result=null,n.dirty=!0,this.ref.focus()}else this.props.testList.testByIndex(this.props.index,this.props.machineBuilder.getMachine()),this.ref.select()}else e.keyCode===l.a.CLEAR_KEY&&e.target.blur()}},{key:"render",value:function(){var e=this,t=this.getInput(),n=this.isInputFirst();return a.a.createElement("div",{className:"testinginput-container "+(this.props.testList.getCurrentInputIndex()===this.props.index?" active":"")},a.a.createElement(Ft,{active:!t.dirty,mode:t.result,onClick:this.onStatusClick}),a.a.createElement("input",{ref:function(t){return e.ref=t},className:"testinginput-field",value:t.value,placeholder:ne.b,onChange:this.onValueChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:function(e){return e.target.select()}}),a.a.createElement(m.a,{className:"testinginput-submit",onClick:this.onSubmitClick},n?a.a.createElement(lt,null):a.a.createElement(ht,null)))}}])&&Gt(n.prototype,r),o&&Gt(n,o),t}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Kt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("button",{className:"icon-button "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},a.a.createElement("input",{ref:function(t){return e.uploadInput=t},id:"test-upload-input",type:"file",name:"import",style:{display:"none"},onChange:this.props.onChange,accept:".txt"}),a.a.createElement("label",{htmlFor:"test-upload-input"},this.props.children))}}])&&Yt(n.prototype,r),o&&Yt(n,o),t}(),qt=n(27);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,en(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"pagenewcontent-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&Zt(n.prototype,r),o&&Zt(n,o),t}(),rn=n(28);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,un(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"close-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&an(n.prototype,r),o&&an(n,o),t}();function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var dn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=hn(t).call(this,e))||"object"!==fn(o)&&"function"!=typeof o?vn(r):o).container=a.a.createRef(),n.uploadInput=a.a.createRef(),n.state={errorCheckMode:n.props.currentModule.getTestingManager().getErrorCheckMode(),noTestMode:!0},n._savedGraphHash=0,n._ticksSinceHash=0,n.stepByStepModeChecked=!1,n.onChangeErrorCheckMode=n.onChangeErrorCheckMode.bind(vn(vn(n))),n.onUploadFileChange=n.onUploadFileChange.bind(vn(vn(n))),n.onGraphChange=n.onGraphChange.bind(vn(vn(n))),n.onTestsRunAll=n.onTestsRunAll.bind(vn(vn(n))),n.onTestsClear=n.onTestsClear.bind(vn(vn(n))),n.onTestsSave=n.onTestsSave.bind(vn(vn(n))),n.onTestsNew=n.onTestsNew.bind(vn(vn(n))),n.onTestsUpload=n.onTestsUpload.bind(vn(vn(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props.currentModule.getGraphController().getGraph();this._savedGraphHash=e.getHashCode(),this._ticksSinceHash=0}},{key:"componentWillUnmount",value:function(){this.props.currentModule.getGraphController().getGraph();this._savedGraphHash=0}},{key:"onGraphChange",value:function(e){this.props.currentModule.getTestingManager().inputList.resetTests()}},{key:"onUploadFileChange",value:function(e){var t=e.target.files;t.length>0&&(this.props.currentModule.getTestingManager().inputList.importTests(t[0]),document.getElementById("test-name").innerHTML=t[0].name,e.target.value="")}},{key:"onChangeErrorCheckMode",value:function(e){var t=e.target.value,n=this.props.currentModule,r=n.getGraphController(),o=n.getMachineController(),i=n.getTestingManager(),a=r.getGraph(),l=o.getMachineBuilder();i.setErrorCheckMode(t),i.shouldCheckError&&l.onGraphChange(a),this.setState({errorCheckMode:t})}},{key:"onTestsRunAll",value:function(e){var t=this.props.currentModule,n=t.getMachineController().getMachineBuilder().getMachine(),r=t.getTestingManager();if(r.testMode.isStarted())r.setStepByStepMode(!1);else{var o=r.inputList,i=o.getTests().length;r.setStepByStepMode(this.stepByStepModeChecked);for(var a=0;a<i;++a)o.testByIndex(a,n)}}},{key:"onTestsClear",value:function(e){this.props.currentModule.getTestingManager().inputList.clearTests(),this.clearTestName(),this.hideTestInputList(),this.setState({noTestMode:!0})}},{key:"onTestsSave",value:function(e){var t=this.props.currentModule.getTestingManager();Object(Ge.e)("test.txt",t.inputList.getTestsAsStrings().join("\n"))}},{key:"onTestsNew",value:function(e){this.onTestsClear(),this.showTestInputList(),this.clearTestName(),this.setState({noTestMode:!1})}},{key:"onTestsUpload",value:function(e){this.onTestsNew(),this.showTestInputList()}},{key:"showTestInputList",value:function(){document.getElementById("test-inputlist-container").style.display="block"}},{key:"hideTestInputList",value:function(){document.getElementById("test-inputlist-container").style.display="none"}},{key:"clearTestName",value:function(){document.getElementById("test-name").innerHTML=""}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getTestingManager(),r=n.inputList,o=t.getMachineController().getMachineBuilder(),i=!o.isMachineValid();if(--this._ticksSinceHash<=0){this._ticksSinceHash=30;var l=t.getGraphController().getGraph(),u=l.getHashCode();this._savedGraphHash!==u&&(this.onGraphChange(l),this._savedGraphHash=u)}return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"testing",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.testing.title"))),a.a.createElement("div",{className:"test-icon-row"},a.a.createElement(m.a,{className:"testicon",id:"testing-new",title:I18N.toString("action.testing.new"),onClick:this.onTestsNew},a.a.createElement(nn,null)),a.a.createElement(Qt,{className:"testicon",id:"testing-upload",title:I18N.toString("action.testing.import"),onClick:this.onTestsUpload,onChange:this.onUploadFileChange},a.a.createElement(qt.a,null)),a.a.createElement(m.a,{className:"testicon",id:"testing-save",title:I18N.toString("action.testing.save"),onClick:this.onTestsSave,disabled:n.inputList.isEmpty()},a.a.createElement(rn.a,null)),a.a.createElement(m.a,{className:"testicon",id:"testing-clear",title:I18N.toString("action.testing.clear"),onClick:this.onTestsClear,disabled:this.state.noTestMode},a.a.createElement(sn,null))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("div",{className:"test-inputlist-container",id:"test-inputlist-container",style:{display:"none"}},a.a.createElement("div",{className:"scrollbar-container"},a.a.createElement("h3",{id:"test-name"},"Test Name"),a.a.createElement("div",{className:"test-inputlist-content"},i&&a.a.createElement("label",{className:"test-inputlist-content-warning"},"Not a valid machine!"),r.getTests().map(function(e,t){return a.a.createElement(Ut,{key:e.id,index:t,testList:r,machineBuilder:o})}))),a.a.createElement("button",{className:"panel-button",onClick:this.onTestsRunAll},n.testMode.isStarted()?I18N.toString("action.testing.stoprun"):I18N.toString("action.testing.runall")),a.a.createElement("div",{className:"panel-checkbox"},a.a.createElement("input",{id:"test-step",type:"checkbox",checked:this.stepByStepModeChecked,onChange:function(t){e.stepByStepModeChecked=t.target.checked,e.stepByStepModeChecked||n.setStepByStepMode(!1)},disabled:n.testMode.isStarted()}),a.a.createElement("label",{htmlFor:"test-step"},I18N.toString("options.testing.stepmode")))),a.a.createElement("hr",null),a.a.createElement("div",{id:"test-errorcheck"},a.a.createElement("label",null,I18N.toString("options.checkerrors")),a.a.createElement("select",{className:"panel-select",value:this.state.errorCheckMode,onChange:this.onChangeErrorCheckMode},a.a.createElement("option",{value:tt.NO_ERROR_CHECK},I18N.toString("options.checkerrors.mode.none")),a.a.createElement("option",{value:tt.DELAYED_ERROR_CHECK},I18N.toString("options.checkerrors.mode.delayed")),a.a.createElement("option",{value:tt.IMMEDIATE_ERROR_CHECK},I18N.toString("options.checkerrors.mode.immediate"))))),a.a.createElement("div",{className:"panel-bottom"}))}}])&&pn(n.prototype,r),o&&pn(n,o),t}();Object.defineProperty(dn,"TITLE",{get:function(){return I18N.toString("component.testing.title")}}),dn.UNLOCALIZED_NAME="component.testing.title";var mn=dn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Sn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=wn(t).call(this,e))||"object"!==bn(o)&&"function"!=typeof o?En(r):o).onClick=n.onClick.bind(En(En(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.message;switch(e.target.value){case"convert":this.props.machineController.convertMachineTo("DFA"),t.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){var e=this.props.machineController.countStates();return a.a.createElement("div",null,a.a.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),a.a.createElement("p",null,"".concat(e," states -> ").concat(Math.pow(2,e)," states")),a.a.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}])&&gn(n.prototype,r),o&&gn(n,o),t}();function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Pn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Cn(t).call(this,e))||"object"!==On(o)&&"function"!=typeof o?xn(r):o).container=null,n.optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(xn(xn(n))),n.onConvertToNFA=n.onConvertToNFA.bind(xn(xn(n))),n.onOptimizeMachine=n.onOptimizeMachine.bind(xn(xn(n))),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(t,a.a.Component),n=t,(r=[{key:"onDeleteAllUnreachable",value:function(e){var t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController().getUnreachableNodes();n.deleteTargetNodes(r)}},{key:"onConvertToDFA",value:function(e){var t=this.props.currentModule,n={graphController:t.getGraphController(),machineController:t.getMachineController()},r=l.a.MACHINE_CONVERSION_MESSAGE_TAG;o.a.addMessage(I18N.toString("message.warning.convertNFAToDFA"),"warning",r,Sn,n)}},{key:"onConvertToNFA",value:function(e){this.props.currentModule.getMachineController().convertMachineTo("NFA")}},{key:"onOptimizeMachine",value:function(e){this.optimizeUnreachOption.checked&&this.onDeleteAllUnreachable(e)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.checked||this.optimizeUnreachOption&&this.optimizeUnreachOption.checked}},{key:"render",value:function(){var e=this,t=this.props.currentModule,n=t.getGraphController(),r=t.getMachineController(),o=(n.getGraph(),r.getMachineType());return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"analysis",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,I18N.toString("component.analysis.title"))),a.a.createElement("div",{className:"panel-content"},a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("h3",{style:{marginBottom:"0"}},"Optimizations"),a.a.createElement("div",{style:{paddingBottom:"0.5em"}},a.a.createElement("div",null,a.a.createElement("input",{ref:function(t){return e.optimizeUnreachOption=t},id:"opt-unreach",type:"checkbox"}),a.a.createElement("label",{htmlFor:"opt-unreach"},"Unreachables")),a.a.createElement("div",null,a.a.createElement("input",{ref:function(t){return e.optimizeRedundOption=t},id:"opt-redund",type:"checkbox",disabled:!0}),a.a.createElement("label",{htmlFor:"opt-redund"},"Redundant States"))),a.a.createElement("button",{className:"panel-button",onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize")),a.a.createElement("hr",null),"DFA"==o?a.a.createElement("button",{className:"panel-button",onClick:this.onConvertToNFA,disabled:this.props.currentModule.getGraphController().getGraph().isEmpty()},I18N.toString("action.overview.convertnfa")):"NFA"==o?a.a.createElement("button",{className:"panel-button",onClick:this.onConvertToDFA,disabled:this.props.currentModule.getGraphController().getGraph().isEmpty()},I18N.toString("action.overview.convertdfa")):null),a.a.createElement("div",{className:"panel-bottom"}))}}])&&kn(n.prototype,r),i&&kn(n,i),t}();Object.defineProperty(Pn,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}}),Pn.UNLOCALIZED_NAME="component.analysis.title";var jn=Pn;function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var An=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=In(this,Dn(t).call(this,e))).container=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"panel-container "+this.props.className,id:"about",ref:function(t){return e.container=t},style:this.props.style},a.a.createElement("div",{className:"panel-title"},a.a.createElement("h1",null,"Finite State Automata")),a.a.createElement("div",{className:"panel-content"},a.a.createElement("p",null,"Brought to you with â¤ by the Flap.js team."),a.a.createElement("p",null,"<- Tap on a tab to begin!")),a.a.createElement("div",{className:"panel-bottom"}))}}])&&Tn(n.prototype,r),o&&Tn(n,o),t}(),Fn=n(36),Rn=n(29);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return!t||"object"!==Gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Hn(this,zn(t).call(this)))._prevX=0,e._prevY=0,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,Rn["a"]),n=t,(r=[{key:"onDragStart",value:function(e){return this._prevX=e.x,this._prevY=e.y,!0}},{key:"onDragMove",value:function(e){var t=e.x-this._prevX,n=e.y-this._prevY;return e.getAdapter().getViewport().addOffset(t,n,!0),!0}},{key:"onDragStop",value:function(e){return!0}}])&&Bn(n.prototype,r),o&&Bn(n,o),t}();function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectionBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[],this.target=null,this.targetType="",this.initialTarget=null,this.initialTargetType=""}var t,n,r;return t=e,(n=[{key:"setInitialTarget",value:function(e,t){this.initialTarget=e,this.initialTargetType=t}},{key:"updateTarget",value:function(e,t,n){return(this.target=this.getNodeByInitialMarkerAt(e,t,n))?this.targetType="initial":(this.target=this.getEdgeByEndPointAt(e,t,n))?this.targetType="endpoint":(this.target=this.getNodeAt(e,t,n))?this.targetType="node":(this.target=this.getEdgeAt(e,t,n))?this.targetType="edge":(this.target=null,this.targetType="none"),this.target}},{key:"clearTarget",value:function(){this.target=null,this.targetType="none"}},{key:"hasTarget",value:function(){return null!=this.target}},{key:"getNodeAt",value:function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,l=e.getNodes()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=u.getNodeSize(),s=t-u.x,f=n-u.y;if(s*s+f*f<c*c)return u}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return null}},{key:"getNodeByInitialMarkerAt",value:function(e,t,n){var r=e.getStartNode();if(!r)return null;var o=r.getNodeSize(),i=-(o+o/2),a=t-(r.x+i),l=n-r.y;return a*a+l*l<144?r:null}},{key:"getEdgeAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.getCenterPoint(r);var s=t-r.x,f=n-r.y;if(s*s+f*f<144)return c}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"getEdgeByEndPointAt",value:function(e,t,n){var r={x:0,y:0},o=!0,i=!1,a=void 0;try{for(var l,u=e.getEdges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.getEndPoint(r);var s=t-r.x,f=n-r.y;if(s*s+f*f<36)return c}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return null}},{key:"getSelectionBox",value:function(){return this.selectionBox}},{key:"getSelection",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t=this.selectionBox,n=Math.max(t.toX,t.fromX),r=Math.max(t.toY,t.fromY),o=Math.min(t.toX,t.fromX),i=Math.min(t.toY,t.fromY);this.clearSelection(),function(e,t,n,r,o,i){var a=Math.min(t,r),l=Math.min(n,o),u=Math.max(t,r),c=Math.max(n,o),s=!0,f=!1,p=void 0;try{for(var h,y=e.getNodes()[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;v.x>=a&&v.x<u&&v.y>=l&&v.y<c&&i.push(v)}}catch(e){f=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}}(e,o,i,n,r,this.targets)}return this.targets}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isTargetInSelection",value:function(e){return this.targets.includes(e||this.target)}},{key:"isTarget",value:function(e){return this.target==e}},{key:"beginSelection",value:function(e,t,n){var r=this.selectionBox;r.fromX=r.toX=t,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0)}},{key:"endSelection",value:function(e,t,n){var r=this.selectionBox;r.toX=t,r.toY=n,this.getSelection(e,!0),r.visible=!1}},{key:"isSelecting",value:function(){return this.selectionBox.visible}}])&&Yn(t.prototype,n),r&&Yn(t,r),e}();function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"isTargetable",value:function(e,t,n,r){return!1}},{key:"onAction",value:function(e,t,n,r){return!1}},{key:"onDblAction",value:function(e,t,n,r){return!1}},{key:"onDragStart",value:function(e,t,n,r){return!1}},{key:"onDragMove",value:function(e,t,n,r){return!1}},{key:"onDragStop",value:function(e,t,n,r){return!1}}])&&Kn(t.prototype,n),r&&Kn(t,r),e}();function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var er=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Jn(this,Zn(t).call(this)),!e)throw new Error("Missing target type for graph element input handler");return n._targetType=e,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(t,Wn),n=t,(r=[{key:"isTargetable",value:function(e,t,n,r){return r===this._targetType}},{key:"getTargetType",value:function(){return this._targetType}}])&&qn(n.prototype,r),o&&qn(n,o),t}();function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rr(this,or(t).call(this,"node"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,er),n=t,(r=[{key:"onAction",value:function(e,t,n,r){var o=e.getPicker();return e.isTrashMode()?(t.prevX=r.x,t.prevY=r.y,o.hasSelection()?t.deleteSelectedNodes(r):t.deleteTargetNode(r),!0):!e.isMoveMode()&&(t.toggleNode(r),!0)}},{key:"onDragStart",value:function(e,t,n,r){if(e.isMoveMode())t.prevX=r.x,t.prevY=r.y;else{var o=e.getPicker(),i=t.getGraph().createEdge(r,n);i.setEdgeLabel(t.getGraphLabeler().getDefaultEdgeLabel()),o.setInitialTarget(i,"endpoint"),e.isNewEdge=!0;var a=i.getQuadratic();t.prevQuad.radians=a.radians,t.prevQuad.length=a.length,t.prevEdgeTo=null}return!0}},{key:"onDragMove",value:function(e,t,n,r){var o=e.getPicker(),i=t.getGraph(),a=n.x,l=n.y;if(e._snapToGrid){var u=e._snapSize;a=Math.round(a/u)*u,l=Math.round(l/u)*u}return o.hasSelection()?t.moveMultipleNodesTo(n,o.getSelection(i),a,l):t.moveNodeTo(n,r,a,l),!0}},{key:"onDragStop",value:function(e,t,n,r){var o=e.getPicker(),i=t.getGraph(),a=n.x,l=n.y;if(e.isTrashMode())return o.hasSelection()?t.deleteSelectedNodes(r):t.deleteTargetNode(r),!0;if(o.hasSelection()){var u=a-t.prevX,c=l-t.prevY;t.onGraphIntentMoveAllNodes(o.getSelection(i),u,c)}else t.onGraphIntentMoveNode(r,a,l,t.prevX,t.prevY);return!0}}])&&nr(n.prototype,r),o&&nr(n,o),t}();function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return!t||"object"!==lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(this,sr(t).call(this,"edge"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,er),n=t,(r=[{key:"onAction",value:function(e,t,n,r){return e.isTrashMode()?t.deleteTargetEdge(r):t.openLabelEditor(r,n.x,n.y),!0}},{key:"onDragStart",value:function(e,t,n,r){if(r.isPlaceholder())return!1;var o=r.getQuadratic();return t.prevQuad.radians=o.radians,t.prevQuad.length=o.length,!0}},{key:"onDragMove",value:function(e,t,n,r){return t.moveEdgeTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(e,t,n,r){t.getGraph();return e.isTrashMode()?t.deleteTargetEdge(r):t.onGraphIntentMoveEdge(r,r.getQuadratic(),t.prevQuad),!0}}])&&ur(n.prototype,r),o&&ur(n,o),t}(),hr=n(12);function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,mr(t).call(this,"endpoint"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,er),n=t,(r=[{key:"onAction",value:function(e,t,n,r){return!!e.isTrashMode()&&(t.deleteTargetEdge(r),!0)}},{key:"onDragStart",value:function(e,t,n,r){var o=r.getQuadratic();return t.prevQuad.radians=o.radians,t.prevQuad.length=o.length,t.prevEdgeTo=r.getDestinationNode(),e.isNewEdge=!1,!0}},{key:"onDragMove",value:function(e,t,n,r){return t.moveEndpointTo(n,r,n.x,n.y),!0}},{key:"onDragStop",value:function(e,t,n,r){var o=t.getGraph(),i=n.x,a=n.y;if(e.isTrashMode())return t.deleteTargetEdge(r),!0;if(r.getDestinationNode()instanceof hr.a){var l=o.formatEdge(r);return l!==r?(t.openLabelEditor(l,i,a,l.getEdgeLabel(),!1),o.deleteEdge(r),!0):(e.isNewEdge?t.openLabelEditor(r,i,a,null,!0,function(){t.onGraphIntentFinishEdge(r)}):t.openLabelEditor(r,i,a),e.isNewEdge?(e.isNewEdge=!1,t.onGraphIntentCreateEdge(r)):null!==t.prevEdgeTo&&t.onGraphIntentChangeDestination(r,r.getDestinationNode(),t.prevEdgeTo,t.prevQuad),!0)}return e.shouldDestroyPointlessEdges?(e.isNewEdge?o.deleteEdge(r):t.deleteTargetEdge(r),!0):(r.changeDestinationNode(null),r.getEdgeLabel().length<=0&&t.openLabelEditor(r,i,a),!0)}}])&&vr(n.prototype,r),o&&vr(n,o),t}();function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Er(this,Sr(t).call(this,"initial"))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,er),n=t,(r=[{key:"onDragStart",value:function(e,t,n,r){return e.ghostInitialMarker=n,!0}},{key:"onDragMove",value:function(e,t,n,r){var o=e.getPicker(),i=t.getGraph(),a=n.x,l=n.y,u=o.getNodeAt(i,a,l)||n;return e.ghostInitialMarker=u,!0}},{key:"onDragStop",value:function(e,t,n,r){var o=t.getGraph();if(e.ghostInitialMarker instanceof hr.a){var i=o.getStartNode();o.setStartNode(e.ghostInitialMarker),t.applyAutoRename(),t.onGraphIntentChangeInitial(e.ghostInitialMarker,i)}return e.ghostInitialMarker=null,!0}}])&&_r(n.prototype,r),o&&_r(n,o),t}();function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xr(this,Pr(t).call(this)))._picker=e,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,Wn),n=t,(r=[{key:"isTargetable",value:function(e,t,n,r){return"none"===r}},{key:"onDragStart",value:function(e,t,n,r){return!e.isMoveMode()&&(this._picker.beginSelection(t.getGraph(),n.x,n.y),!0)}},{key:"onDragMove",value:function(e,t,n,r){return!!this._picker.isSelecting()&&(this._picker.updateSelection(t.getGraph(),n.x,n.y),!0)}},{key:"onDragStop",value:function(e,t,n,r){return!!this._picker.isSelecting()&&(this._picker.endSelection(t.getGraph(),n.x,n.y),!0)}}])&&Mr(n.prototype,r),o&&Mr(n,o),t}();function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dr(this,Lr(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,Wn),n=t,(r=[{key:"isTargetable",value:function(e,t,n,r){return"none"===r}},{key:"onDblAction",value:function(e,t,n,r){var o=n.x,i=n.y;if(e._snapToGrid){var a=e._snapSize;o=Math.round(o/a)*a,i=Math.round(i/a)*a}t.createNode(o,i);return!0}}])&&Ir(n.prototype,r),o&&Ir(n,o),t}();function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return(Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vr=!0,Yr=function(e){function t(e,n){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=!(i=Hr(t).call(this,e,n))||"object"!==Rr(i)&&"function"!=typeof i?Ur(o):i,n.addInputHandler(Ur(Ur(r))),n.addInputHandler(new Vn),r._picker=new Xn,r._graphController=null,r.prevPointerX=0,r.prevPointerY=0,r.isNewEdge=!1,r.ghostInitialMarker=null,r.shouldDestroyPointlessEdges=Vr,r._swapMouseScheme=!0,//!navigator.platform.startsWith("Mac");
r._trashMode=!1,r._disabled=!1,r._snapToGrid=!1,r._snapSize=48,r._inputHandlers=[new ar,new pr,new gr,new kr,new Nr(r._picker),new Fr],r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,Fn["a"]),n=t,(r=[{key:"initialize",value:function(e){Br(Hr(t.prototype),"initialize",this).call(this,e),this._graphController=e.getGraphController()}},{key:"destroy",value:function(e){Br(Hr(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){Br(Hr(t.prototype),"update",this).call(this,e);var n=this._graphController.getGraph(),r=this._picker,o=this._inputAdapter.getPointerX(),i=this._inputAdapter.getPointerY();o==this.prevPointerX&&i==this.prevPointerY||(this.prevPointerX=o,this.prevPointerY=i,r.updateTarget(n,o,i),r.hasTarget()?document.body.style.cursor="pointer":document.body.style.cursor="auto")}},{key:"setDisabled",value:function(e){this._disabled=e}},{key:"isDisabled",value:function(){return this._disabled}},{key:"onPreInputEvent",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onPreInputEvent",this).call(this,e);var n=this._graphController,r=n.getGraph(),o=this.getPicker();o.updateTarget(r,e.x,e.y),o.setInitialTarget(o.target,o.targetType);var i=o.initialTarget,a=o.initialTargetType;return o.hasSelection()&&("node"==a&&o.isTargetInSelection(i)||o.clearSelection()),!!n.tester.getStepByStepMode()||Br(Hr(t.prototype),"onPreInputEvent",this).call(this,e)}},{key:"onInputEvent",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onInputEvent",this).call(this,e);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),e.x,e.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,e,o,i)&&f.onAction(this,n,e,o))return!0}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return Br(Hr(t.prototype),"onInputEvent",this).call(this,e)}},{key:"onDblInputEvent",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onDblInputEvent",this).call(this,e);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,l=!1,u=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,e,o,i)&&f.onDblAction(this,n,e,o))return!0}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return Br(Hr(t.prototype),"onDblInputEvent",this).call(this,e)}},{key:"onDragStart",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onDragStart",this).call(this,e);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType;if(this.isNewEdge=!1,this.isTrashMode())return n.emit("tryCreateWhileTrash"),!1;var a=!0,l=!1,u=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,e,o,i)&&f.onDragStart(this,n,e,o))return!0}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return Br(Hr(t.prototype),"onDragStart",this).call(this,e)}},{key:"onDragMove",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onDragMove",this).call(this,e);var n=this._graphController,r=this.getPicker(),o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,e,o,i)&&f.onDragMove(this,n,e,o))return!0}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return Br(Hr(t.prototype),"onDragMove",this).call(this,e)}},{key:"onDragStop",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onDragStop",this).call(this,e);var n=this._graphController,r=this.getPicker();r.updateTarget(n.getGraph(),e.x,e.y);var o=r.initialTarget,i=r.initialTargetType,a=!0,l=!1,u=void 0;try{for(var c,s=this._inputHandlers[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.isTargetable(this,e,o,i)&&f.onDragStop(this,n,e,o))return!0}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return Br(Hr(t.prototype),"onDragStop",this).call(this,e)}},{key:"onPostInputEvent",value:function(e){if(this._disabled)return Br(Hr(t.prototype),"onPostInputEvent",this).call(this,e);var n=this._graphController.getGraph(),r=this.getPicker();r.clearTarget(),r.updateTarget(n,e.x,e.y),Br(Hr(t.prototype),"onPostInputEvent",this).call(this,e)}},{key:"setTrashMode",value:function(e){this._trashMode=e}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"setInputScheme",value:function(e){this._swapMouseScheme=!e}},{key:"getInputScheme",value:function(){return this._swapMouseScheme}},{key:"isMoveMode",value:function(){var e=this._inputAdapter.isAltInput();return this._swapMouseScheme?!e:e}},{key:"isDragging",value:function(){return this._inputAdapter.isDragging()}},{key:"isActionMode",value:function(){return this._inputAdapter.isPointerActive()?this.isNewEdge||!this.isMoveMode():!this._swapMouseScheme}},{key:"getPicker",value:function(){return this._picker}}])&&Gr(n.prototype,r),o&&Gr(n,o),t}(),Xr=n(37);function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"importFromData",value:function(e,t){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToData",value:function(e){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportData",value:function(){return!1}},{key:"importFromFile",value:function(e,t){throw new Error("Unsupported import for type '"+this.getFileType()+"'")}},{key:"exportToFile",value:function(e,t){throw new Error("Unsupported export for type '"+this.getFileType()+"'")}},{key:"doesSupportFile",value:function(){return!1}},{key:"canImport",value:function(e){return!1}},{key:"canExport",value:function(e){return!0}},{key:"getTitle",value:function(){return this.getLabel()}},{key:"getIconClass",value:function(){return null}},{key:"getLabel",value:function(){return"Export as "+this.getFileType().toUpperCase()}},{key:"getFileType",value:function(){throw new Error("Unknown file type for exporter")}}])&&Kr(t.prototype,n),r&&Kr(t,r),e}(),Qr=n(38),qr=n(39),Jr=n(32),Zr=n(40);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function no(e,t,n){return(no="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ro(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.b;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=to(this,ro(t).call(this)))._imageType=n,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,Wr),n=t,(r=[{key:"processSVGForExport",value:function(e,t,n,r){var o=r.getInputController(),i=r.getGraphController(),a=o.getInputAdapter().getViewport(),l=a.getOffsetX(),u=a.getOffsetY(),c=i.getGraph().getBoundingRect(),s=c.minX+l-30,f=c.minY+u-0,p=c.width+60,h=c.height+0,y=e.cloneNode(!0);y.setAttribute("viewBox",s+" "+f+" "+p+" "+h),y.setAttribute("width",t),y.setAttribute("height",n),y.setAttribute("font-size","16px"),y.setAttribute("font-family","monospace"),y.setAttribute("style",".graph-ui {display: none;}");for(var v=y.getElementsByClassName("graph-ui");v.length>0;){v[0].remove()}return y}},{key:"exportToFile",value:function(e,t){var n=t.getApp().workspace,r=n.ref.viewBox.baseVal,o=r.width,i=r.height,a=this.processSVGForExport(n.ref,o,i,t);Object(Ge.d)(e,this._imageType,a,o,i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(e){return!1}},{key:"getTitle",value:function(){switch(this._imageType){case Ge.b:return I18N.toString("file.export.png.hint");case Ge.a:return I18N.toString("file.export.jpg.hint");case Ge.c:return I18N.toString("file.export.svg.hint");default:return no(ro(t.prototype),"getTitle",this).call(this)}}},{key:"getLabel",value:function(){switch(this._imageType){case Ge.b:return I18N.toString("file.export.png");case Ge.a:return I18N.toString("file.export.jpg");case Ge.c:return I18N.toString("file.export.svg");default:return no(ro(t.prototype),"getLabel",this).call(this)}}},{key:"getFileType",value:function(){return this._imageType}},{key:"getIconClass",value:function(){switch(this._imageType){case Ge.b:return Qr.a;case Ge.a:return qr.a;case Ge.c:return Zr.a;default:return null}}}])&&eo(n.prototype,r),o&&eo(n,o),t}();function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._module=t}var t,n,r;return t=e,(n=[{key:"importFile",value:function(e,t){if(!e)throw new Error("Unable to import null file");if(!(e instanceof File))throw new Error("Unable to import object as file");var n=Promise.reject(),r=e.name,o=t.getGraphController().getGraphExporters(),i=!0,a=!1,l=void 0;try{for(var u,c=function(){var o=u.value;o.canImport()&&o.doesSupportFile()&&r.endsWith(o.getFileType())&&(n=n.catch(function(n){return o.importFromFile(e,t)}))},s=o[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c()}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}return n.catch(function(e){throw console.error(e),new Error("Cannot find valid exporter for file: "+r)})}},{key:"importData",value:function(e,t){if(!e)throw new Error("Unable to import null data");var n=Promise.reject(),r=t.getGraphController().getGraphExporters(),o=!0,i=!1,a=void 0;try{for(var l,u=function(){var r=l.value;r.canImport()&&r.doesSupportData()&&(n=n.catch(function(n){return r.importFromData(e,t)}))},c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)u()}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n.catch(function(t){throw new Error("Cannot find valid exporter for data: "+JSON.stringify(e))})}},{key:"getImportFileTypes",value:function(){return this._module.getGraphController().getGraphExporters().map(function(e){return e.canImport()&&e.doesSupportFile()?"."+e.getFileType():null})}}])&&ao(t.prototype,n),r&&ao(t,r),e}(),uo=n(22),co=n(18),so=n(19),fo=n(49),po=n(14),ho=n(34);function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wo=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mo(this,bo(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"json-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),a.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),a.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),a.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))))}}])&&vo(n.prototype,r),o&&vo(n,o),t}();function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,Oo(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,Wr),n=t,(r=[{key:"fromJSON",value:function(e,t){var n=t.getGraphController(),r=t.getMachineController(),o=n.getGraph(),i=("_metadata"in e&&e._metadata,po.JSON.parse(e.graphData,o)),a=e.machineData,l=a.name;l&&r.setMachineName(l);var u=a.type;u&&r.setMachineType(u);var c=a.symbols;if(c&&Array.isArray(c)){r.clearCustomSymbols();var s=!0,f=!1,p=void 0;try{for(var h,y=c[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;r.addCustomSymbol(v)}}catch(e){f=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}}var d=a.statePrefix;return d&&n.getGraphLabeler().setDefaultNodeLabelPrefix(d),i}},{key:"toJSON",value:function(e,t){var n=t.getGraphController(),r=t.getMachineController(),o={};return o._metadata={module:t.getModuleName(),version:"0.3.4:"+t.getModuleVersion(),timestamp:(new Date).toString()},o.graphData=e,o.machineData={name:r.getMachineName(),type:r.getMachineType(),symbols:r.getCustomSymbols(),statePrefix:n.getGraphLabeler().getDefaultNodeLabelPrefix()},o}},{key:"importFromData",value:function(e,t){this.fromJSON(e,t)}},{key:"exportToData",value:function(e){var t=e.getGraphController().getGraph(),n=po.JSON.objectify(t);return this.toJSON(n,e)}},{key:"doesSupportData",value:function(){return!0}},{key:"importFromFile",value:function(e,t){var n=this;return new Promise(function(r,o){var i=e.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(e){var l=t.getGraphController(),u=t.getMachineController(),c=e.target.result,s=i.substring(0,i.length-n.getFileType().length-1);l.getGraph();t.captureGraphEvent();try{var f=JSON.parse(c);n.fromJSON(f,t),u&&u.setMachineName(s),r()}catch(e){a.abort(),o(e)}finally{t.captureGraphEvent()}},a.onerror=function(e){o(new Error("Unable to import file: "+e.target.error.code))},a.readAsText(e)})}},{key:"exportToFile",value:function(e,t){var n=t.getGraphController().getGraph(),r=po.JSON.objectify(n),o=this.toJSON(r,t),i=JSON.stringify(o);Object(Ge.e)(e+"."+this.getFileType(),i)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!0}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getFileType",value:function(){return"json"}},{key:"getIconClass",value:function(){return wo}}])&&Eo(n.prototype,r),o&&Eo(n,o),t}();function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var To=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Po(this,jo(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(t,Wr),n=t,(r=[{key:"importFromFile",value:function(e,t){var n=this;return new Promise(function(r,o){var i=e.name;if(!i.endsWith(n.getFileType()))throw new Error("Trying to import invalid file type for '"+n.getFileType()+"': "+i);var a=new FileReader;a.onload=function(e){var l=t.getGraphController(),u=t.getMachineController(),c=e.target.result,s=i.substring(0,i.length-n.getFileType().length-1),f=l.getGraph();t.captureGraphEvent();try{var p=(new DOMParser).parseFromString(c,"text/xml");po.XML.parse(p,f),u&&u.setMachineName(s),r()}catch(e){a.abort(),o(e)}finally{t.captureGraphEvent()}},a.onerror=function(e){o(new Error("Unable to import file: "+e.target.error.code))},a.readAsText(e)})}},{key:"exportToFile",value:function(e,t){var n=t.getGraphController().getGraph(),r=po.XML.objectify(n),o=(new XMLSerializer).serializeToString(r);Object(Ge.e)(e+"."+this.getFileType(),o)}},{key:"doesSupportFile",value:function(){return!0}},{key:"canImport",value:function(){return!0}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getFileType",value:function(){return"jff"}},{key:"getIconClass",value:function(){return Jr.a}}])&&xo(n.prototype,r),o&&xo(n,o),t}();function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return(Lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ao(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Go=[new io(Ge.b),new io(Ge.a),new io(Ge.c)],Bo=[new Co,new To],Ho=30,zo=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ao(t).call(this,e,new so.a,new fo.a,po))||"object"!==Io(o)&&"function"!=typeof o?Ro(r):o)._importer=new lo(e),n._labeler.setGraphController(Ro(Ro(n))),n.inputController=null,n.machineController=null,n._graphChangeHandler=new ho.a(Ho),n.labelEditorElement=null,n.tester=null,n.prevQuad={radians:0,length:0,x:0,y:0},n.prevEdgeTo=null,n.prevX=0,n.prevY=0,n.shouldAutoLabel=!1,n.registerEvent("tryCreateWhileTrash"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,Xr["a"]),n=t,(r=[{key:"initialize",value:function(e){Lo(Ao(t.prototype),"initialize",this).call(this,e),this.tester=e.getTestingManager(),this.inputController=e.getInputController(),this.machineController=e.getMachineController(),this.setAutoRenameNodes(!0)}},{key:"destroy",value:function(e){Lo(Ao(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){Lo(Ao(t.prototype),"update",this).call(this,e),this._graphChangeHandler.update(this._graph)}},{key:"getGraphExporters",value:function(){return Bo}},{key:"getDefaultGraphExporter",value:function(){var e=this.getGraphExporters();if(e.length>0)return e[0];throw new Error("Missing default graph exporter for module '"+this.getModule().getModuleName()+"'")}},{key:"getImageExporters",value:function(){return Go}},{key:"getGraphImporter",value:function(){return this._importer}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"applyAutoLayout",value:function(){co.a.applyLayout(this.getGraph()),this.getModule().captureGraphEvent()}},{key:"applyAutoRename",value:function(){var e=this._labeler,t=this._graph;if(!t.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getNodeCustom()||l.setNodeLabel("")}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=!0,c=!1,s=void 0;try{for(var f,p=t.getNodes()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;h.getNodeCustom()||h.setNodeLabel(e.getDefaultNodeLabel())}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}}}},{key:"onGraphIntentImport",value:function(){this.getModule().captureGraphEvent()}},{key:"onGraphIntentCreateEdge",value:function(e){}},{key:"onGraphIntentFinishEdge",value:function(e){this.getModule().captureGraphEvent()}},{key:"onGraphIntentMoveEdge",value:function(e,t,n){this.getModule().captureGraphEvent()}},{key:"onGraphIntentChangeDestination",value:function(e,t,n,r){this.getModule().captureGraphEvent()}},{key:"onGraphIntentChangeInitial",value:function(e,t){this.getModule().captureGraphEvent()}},{key:"onGraphIntentMoveNode",value:function(e,t,n,r,o){this.getModule().captureGraphEvent()}},{key:"onGraphIntentMoveAllNodes",value:function(e,t,n){this.getModule().captureGraphEvent()}},{key:"onGraphIntentDeleteNodes",value:function(e,t,n,r){this.shouldAutoLabel&&this.applyAutoRename()}},{key:"setAutoRenameNodes",value:function(e){this.shouldAutoLabel;this.shouldAutoLabel=e}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"renameNode",value:function(e,t){e.getNodeLabel(),e.getNodeCustom();e.setNodeLabel(t),e.setNodeCustom(!0),this.getModule().captureGraphEvent()}},{key:"createNode",value:function(e,t){var n=this.getGraphLabeler().getDefaultNodeLabel();void 0===e&&(e=64*Math.random()*2-64),void 0===t&&(t=64*Math.random()*2-64);var r=this.getGraph().createNode(e,t);return r.setNodeLabel(n),this.getModule().captureGraphEvent(),r}},{key:"toggleNode",value:function(e){var t=!e.getNodeAccept();e.setNodeAccept(t),this.getModule().captureGraphEvent()}},{key:"deleteSelectedNodes",value:function(e){var t=this.inputController.getPicker(),n=t.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;this.getGraph().deleteNode(u)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}t.clearSelection(),this.onGraphIntentDeleteNodes(e,n,this.prevX,this.prevY),this.getModule().captureGraphEvent()}},{key:"deleteTargetNode",value:function(e){this.getGraph().deleteNode(e),this.onGraphIntentDeleteNodes(e,[e],this.prevX,this.prevY),this.getModule().captureGraphEvent()}},{key:"deleteTargetNodes",value:function(e){if(e&&!(e.length<=0)){var t=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;t.deleteNode(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.onGraphIntentDeleteNodes(e[0],e,this.prevX,this.prevY),this.getModule().captureGraphEvent()}}},{key:"deleteTargetEdge",value:function(e){this.getGraph().deleteEdge(e),this.getModule().captureGraphEvent()}},{key:"deleteTargetEdges",value:function(e){if(e&&!(e.length<=0)){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"moveNodeTo",value:function(e,t,n,r){var o=t.getNodeSize(),i=!0,a=!1,l=void 0;try{for(var u,c=this.getGraph().getNodes()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(t!==s){var f=n-s.x,p=r-s.y,h=Math.atan2(p,f),y=2*o,v=s.x+Math.cos(h)*y-n,d=s.y+Math.sin(h)*y-r;f*f+p*p<o*o*4&&(n+=v,r+=d)}}}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}t.x=n,t.y=r}},{key:"moveMultipleNodesTo",value:function(e,t,n,r){var o=e.getInputEventPosition(),i=n-o.x,a=r-o.y,l=!0,u=!1,c=void 0;try{for(var s,f=t[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;p.x+=i,p.y+=a}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}e.changeInputEventPosition(n,r)}},{key:"moveEdgeTo",value:function(e,t,n,r){t.setQuadraticByCoords(n,r)}},{key:"moveEndpointTo",value:function(e,t,n,r){var o=this.inputController.getPicker().getNodeAt(this.getGraph(),n,r)||e;if(t.changeDestinationNode(o),t.isSelfLoop()){var i=t.getSourceNode(),a=i.x-n,l=i.y-r,u=Math.atan2(l,a)+Math.PI;t.setQuadratic(u)}else t.setQuadratic(this.prevQuad.radians,this.prevQuad.length)}},{key:"openLabelEditor",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(this.labelEditorElement){var l=o||e.getEdgeLabel();this.labelEditorElement.openEditor(e,o,i,function(){var t=e.getEdgeLabel();l.length>0&&t!=l&&r.getModule().captureGraphEvent(),a&&a()})}else a&&a()}},{key:"focusOnNode",value:function(e){this.inputController.getInputAdapter().getViewport().setOffset(-e.x,-e.y)}},{key:"focusOnEdge",value:function(e){var t=e.getCenterPoint();this.inputController.getInputAdapter().getViewport().setOffset(-t.x,-t.y)}},{key:"focusOnNodes",value:function(e){var t=e.length,n=0,r=0,o=!0,i=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n+=c.x,r+=c.y}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}this.inputController.getInputAdapter().getViewport().setOffset(-n/t,-r/t)}}])&&Do(n.prototype,r),o&&Do(n,o),t}();uo.a.mixin(zo);var Uo=zo,Vo=n(42),Yo=n(43);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Jo=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Wo(t).call(this,e))||"object"!==Xo(o)&&"function"!=typeof o?qo(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value,a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(qo(qo(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value[this.targetIndex++];this.targetIndex>=r.value.length&&(this.targetIndex=0),t.focusOnNode(o);break;case"deleteall":var i=r.value;t.deleteTargetNodes(i),t.applyAutoRename(),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),a.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Ko(n.prototype,r),o&&Ko(n,o),t}();function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ri=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ei(t).call(this,e))||"object"!==Zo(o)&&"function"!=typeof o?ni(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value.targets,a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getSourceNode().getNodeLabel()+", "+f.getEdgeLabel()+") "+ne.a+" "+(f.getDestinationNode()instanceof hr.a?f.getDestinationNode().getNodeLabel():"null")}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return n.onClick=n.onClick.bind(ni(ni(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),t.focusOnEdge(a)}break;case"deleteall":var l=r.value.targets;t.deleteTargetEdges(l),r.close();break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,this.props.message.value.text+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),a.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&$o(n.prototype,r),o&&$o(n,o),t}();function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ci=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ai(t).call(this,e))||"object"!==oi(o)&&"function"!=typeof o?ui(r):o).targetIndex=0,n.targetLabel="";var i=e.message.value.targets,a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return n.targetLabel+=" for "+e.message.value.symbol,n.onClick=n.onClick.bind(ui(ui(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(t,a.a.Component),n=t,(r=[{key:"onClick",value:function(e){var t=this.props.graphController,n=(this.props.machineController,e.target.value),r=this.props.message;switch(n){case"locate":var o=r.value.targets,i=o.length;if(i>0&&this.targetIndex<i){var a=o[this.targetIndex++];this.targetIndex>=i&&(this.targetIndex=0),t.focusOnNode(a)}break;default:throw new Error("Unknown button value for message")}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),a.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}])&&ii(n.prototype,r),o&&ii(n,o),t}();function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorNodes=[],this.errorEdges=[],this.warningNodes=[],this.warningEdges=[]}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.errorNodes.length=0,this.errorEdges.length=0,this.warningNodes.length=0,this.warningEdges.length=0}},{key:"checkErrors",value:function(e,t,n){var r="DFA"===n.getMachineType(),i=n.getMachineBuilder().getMachine(),a=t.getGraph(),u=i.getAlphabet(),c=this.errorNodes,s=this.errorEdges,f=this.warningNodes,p=this.warningEdges;this.clear();var h=new Map,y=(a.getStartNode(),n.getUnreachableNodes()),v=!0,d=!1,m=void 0;try{for(var b,g=y[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var w=b.value;f.push(w)}}catch(e){d=!0,m=e}finally{try{v||null==g.return||g.return()}finally{if(d)throw m}}var _=[],E=[],S=[],O=!0,k=!1,C=void 0;try{for(var M,x=a.getEdges()[Symbol.iterator]();!(O=(M=x.next()).done);O=!0){var P=M.value;if(P.isPlaceholder())_.push(P),-1==s.indexOf(P)&&s.push(P);else if(r){var j=P.getSourceNode(),N=(P.getDestinationNode(),P.getEdgeSymbolsFromLabel()),T=!0,I=!1,D=void 0;try{for(var L,A=N[Symbol.iterator]();!(T=(L=A.next()).done);T=!0){var F=L.value;if(F==ne.b)E.push(P),-1==s.indexOf(P)&&s.push(P);else if(h.has(j)){var R=h.get(j);R.includes(F)?(S.push(P),-1==s.indexOf(P)&&s.push(P)):R.push(F)}else h.set(j,[F])}}catch(e){I=!0,D=e}finally{try{T||null==A.return||A.return()}finally{if(I)throw D}}}}}catch(e){k=!0,C=e}finally{try{O||null==x.return||x.return()}finally{if(k)throw C}}var G=[];if(r){var B=!0,H=!1,z=void 0;try{for(var U,V=a.getNodes()[Symbol.iterator]();!(B=(U=V.next()).done);B=!0){var Y=U.value,X=h.get(Y);(!X&&0!=u.length||X&&X.length<u.length)&&(G.push(Y),-1==c.indexOf(Y)&&c.push(Y))}}catch(e){H=!0,z=e}finally{try{B||null==V.return||V.return()}finally{if(H)throw z}}}var K=!(0===c.length&&0===s.length&&0===f.length&&0===p.length);if(e){var W=l.a.MACHINE_ERRORS_MESSAGE_TAG;if(o.a.clearMessages(W),K){var Q={graphController:t,machineController:n};y.length>0&&o.a.addMessage(y,"warning",W,Jo,Q,!1),_.length>0&&o.a.addMessage({text:I18N.toString("message.error.incomplete"),targets:_},"error",W,ri,Q,!1),E.length>0&&o.a.addMessage({text:I18N.toString("message.error.empty"),targets:E},"error",W,ri,Q,!1),S.length>0&&o.a.addMessage({text:I18N.toString("message.error.dupe"),targets:S},"error",W,ri,Q,!1),G.length>0&&o.a.addMessage({targets:G},"error",W,ci,Q,!1)}else o.a.addMessage(I18N.toString("message.error.none"),"success",W,null,null,!1)}return K}}])&&si(t.prototype,n),r&&si(t,r),e}(),pi=n(17);function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t){return!t||"object"!==hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function di(e,t,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gi(e,t){if(e.getNodes().length<=0)return t;var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;try{var u=l.getNodeLabel();t.newState(u),l.getNodeAccept()&&t.setFinalState(u,!0)}catch(e){throw e}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var c=!0,s=!1,f=void 0;try{for(var p,h=e.getEdges()[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var y=p.value;if(!y.isPlaceholder()){var v=y.getSourceNode(),d=y.getDestinationNode();if(v instanceof pi.a&&d instanceof pi.a){var m=y.getEdgeSymbolsFromLabel(),b=!0,g=!1,w=void 0;try{for(var _,E=m[Symbol.iterator]();!(b=(_=E.next()).done);b=!0){var S=_.value;try{t.newTransition(v.getNodeLabel(),d.getNodeLabel(),S)}catch(e){throw e}}}catch(e){g=!0,w=e}finally{try{b||null==E.return||E.return()}finally{if(g)throw w}}}}}}catch(e){s=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}var O=e.getStartNode().getNodeLabel();return t.setStartState(O),t}var wi=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vi(this,mi(t).call(this)))._machine=new ue,e._deterministic=!0,e._symbols=[],e._errorChecker=new fi,e.tester=null,e.graphController=null,e.machineController=null,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(t,Yo["a"]),n=t,(r=[{key:"initialize",value:function(e){di(mi(t.prototype),"initialize",this).call(this,e),this.tester=e.getTestingManager(),this.graphController=e.getGraphController(),this.machineController=e.getMachineController()}},{key:"onGraphChange",value:function(e){if(this.tester){this._machine.clear();this.toNFA(this._machine);var t=!0,n=!1,r=void 0;try{for(var o,i=this._symbols[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._machine.newSymbol(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._errors.length=0,this._warnings.length=0,this._errorChecker.checkErrors(this.tester.shouldCheckError,this.graphController,this.machineController);var l=!0,u=!1,c=void 0;try{for(var s,f=this._errorChecker.errorNodes[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;this._errors.push({target:p,targetType:"node"})}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}var h=!0,y=!1,v=void 0;try{for(var d,m=this._errorChecker.errorEdges[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var b=d.value;this._errors.push({target:b,targetType:"edge"})}}catch(e){y=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(y)throw v}}var g=!0,w=!1,_=void 0;try{for(var E,S=this._errorChecker.warningNodes[Symbol.iterator]();!(g=(E=S.next()).done);g=!0){var O=E.value;this._warnings.push({target:O,targetType:"node"})}}catch(e){w=!0,_=e}finally{try{g||null==S.return||S.return()}finally{if(w)throw _}}var k=!0,C=!1,M=void 0;try{for(var x,P=this._errorChecker.warningEdges[Symbol.iterator]();!(k=(x=P.next()).done);k=!0){var j=x.value;this._warnings.push({target:j,targetType:"edge"})}}catch(e){C=!0,M=e}finally{try{k||null==P.return||P.return()}finally{if(C)throw M}}}}},{key:"setDeterministic",value:function(e){this._deterministic!==e&&(this._deterministic=e,this.onGraphChange())}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"addCustomSymbol",value:function(e){this._symbols.push(e),this.onGraphChange()}},{key:"removeCustomSymbol",value:function(e){this._symbols.splice(this._symbols.indexOf(e),1),this.onGraphChange()}},{key:"renameCustomSymbol",value:function(e,t){var n=this._symbols.indexOf(e);if(n<=0)throw new Error("Trying to rename unknown symbol '"+e+"'");this._symbols[n]=t,this.onGraphChange()}},{key:"isCustomSymbol",value:function(e){return this._symbols.includes(e)}},{key:"toDFA",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||new Ke;if(!(e instanceof Ke))throw new Error("Trying to parse graph mismatched machine type.");return gi(this.graphController.getGraph(),e),e}},{key:"toNFA",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||new ue;if(!(e instanceof ue))throw new Error("Trying to parse graph mismatched machine type.");return gi(this.graphController.getGraph(),e),e}},{key:"getMachine",value:function(){return this._machine}}])&&yi(n.prototype,r),o&&yi(n,o),t}();function _i(e,t,n){var r=[],o=t.getAlphabet(),i=Si(e);n.hasState(i)||r.push(Ei(n,t,e));var a=[],l=null,u=!0,c=!1,s=void 0;try{for(var f,p=o[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,y=!0,v=!1,d=void 0;try{for(var m,b=e[Symbol.iterator]();!(y=(m=b.next()).done);y=!0){var g=m.value;t.doTerminalTransition(g,h,a)}}catch(e){v=!0,d=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw d}}a.length>0&&(l=Si(a),n.hasState(l)||(l=Ei(n,t,a),r.push(l)),n.newTransition(i,l,h)),a.length=0}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return r}function Ei(e,t,n){var r=e.newState(Si(n)),o=!0,i=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(t.isFinalState(c)){e.setFinalState(r);break}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return r}function Si(e){return e.sort(),"{"+e.join(",")+"}"}function Oi(e){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ci(e,t){return!t||"object"!==Oi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e,t,n){return(Mi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ci(this,xi(t).call(this,e,new wi))).machineName=null,n.graphController=null,n.registerEvent("userChangeMachine"),n.registerEvent("userConvertMachine"),n.registerEvent("userPreConvertMachine"),n.registerEvent("userPostConvertMachine"),n.registerEvent("userRenameMachine"),n.registerEvent("userCreateSymbol"),n.registerEvent("userDeleteSymbol"),n.registerEvent("userPreDeleteSymbol"),n.registerEvent("userPostDeleteSymbol"),n.registerEvent("userRenameSymbol"),n.registerEvent("userPreRenameSymbol"),n.registerEvent("userPostRenameSymbol"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}(t,Vo["a"]),n=t,(r=[{key:"initialize",value:function(e){Mi(xi(t.prototype),"initialize",this).call(this,e),this.graphController=e.getGraphController()}},{key:"destroy",value:function(e){Mi(xi(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){Mi(xi(t.prototype),"update",this).call(this,e)}},{key:"getMachineType",value:function(){return this._machineBuilder.isDeterministic()?"DFA":"NFA"}},{key:"setMachineType",value:function(e){this._machineBuilder.setDeterministic("DFA"===e)}},{key:"getMachineName",value:function(){return this.machineName||I18N.toString("file.untitled")}},{key:"setMachineName",value:function(e){!e||e.length<=0?this.machineName=null:this.machineName=e;var t=this.getMachineName(),n=document.getElementById("window-title"),r=n.innerHTML,o=r.indexOf("-");n.innerHTML=-1!==o?r.substring(0,o).trim()+" - "+t:r+" - "+t}},{key:"renameMachine",value:function(e){var t=this.machineName;this.setMachineName(e),this.emit("userRenameMachine",this.getMachineBuilder(),e,t)}},{key:"changeMachineTo",value:function(e){var t=this.getMachineType();t!=e&&(this.setMachineType(e),this.emit("userChangeMachine",this.getMachineBuilder(),e,t))}},{key:"getFirstGraphNodeByLabel",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.getNodeLabel()==t)return l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(e,t){var n;e.clear();var r,o,i,a,l=!0,u=!1,c=void 0;try{for(var s,f=t.getStates()[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var p=s.value;(n=e.createNode(0,0)).setNodeLabel(p),t.isFinalState(p)&&n.setNodeAccept(!0)}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}var h=!0,y=!1,v=void 0;try{for(var d,m=t.getTransitions()[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var b=d.value;o=this.getFirstGraphNodeByLabel(e,b[0]),a=b[1],i=this.getFirstGraphNodeByLabel(e,b[2]),(r=e.createEdge(o,i)).setEdgeLabel(a),r!=e.formatEdge(r)&&e.deleteEdge(r)}}catch(e){y=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(y)throw v}}var g=t.getStartState();e.setStartNode(this.getFirstGraphNodeByLabel(e,g)),co.a.applyLayout(e)}},{key:"convertMachineTo",value:function(e){var t=this.getMachineType();if(t!==e)if("DFA"==e&&"NFA"==t){this.emit("userPreConvertMachine",this.getMachineBuilder(),e,t);var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!=e.getStates().length){var n=t||new Ke,r=(e.getAlphabet(),e.getStartState()),o=e.doClosureTransition(r),i=(Ei(n,e,o),e.getPowerSet()),a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;console.log("Adding to DFA: "+Si(f)),0!=f.length&&_i(f,e,n)}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}var p=n.newState("{}"),h=n.getAlphabet(),y=!0,v=!1,d=void 0;try{for(var m,b=n.getStates()[Symbol.iterator]();!(y=(m=b.next()).done);y=!0){var g=m.value,w=!0,_=!1,E=void 0;try{for(var S,O=h[Symbol.iterator]();!(w=(S=O.next()).done);w=!0){var k=S.value;n.doTransition(g,k)||n.newTransition(g,p,k)}}catch(e){_=!0,E=e}finally{try{w||null==O.return||O.return()}finally{if(_)throw E}}}}catch(e){v=!0,d=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw d}}return n}}(this.getMachineBuilder().getMachine(),new Ke);this.setGraphToMachine(this.graphController.getGraph(),n),this.setMachineType(e),this.emit("userConvertMachine",this.getMachineBuilder(),e,t),this.emit("userPostConvertMachine",this.getMachineBuilder(),e,t)}else{if("NFA"!=e||"DFA"!=t)throw new Error("Conversion scheme between '"+t+"' to '"+e+"' is not supported");this.changeMachineTo(e)}}},{key:"getUnreachableNodes",value:function(){var e=this.graphController.getGraph();if(e.getNodeCount()<=1)return[];var t=e.getEdges(),n=e.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,l=!1,u=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.getSourceNode()===i){var p=n.indexOf(f.getDestinationNode());if(p>=0){var h=n.splice(p,1)[0];o.push(h)}}}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}}return n}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this.getStates().length}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var e=[];return this._machineBuilder.getMachine().getAlphabet(e),e}},{key:"isUsedSymbol",value:function(e){return!this.isCustomSymbol(e)}},{key:"createSymbol",value:function(e){this.getMachineBuilder().addCustomSymbol(e),this.emit("userCreateSymbol",this.getMachineBuilder(),e)}},{key:"deleteSymbol",value:function(e){var t=null,n=null,r=null,o=[];this.emit("userPreDeleteSymbol",this.getMachineBuilder(),e);for(var i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(t=i.getEdges()[a]).getEdgeLabel().indexOf(e))>=0&&((r=t.getEdgeLabel().substring(0,n)+t.getEdgeLabel().substring(n+1)).length>0?t.setEdgeLabel(r):(t.setEdgeLabel(""),i.deleteEdge(t)),o.push(t));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(e),this.emit("userDeleteSymbol",this.getMachineBuilder(),e,o),this.emit("userPostDeleteSymbol",this.getMachineBuilder(),e,o)}},{key:"renameSymbol",value:function(e,t){var n=null,r=[];this.emit("userPreRenameSymbol",this.getMachineBuilder(),t,e);for(var o=this.graphController.getGraph(),i=o.getEdges().length,a=0;a<i;++a){var l=(n=o.getEdges()[a]).getEdgeLabel().replace(e,t);l!=n.getEdgeLabel()&&r.push(n),n.setEdgeLabel(l)}r.length<=0&&this.getMachineBuilder().renameCustomSymbol(e,t),this.emit("userRenameSymbol",this.getMachineBuilder(),t,e,r),this.emit("userPostRenameSymbol",this.getMachineBuilder(),t,e,r)}},{key:"getCustomSymbols",value:function(){return this.getMachineBuilder()._symbols}},{key:"isCustomSymbol",value:function(e){return this._machineBuilder.isCustomSymbol(e)}},{key:"addCustomSymbol",value:function(e){this._machineBuilder.addCustomSymbol(e)}},{key:"clearCustomSymbols",value:function(){this.getMachineBuilder()._symbols.length=0}}])&&ki(n.prototype,r),o&&ki(n,o),t}();uo.a.mixin(ji);var Ni=ji;n(93);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ai(e,t){return(Ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Di(this,Li(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ai(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.node;return a.a.createElement("g",{className:"graph-node-container"},a.a.createElement("circle",{className:"graph-node",cx:e.x,cy:e.y,r:l.a.NODE_RADIUS,fill:"#FEE781",stroke:"#000000"}),e.getNodeAccept()&&a.a.createElement("circle",{className:"graph-node-inner",cx:e.x,cy:e.y,r:l.a.NODE_RADIUS_INNER,fill:"none",stroke:"#000000"}),"//Label",a.a.createElement("text",{className:"graph-node-label",x:e.x,y:e.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:1-Math.min(Math.max(e.getNodeLabel().length-2,0)/6,.5)+"em"},textAnchor:"middle"},e.getNodeLabel()))}}])&&Ii(n.prototype,r),o&&Ii(n,o),t}();function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ui=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bi(this,Hi(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zi(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=Math.PI/6,t=0,n=this.props.edge,r=n.getStartPoint(),o=n.getEndPoint(),i=n.getCenterPoint(),u=(n.getEdgeLabel(),n.getQuadratic(),n.getQuadraticAsCoords()),c=n.getEdgeDirection(),s=u.y>0,f=null;if(n.isQuadratic()){var p=i.x+u.x,h=i.y+u.y;t=Math.atan2(p-o.x,h-o.y)+Math.PI,f="Q "+p+" "+h+" "+o.x+" "+o.y}else t=Math.atan2(r.x-o.x,r.y-o.y)+Math.PI,f="L "+o.x+" "+o.y;var y=n.getEdgeSymbolsFromLabel(),v=i&&i.x||0,d=i&&i.y||0;return a.a.createElement("g",{className:"graph-edge-container"},"//Draw lines",a.a.createElement("path",{className:"graph-edge",id:"edge:"+n.getGraphElementID(),d:"M "+r.x+" "+r.y+" "+f+" M "+(o.x-l.a.ARROW_WIDTH*Math.sin(t-e))+" "+(o.y-l.a.ARROW_WIDTH*Math.cos(t-e))+" L "+o.x+" "+o.y+" L "+(o.x-l.a.ARROW_WIDTH*Math.sin(t+e))+" "+(o.y-l.a.ARROW_WIDTH*Math.cos(t+e)),fill:"none",stroke:"#000000"}),a.a.createElement("g",{transform:"translate("+v+","+d+") rotate("+180*c/Math.PI+")"},y.length>0&&y.map(function(e,t){var n=-15*(t+1);return a.a.createElement("text",{key:e+"."+t,className:"graph-edge-label",transform:"translate(0, "+n+")"+(s?" scale(-1, -1)":""),alignmentBaseline:"central",pointerEvents:"none",style:{userSelect:"none"},textAnchor:"middle"},e)})))}}])&&Gi(n.prototype,r),o&&Gi(n,o),t}();function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xi(this,Ki(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.node,t=e.x+(e instanceof pi.a?0:-l.a.INITIAL_MARKER_OFFSET_X),n=e.y,r=l.a.NODE_RADIUS,o=2*r;return a.a.createElement("g",{className:"graph-initial-container"},a.a.createElement("path",{className:"graph-initial",d:"M"+(t-r)+" "+n+" L"+(t-o)+" "+(n-r)+" L"+(t-o)+" "+(n+r)+" Z",fill:"none",stroke:"#000000"}))}}])&&Yi(n.prototype,r),o&&Yi(n,o),t}();function qi(e){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return!t||"object"!==qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ta=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zi(this,$i(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.currentModule,t=e.getInputController(),n=e.getGraphController().getGraph();return a.a.createElement("g",null,n.getNodes().map(function(e,t){return a.a.createElement(Fi,{key:e.getGraphElementID()||t,node:e})}),n.getEdges().map(function(e,t){return a.a.createElement(Ui,{key:e.getGraphElementID()||t,edge:e})}),n.getStartNode()&&(null==t.ghostInitialMarker?a.a.createElement(Qi,{node:n.getStartNode()}):a.a.createElement(Qi,{node:t.ghostInitialMarker})))}}])&&Ji(n.prototype,r),o&&Ji(n,o),t}();function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var la=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oa(this,ia(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.visible,t=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||t+1,o=this.props.toY||n+1,i=r-t,l=o-n;return a.a.createElement("g",{className:"graph-selection-container"},e&&a.a.createElement("rect",{className:"graph-selection",x:i<0?r:t,y:l<0?o:n,width:i<0?-i:i,height:l<0?-l:l}))}}])&&ra(n.prototype,r),o&&ra(n,o),t}();function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ha=[8,6],ya=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sa(this,fa(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.target,t=this.props.type,n=0,r=0,o=l.a.CURSOR_RADIUS;switch(t){case"node":n=e.x||0,r=e.y||0,o=l.a.NODE_RADIUS;break;case"edge":var i=e.getCenterPoint();n=i.x||0,r=i.y||0,o=l.a.EDGE_RADIUS;break;case"endpoint":var u=e.getEndPoint();n=u.x||0,r=u.y||0,o=l.a.ENDPOINT_RADIUS;break;case"initial":n=e.x+l.a.INITIAL_MARKER_OFFSET_X||0,r=e.y||0,o=l.a.EDGE_RADIUS}return a.a.createElement("g",{className:"graph-highlight-container"},a.a.createElement("circle",{className:"graph-highlight "+this.props.className,cx:n,cy:r,r:o+4,strokeDashoffset:this.props.offset||0,strokeDasharray:ha,strokeWidth:3,fill:"none"}))}}])&&ca(n.prototype,r),o&&ca(n,o),t}();function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wa=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ma(this,ba(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){this.props.parent;var e=this.props.currentModule,t=e.getGraphController(),n=e.getInputController(),r=e.getMachineController(),o=e.getTestingManager(),i=t.getGraph(),l=(n.getInputAdapter().getViewport(),r.getMachineBuilder()),u=l.getMachineErrors(),c=l.getMachineWarnings(),s=n.getPicker(),f=s.getSelectionBox(),p=o.shouldCheckError;return a.a.createElement("g",null,s.hasSelection()&&s.getSelection(i).map(function(e,t){return a.a.createElement(ya,{key:e.getGraphElementID(),className:n.isTrashMode()?"highlight-error":"highlight-select",target:e,type:"node"})}),a.a.createElement(la,{visible:f.visible,fromX:f.fromX,fromY:f.fromY,toX:f.toX,toY:f.toY}),p&&c.map(function(e){var t=e.target,n=e.targetType;if(t)return a.a.createElement(ya,{key:t.getGraphElementID(),className:"highlight-warning graph-gui",target:t,type:n,offset:6})}),p&&u.map(function(e){var t=e.target,n=e.targetType;if(t)return a.a.createElement(ya,{key:t.getGraphElementID(),className:"highlight-error graph-gui",target:t,type:n,offset:6})}),o.testMode.targets.map(function(e,t){return a.a.createElement(ya,{key:e.getGraphElementID(),className:"highlight-test graph-gui",target:e,type:"node",offset:"6"})}),s.hasTarget()&&!s.isTargetInSelection()&&a.a.createElement(ya,{className:n.isTrashMode()?"highlight-error":"highlight-select",target:s.target,type:s.targetType}))}}])&&da(n.prototype,r),o&&da(n,o),t}();n(95);function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return!t||"object"!==_a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Sa(this,Oa(t).call(this,e))).state={staticTrash:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,a.a.Component),n=t,(r=[{key:"onTrashEnter",value:function(e){this.state.staticTrash||(this.props.inputController.setTrashMode(!0),this.props.viewport.setState(function(e,t){return{mode:Be.a.DANGEROUS}}))}},{key:"onTrashLeave",value:function(e){this.state.staticTrash||(this.props.inputController.setTrashMode(!1),this.props.viewport.setState(function(e,t){return{mode:Be.a.NORMAL}}))}},{key:"onTrashClick",value:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.setState(function(e,n){var r=!e.staticTrash;return t.props.inputController.setTrashMode(r),t.props.viewport.setState(function(e,t){return{mode:r?Be.a.DANGEROUS:Be.a.NORMAL}}),{staticTrash:r}})}},{key:"render",value:function(){var e=this.props.inputController,t=e.getInputAdapter();return a.a.createElement("svg",{id:"trash-btn",className:(e.isTrashMode()?"danger ":"")+(t.isUsingTouch()&&t.isDragging()?"hidden":""),width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:this.onTrashEnter.bind(this),onMouseLeave:this.onTrashLeave.bind(this),onClick:this.onTrashClick.bind(this)},a.a.createElement("path",{d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"}))}}])&&Ea(n.prototype,r),o&&Ea(n,o),t}();n(97);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ta=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pa(this,ja(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"play-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M8 5v14l11-7z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&xa(n.prototype,r),o&&xa(n,o),t}();function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ra=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),La(this,Aa(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"pause-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&Da(n.prototype,r),o&&Da(n,o),t}();function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return!t||"object"!==Ga(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Va=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ha(this,za(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"stop-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M6 6h12v12H6z"}))}}])&&Ba(n.prototype,r),o&&Ba(n,o),t}(),Ya=n(30),Xa=n(31);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Za=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qa(this,qa(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){this.props.graphController;var e=this.props.tester,t=this.props.tester.inputList,n=this.props.tester.testMode,r=t.getCurrentInput(),o=n.getCurrentTestStringIndex();return a.a.createElement("div",{className:"test-tray-container"},a.a.createElement("div",{className:"test-tray-input-string-container"},r&&o>=0&&r.value.split("").map(function(e,t){var n=o-t;if(!(n>5))return n>2?a.a.createElement("span",{key:e+"."+t,className:"test-tray-input-placeholder"},"."):a.a.createElement("span",{key:e+"."+t,className:"test-tray-input-char"+(o==t?" active":"")},e)})),a.a.createElement("div",{className:"test-tray-control"},a.a.createElement(m.a,{onClick:function(e){n.onResume()},disabled:n.isRunning()},a.a.createElement(Ta,null)),a.a.createElement(m.a,{onClick:function(e){n.onPause()},disabled:!n.isRunning()},a.a.createElement(Ra,null)),a.a.createElement(m.a,{onClick:function(e){n.onPreviousStep()},disabled:!n.hasPrevStep()||n.isSkipping()},a.a.createElement(Ya.a,null)),a.a.createElement(m.a,{onClick:function(e){n.onNextStep()},disabled:!e.testMode.hasNextStep()||n.isSkipping()},a.a.createElement(Xa.a,null)),a.a.createElement(m.a,{onClick:function(t){e.setStepByStepMode(!1)}},a.a.createElement(Va,null)),a.a.createElement("div",{className:"trash-placeholder"})))}}])&&Wa(n.prototype,r),o&&Wa(n,o),t}();n(99);function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tl(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rl(e,t){return(rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ol=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tl(this,nl(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rl(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"create-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}}])&&el(n.prototype,r),o&&el(n,o),t}();function il(e){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ll(e,t){return!t||"object"!==il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ul(e){return(ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cl(e,t){return(cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ll(this,ul(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cl(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"move-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&al(n.prototype,r),o&&al(n,o),t}();function fl(e){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hl(e,t){return!t||"object"!==fl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vl(e,t){return(vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dl=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hl(this,yl(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vl(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.inputController,t=(this.props.graphController,e.isActionMode());return a.a.createElement("div",{id:"cursor-btn"},a.a.createElement(m.a,{id:"action-mode",className:t?"active":"",onClick:function(){return e.setInputScheme(!0)},title:I18N.toString("cursor.actionmode")},a.a.createElement(ol,null)),a.a.createElement(m.a,{id:"move-mode",className:t?"":"active",onClick:function(){return e.setInputScheme(!1)},title:I18N.toString("cursor.movemode")},a.a.createElement(sl,null)))}}])&&pl(n.prototype,r),o&&pl(n,o),t}();function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e,t){return!t||"object"!==ml(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wl(e){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t){return(_l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var El=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gl(this,wl(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_l(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.parent,t=this.props.currentModule,n=this.props.screen,r=t.getInputController(),o=t.getGraphController(),i=t.getMachineController(),l=t.getTestingManager(),u=t.getLabelEditor();return a.a.createElement("span",null,u&&a.a.createElement(u,{ref:function(e){return o.labelEditorElement=e},inputController:r,graphController:o,machineController:i,screen:n}),l.getStepByStepMode()?a.a.createElement("div",{className:"anchor-bottom-left",style:{width:"100%"}},a.a.createElement(Za,{tester:l,graphController:o})):a.a.createElement("span",null,a.a.createElement("div",{className:"anchor-bottom-left",style:{width:"100%"}},a.a.createElement(dl,{inputController:r,graphController:o})),a.a.createElement("div",{className:"anchor-bottom-right"},a.a.createElement(Ca,{inputController:r,viewport:e}))))}}])&&bl(n.prototype,r),o&&bl(n,o),t}(),Sl=(n(101),n(10));function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(e){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ml(e,t){return(Ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Pl=["0","1"],jl=[Sl.a];var Nl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Cl(t).call(this,e))||"object"!==Ol(o)&&"function"!=typeof o?xl(r):o).parentElement=null,n.inputElement=null,n._timer=null,n.state={target:null,callback:null},n.onContextMenu=n.onContextMenu.bind(xl(xl(n))),n.onFormat=n.onFormat.bind(xl(xl(n))),n.onSubmit=n.onSubmit.bind(xl(xl(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ml(e,t)}(t,a.a.Component),n=t,(r=[{key:"openEditor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");this.setState(function(t,n){return{target:e,callback:o}});var i=e.getEdgeLabel();this.inputElement.resetValue(i,function(){n&&t.inputElement.setValue(n),t.parentElement.focus(),t.inputElement.focus(r)})}},{key:"closeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.inputElement||!this.parentElement)throw new Error("Trying to open editor that has not yet mounted");if(null!==this.state.target){if(e){var t=this.inputElement.value;this.state.target.setEdgeLabel(t)}else this.state.target.getEdgeLabel()||(this.state.target.setEdgeLabel(null),this.props.graphController.getGraph().deleteEdge(this.state.target));this.setState({target:null}),this.state.callback&&this.state.callback()}this.inputElement.blur()}},{key:"hasFocus",value:function(){return this.inputElement.hasFocus()}},{key:"isEditorOpen",value:function(){return null!==this.state.target}},{key:"onContextMenu",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"appendSymbol",value:function(e){this.inputElement.appendValue(e,Sl.b),this.inputElement.focus(!1)}},{key:"onSubmit",value:function(e,t){e!==t||this.closeEditor(!1)}},{key:"onFormat",value:function(e){return this.props.graphController.getGraphLabeler().getEdgeLabelFormatter().call(null,e)}},{key:"render",value:function(){var e=this,t=this.props.inputController.getInputAdapter().getViewport(),n=(this.props.graphController,this.props.machineController),r=this.props.screen,o={visibility:"hidden"},i=this.state.target;if(i){o.visibility="visible";var l=i.getCenterPoint(),c=function(e,t,n){var r=e.getScreenCTM();return{x:t*r.a+r.e,y:n*r.d+r.f}}(r,l.x+t.getOffsetX(),l.y+t.getOffsetY()),s=c.x,f=c.y+-64+-36,p=-this.parentElement.offsetWidth/2,h=-this.parentElement.offsetHeight/2;o.top=f+h+"px",o.left=s+p+"px"}var y=n.getAlphabet();return a.a.createElement("div",{className:"bubble",id:"label-editor",ref:function(t){return e.parentElement=t},tabIndex:"0",style:o,onContextMenu:this.onContextMenu,onFocus:function(t){clearTimeout(e._timer)},onBlur:function(t){e._timer=setTimeout(function(){return e.closeEditor(!0)},10)}},a.a.createElement(u.a,{className:"label-editor-input",ref:function(t){return e.inputElement=t},formatter:this.onFormat,onSubmit:this.onSubmit,captureOnExit:"none"}),a.a.createElement("div",{className:"label-editor-tray"},y&&a.a.createElement("span",{className:"label-editor-tray-used"},y.map(function(t,n){return t.length<1?null:a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)})),a.a.createElement("span",{className:"label-editor-tray-default"},y&&y.length<=1&&Pl.map(function(t,n){return a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)}),jl.map(function(t,n){return a.a.createElement("button",{key:n,onClick:function(n){return e.appendSymbol(t)}},t)}))))}}])&&kl(n.prototype,r),o&&kl(n,o),t}();function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Il=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"applyUndo",value:function(e){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(e){throw new Error("Redo operation for handler not supported")}}])&&Tl(t.prototype,n),r&&Tl(t,r),e}();function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return!t||"object"!==Dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fl(e){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rl(e,t){return(Rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gl=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Al(this,Fl(t).call(this)))._graphController=e;var r=e.getGraphParser();return n._graphData=r.objectify(e.getGraph()),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rl(e,t)}(t,Il),n=t,(r=[{key:"applyUndo",value:function(e){var n=e.getPreviousEvent();n instanceof t?n.applyRedo(e):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(e){var t=this._graphController;t.getGraphParser().parse(this._graphData,t.getGraph())}}])&&Ll(n.prototype,r),o&&Ll(n,o),t}();function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zl(e,t,n){return(zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ul(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ul(e){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vl(e,t){return(Vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xl=[An,mn,Re,jn],Kl=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ul(t).call(this,e))||"object"!==Bl(o)&&"function"!=typeof o?Yl(r):o)._workspace=null,n._undoManager=e.getUndoManager(),n._inputController=new Yr(Yl(Yl(n)),e.getInputAdapter()),n._graphController=new Uo(Yl(Yl(n))),n._machineController=new Ni(Yl(Yl(n))),n._testingManager=new tt,n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vl(e,t)}(t,r["a"]),n=t,(i=[{key:"initialize",value:function(e){var n=this,r=e.viewport,i=e.workspace;this._workspace=i,zl(Ul(t.prototype),"initialize",this).call(this,e),e.getUndoManager().setEventHandlerFactory(function(){return new Gl(n._graphController)}),this._testingManager.initialize(this,r);this._graphController.on("tryCreateWhileTrash",function(){n._inputController.isTrashMode()&&o.a.addMessage(I18N.toString("message.warning.cannotmodify"),"warning","tryCreateWhileTrash")})}},{key:"destroy",value:function(e){this._testingManager.destroy(),zl(Ul(t.prototype),"destroy",this).call(this,e)}},{key:"update",value:function(e){zl(Ul(t.prototype),"update",this).call(this,e)}},{key:"captureGraphEvent",value:function(){this._undoManager.captureEvent(new Gl(this._graphController))}},{key:"getGraph",value:function(){return this._graphController.getGraph()}},{key:"getTestingManager",value:function(){return this._testingManager}},{key:"getLabelEditor",value:function(){return Nl}},{key:"getRenderer",value:function(e){switch(e){case"graph":return ta;case"graphoverlay":return wa;case"viewport":return El}return null}},{key:"getInputController",value:function(){return this._inputController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getModuleVersion",value:function(){return"0.0.1"}},{key:"getModulePanels",value:function(){return Xl}},{key:"getModuleName",value:function(){return"fsa"}},{key:"getLocalizedModuleName",value:function(){return this._machineController.getMachineType()}}])&&Hl(n.prototype,i),a&&Hl(n,a),t}();t.default=Kl},34:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cachedGraphHash=0,this._refreshTicks=t,this._elapsedTicks=1/0,this._listeners=[]}var t,n,o;return t=e,(n=[{key:"addListener",value:function(e){if("function"!=typeof e)throw new Error("Cannot add uncallable listener");this._listeners.push(e)}},{key:"removeListener",value:function(e){var t=this._listeners.indexOf(e);return t>=0&&(this._listeners.splice(t,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(e){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var t=e.getHashCode(!1);if(t!==this._cachedGraphHash){this._cachedGraphHash=t;var n=!0,r=!1,o=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){(0,i.value)(e)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},35:function(e,t,n){"use strict";var r=n(16);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,u(t).call(this,e,n,null)))._quad={radians:0,length:0,_coords:{x:0,y:0}},r.changeDestinationNode(o),r}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),n=t,(o=[{key:"setQuadratic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._quad.radians=e,"number"==typeof t&&(this._quad.length=t),this}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!=this._quad.length}},{key:"setQuadraticByCoords",value:function(e,t){var n=this._from,r=this._to,o=n.x,i=n.y,a=r.x-o,l=r.y-i,u=o+a/2,c=i+l/2,s=Math.atan2(-l,a);a=e-u,l=t-c;var f=Math.PI,p=f/2,h=Math.atan2(l,a)+s,y=Math.sqrt(a*a+l*l);y<0&&(y=0);var v=h- -p,d=h-p,m=f/20;Math.abs(y)<8?(h=0,y=0):v<m&&v>-m?h=-p:-d<m&&-d>-m&&(h=p),this._quad.radians=h,this._quad.length=y}},{key:"getQuadraticAsCoords",value:function(){var e=this._from,t=this._to,n=this._quad._coords;return null==e||null==t?(n.x=0,n.y=0):f(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,n),n}},{key:"getSelfLoopHeight",value:function(){return this._from.getNodeSize()}},{key:"formatAsSelfLoop",value:function(){this.setQuadratic(-Math.PI/2,this._from.getNodeSize()+this.getSelfLoopHeight())}},{key:"formatAsPlaceholder",value:function(e){if(e){var t=this._from.x-e.x,n=this._from.y-e.y,r=-Math.atan2(t,n)-Math.PI/2;this._quad.radians=r}else this._quad.radians=0}},{key:"changeDestinationNode",value:function(e){var n=this._to;n!==e&&(l(u(t.prototype),"changeDestinationNode",this).call(this,e),this.isPlaceholder()?this.formatAsPlaceholder(n):this.isSelfLoop()&&this.formatAsSelfLoop())}},{key:"getEdgeDirection",value:function(){var e=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();e=Math.atan2(n.y,n.x)+Math.PI/2}else e=l(u(t.prototype),"getEdgeDirection",this).call(this);return e}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize();return e.x=t.x+r*i,e.y=t.y+o*i,e}if(n.getNodeSize&&this.isQuadratic()){p(t.x,t.y,n.x,n.y,e);var a=this.getQuadraticAsCoords(),l=e.x+a.x,u=e.y+a.y;return f(t.x,t.y,l,u,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return f(t.x,t.y,n.x,n.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+r*i,e.y=t.y+o*i,e}if(n.getNodeSize){if(this.isQuadratic()){p(t.x,t.y,n.x,n.y,e);var a=this.getQuadraticAsCoords(),l=e.x+a.x,u=e.y+a.y;return f(n.x,n.y,l,u,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=n.x,e.y+=n.y,e}return f(n.x,n.y,t.x,t.y,n.getNodeSize(),0,e),e.x+=n.x,e.y+=n.y,e}return n}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),o=Math.sin(this._quad.radians),i=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*i,e.y=t.y+o*i,e}if(p(t.x,t.y,n.x,n.y,e),this.isQuadratic()){var a=this.getQuadraticAsCoords();e.x+=a.x,e.y+=a.y}return e}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?l(u(t.prototype),"getHashString",this).call(this,e)+":"+this._quad.radians+","+this._quad.length:l(u(t.prototype),"getHashString",this).call(this,e)}}])&&i(n.prototype,o),s&&i(n,s),t}();function f(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0,y:0},l=n-e,u=r-t,c=Math.atan2(u,l)+i;return a.x=Math.cos(c)*o,a.y=Math.sin(c)*o,a}function p(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0};return o.x=e+(n-e)/2,o.y=t+(r-t)/2,o}t.a=s},36:function(e,t,n){"use strict";var r=n(29);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=a(this,l(t).call(this)),!e)throw new Error("Missing module for input controller");if(!n)throw new Error("Missing inputAdapter for input controller");return r._module=e,r._inputAdapter=n,r}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),n=t,(o=[{key:"initialize",value:function(e){}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}},{key:"onPreInputEvent",value:function(e){return!1}},{key:"onInputEvent",value:function(e){return!1}},{key:"onAltInputEvent",value:function(e){return this.onInputEvent(e)}},{key:"onDblInputEvent",value:function(e){return!1}},{key:"onDragStart",value:function(e){return!1}},{key:"onDragMove",value:function(e){return!1}},{key:"onDragStop",value:function(e){return!1}},{key:"onPostInputEvent",value:function(e){}},{key:"onZoomChange",value:function(e,t,n){return!1}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getModule",value:function(){return this._module}}])&&i(n.prototype,o),c&&i(n,c),t}();t.a=c},37:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing module for graph controller");if(!n)throw new Error("Missing graph for graph controller");if(!r)throw new Error("Missing graph labeler for graph controller");if(!o)throw new Error("Missing graph parser for graph controller");this._module=t,this._graph=n,this._labeler=r,this._parser=o}var t,n,o;return t=e,(n=[{key:"initialize",value:function(e){}},{key:"destroy",value:function(e){}},{key:"update",value:function(e){}},{key:"getGraphParser",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"JSON",t=this._parser;if(t&&e in t)return t[e];throw new Error("Unsupported type for graph parser '"+e+"'")}},{key:"getGraphLabeler",value:function(){return this._labeler}},{key:"getGraph",value:function(){return this._graph}},{key:"getModule",value:function(){return this._module}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},38:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},o.a.createElement("g",null,o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),o.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),o.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},39:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},o.a.createElement("g",null,o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),o.a.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),o.a.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},4:function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(71);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("button",{className:"icon-button "+this.props.className,id:this.props.id,title:this.props.title,style:this.props.style,disabled:this.props.disabled,onClick:this.props.onClick},this.props.children)}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},40:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},o.a.createElement("g",null,o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("g",null,o.a.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),o.a.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&a(n.prototype,r),i&&a(n,i),t}();t.a=s},41:function(e,t,n){"use strict";var r=n(12),o=n(16),i=n(13);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeClass=t,this._edgeClass=n,this._nodes=[],this._edges=[],this._nodeMapping=new Map,this._edgeMapping=new Map}var t,n,l;return t=e,(n=[{key:"formatEdge",value:function(e){return e}},{key:"createNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new this._nodeClass(n||Object(i.a)(),e,t),o=this._nodes.length;return this._nodes.push(r),this._nodeMapping.set(r.getGraphElementID(),o),r}},{key:"deleteNode",value:function(e){var t=e.getGraphElementID(),n=this._nodeMapping.get(t);if(n>=0){this._nodes.splice(n,1),this._nodeMapping.delete(t);for(var r=n,o=this._nodes.length;r<o;++r)this._nodeMapping.set(this._nodes[r].getGraphElementID(),r);var i=[],a=!0,l=!1,u=void 0;try{for(var c,s=this._edges[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;f.getSourceNode()===e?i.push(f):f.getDestinationNode()===e&&f.changeDestinationNode(null)}}catch(e){l=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}for(var p=0;p<i.length;p++){var h=i[p];this.deleteEdge(h)}}}},{key:"addNode",value:function(e){e.getGraphElementID()||e.setGraphElementID(Object(i.a)());var t=this._nodes.length;return this._nodes.push(e),this._nodeMapping.set(e.getGraphElementID(),t),e}},{key:"clearNodes",value:function(){this._nodes.length=0,this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(e){var t=this._nodeMapping.get(e);return t>=0?this._nodes[t]:null}},{key:"getNodesByLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.getNodeLabel()==e&&t.push(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"getNodes",value:function(){return this._nodes}},{key:"getNodeCount",value:function(){return this._nodes.length}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"createEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new this._edgeClass(n||Object(i.a)(),e,t),o=this._edges.length;return this._edges.push(r),this._edgeMapping.set(r.getGraphElementID(),o),r}},{key:"deleteEdge",value:function(e){var t=e.getGraphElementID(),n=this._edgeMapping.get(t);if(n>=0){this._edges.splice(n,1),this._edgeMapping.delete(t);for(var r=n,o=this._edges.length;r<o;++r)this._edgeMapping.set(this._edges[r].getGraphElementID(),r)}}},{key:"addEdge",value:function(e){e.getGraphElementID()||e.setGraphElementID(Object(i.a)());var t=this._edges.length;return this._edges.push(e),this._edgeMapping.set(e.getGraphElementID(),t),e}},{key:"clearEdges",value:function(){this._edges.length=0,this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(e){var t=this._edgeMapping.get(e);return t>=0?this._edges[t]:null}},{key:"getEdges",value:function(){return this._edges}},{key:"getEdgeCount",value:function(){return this._edges.length}},{key:"getEdgeClass",value:function(){return this._edgeClass}},{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this.getNodeCount()<=0&&this.getEdgeCount()<=0}},{key:"getBoundingRect",value:function(){if(this._nodes.length<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,i=!0,a=!1,l=void 0;try{for(var u,c=this._nodes[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,f=s.x,p=s.y,h=s.getNodeSize();h>o&&(o=h),e=Math.min(e,f),n=Math.max(n,f),t=Math.min(t,p),r=Math.max(r,p)}}catch(e){a=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}e-=o,t-=o,n+=o,r+=o;var y=Number.MAX_VALUE,v=Number.MAX_VALUE,d=Number.MIN_VALUE,m=Number.MIN_VALUE,b={x:0,y:0},g={x:0,y:0},w={x:0,y:0},_=!0,E=!1,S=void 0;try{for(var O,k=this._edges[Symbol.iterator]();!(_=(O=k.next()).done);_=!0){var C=O.value;C.getStartPoint(b),C.getEndPoint(g),C.getCenterPoint(w);var M=b.x,x=b.y,P=g.x,j=g.y,N=w.x,T=w.y;y=Math.min(y,M,P,N),d=Math.max(d,M,P,N),v=Math.min(v,x,j,T),m=Math.max(m,x,j,T)}}catch(e){E=!0,S=e}finally{try{_||null==k.return||k.return()}finally{if(E)throw S}}var I={minX:Math.min(e,y),minY:Math.min(t,v),maxX:Math.max(n,d),maxY:Math.max(r,m),width:0,height:0};return I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I}},{key:"getHashCode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="",n=!0,r=!1,o=void 0;try{for(var a,l=this._nodes[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){t+=a.value.getHashString(e)+","}}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}t+="|";var u=!0,c=!1,s=void 0;try{for(var f,p=this._edges[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){t+=f.value.getHashString(e)+","}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return Object(i.b)(t)}}])&&a(t.prototype,n),l&&a(t,l),e}();t.a=l},42:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing module for machine controller");if(!n)throw new Error("Missing machine builder for machine controller");this._module=t,this._machineBuilder=n}var t,n,o;return t=e,(n=[{key:"initialize",value:function(e){this._machineBuilder.initialize(e)}},{key:"destroy",value:function(e){this._machineBuilder.destroy(e)}},{key:"update",value:function(e){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},43:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[]}var t,n,o;return t=e,(n=[{key:"addListener",value:function(e){if("function"!=typeof e)throw new Error("Cannot add uncallable listener");this._listeners.push(e)}},{key:"removeListener",value:function(e){var t=this._listeners.indexOf(e);return t>=0&&(this._listeners.splice(t,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._listeners[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(e)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._machineChangeHandler=new o,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){e.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(e){e.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(e){this.attemptBuild(e,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuild",value:function(e,t,n,r){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=a},44:function(e,t,n){"use strict";var r=n(16);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"getDefaultLabel",value:function(e){return e instanceof r.a?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(e){return e instanceof r.a?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&o(t.prototype,n),i&&o(t,i),e}();t.a=i},45:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onLoadSave",value:function(){}},{key:"onUnloadSave",value:function(){}},{key:"onAutoSave",value:function(){}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},47:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Missing app for module class");this._app=t}var t,n,o;return t=e,(n=[{key:"getApp",value:function(){return this._app}},{key:"initialize",value:function(e){if(!e)throw new Error("Missing app for module initialize");var t=this.getInputController(),n=this.getGraphController(),r=this.getMachineController();t.initialize(this),n.initialize(this),r.initialize(this)}},{key:"destroy",value:function(e){if(!e)throw new Error("Missing app for module destroy");var t=this.getInputController(),n=this.getGraphController();this.getMachineController().destroy(this),n.destroy(this),t.destroy(this)}},{key:"update",value:function(e){if(!e)throw new Error("Missing app for module update");var t=this.getInputController(),n=this.getGraphController(),r=this.getMachineController();t.update(this),n.update(this),r.update(this)}},{key:"getRenderer",value:function(e){return null}},{key:"getInputController",value:function(){throw new Error("Missing input controller for module '"+this.getModuleName()+"'")}},{key:"getGraphController",value:function(){throw new Error("Missing graph controller for module '"+this.getModuleName()+"'")}},{key:"getMachineController",value:function(){throw new Error("Missing machine controller for module '"+this.getModuleName()+"'")}},{key:"getModulePanels",value:function(){return[]}},{key:"getModuleViews",value:function(){return[]}},{key:"getModuleMenus",value:function(){return[]}},{key:"getModuleVersion",value:function(){return"0.0.0"}},{key:"getModuleName",value:function(){throw new Error("Missing module name")}},{key:"getLocalizedModuleName",value:function(){return"Module"}}])&&r(t.prototype,n),o&&r(t,o),e}();t.a=o},49:function(e,t,n){"use strict";var r=n(44),o=n(10),i=n(6);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f="q",p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,c(t).call(this)))._prefix=f,e._graphController=null,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),n=t,(o=[{key:"setGraphController",value:function(e){return this._graphController=e,this}},{key:"setDefaultNodeLabelPrefix",value:function(e){this._prefix=e}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var e=this._graphController.getGraph(),t=[],n=0,r=e.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;e.getNodesByLabel(o,t).length>0;)t.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(e){return e||""}}},{key:"getEdgeLabelFormatter",value:function(){return h}}])&&l(n.prototype,o),i&&l(n,i),t}();function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(o.b),r=new Set,a="",l=0,u=n.length,c=0;c<u;++c)if(1!==(l=(a=n[c].trim()).length)){if(l>1){var s=!0,f=!1,p=void 0;try{for(var h,y=a.split("")[Symbol.iterator]();!(s=(h=y.next()).done);s=!0){var v=h.value;v=v.trim(),r.has(v)||r.add(v)}}catch(e){f=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(f)throw p}}}}else r.add(a);return r.size<=0?t?null:i.b:Array.from(r).join(o.b)}t.a=p},5:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handlers=new Set,this._intervalID=null,this._intervalMillis=1e3,this._init=!1,this.onIntervalUpdate=this.onIntervalUpdate.bind(this)}var t,n,i;return t=e,(n=[{key:"setAutoSaveInterval",value:function(e){if(!e||e<=0)throw new Error("AutoSave interval must be greater than 0");this._intervalMillis=e}},{key:"registerHandler",value:function(e){if(this._handlers.has(e))throw new Error("Cannot register handler, since it is already registered");this._init&&"function"==typeof e.onLoadSave&&e.onLoadSave(),this._handlers.add(e)}},{key:"unregisterHandler",value:function(e){if(!this._handlers.has(e))throw new Error("Cannot remove handler, since it is not yet registered");this._init&&"function"==typeof e.onUnloadSave&&e.onUnloadSave(),this._handlers.delete(e)}},{key:"initialize",value:function(){if(this._init)throw new Error("Cannot initialize LocalSave, since it is already initialized");if(this.doesSupportLocalStorage()){this._init=!0;var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;"function"==typeof i.onLoadSave&&i.onLoadSave()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._intervalID=setInterval(this.onIntervalUpdate,this._intervalMillis)}}},{key:"terminate",value:function(){if(!this._init)throw new Error("Cannot terminate LocalSave, since it is not yet initialized");clearInterval(this._intervalID);var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;"function"==typeof i.onUnloadSave&&i.onUnloadSave()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._handlers.clear(),this._init=!1}},{key:"onIntervalUpdate",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._handlers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;try{"function"==typeof i.onAutoSave&&i.onAutoSave()}catch(e){console.error(e)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"setStringToStorage",value:function(e,t){this.doesSupportLocalStorage()&&(t.length>0?localStorage.setItem(e,t):localStorage.removeItem(e))}},{key:"getStringFromStorage",value:function(e){return this.doesSupportLocalStorage()&&localStorage.getItem(e)||""}},{key:"loadFromStorage",value:function(e){if(!this.doesSupportLocalStorage())return null;try{var t=localStorage.getItem(e);return t&&t.length>0?JSON.parse(t):null}catch(e){return console.error(e),{}}}},{key:"saveToStorage",value:function(e,t){var n;if(this.doesSupportLocalStorage()&&(void 0!==document.hidden?(n="hidden","visibilitychange"):void 0!==document.msHidden?(n="msHidden","msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden","webkitvisibilitychange"),!document[n]))try{if("object"==r(t)){var o=t;if(o)for(var i in o=!1,t)if(t.hasOwnProperty(i)){o=!0;break}o?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)}else if("string"==typeof t){t.length<=0?localStorage.setItem(e,t):localStorage.removeItem(e)}}catch(e){console.error(e)}}},{key:"existsInStorage",value:function(e){return!!this.doesSupportLocalStorage()&&null!=localStorage.getItem(e)}},{key:"clearStorage",value:function(){this.doesSupportLocalStorage()&&localStorage.clear()}},{key:"doesSupportLocalStorage",value:function(){return"undefined"!=typeof Storage}}])&&o(t.prototype,n),i&&o(t,i),e}());t.a=i},51:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a=function(){function e(t,n,o,i,a){r(this,e),this.element=t,this.prop=n,this.type=o,this.group=i,this._callback=a,this._value=null,this._defaultValue=null}return i(e,[{key:"updateStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e||(e=window.getComputedStyle(this.element));var n=e.getPropertyValue(this.prop);if(!n)throw new Error("Cannot find style option with prop name '"+this.prop+"' for element");this._value=n.trim(),this._defaultValue=this._value,t&&this._callback&&this._callback(this,n)}},{key:"resetStyle",value:function(){this.setStyle(this._defaultValue)}},{key:"setStyle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._value=e,this.element.style.setProperty(this.prop,e),t&&this._callback&&this._callback.call(null,this,e)}},{key:"getStyle",value:function(){return this._value}},{key:"isDefaultStyle",value:function(){return this._value==this._defaultValue}}]),e}(),l=function(){function e(){r(this,e),this._options=new Map,this._groups=new Map,this._init=!1}return i(e,[{key:"registerStyleOption",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this._options.has(t))throw new Error("Style option with prop name '"+t+"' already registered");var i,l=new a(e,t,n,r,o);if(this._options.set(t,l),this._groups.has(r)){if(-1!=(i=this._groups.get(r)).indexOf(t))return}else i=[],this._groups.set(r,i);i.push(t)}},{key:"unregisterStyleOption",value:function(e){if(this._options.has(e)){var t=this._options.get(e);this._options.delete(e);var n=t.group;if(this._groups.has(n)){var r=this._groups.get(n),o=r.indexOf(e);o>=0&&r.splice(o,1)}}}},{key:"initialize",value:function(){if(this._init)throw new Error("Already initialized");var e,t={},n=!0,r=!1,o=void 0;try{for(var i,a=this._options.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=l.element;(e=t[u])||(e=window.getComputedStyle(u),t[u]=e),l.updateStyle(e,!1)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this._init=!0}},{key:"terminate",value:function(){if(!this._init)throw new Error("Not yet initialized");this._options.clear(),this._groups.clear(),this._init=!1}},{key:"getOptionByProp",value:function(e){return this._options.get(e)}},{key:"getPropsByGroup",value:function(e){return this._groups.get(e)||[]}},{key:"getOptions",value:function(){return this._options.values()}},{key:"isEmpty",value:function(){return this._options.size<=0}}]),e}();t.a=l},52:function(e,t,n){"use strict";var r=n(0),o=n.n(r);n(124);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?c(r):o).onExitMessage=n.onExitMessage.bind(c(c(n))),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),n=t,(r=[{key:"onExitMessage",value:function(e){this.props.value.close()}},{key:"render",value:function(){var e=this.props.value;return o.a.createElement("div",{className:"notification-message-container notification-message-type-"+e.getType()+" "+this.props.className,id:this.props.id,style:this.props.style},this.props.children||e.value.split("\\n").map(function(e){return o.a.createElement("p",{key:e},e)})||e,o.a.createElement("button",{onClick:this.onExitMessage},I18N.toString("message.action.close")))}}])&&a(n.prototype,r),s&&a(n,s),t}();t.a=s},6:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r="Îµ",o="â",i="â"},7:function(e,t,n){"use strict";var r=n(13);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var l=function(){function e(t,n,i,a,l,u){o(this,e),this._handler=t,this._id=Object(r.a)(),this._type=i,this.value=n,this.tags=a,this.componentClass=l,this.componentProps=u}return a(e,[{key:"close",value:function(){var e=this._handler.getMessages(),t=e.indexOf(this);if(t<0)throw new Error("Trying to close an unopened notification message");e.splice(t,1)}},{key:"getType",value:function(){return this._type}},{key:"getID",value:function(){return this._id}},{key:"getComponentClass",value:function(){return this.componentClass}},{key:"getComponentProps",value:function(){return this.componentProps}},{key:"hasTag",value:function(e){return this.tags.indexOf(e)>=0}}]),e}(),u=new(function(){function e(){o(this,e),this._messageQueue=[]}return a(e,[{key:"addMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n&&i&&this.clearMessages(n);var a=new l(this,e,t||"default",n||[],r,o);this._messageQueue.unshift(a)}},{key:"addDefaultMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"default",t,n,r,o)}},{key:"addErrorMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"error",t,n,r,o)}},{key:"addWarningMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.addMessage(e,"warning",t,n,r,o)}},{key:"clearMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t;Array.isArray(e)||(e=[e]);for(var n=this._messageQueue.length-1;n>=0;--n){t=this._messageQueue[n];var r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(t.hasTag(u)){this._messageQueue.splice(n,1);break}}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}else this._messageQueue.length=0}},{key:"hasMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){Array.isArray(e)||(e=[e]);for(var t=this._messageQueue.length-1;t>=0;--t){message=this._messageQueue[t];var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(message.hasTag(l))return!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return!1}return this._messageQueue.length>=0}},{key:"getMessages",value:function(){return this._messageQueue}}]),e}());t.a=u},8:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return l});var r="png",o="jpg",i="svg";function a(e,t){u(e,"data:text/plain; charset=utf-8,"+encodeURIComponent(t))}function l(e,t,n,a,l){var c=function(e){var t=(new XMLSerializer).serializeToString(e);return new Blob([t],{type:"image/svg+xml"})}(n);switch(t){case r:case o:var s=URL.createObjectURL(c),f=document.createElement("canvas"),p=f.getContext("2d"),h=window.devicePixelRatio||1;f.width=a*h,f.height=l*h,f.style.width=a+"px",f.style.height=l+"px",p.setTransform(h,0,0,h,0,0);var y=new Image;y.onload=function(){p.drawImage(y,0,0),URL.revokeObjectURL(s);var n=f.toDataURL("image/"+t).replace("image/"+t,"image/octet-stream");u(e+"."+t,n)},y.src=s;break;case i:var v=new FileReader;v.onload=function(){u(e+"."+t,v.result)},v.readAsDataURL(c);break;default:throw new Error("Unknown file type '"+t+"'")}}function u(e,t){var n=document.createElement("a"),r=t.indexOf(";");t=t.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+e+";"+t.substring(r+1),n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},9:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=[255,255,255],o=[0,0,0];function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=Math.abs(e);return n||(n=e<0?o:r),i[0]=t[0]+Math.round(a*(n[0]-t[0])),i[1]=t[1]+Math.round(a*(n[1]-t[1])),i[2]=t[2]+Math.round(a*(n[2]-t[2])),i}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t?.299*e[0]+.587*e[1]+.114*e[2]>186?(n[0]=0,n[1]=0,n[2]=0):(n[0]=255,n[1]=255,n[2]=255):(n[0]=255-e[0],n[1]=255-e[1],n[2]=255-e[2]),n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid hex color format");var n=e.substring(0,2),r=e.substring(2,4),o=e.substring(4,6);return t[0]=parseInt(n,16),t[1]=parseInt(r,16),t[2]=parseInt(o,16),t}function u(e){return"#"+(e[2]|e[1]<<8|e[0]<<16|1<<24).toString(16).slice(1)}}},[[199,8,0,9]]]);
//# sourceMappingURL=sourcemap/app.bundle.js.map