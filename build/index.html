<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Metadata -->
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="theme-color" content="#07889B">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!-- Web Manifest -->
        <link rel="manifest" href="./manifest.webmanifest">
        
        <!-- Search Metadata (Needs to be short!) -->
        <meta name="description" content="An intuitive web app to help you explore and construct formal languages and automata with real-time analysis and error checking.">
        <!-- An intuitive web app to help you explore what it means to be computable. Experiment and construct formal languages from finite automata to Turing machines with real-time analysis and error checking. From its humble beginnings as a small tool built by a determined CSE 105 homework group at UC San Diego inspired by JFLAP, it has continued to still be developed by the students, for the students. -->
        <meta name="keywords" content="flap,flapjs,FLAPJS,JFLAP,Computation Theory,CSE 105,UCSD">

        <!-- Title -->
        <title id="window-title">Flap.js - Formal Languages and Automata Package in JavaScript</title>

        <!-- Import Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Overpass+Mono" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">

<!-- Default Styles -->
<style>
html,
body {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    font-family: 'Lato', sans-serif;

    /* Disable drag-down reload behavior */
    overscroll-behavior-y: contain;
}

._center {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

#root {
    width: 100%;
    height: 100%;
}
</style>

<!-- Loading Styles -->
<style>
/** Loading styles **/
#loading {
    z-index: 9998;
    pointer-events: none;
    background: #FFFFFF;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

#root:not(:empty) + #loading {
    opacity: 0;
    visibility: hidden;
}

#loading ._spinner > div {
    display: inline-block;
    width: 24px;
    height: 24px;
    margin: 3px;
    background-color: #333333;
    border-radius: 50%;
    animation: _spinner-bouncedelay 1.4s 0s infinite ease-in-out both;
}

#loading ._spinner > div:first-child { animation-delay: 0.5s; }
#loading ._spinner > div:nth-child(2) { animation-delay: 0.66s; }
#loading ._spinner > div:last-child { animation-delay: 0.82s; }

@keyframes _spinner-bouncedelay {
    0%,
    80%,
    100% { transform: scale(0); }
    40% { transform: scale(1); }
}

/** Error styles **/
#error {
    z-index: 9999;
    pointer-events: none;
    top: 64px;
}
</style>

    <!-- Styles -->
    <link rel="shortcut icon" href="/assets/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="manifest" href="/assets/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#fff"><meta name="application-name" content="flapjs"><link rel="apple-touch-icon" sizes="57x57" href="/assets/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/assets/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/assets/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="flapjs"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/assets/apple-touch-startup-image-320x460.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/assets/apple-touch-startup-image-640x920.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/assets/apple-touch-startup-image-640x1096.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/assets/apple-touch-startup-image-750x1294.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/assets/apple-touch-startup-image-1182x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/assets/apple-touch-startup-image-1242x2148.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/assets/apple-touch-startup-image-748x1024.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/assets/apple-touch-startup-image-768x1004.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/assets/apple-touch-startup-image-1496x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/assets/apple-touch-startup-image-1536x2008.png"><link rel="icon" type="image/png" sizes="228x228" href="/assets/coast-228x228.png"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/assets/mstile-144x144.png"><meta name="msapplication-config" content="/assets/browserconfig.xml"><link rel="yandex-tableau-widget" href="/assets/yandex-browser-manifest.json"><link href="/app.bundle.css" rel="stylesheet"></head>

    <body>
        <!-- React Root -->
        <div id="root"></div>
        
        <!-- Loading Spinner -->
        <div class="_center" id="loading">
            <div class="_spinner"><div></div><div></div><div></div></div>
        </div>

        <!-- JavaScript Support -->
        <div class="_center" id="error">
            <noscript>You need to enable JavaScript to run this app.</noscript>
        </div>

<!-- Global Variables -->
<script>
    // NOTE: ServiceWorker will only be enabled in 'production'.
    const NODE_ENV = 'production';
</script>

<!-- Service Worker Install -->
<script>
/* global NODE_ENV */

// NOTE: NODE_ENV is defined in `template.html` as a global.
if (NODE_ENV === 'production' && 'serviceWorker' in navigator)
{
    window.addEventListener('load', function() 
    {
        navigator.serviceWorker.register('/service-worker.js').then(registration =>
        {
            // https://redfin.engineering/service-workers-break-the-browsers-refresh-button-by-default-here-s-why-56f9417694
            // https://redfin.engineering/how-to-fix-the-refresh-button-when-using-service-workers-a8e27af6df68

            function listenForWaitingServiceWorker(reg, callback)
            {
                function awaitStateChange()
                {
                    reg.installing.addEventListener('statechange', function()
                    {
                        if (this.state === 'installed') callback(reg);
                    });
                }
                if (!reg) return;
                if (reg.waiting) return callback(reg);
                if (reg.installing) awaitStateChange();
                reg.addEventListener('updatefound', awaitStateChange);
            }

            // Reload once when the new service worker starts activating...
            var refreshing;
            navigator.serviceWorker.addEventListener('controllerchange', function()
            {
                if (refreshing) return;
                refreshing = true;
                window.location.reload();
            });

            function promptUserToRefresh(reg)
            {
                // TODO: This is just an example, please do something better...
                if (window.confirm('New version available! OK to refresh?'))
                {
                    reg.waiting.postMessage('skipWaiting');
                }
            }

            listenForWaitingServiceWorker(registration, promptUserToRefresh);
        });
    });
}
</script>

<!-- Exit Warning -->
<script>
/* global NODE_ENV */

window.addEventListener('beforeunload', (event) => 
{
    // if (window.shouldExitWarning)
    if (NODE_ENV === 'production')
    {
        const message = 'alert.warning.exit';
        event = event || window.event;
        // For IE and Firefox
        if (event) event.returnValue = message;
        // For Safari
        return message;
    }
});
</script>

        <!-- Library Files -->
        <script crossorigin defer src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
        <script crossorigin defer src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
        <script crossorigin defer src="https://unpkg.com/prop-types@15.6/prop-types.min.js"></script>

    <!-- Bundles -->
    <script type="text/javascript" src="/app.bundle.js" defer></script></body>
</html>